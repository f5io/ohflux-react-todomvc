(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";for(var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"],_actions=require("./actions"),_actions2=_interopRequireDefault(_actions),_stores=require("./stores"),_stores2=_interopRequireDefault(_stores),_constants=require("./constants"),_constants2=_interopRequireDefault(_constants),_kefir=require("kefir"),_kefir2=_interopRequireDefault(_kefir),_immutable=require("immutable"),_immutable2=_interopRequireDefault(_immutable),isWorking=!1,i=0;10>i;i++)_actions2["default"].create("hello"+(i+1));window.Actions=_actions2["default"],window.TodoStore=_stores2["default"],window.Kefir=_kefir2["default"],window.Immutable=_immutable2["default"];


},{"./actions":49,"./constants":50,"./stores":65,"babel-runtime/helpers/interop-require-default":9,"immutable":46,"kefir":47}],2:[function(require,module,exports){
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.Immutable=factory()}(this,function(){"use strict";function createClass(ctor,superClass){superClass&&(ctor.prototype=Object.create(superClass.prototype)),ctor.prototype.constructor=ctor}function MakeRef(ref){return ref.value=!1,ref}function SetRef(ref){ref&&(ref.value=!0)}function OwnerID(){}function arrCopy(arr,offset){offset=offset||0;for(var len=Math.max(0,arr.length-offset),newArr=new Array(len),ii=0;len>ii;ii++)newArr[ii]=arr[ii+offset];return newArr}function ensureSize(iter){return void 0===iter.size&&(iter.size=iter.__iterate(returnTrue)),iter.size}function wrapIndex(iter,index){return index>=0?+index:ensureSize(iter)+ +index}function returnTrue(){return!0}function wholeSlice(begin,end,size){return(0===begin||void 0!==size&&-size>=begin)&&(void 0===end||void 0!==size&&end>=size)}function resolveBegin(begin,size){return resolveIndex(begin,size,0)}function resolveEnd(end,size){return resolveIndex(end,size,size)}function resolveIndex(index,size,defaultIndex){return void 0===index?defaultIndex:0>index?Math.max(0,size+index):void 0===size?index:Math.min(size,index)}function Iterable(value){return isIterable(value)?value:Seq(value)}function KeyedIterable(value){return isKeyed(value)?value:KeyedSeq(value)}function IndexedIterable(value){return isIndexed(value)?value:IndexedSeq(value)}function SetIterable(value){return isIterable(value)&&!isAssociative(value)?value:SetSeq(value)}function isIterable(maybeIterable){return!(!maybeIterable||!maybeIterable[IS_ITERABLE_SENTINEL])}function isKeyed(maybeKeyed){return!(!maybeKeyed||!maybeKeyed[IS_KEYED_SENTINEL])}function isIndexed(maybeIndexed){return!(!maybeIndexed||!maybeIndexed[IS_INDEXED_SENTINEL])}function isAssociative(maybeAssociative){return isKeyed(maybeAssociative)||isIndexed(maybeAssociative)}function isOrdered(maybeOrdered){return!(!maybeOrdered||!maybeOrdered[IS_ORDERED_SENTINEL])}function src_Iterator__Iterator(next){this.next=next}function iteratorValue(type,k,v,iteratorResult){var value=0===type?k:1===type?v:[k,v];return iteratorResult?iteratorResult.value=value:iteratorResult={value:value,done:!1},iteratorResult}function iteratorDone(){return{value:void 0,done:!0}}function hasIterator(maybeIterable){return!!getIteratorFn(maybeIterable)}function isIterator(maybeIterator){return maybeIterator&&"function"==typeof maybeIterator.next}function getIterator(iterable){var iteratorFn=getIteratorFn(iterable);return iteratorFn&&iteratorFn.call(iterable)}function getIteratorFn(iterable){var iteratorFn=iterable&&(REAL_ITERATOR_SYMBOL&&iterable[REAL_ITERATOR_SYMBOL]||iterable[FAUX_ITERATOR_SYMBOL]);return"function"==typeof iteratorFn?iteratorFn:void 0}function isArrayLike(value){return value&&"number"==typeof value.length}function Seq(value){return null===value||void 0===value?emptySequence():isIterable(value)?value.toSeq():seqFromValue(value)}function KeyedSeq(value){return null===value||void 0===value?emptySequence().toKeyedSeq():isIterable(value)?isKeyed(value)?value.toSeq():value.fromEntrySeq():keyedSeqFromValue(value)}function IndexedSeq(value){return null===value||void 0===value?emptySequence():isIterable(value)?isKeyed(value)?value.entrySeq():value.toIndexedSeq():indexedSeqFromValue(value)}function SetSeq(value){return(null===value||void 0===value?emptySequence():isIterable(value)?isKeyed(value)?value.entrySeq():value:indexedSeqFromValue(value)).toSetSeq()}function ArraySeq(array){this._array=array,this.size=array.length}function ObjectSeq(object){var keys=Object.keys(object);this._object=object,this._keys=keys,this.size=keys.length}function IterableSeq(iterable){this._iterable=iterable,this.size=iterable.length||iterable.size}function IteratorSeq(iterator){this._iterator=iterator,this._iteratorCache=[]}function isSeq(maybeSeq){return!(!maybeSeq||!maybeSeq[IS_SEQ_SENTINEL])}function emptySequence(){return EMPTY_SEQ||(EMPTY_SEQ=new ArraySeq([]))}function keyedSeqFromValue(value){var seq=Array.isArray(value)?new ArraySeq(value).fromEntrySeq():isIterator(value)?new IteratorSeq(value).fromEntrySeq():hasIterator(value)?new IterableSeq(value).fromEntrySeq():"object"==typeof value?new ObjectSeq(value):void 0;if(!seq)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+value);return seq}function indexedSeqFromValue(value){var seq=maybeIndexedSeqFromValue(value);if(!seq)throw new TypeError("Expected Array or iterable object of values: "+value);return seq}function seqFromValue(value){var seq=maybeIndexedSeqFromValue(value)||"object"==typeof value&&new ObjectSeq(value);if(!seq)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+value);return seq}function maybeIndexedSeqFromValue(value){return isArrayLike(value)?new ArraySeq(value):isIterator(value)?new IteratorSeq(value):hasIterator(value)?new IterableSeq(value):void 0}function seqIterate(seq,fn,reverse,useKeys){var cache=seq._cache;if(cache){for(var maxIndex=cache.length-1,ii=0;maxIndex>=ii;ii++){var entry=cache[reverse?maxIndex-ii:ii];if(fn(entry[1],useKeys?entry[0]:ii,seq)===!1)return ii+1}return ii}return seq.__iterateUncached(fn,reverse)}function seqIterator(seq,type,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1,ii=0;return new src_Iterator__Iterator(function(){var entry=cache[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,useKeys?entry[0]:ii-1,entry[1])})}return seq.__iteratorUncached(type,reverse)}function Collection(){throw TypeError("Abstract")}function KeyedCollection(){}function IndexedCollection(){}function SetCollection(){}function is(valueA,valueB){if(valueA===valueB||valueA!==valueA&&valueB!==valueB)return!0;if(!valueA||!valueB)return!1;if("function"==typeof valueA.valueOf&&"function"==typeof valueB.valueOf){if(valueA=valueA.valueOf(),valueB=valueB.valueOf(),valueA===valueB||valueA!==valueA&&valueB!==valueB)return!0;if(!valueA||!valueB)return!1}return"function"==typeof valueA.equals&&"function"==typeof valueB.equals&&valueA.equals(valueB)?!0:!1}function fromJS(json,converter){return converter?fromJSWith(converter,json,"",{"":json}):fromJSDefault(json)}function fromJSWith(converter,json,key,parentJSON){return Array.isArray(json)?converter.call(parentJSON,key,IndexedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)})):isPlainObj(json)?converter.call(parentJSON,key,KeyedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)})):json}function fromJSDefault(json){return Array.isArray(json)?IndexedSeq(json).map(fromJSDefault).toList():isPlainObj(json)?KeyedSeq(json).map(fromJSDefault).toMap():json}function isPlainObj(value){return value&&(value.constructor===Object||void 0===value.constructor)}function smi(i32){return i32>>>1&1073741824|3221225471&i32}function hash(o){if(o===!1||null===o||void 0===o)return 0;if("function"==typeof o.valueOf&&(o=o.valueOf(),o===!1||null===o||void 0===o))return 0;if(o===!0)return 1;var type=typeof o;if("number"===type){var h=0|o;for(h!==o&&(h^=4294967295*o);o>4294967295;)o/=4294967295,h^=o;return smi(h)}return"string"===type?o.length>STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(o):hashString(o):"function"==typeof o.hashCode?o.hashCode():hashJSObj(o)}function cachedHashString(string){var hash=stringHashCache[string];return void 0===hash&&(hash=hashString(string),STRING_HASH_CACHE_SIZE===STRING_HASH_CACHE_MAX_SIZE&&(STRING_HASH_CACHE_SIZE=0,stringHashCache={}),STRING_HASH_CACHE_SIZE++,stringHashCache[string]=hash),hash}function hashString(string){for(var hash=0,ii=0;ii<string.length;ii++)hash=31*hash+string.charCodeAt(ii)|0;return smi(hash)}function hashJSObj(obj){var hash;if(usingWeakMap&&(hash=weakMap.get(obj),void 0!==hash))return hash;if(hash=obj[UID_HASH_KEY],void 0!==hash)return hash;if(!canDefineProperty){if(hash=obj.propertyIsEnumerable&&obj.propertyIsEnumerable[UID_HASH_KEY],void 0!==hash)return hash;if(hash=getIENodeHash(obj),void 0!==hash)return hash}if(hash=++objHashUID,1073741824&objHashUID&&(objHashUID=0),usingWeakMap)weakMap.set(obj,hash);else{if(void 0!==isExtensible&&isExtensible(obj)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(canDefineProperty)Object.defineProperty(obj,UID_HASH_KEY,{enumerable:!1,configurable:!1,writable:!1,value:hash});else if(void 0!==obj.propertyIsEnumerable&&obj.propertyIsEnumerable===obj.constructor.prototype.propertyIsEnumerable)obj.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},obj.propertyIsEnumerable[UID_HASH_KEY]=hash;else{if(void 0===obj.nodeType)throw new Error("Unable to set a non-enumerable property on object.");obj[UID_HASH_KEY]=hash}}return hash}function getIENodeHash(node){if(node&&node.nodeType>0)switch(node.nodeType){case 1:return node.uniqueID;case 9:return node.documentElement&&node.documentElement.uniqueID}}function invariant(condition,error){if(!condition)throw new Error(error)}function assertNotInfinite(size){invariant(size!==1/0,"Cannot perform this action with an infinite size.")}function ToKeyedSequence(indexed,useKeys){this._iter=indexed,this._useKeys=useKeys,this.size=indexed.size}function ToIndexedSequence(iter){this._iter=iter,this.size=iter.size}function ToSetSequence(iter){this._iter=iter,this.size=iter.size}function FromEntriesSequence(entries){this._iter=entries,this.size=entries.size}function flipFactory(iterable){var flipSequence=makeSequence(iterable);return flipSequence._iter=iterable,flipSequence.size=iterable.size,flipSequence.flip=function(){return iterable},flipSequence.reverse=function(){var reversedSequence=iterable.reverse.apply(this);return reversedSequence.flip=function(){return iterable.reverse()},reversedSequence},flipSequence.has=function(key){return iterable.includes(key)},flipSequence.includes=function(key){return iterable.has(key)},flipSequence.cacheResult=cacheResultThrough,flipSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(k,v,this$0)!==!1},reverse)},flipSequence.__iteratorUncached=function(type,reverse){if(type===ITERATE_ENTRIES){var iterator=iterable.__iterator(type,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();if(!step.done){var k=step.value[0];step.value[0]=step.value[1],step.value[1]=k}return step})}return iterable.__iterator(type===ITERATE_VALUES?ITERATE_KEYS:ITERATE_VALUES,reverse)},flipSequence}function mapFactory(iterable,mapper,context){var mappedSequence=makeSequence(iterable);return mappedSequence.size=iterable.size,mappedSequence.has=function(key){return iterable.has(key)},mappedSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v===NOT_SET?notSetValue:mapper.call(context,v,key,iterable)},mappedSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k,c){return fn(mapper.call(context,v,k,c),k,this$0)!==!1},reverse)},mappedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();if(step.done)return step;var entry=step.value,key=entry[0];return iteratorValue(type,key,mapper.call(context,entry[1],key,iterable),step)})},mappedSequence}function reverseFactory(iterable,useKeys){var reversedSequence=makeSequence(iterable);return reversedSequence._iter=iterable,reversedSequence.size=iterable.size,reversedSequence.reverse=function(){return iterable},iterable.flip&&(reversedSequence.flip=function(){var flipSequence=flipFactory(iterable);return flipSequence.reverse=function(){return iterable.flip()},flipSequence}),reversedSequence.get=function(key,notSetValue){return iterable.get(useKeys?key:-1-key,notSetValue)},reversedSequence.has=function(key){return iterable.has(useKeys?key:-1-key)},reversedSequence.includes=function(value){return iterable.includes(value)},reversedSequence.cacheResult=cacheResultThrough,reversedSequence.__iterate=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(v,k,this$0)},!reverse)},reversedSequence.__iterator=function(type,reverse){return iterable.__iterator(type,!reverse)},reversedSequence}function filterFactory(iterable,predicate,context,useKeys){var filterSequence=makeSequence(iterable);return useKeys&&(filterSequence.has=function(key){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&!!predicate.call(context,v,key,iterable)},filterSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&predicate.call(context,v,key,iterable)?v:notSetValue}),filterSequence.__iterateUncached=function(fn,reverse){var this$0=this,iterations=0;return iterable.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?(iterations++,fn(v,useKeys?k:iterations-1,this$0)):void 0},reverse),iterations},filterSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),iterations=0;return new src_Iterator__Iterator(function(){for(;;){var step=iterator.next();if(step.done)return step;var entry=step.value,key=entry[0],value=entry[1];if(predicate.call(context,value,key,iterable))return iteratorValue(type,useKeys?key:iterations++,value,step)}})},filterSequence}function countByFactory(iterable,grouper,context){var groups=src_Map__Map().asMutable();return iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),0,function(a){return a+1})}),groups.asImmutable()}function groupByFactory(iterable,grouper,context){var isKeyedIter=isKeyed(iterable),groups=(isOrdered(iterable)?OrderedMap():src_Map__Map()).asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),function(a){return a=a||[],a.push(isKeyedIter?[k,v]:v),a})});var coerce=iterableClass(iterable);return groups.map(function(arr){return reify(iterable,coerce(arr))})}function sliceFactory(iterable,begin,end,useKeys){var originalSize=iterable.size;if(wholeSlice(begin,end,originalSize))return iterable;var resolvedBegin=resolveBegin(begin,originalSize),resolvedEnd=resolveEnd(end,originalSize);if(resolvedBegin!==resolvedBegin||resolvedEnd!==resolvedEnd)return sliceFactory(iterable.toSeq().cacheResult(),begin,end,useKeys);var sliceSize,resolvedSize=resolvedEnd-resolvedBegin;resolvedSize===resolvedSize&&(sliceSize=0>resolvedSize?0:resolvedSize);var sliceSeq=makeSequence(iterable);return sliceSeq.size=sliceSize,!useKeys&&isSeq(iterable)&&sliceSize>=0&&(sliceSeq.get=function(index,notSetValue){return index=wrapIndex(this,index),index>=0&&sliceSize>index?iterable.get(index+resolvedBegin,notSetValue):notSetValue}),sliceSeq.__iterateUncached=function(fn,reverse){var this$0=this;if(0===sliceSize)return 0;if(reverse)return this.cacheResult().__iterate(fn,reverse);var skipped=0,isSkipping=!0,iterations=0;return iterable.__iterate(function(v,k){return isSkipping&&(isSkipping=skipped++<resolvedBegin)?void 0:(iterations++,fn(v,useKeys?k:iterations-1,this$0)!==!1&&iterations!==sliceSize)}),iterations},sliceSeq.__iteratorUncached=function(type,reverse){if(0!==sliceSize&&reverse)return this.cacheResult().__iterator(type,reverse);var iterator=0!==sliceSize&&iterable.__iterator(type,reverse),skipped=0,iterations=0;return new src_Iterator__Iterator(function(){for(;skipped++<resolvedBegin;)iterator.next();if(++iterations>sliceSize)return iteratorDone();var step=iterator.next();return useKeys||type===ITERATE_VALUES?step:type===ITERATE_KEYS?iteratorValue(type,iterations-1,void 0,step):iteratorValue(type,iterations-1,step.value[1],step)})},sliceSeq}function takeWhileFactory(iterable,predicate,context){var takeSequence=makeSequence(iterable);return takeSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterate(fn,reverse);var iterations=0;return iterable.__iterate(function(v,k,c){return predicate.call(context,v,k,c)&&++iterations&&fn(v,k,this$0)}),iterations},takeSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),iterating=!0;return new src_Iterator__Iterator(function(){if(!iterating)return iteratorDone();var step=iterator.next();if(step.done)return step;var entry=step.value,k=entry[0],v=entry[1];return predicate.call(context,v,k,this$0)?type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step):(iterating=!1,iteratorDone())})},takeSequence}function skipWhileFactory(iterable,predicate,context,useKeys){var skipSequence=makeSequence(iterable);return skipSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterate(fn,reverse);var isSkipping=!0,iterations=0;return iterable.__iterate(function(v,k,c){return isSkipping&&(isSkipping=predicate.call(context,v,k,c))?void 0:(iterations++,fn(v,useKeys?k:iterations-1,this$0))}),iterations},skipSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),skipping=!0,iterations=0;return new src_Iterator__Iterator(function(){var step,k,v;do{if(step=iterator.next(),step.done)return useKeys||type===ITERATE_VALUES?step:type===ITERATE_KEYS?iteratorValue(type,iterations++,void 0,step):iteratorValue(type,iterations++,step.value[1],step);var entry=step.value;k=entry[0],v=entry[1],skipping&&(skipping=predicate.call(context,v,k,this$0))}while(skipping);return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step)})},skipSequence}function concatFactory(iterable,values){var isKeyedIterable=isKeyed(iterable),iters=[iterable].concat(values).map(function(v){return isIterable(v)?isKeyedIterable&&(v=KeyedIterable(v)):v=isKeyedIterable?keyedSeqFromValue(v):indexedSeqFromValue(Array.isArray(v)?v:[v]),v}).filter(function(v){return 0!==v.size});if(0===iters.length)return iterable;if(1===iters.length){var singleton=iters[0];if(singleton===iterable||isKeyedIterable&&isKeyed(singleton)||isIndexed(iterable)&&isIndexed(singleton))return singleton}var concatSeq=new ArraySeq(iters);return isKeyedIterable?concatSeq=concatSeq.toKeyedSeq():isIndexed(iterable)||(concatSeq=concatSeq.toSetSeq()),concatSeq=concatSeq.flatten(!0),concatSeq.size=iters.reduce(function(sum,seq){if(void 0!==sum){var size=seq.size;if(void 0!==size)return sum+size}},0),concatSeq}function flattenFactory(iterable,depth,useKeys){var flatSequence=makeSequence(iterable);return flatSequence.__iterateUncached=function(fn,reverse){function flatDeep(iter,currentDepth){var this$0=this;iter.__iterate(function(v,k){return(!depth||depth>currentDepth)&&isIterable(v)?flatDeep(v,currentDepth+1):fn(v,useKeys?k:iterations++,this$0)===!1&&(stopped=!0),!stopped},reverse)}var iterations=0,stopped=!1;return flatDeep(iterable,0),iterations},flatSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(type,reverse),stack=[],iterations=0;return new src_Iterator__Iterator(function(){for(;iterator;){var step=iterator.next();if(step.done===!1){var v=step.value;if(type===ITERATE_ENTRIES&&(v=v[1]),depth&&!(stack.length<depth)||!isIterable(v))return useKeys?step:iteratorValue(type,iterations++,v,step);stack.push(iterator),iterator=v.__iterator(type,reverse)}else iterator=stack.pop()}return iteratorDone()})},flatSequence}function flatMapFactory(iterable,mapper,context){var coerce=iterableClass(iterable);return iterable.toSeq().map(function(v,k){return coerce(mapper.call(context,v,k,iterable))}).flatten(!0)}function interposeFactory(iterable,separator){var interposedSequence=makeSequence(iterable);return interposedSequence.size=iterable.size&&2*iterable.size-1,interposedSequence.__iterateUncached=function(fn,reverse){var this$0=this,iterations=0;return iterable.__iterate(function(v,k){return(!iterations||fn(separator,iterations++,this$0)!==!1)&&fn(v,iterations++,this$0)!==!1},reverse),iterations},interposedSequence.__iteratorUncached=function(type,reverse){var step,iterator=iterable.__iterator(ITERATE_VALUES,reverse),iterations=0;return new src_Iterator__Iterator(function(){return(!step||iterations%2)&&(step=iterator.next(),step.done)?step:iterations%2?iteratorValue(type,iterations++,separator):iteratorValue(type,iterations++,step.value,step)})},interposedSequence}function sortFactory(iterable,comparator,mapper){comparator||(comparator=defaultComparator);var isKeyedIterable=isKeyed(iterable),index=0,entries=iterable.toSeq().map(function(v,k){return[k,v,index++,mapper?mapper(v,k,iterable):v]}).toArray();return entries.sort(function(a,b){return comparator(a[3],b[3])||a[2]-b[2]}).forEach(isKeyedIterable?function(v,i){entries[i].length=2}:function(v,i){entries[i]=v[1]}),isKeyedIterable?KeyedSeq(entries):isIndexed(iterable)?IndexedSeq(entries):SetSeq(entries)}function maxFactory(iterable,comparator,mapper){if(comparator||(comparator=defaultComparator),mapper){var entry=iterable.toSeq().map(function(v,k){return[v,mapper(v,k,iterable)]}).reduce(function(a,b){return maxCompare(comparator,a[1],b[1])?b:a});return entry&&entry[0]}return iterable.reduce(function(a,b){return maxCompare(comparator,a,b)?b:a})}function maxCompare(comparator,a,b){var comp=comparator(b,a);return 0===comp&&b!==a&&(void 0===b||null===b||b!==b)||comp>0}function zipWithFactory(keyIter,zipper,iters){var zipSequence=makeSequence(keyIter);return zipSequence.size=new ArraySeq(iters).map(function(i){return i.size}).min(),zipSequence.__iterate=function(fn,reverse){for(var step,iterator=this.__iterator(ITERATE_VALUES,reverse),iterations=0;!(step=iterator.next()).done&&fn(step.value,iterations++,this)!==!1;);return iterations},zipSequence.__iteratorUncached=function(type,reverse){var iterators=iters.map(function(i){return i=Iterable(i),getIterator(reverse?i.reverse():i)}),iterations=0,isDone=!1;return new src_Iterator__Iterator(function(){var steps;return isDone||(steps=iterators.map(function(i){return i.next()}),isDone=steps.some(function(s){return s.done})),isDone?iteratorDone():iteratorValue(type,iterations++,zipper.apply(null,steps.map(function(s){return s.value})))})},zipSequence}function reify(iter,seq){return isSeq(iter)?seq:iter.constructor(seq)}function validateEntry(entry){if(entry!==Object(entry))throw new TypeError("Expected [K, V] tuple: "+entry)}function resolveSize(iter){return assertNotInfinite(iter.size),ensureSize(iter)}function iterableClass(iterable){return isKeyed(iterable)?KeyedIterable:isIndexed(iterable)?IndexedIterable:SetIterable}function makeSequence(iterable){return Object.create((isKeyed(iterable)?KeyedSeq:isIndexed(iterable)?IndexedSeq:SetSeq).prototype)}function cacheResultThrough(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Seq.prototype.cacheResult.call(this)}function defaultComparator(a,b){return a>b?1:b>a?-1:0}function forceIterator(keyPath){var iter=getIterator(keyPath);if(!iter){if(!isArrayLike(keyPath))throw new TypeError("Expected iterable or array-like: "+keyPath);iter=getIterator(Iterable(keyPath))}return iter}function src_Map__Map(value){return null===value||void 0===value?emptyMap():isMap(value)?value:emptyMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v,k){return map.set(k,v)})})}function isMap(maybeMap){return!(!maybeMap||!maybeMap[IS_MAP_SENTINEL])}function ArrayMapNode(ownerID,entries){this.ownerID=ownerID,this.entries=entries}function BitmapIndexedNode(ownerID,bitmap,nodes){this.ownerID=ownerID,this.bitmap=bitmap,this.nodes=nodes}function HashArrayMapNode(ownerID,count,nodes){this.ownerID=ownerID,this.count=count,this.nodes=nodes}function HashCollisionNode(ownerID,keyHash,entries){this.ownerID=ownerID,this.keyHash=keyHash,this.entries=entries}function ValueNode(ownerID,keyHash,entry){this.ownerID=ownerID,this.keyHash=keyHash,this.entry=entry}function MapIterator(map,type,reverse){this._type=type,this._reverse=reverse,this._stack=map._root&&mapIteratorFrame(map._root)}function mapIteratorValue(type,entry){return iteratorValue(type,entry[0],entry[1])}function mapIteratorFrame(node,prev){return{node:node,index:0,__prev:prev}}function makeMap(size,root,ownerID,hash){var map=Object.create(MapPrototype);return map.size=size,map._root=root,map.__ownerID=ownerID,map.__hash=hash,map.__altered=!1,map}function emptyMap(){return EMPTY_MAP||(EMPTY_MAP=makeMap(0))}function updateMap(map,k,v){var newRoot,newSize;if(map._root){var didChangeSize=MakeRef(CHANGE_LENGTH),didAlter=MakeRef(DID_ALTER);if(newRoot=updateNode(map._root,map.__ownerID,0,void 0,k,v,didChangeSize,didAlter),!didAlter.value)return map;newSize=map.size+(didChangeSize.value?v===NOT_SET?-1:1:0)}else{if(v===NOT_SET)return map;newSize=1,newRoot=new ArrayMapNode(map.__ownerID,[[k,v]])}return map.__ownerID?(map.size=newSize,map._root=newRoot,map.__hash=void 0,map.__altered=!0,map):newRoot?makeMap(newSize,newRoot):emptyMap()}function updateNode(node,ownerID,shift,keyHash,key,value,didChangeSize,didAlter){return node?node.update(ownerID,shift,keyHash,key,value,didChangeSize,didAlter):value===NOT_SET?node:(SetRef(didAlter),SetRef(didChangeSize),new ValueNode(ownerID,keyHash,[key,value]))}function isLeafNode(node){return node.constructor===ValueNode||node.constructor===HashCollisionNode}function mergeIntoNode(node,ownerID,shift,keyHash,entry){if(node.keyHash===keyHash)return new HashCollisionNode(ownerID,keyHash,[node.entry,entry]);var newNode,idx1=(0===shift?node.keyHash:node.keyHash>>>shift)&MASK,idx2=(0===shift?keyHash:keyHash>>>shift)&MASK,nodes=idx1===idx2?[mergeIntoNode(node,ownerID,shift+SHIFT,keyHash,entry)]:(newNode=new ValueNode(ownerID,keyHash,entry),idx2>idx1?[node,newNode]:[newNode,node]);return new BitmapIndexedNode(ownerID,1<<idx1|1<<idx2,nodes)}function createNodes(ownerID,entries,key,value){ownerID||(ownerID=new OwnerID);for(var node=new ValueNode(ownerID,hash(key),[key,value]),ii=0;ii<entries.length;ii++){var entry=entries[ii];node=node.update(ownerID,0,void 0,entry[0],entry[1])}return node}function packNodes(ownerID,nodes,count,excluding){for(var bitmap=0,packedII=0,packedNodes=new Array(count),ii=0,bit=1,len=nodes.length;len>ii;ii++,bit<<=1){var node=nodes[ii];void 0!==node&&ii!==excluding&&(bitmap|=bit,packedNodes[packedII++]=node)}return new BitmapIndexedNode(ownerID,bitmap,packedNodes)}function expandNodes(ownerID,nodes,bitmap,including,node){for(var count=0,expandedNodes=new Array(SIZE),ii=0;0!==bitmap;ii++,bitmap>>>=1)expandedNodes[ii]=1&bitmap?nodes[count++]:void 0;return expandedNodes[including]=node,new HashArrayMapNode(ownerID,count+1,expandedNodes)}function mergeIntoMapWith(map,merger,iterables){for(var iters=[],ii=0;ii<iterables.length;ii++){var value=iterables[ii],iter=KeyedIterable(value);isIterable(value)||(iter=iter.map(function(v){return fromJS(v)})),iters.push(iter)}return mergeIntoCollectionWith(map,merger,iters)}function deepMerger(merger){return function(existing,value,key){return existing&&existing.mergeDeepWith&&isIterable(value)?existing.mergeDeepWith(merger,value):merger?merger(existing,value,key):value}}function mergeIntoCollectionWith(collection,merger,iters){return iters=iters.filter(function(x){return 0!==x.size}),0===iters.length?collection:0!==collection.size||collection.__ownerID||1!==iters.length?collection.withMutations(function(collection){for(var mergeIntoMap=merger?function(value,key){collection.update(key,NOT_SET,function(existing){return existing===NOT_SET?value:merger(existing,value,key)})}:function(value,key){collection.set(key,value)},ii=0;ii<iters.length;ii++)iters[ii].forEach(mergeIntoMap)}):collection.constructor(iters[0])}function updateInDeepMap(existing,keyPathIter,notSetValue,updater){var isNotSet=existing===NOT_SET,step=keyPathIter.next();if(step.done){var existingValue=isNotSet?notSetValue:existing,newValue=updater(existingValue);return newValue===existingValue?existing:newValue}invariant(isNotSet||existing&&existing.set,"invalid keyPath");var key=step.value,nextExisting=isNotSet?NOT_SET:existing.get(key,NOT_SET),nextUpdated=updateInDeepMap(nextExisting,keyPathIter,notSetValue,updater);return nextUpdated===nextExisting?existing:nextUpdated===NOT_SET?existing.remove(key):(isNotSet?emptyMap():existing).set(key,nextUpdated)}function popCount(x){return x-=x>>1&1431655765,x=(858993459&x)+(x>>2&858993459),x=x+(x>>4)&252645135,x+=x>>8,x+=x>>16,127&x}function setIn(array,idx,val,canEdit){var newArray=canEdit?array:arrCopy(array);return newArray[idx]=val,newArray}function spliceIn(array,idx,val,canEdit){var newLen=array.length+1;if(canEdit&&idx+1===newLen)return array[idx]=val,array;for(var newArray=new Array(newLen),after=0,ii=0;newLen>ii;ii++)ii===idx?(newArray[ii]=val,after=-1):newArray[ii]=array[ii+after];return newArray}function spliceOut(array,idx,canEdit){var newLen=array.length-1;if(canEdit&&idx===newLen)return array.pop(),array;for(var newArray=new Array(newLen),after=0,ii=0;newLen>ii;ii++)ii===idx&&(after=1),newArray[ii]=array[ii+after];return newArray}function List(value){var empty=emptyList();if(null===value||void 0===value)return empty;if(isList(value))return value;var iter=IndexedIterable(value),size=iter.size;return 0===size?empty:(assertNotInfinite(size),size>0&&SIZE>size?makeList(0,size,SHIFT,null,new VNode(iter.toArray())):empty.withMutations(function(list){list.setSize(size),iter.forEach(function(v,i){return list.set(i,v)})}))}function isList(maybeList){return!(!maybeList||!maybeList[IS_LIST_SENTINEL])}function VNode(array,ownerID){this.array=array,this.ownerID=ownerID}function iterateList(list,reverse){function iterateNodeOrLeaf(node,level,offset){return 0===level?iterateLeaf(node,offset):iterateNode(node,level,offset)}function iterateLeaf(node,offset){var array=offset===tailPos?tail&&tail.array:node&&node.array,from=offset>left?0:left-offset,to=right-offset;return to>SIZE&&(to=SIZE),function(){if(from===to)return DONE;var idx=reverse?--to:from++;return array&&array[idx]}}function iterateNode(node,level,offset){var values,array=node&&node.array,from=offset>left?0:left-offset>>level,to=(right-offset>>level)+1;return to>SIZE&&(to=SIZE),function(){for(;;){if(values){var value=values();if(value!==DONE)return value;values=null}if(from===to)return DONE;var idx=reverse?--to:from++;values=iterateNodeOrLeaf(array&&array[idx],level-SHIFT,offset+(idx<<level))}}}var left=list._origin,right=list._capacity,tailPos=getTailOffset(right),tail=list._tail;return iterateNodeOrLeaf(list._root,list._level,0)}function makeList(origin,capacity,level,root,tail,ownerID,hash){var list=Object.create(ListPrototype);return list.size=capacity-origin,list._origin=origin,list._capacity=capacity,list._level=level,list._root=root,list._tail=tail,list.__ownerID=ownerID,list.__hash=hash,list.__altered=!1,list}function emptyList(){return EMPTY_LIST||(EMPTY_LIST=makeList(0,0,SHIFT))}function updateList(list,index,value){if(index=wrapIndex(list,index),index>=list.size||0>index)return list.withMutations(function(list){0>index?setListBounds(list,index).set(0,value):setListBounds(list,0,index+1).set(index,value)});index+=list._origin;var newTail=list._tail,newRoot=list._root,didAlter=MakeRef(DID_ALTER);return index>=getTailOffset(list._capacity)?newTail=updateVNode(newTail,list.__ownerID,0,index,value,didAlter):newRoot=updateVNode(newRoot,list.__ownerID,list._level,index,value,didAlter),didAlter.value?list.__ownerID?(list._root=newRoot,list._tail=newTail,list.__hash=void 0,list.__altered=!0,list):makeList(list._origin,list._capacity,list._level,newRoot,newTail):list}function updateVNode(node,ownerID,level,index,value,didAlter){var idx=index>>>level&MASK,nodeHas=node&&idx<node.array.length;if(!nodeHas&&void 0===value)return node;var newNode;if(level>0){var lowerNode=node&&node.array[idx],newLowerNode=updateVNode(lowerNode,ownerID,level-SHIFT,index,value,didAlter);return newLowerNode===lowerNode?node:(newNode=editableVNode(node,ownerID),newNode.array[idx]=newLowerNode,
newNode)}return nodeHas&&node.array[idx]===value?node:(SetRef(didAlter),newNode=editableVNode(node,ownerID),void 0===value&&idx===newNode.array.length-1?newNode.array.pop():newNode.array[idx]=value,newNode)}function editableVNode(node,ownerID){return ownerID&&node&&ownerID===node.ownerID?node:new VNode(node?node.array.slice():[],ownerID)}function listNodeFor(list,rawIndex){if(rawIndex>=getTailOffset(list._capacity))return list._tail;if(rawIndex<1<<list._level+SHIFT){for(var node=list._root,level=list._level;node&&level>0;)node=node.array[rawIndex>>>level&MASK],level-=SHIFT;return node}}function setListBounds(list,begin,end){var owner=list.__ownerID||new OwnerID,oldOrigin=list._origin,oldCapacity=list._capacity,newOrigin=oldOrigin+begin,newCapacity=void 0===end?oldCapacity:0>end?oldCapacity+end:oldOrigin+end;if(newOrigin===oldOrigin&&newCapacity===oldCapacity)return list;if(newOrigin>=newCapacity)return list.clear();for(var newLevel=list._level,newRoot=list._root,offsetShift=0;0>newOrigin+offsetShift;)newRoot=new VNode(newRoot&&newRoot.array.length?[void 0,newRoot]:[],owner),newLevel+=SHIFT,offsetShift+=1<<newLevel;offsetShift&&(newOrigin+=offsetShift,oldOrigin+=offsetShift,newCapacity+=offsetShift,oldCapacity+=offsetShift);for(var oldTailOffset=getTailOffset(oldCapacity),newTailOffset=getTailOffset(newCapacity);newTailOffset>=1<<newLevel+SHIFT;)newRoot=new VNode(newRoot&&newRoot.array.length?[newRoot]:[],owner),newLevel+=SHIFT;var oldTail=list._tail,newTail=oldTailOffset>newTailOffset?listNodeFor(list,newCapacity-1):newTailOffset>oldTailOffset?new VNode([],owner):oldTail;if(oldTail&&newTailOffset>oldTailOffset&&oldCapacity>newOrigin&&oldTail.array.length){newRoot=editableVNode(newRoot,owner);for(var node=newRoot,level=newLevel;level>SHIFT;level-=SHIFT){var idx=oldTailOffset>>>level&MASK;node=node.array[idx]=editableVNode(node.array[idx],owner)}node.array[oldTailOffset>>>SHIFT&MASK]=oldTail}if(oldCapacity>newCapacity&&(newTail=newTail&&newTail.removeAfter(owner,0,newCapacity)),newOrigin>=newTailOffset)newOrigin-=newTailOffset,newCapacity-=newTailOffset,newLevel=SHIFT,newRoot=null,newTail=newTail&&newTail.removeBefore(owner,0,newOrigin);else if(newOrigin>oldOrigin||oldTailOffset>newTailOffset){for(offsetShift=0;newRoot;){var beginIndex=newOrigin>>>newLevel&MASK;if(beginIndex!==newTailOffset>>>newLevel&MASK)break;beginIndex&&(offsetShift+=(1<<newLevel)*beginIndex),newLevel-=SHIFT,newRoot=newRoot.array[beginIndex]}newRoot&&newOrigin>oldOrigin&&(newRoot=newRoot.removeBefore(owner,newLevel,newOrigin-offsetShift)),newRoot&&oldTailOffset>newTailOffset&&(newRoot=newRoot.removeAfter(owner,newLevel,newTailOffset-offsetShift)),offsetShift&&(newOrigin-=offsetShift,newCapacity-=offsetShift)}return list.__ownerID?(list.size=newCapacity-newOrigin,list._origin=newOrigin,list._capacity=newCapacity,list._level=newLevel,list._root=newRoot,list._tail=newTail,list.__hash=void 0,list.__altered=!0,list):makeList(newOrigin,newCapacity,newLevel,newRoot,newTail)}function mergeIntoListWith(list,merger,iterables){for(var iters=[],maxSize=0,ii=0;ii<iterables.length;ii++){var value=iterables[ii],iter=IndexedIterable(value);iter.size>maxSize&&(maxSize=iter.size),isIterable(value)||(iter=iter.map(function(v){return fromJS(v)})),iters.push(iter)}return maxSize>list.size&&(list=list.setSize(maxSize)),mergeIntoCollectionWith(list,merger,iters)}function getTailOffset(size){return SIZE>size?0:size-1>>>SHIFT<<SHIFT}function OrderedMap(value){return null===value||void 0===value?emptyOrderedMap():isOrderedMap(value)?value:emptyOrderedMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v,k){return map.set(k,v)})})}function isOrderedMap(maybeOrderedMap){return isMap(maybeOrderedMap)&&isOrdered(maybeOrderedMap)}function makeOrderedMap(map,list,ownerID,hash){var omap=Object.create(OrderedMap.prototype);return omap.size=map?map.size:0,omap._map=map,omap._list=list,omap.__ownerID=ownerID,omap.__hash=hash,omap}function emptyOrderedMap(){return EMPTY_ORDERED_MAP||(EMPTY_ORDERED_MAP=makeOrderedMap(emptyMap(),emptyList()))}function updateOrderedMap(omap,k,v){var newMap,newList,map=omap._map,list=omap._list,i=map.get(k),has=void 0!==i;if(v===NOT_SET){if(!has)return omap;list.size>=SIZE&&list.size>=2*map.size?(newList=list.filter(function(entry,idx){return void 0!==entry&&i!==idx}),newMap=newList.toKeyedSeq().map(function(entry){return entry[0]}).flip().toMap(),omap.__ownerID&&(newMap.__ownerID=newList.__ownerID=omap.__ownerID)):(newMap=map.remove(k),newList=i===list.size-1?list.pop():list.set(i,void 0))}else if(has){if(v===list.get(i)[1])return omap;newMap=map,newList=list.set(i,[k,v])}else newMap=map.set(k,list.size),newList=list.set(list.size,[k,v]);return omap.__ownerID?(omap.size=newMap.size,omap._map=newMap,omap._list=newList,omap.__hash=void 0,omap):makeOrderedMap(newMap,newList)}function Stack(value){return null===value||void 0===value?emptyStack():isStack(value)?value:emptyStack().unshiftAll(value)}function isStack(maybeStack){return!(!maybeStack||!maybeStack[IS_STACK_SENTINEL])}function makeStack(size,head,ownerID,hash){var map=Object.create(StackPrototype);return map.size=size,map._head=head,map.__ownerID=ownerID,map.__hash=hash,map.__altered=!1,map}function emptyStack(){return EMPTY_STACK||(EMPTY_STACK=makeStack(0))}function src_Set__Set(value){return null===value||void 0===value?emptySet():isSet(value)?value:emptySet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v){return set.add(v)})})}function isSet(maybeSet){return!(!maybeSet||!maybeSet[IS_SET_SENTINEL])}function updateSet(set,newMap){return set.__ownerID?(set.size=newMap.size,set._map=newMap,set):newMap===set._map?set:0===newMap.size?set.__empty():set.__make(newMap)}function makeSet(map,ownerID){var set=Object.create(SetPrototype);return set.size=map?map.size:0,set._map=map,set.__ownerID=ownerID,set}function emptySet(){return EMPTY_SET||(EMPTY_SET=makeSet(emptyMap()))}function OrderedSet(value){return null===value||void 0===value?emptyOrderedSet():isOrderedSet(value)?value:emptyOrderedSet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v){return set.add(v)})})}function isOrderedSet(maybeOrderedSet){return isSet(maybeOrderedSet)&&isOrdered(maybeOrderedSet)}function makeOrderedSet(map,ownerID){var set=Object.create(OrderedSetPrototype);return set.size=map?map.size:0,set._map=map,set.__ownerID=ownerID,set}function emptyOrderedSet(){return EMPTY_ORDERED_SET||(EMPTY_ORDERED_SET=makeOrderedSet(emptyOrderedMap()))}function Record(defaultValues,name){var hasInitialized,RecordType=function(values){if(values instanceof RecordType)return values;if(!(this instanceof RecordType))return new RecordType(values);if(!hasInitialized){hasInitialized=!0;var keys=Object.keys(defaultValues);setProps(RecordTypePrototype,keys),RecordTypePrototype.size=keys.length,RecordTypePrototype._name=name,RecordTypePrototype._keys=keys,RecordTypePrototype._defaultValues=defaultValues}this._map=src_Map__Map(values)},RecordTypePrototype=RecordType.prototype=Object.create(RecordPrototype);return RecordTypePrototype.constructor=RecordType,RecordType}function makeRecord(likeRecord,map,ownerID){var record=Object.create(Object.getPrototypeOf(likeRecord));return record._map=map,record.__ownerID=ownerID,record}function recordName(record){return record._name||record.constructor.name||"Record"}function setProps(prototype,names){try{names.forEach(setProp.bind(void 0,prototype))}catch(error){}}function setProp(prototype,name){Object.defineProperty(prototype,name,{get:function(){return this.get(name)},set:function(value){invariant(this.__ownerID,"Cannot set on an immutable record."),this.set(name,value)}})}function deepEqual(a,b){if(a===b)return!0;if(!isIterable(b)||void 0!==a.size&&void 0!==b.size&&a.size!==b.size||void 0!==a.__hash&&void 0!==b.__hash&&a.__hash!==b.__hash||isKeyed(a)!==isKeyed(b)||isIndexed(a)!==isIndexed(b)||isOrdered(a)!==isOrdered(b))return!1;if(0===a.size&&0===b.size)return!0;var notAssociative=!isAssociative(a);if(isOrdered(a)){var entries=a.entries();return b.every(function(v,k){var entry=entries.next().value;return entry&&is(entry[1],v)&&(notAssociative||is(entry[0],k))})&&entries.next().done}var flipped=!1;if(void 0===a.size)if(void 0===b.size)"function"==typeof a.cacheResult&&a.cacheResult();else{flipped=!0;var _=a;a=b,b=_}var allEqual=!0,bSize=b.__iterate(function(v,k){return(notAssociative?a.has(v):flipped?is(v,a.get(k,NOT_SET)):is(a.get(k,NOT_SET),v))?void 0:(allEqual=!1,!1)});return allEqual&&a.size===bSize}function Range(start,end,step){if(!(this instanceof Range))return new Range(start,end,step);if(invariant(0!==step,"Cannot step a Range by 0"),start=start||0,void 0===end&&(end=1/0),step=void 0===step?1:Math.abs(step),start>end&&(step=-step),this._start=start,this._end=end,this._step=step,this.size=Math.max(0,Math.ceil((end-start)/step-1)+1),0===this.size){if(EMPTY_RANGE)return EMPTY_RANGE;EMPTY_RANGE=this}}function Repeat(value,times){if(!(this instanceof Repeat))return new Repeat(value,times);if(this._value=value,this.size=void 0===times?1/0:Math.max(0,times),0===this.size){if(EMPTY_REPEAT)return EMPTY_REPEAT;EMPTY_REPEAT=this}}function mixin(ctor,methods){var keyCopier=function(key){ctor.prototype[key]=methods[key]};return Object.keys(methods).forEach(keyCopier),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(methods).forEach(keyCopier),ctor}function keyMapper(v,k){return k}function entryMapper(v,k){return[k,v]}function not(predicate){return function(){return!predicate.apply(this,arguments)}}function neg(predicate){return function(){return-predicate.apply(this,arguments)}}function quoteString(value){return"string"==typeof value?JSON.stringify(value):value}function defaultZipper(){return arrCopy(arguments)}function defaultNegComparator(a,b){return b>a?1:a>b?-1:0}function hashIterable(iterable){if(iterable.size===1/0)return 0;var ordered=isOrdered(iterable),keyed=isKeyed(iterable),h=ordered?1:0,size=iterable.__iterate(keyed?ordered?function(v,k){h=31*h+hashMerge(hash(v),hash(k))|0}:function(v,k){h=h+hashMerge(hash(v),hash(k))|0}:ordered?function(v){h=31*h+hash(v)|0}:function(v){h=h+hash(v)|0});return murmurHashOfSize(size,h)}function murmurHashOfSize(size,h){return h=src_Math__imul(h,3432918353),h=src_Math__imul(h<<15|h>>>-15,461845907),h=src_Math__imul(h<<13|h>>>-13,5),h=(h+3864292196|0)^size,h=src_Math__imul(h^h>>>16,2246822507),h=src_Math__imul(h^h>>>13,3266489909),h=smi(h^h>>>16)}function hashMerge(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}var SLICE$0=Array.prototype.slice,DELETE="delete",SHIFT=5,SIZE=1<<SHIFT,MASK=SIZE-1,NOT_SET={},CHANGE_LENGTH={value:!1},DID_ALTER={value:!1};createClass(KeyedIterable,Iterable),createClass(IndexedIterable,Iterable),createClass(SetIterable,Iterable),Iterable.isIterable=isIterable,Iterable.isKeyed=isKeyed,Iterable.isIndexed=isIndexed,Iterable.isAssociative=isAssociative,Iterable.isOrdered=isOrdered,Iterable.Keyed=KeyedIterable,Iterable.Indexed=IndexedIterable,Iterable.Set=SetIterable;var IS_ITERABLE_SENTINEL="@@__IMMUTABLE_ITERABLE__@@",IS_KEYED_SENTINEL="@@__IMMUTABLE_KEYED__@@",IS_INDEXED_SENTINEL="@@__IMMUTABLE_INDEXED__@@",IS_ORDERED_SENTINEL="@@__IMMUTABLE_ORDERED__@@",ITERATE_KEYS=0,ITERATE_VALUES=1,ITERATE_ENTRIES=2,REAL_ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator",ITERATOR_SYMBOL=REAL_ITERATOR_SYMBOL||FAUX_ITERATOR_SYMBOL;src_Iterator__Iterator.prototype.toString=function(){return"[Iterator]"},src_Iterator__Iterator.KEYS=ITERATE_KEYS,src_Iterator__Iterator.VALUES=ITERATE_VALUES,src_Iterator__Iterator.ENTRIES=ITERATE_ENTRIES,src_Iterator__Iterator.prototype.inspect=src_Iterator__Iterator.prototype.toSource=function(){return this.toString()},src_Iterator__Iterator.prototype[ITERATOR_SYMBOL]=function(){return this},createClass(Seq,Iterable),Seq.of=function(){return Seq(arguments)},Seq.prototype.toSeq=function(){return this},Seq.prototype.toString=function(){return this.__toString("Seq {","}")},Seq.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Seq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,!0)},Seq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,!0)},createClass(KeyedSeq,Seq),KeyedSeq.prototype.toKeyedSeq=function(){return this},createClass(IndexedSeq,Seq),IndexedSeq.of=function(){return IndexedSeq(arguments)},IndexedSeq.prototype.toIndexedSeq=function(){return this},IndexedSeq.prototype.toString=function(){return this.__toString("Seq [","]")},IndexedSeq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,!1)},IndexedSeq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,!1)},createClass(SetSeq,Seq),SetSeq.of=function(){return SetSeq(arguments)},SetSeq.prototype.toSetSeq=function(){return this},Seq.isSeq=isSeq,Seq.Keyed=KeyedSeq,Seq.Set=SetSeq,Seq.Indexed=IndexedSeq;var IS_SEQ_SENTINEL="@@__IMMUTABLE_SEQ__@@";Seq.prototype[IS_SEQ_SENTINEL]=!0,createClass(ArraySeq,IndexedSeq),ArraySeq.prototype.get=function(index,notSetValue){return this.has(index)?this._array[wrapIndex(this,index)]:notSetValue},ArraySeq.prototype.__iterate=function(fn,reverse){for(var array=this._array,maxIndex=array.length-1,ii=0;maxIndex>=ii;ii++)if(fn(array[reverse?maxIndex-ii:ii],ii,this)===!1)return ii+1;return ii},ArraySeq.prototype.__iterator=function(type,reverse){var array=this._array,maxIndex=array.length-1,ii=0;return new src_Iterator__Iterator(function(){return ii>maxIndex?iteratorDone():iteratorValue(type,ii,array[reverse?maxIndex-ii++:ii++])})},createClass(ObjectSeq,KeyedSeq),ObjectSeq.prototype.get=function(key,notSetValue){return void 0===notSetValue||this.has(key)?this._object[key]:notSetValue},ObjectSeq.prototype.has=function(key){return this._object.hasOwnProperty(key)},ObjectSeq.prototype.__iterate=function(fn,reverse){for(var object=this._object,keys=this._keys,maxIndex=keys.length-1,ii=0;maxIndex>=ii;ii++){var key=keys[reverse?maxIndex-ii:ii];if(fn(object[key],key,this)===!1)return ii+1}return ii},ObjectSeq.prototype.__iterator=function(type,reverse){var object=this._object,keys=this._keys,maxIndex=keys.length-1,ii=0;return new src_Iterator__Iterator(function(){var key=keys[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,key,object[key])})},ObjectSeq.prototype[IS_ORDERED_SENTINEL]=!0,createClass(IterableSeq,IndexedSeq),IterableSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse)return this.cacheResult().__iterate(fn,reverse);var iterable=this._iterable,iterator=getIterator(iterable),iterations=0;if(isIterator(iterator))for(var step;!(step=iterator.next()).done&&fn(step.value,iterations++,this)!==!1;);return iterations},IterableSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse)return this.cacheResult().__iterator(type,reverse);var iterable=this._iterable,iterator=getIterator(iterable);if(!isIterator(iterator))return new src_Iterator__Iterator(iteratorDone);var iterations=0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value)})},createClass(IteratorSeq,IndexedSeq),IteratorSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse)return this.cacheResult().__iterate(fn,reverse);for(var iterator=this._iterator,cache=this._iteratorCache,iterations=0;iterations<cache.length;)if(fn(cache[iterations],iterations++,this)===!1)return iterations;for(var step;!(step=iterator.next()).done;){var val=step.value;if(cache[iterations]=val,fn(val,iterations++,this)===!1)break}return iterations},IteratorSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=this._iterator,cache=this._iteratorCache,iterations=0;return new src_Iterator__Iterator(function(){if(iterations>=cache.length){var step=iterator.next();if(step.done)return step;cache[iterations]=step.value}return iteratorValue(type,iterations,cache[iterations++])})};var EMPTY_SEQ;createClass(Collection,Iterable),createClass(KeyedCollection,Collection),createClass(IndexedCollection,Collection),createClass(SetCollection,Collection),Collection.Keyed=KeyedCollection,Collection.Indexed=IndexedCollection,Collection.Set=SetCollection;var weakMap,src_Math__imul="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(a,b){a=0|a,b=0|b;var c=65535&a,d=65535&b;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0},isExtensible=Object.isExtensible,canDefineProperty=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),usingWeakMap="function"==typeof WeakMap;usingWeakMap&&(weakMap=new WeakMap);var objHashUID=0,UID_HASH_KEY="__immutablehash__";"function"==typeof Symbol&&(UID_HASH_KEY=Symbol(UID_HASH_KEY));var STRING_HASH_CACHE_MIN_STRLEN=16,STRING_HASH_CACHE_MAX_SIZE=255,STRING_HASH_CACHE_SIZE=0,stringHashCache={};createClass(ToKeyedSequence,KeyedSeq),ToKeyedSequence.prototype.get=function(key,notSetValue){return this._iter.get(key,notSetValue)},ToKeyedSequence.prototype.has=function(key){return this._iter.has(key)},ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq()},ToKeyedSequence.prototype.reverse=function(){var this$0=this,reversedSequence=reverseFactory(this,!0);return this._useKeys||(reversedSequence.valueSeq=function(){return this$0._iter.toSeq().reverse()}),reversedSequence},ToKeyedSequence.prototype.map=function(mapper,context){var this$0=this,mappedSequence=mapFactory(this,mapper,context);return this._useKeys||(mappedSequence.valueSeq=function(){return this$0._iter.toSeq().map(mapper,context)}),mappedSequence},ToKeyedSequence.prototype.__iterate=function(fn,reverse){var ii,this$0=this;return this._iter.__iterate(this._useKeys?function(v,k){return fn(v,k,this$0)}:(ii=reverse?resolveSize(this):0,function(v){return fn(v,reverse?--ii:ii++,this$0)}),reverse)},ToKeyedSequence.prototype.__iterator=function(type,reverse){if(this._useKeys)return this._iter.__iterator(type,reverse);var iterator=this._iter.__iterator(ITERATE_VALUES,reverse),ii=reverse?resolveSize(this):0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,reverse?--ii:ii++,step.value,step)})},ToKeyedSequence.prototype[IS_ORDERED_SENTINEL]=!0,createClass(ToIndexedSequence,IndexedSeq),ToIndexedSequence.prototype.includes=function(value){return this._iter.includes(value)},ToIndexedSequence.prototype.__iterate=function(fn,reverse){var this$0=this,iterations=0;return this._iter.__iterate(function(v){return fn(v,iterations++,this$0)},reverse)},ToIndexedSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse),iterations=0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value,step)})},createClass(ToSetSequence,SetSeq),ToSetSequence.prototype.has=function(key){return this._iter.includes(key)},ToSetSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(v){return fn(v,v,this$0)},reverse)},ToSetSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,step.value,step.value,step)})},createClass(FromEntriesSequence,KeyedSeq),FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq()},FromEntriesSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(entry){if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return fn(indexedIterable?entry.get(1):entry[1],indexedIterable?entry.get(0):entry[0],this$0)}},reverse)},FromEntriesSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new src_Iterator__Iterator(function(){for(;;){var step=iterator.next();if(step.done)return step;var entry=step.value;if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return iteratorValue(type,indexedIterable?entry.get(0):entry[0],indexedIterable?entry.get(1):entry[1],step)}}})},ToIndexedSequence.prototype.cacheResult=ToKeyedSequence.prototype.cacheResult=ToSetSequence.prototype.cacheResult=FromEntriesSequence.prototype.cacheResult=cacheResultThrough,createClass(src_Map__Map,KeyedCollection),src_Map__Map.prototype.toString=function(){return this.__toString("Map {","}")},src_Map__Map.prototype.get=function(k,notSetValue){return this._root?this._root.get(0,void 0,k,notSetValue):notSetValue},src_Map__Map.prototype.set=function(k,v){return updateMap(this,k,v)},src_Map__Map.prototype.setIn=function(keyPath,v){return this.updateIn(keyPath,NOT_SET,function(){return v})},src_Map__Map.prototype.remove=function(k){return updateMap(this,k,NOT_SET)},src_Map__Map.prototype.deleteIn=function(keyPath){return this.updateIn(keyPath,function(){return NOT_SET})},src_Map__Map.prototype.update=function(k,notSetValue,updater){return 1===arguments.length?k(this):this.updateIn([k],notSetValue,updater)},src_Map__Map.prototype.updateIn=function(keyPath,notSetValue,updater){updater||(updater=notSetValue,notSetValue=void 0);var updatedValue=updateInDeepMap(this,forceIterator(keyPath),notSetValue,updater);return updatedValue===NOT_SET?void 0:updatedValue},src_Map__Map.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):emptyMap()},src_Map__Map.prototype.merge=function(){return mergeIntoMapWith(this,void 0,arguments)},src_Map__Map.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,merger,iters)},src_Map__Map.prototype.mergeIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return"function"==typeof m.merge?m.merge.apply(m,iters):iters[iters.length-1]})},src_Map__Map.prototype.mergeDeep=function(){return mergeIntoMapWith(this,deepMerger(void 0),arguments)},src_Map__Map.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,deepMerger(merger),iters)},src_Map__Map.prototype.mergeDeepIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return"function"==typeof m.mergeDeep?m.mergeDeep.apply(m,iters):iters[iters.length-1]})},src_Map__Map.prototype.sort=function(comparator){return OrderedMap(sortFactory(this,comparator))},src_Map__Map.prototype.sortBy=function(mapper,comparator){return OrderedMap(sortFactory(this,comparator,mapper))},src_Map__Map.prototype.withMutations=function(fn){var mutable=this.asMutable();return fn(mutable),mutable.wasAltered()?mutable.__ensureOwner(this.__ownerID):this},src_Map__Map.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID)},src_Map__Map.prototype.asImmutable=function(){return this.__ensureOwner()},src_Map__Map.prototype.wasAltered=function(){return this.__altered},src_Map__Map.prototype.__iterator=function(type,reverse){return new MapIterator(this,type,reverse)},src_Map__Map.prototype.__iterate=function(fn,reverse){var this$0=this,iterations=0;return this._root&&this._root.iterate(function(entry){return iterations++,fn(entry[1],entry[0],this$0)},reverse),iterations},src_Map__Map.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeMap(this.size,this._root,ownerID,this.__hash):(this.__ownerID=ownerID,this.__altered=!1,this)},src_Map__Map.isMap=isMap;var IS_MAP_SENTINEL="@@__IMMUTABLE_MAP__@@",MapPrototype=src_Map__Map.prototype;MapPrototype[IS_MAP_SENTINEL]=!0,MapPrototype[DELETE]=MapPrototype.remove,MapPrototype.removeIn=MapPrototype.deleteIn,ArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){for(var entries=this.entries,ii=0,len=entries.length;len>ii;ii++)if(is(key,entries[ii][0]))return entries[ii][1];return notSetValue},ArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){for(var removed=value===NOT_SET,entries=this.entries,idx=0,len=entries.length;len>idx&&!is(key,entries[idx][0]);idx++);var exists=len>idx;if(exists?entries[idx][1]===value:removed)return this;if(SetRef(didAlter),(removed||!exists)&&SetRef(didChangeSize),!removed||1!==entries.length){if(!exists&&!removed&&entries.length>=MAX_ARRAY_MAP_SIZE)return createNodes(ownerID,entries,key,value);var isEditable=ownerID&&ownerID===this.ownerID,newEntries=isEditable?entries:arrCopy(entries);return exists?removed?idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop():newEntries[idx]=[key,value]:newEntries.push([key,value]),isEditable?(this.entries=newEntries,this):new ArrayMapNode(ownerID,newEntries)}},BitmapIndexedNode.prototype.get=function(shift,keyHash,key,notSetValue){void 0===keyHash&&(keyHash=hash(key));var bit=1<<((0===shift?keyHash:keyHash>>>shift)&MASK),bitmap=this.bitmap;return 0===(bitmap&bit)?notSetValue:this.nodes[popCount(bitmap&bit-1)].get(shift+SHIFT,keyHash,key,notSetValue)},BitmapIndexedNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var keyHashFrag=(0===shift?keyHash:keyHash>>>shift)&MASK,bit=1<<keyHashFrag,bitmap=this.bitmap,exists=0!==(bitmap&bit);if(!exists&&value===NOT_SET)return this;var idx=popCount(bitmap&bit-1),nodes=this.nodes,node=exists?nodes[idx]:void 0,newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node)return this;if(!exists&&newNode&&nodes.length>=MAX_BITMAP_INDEXED_SIZE)return expandNodes(ownerID,nodes,bitmap,keyHashFrag,newNode);if(exists&&!newNode&&2===nodes.length&&isLeafNode(nodes[1^idx]))return nodes[1^idx];if(exists&&newNode&&1===nodes.length&&isLeafNode(newNode))return newNode;var isEditable=ownerID&&ownerID===this.ownerID,newBitmap=exists?newNode?bitmap:bitmap^bit:bitmap|bit,newNodes=exists?newNode?setIn(nodes,idx,newNode,isEditable):spliceOut(nodes,idx,isEditable):spliceIn(nodes,idx,newNode,isEditable);return isEditable?(this.bitmap=newBitmap,this.nodes=newNodes,this):new BitmapIndexedNode(ownerID,newBitmap,newNodes)},HashArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){void 0===keyHash&&(keyHash=hash(key));var idx=(0===shift?keyHash:keyHash>>>shift)&MASK,node=this.nodes[idx];return node?node.get(shift+SHIFT,keyHash,key,notSetValue):notSetValue},HashArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var idx=(0===shift?keyHash:keyHash>>>shift)&MASK,removed=value===NOT_SET,nodes=this.nodes,node=nodes[idx];if(removed&&!node)return this;var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node)return this;var newCount=this.count;if(node){if(!newNode&&(newCount--,MIN_HASH_ARRAY_MAP_SIZE>newCount))return packNodes(ownerID,nodes,newCount,idx)}else newCount++;var isEditable=ownerID&&ownerID===this.ownerID,newNodes=setIn(nodes,idx,newNode,isEditable);return isEditable?(this.count=newCount,this.nodes=newNodes,this):new HashArrayMapNode(ownerID,newCount,newNodes)},HashCollisionNode.prototype.get=function(shift,keyHash,key,notSetValue){for(var entries=this.entries,ii=0,len=entries.length;len>ii;ii++)if(is(key,entries[ii][0]))return entries[ii][1];return notSetValue},HashCollisionNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var removed=value===NOT_SET;if(keyHash!==this.keyHash)return removed?this:(SetRef(didAlter),SetRef(didChangeSize),mergeIntoNode(this,ownerID,shift,keyHash,[key,value]));for(var entries=this.entries,idx=0,len=entries.length;len>idx&&!is(key,entries[idx][0]);idx++);var exists=len>idx;if(exists?entries[idx][1]===value:removed)return this;if(SetRef(didAlter),(removed||!exists)&&SetRef(didChangeSize),removed&&2===len)return new ValueNode(ownerID,this.keyHash,entries[1^idx]);var isEditable=ownerID&&ownerID===this.ownerID,newEntries=isEditable?entries:arrCopy(entries);return exists?removed?idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop():newEntries[idx]=[key,value]:newEntries.push([key,value]),isEditable?(this.entries=newEntries,this):new HashCollisionNode(ownerID,this.keyHash,newEntries)},ValueNode.prototype.get=function(shift,keyHash,key,notSetValue){return is(key,this.entry[0])?this.entry[1]:notSetValue},ValueNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET,keyMatch=is(key,this.entry[0]);return(keyMatch?value===this.entry[1]:removed)?this:(SetRef(didAlter),removed?void SetRef(didChangeSize):keyMatch?ownerID&&ownerID===this.ownerID?(this.entry[1]=value,this):new ValueNode(ownerID,this.keyHash,[key,value]):(SetRef(didChangeSize),mergeIntoNode(this,ownerID,shift,hash(key),[key,value])))},ArrayMapNode.prototype.iterate=HashCollisionNode.prototype.iterate=function(fn,reverse){for(var entries=this.entries,ii=0,maxIndex=entries.length-1;maxIndex>=ii;ii++)if(fn(entries[reverse?maxIndex-ii:ii])===!1)return!1},BitmapIndexedNode.prototype.iterate=HashArrayMapNode.prototype.iterate=function(fn,reverse){for(var nodes=this.nodes,ii=0,maxIndex=nodes.length-1;maxIndex>=ii;ii++){var node=nodes[reverse?maxIndex-ii:ii];if(node&&node.iterate(fn,reverse)===!1)return!1}},ValueNode.prototype.iterate=function(fn,reverse){return fn(this.entry)},createClass(MapIterator,src_Iterator__Iterator),MapIterator.prototype.next=function(){for(var type=this._type,stack=this._stack;stack;){var maxIndex,node=stack.node,index=stack.index++;if(node.entry){if(0===index)return mapIteratorValue(type,node.entry)}else if(node.entries){if(maxIndex=node.entries.length-1,maxIndex>=index)return mapIteratorValue(type,node.entries[this._reverse?maxIndex-index:index])}else if(maxIndex=node.nodes.length-1,maxIndex>=index){var subNode=node.nodes[this._reverse?maxIndex-index:index];if(subNode){if(subNode.entry)return mapIteratorValue(type,subNode.entry);stack=this._stack=mapIteratorFrame(subNode,stack)}continue}stack=this._stack=this._stack.__prev}return iteratorDone()};var EMPTY_MAP,MAX_ARRAY_MAP_SIZE=SIZE/4,MAX_BITMAP_INDEXED_SIZE=SIZE/2,MIN_HASH_ARRAY_MAP_SIZE=SIZE/4;createClass(List,IndexedCollection),List.of=function(){return this(arguments)},List.prototype.toString=function(){return this.__toString("List [","]")},List.prototype.get=function(index,notSetValue){if(index=wrapIndex(this,index),0>index||index>=this.size)return notSetValue;index+=this._origin;var node=listNodeFor(this,index);return node&&node.array[index&MASK]},List.prototype.set=function(index,value){return updateList(this,index,value)},List.prototype.remove=function(index){return this.has(index)?0===index?this.shift():index===this.size-1?this.pop():this.splice(index,1):this},List.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=SHIFT,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):emptyList()},List.prototype.push=function(){var values=arguments,oldSize=this.size;return this.withMutations(function(list){setListBounds(list,0,oldSize+values.length);for(var ii=0;ii<values.length;ii++)list.set(oldSize+ii,values[ii])})},List.prototype.pop=function(){return setListBounds(this,0,-1)},List.prototype.unshift=function(){var values=arguments;return this.withMutations(function(list){setListBounds(list,-values.length);for(var ii=0;ii<values.length;ii++)list.set(ii,values[ii])})},List.prototype.shift=function(){return setListBounds(this,1)},List.prototype.merge=function(){return mergeIntoListWith(this,void 0,arguments)},List.prototype.mergeWith=function(merger){
var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,merger,iters)},List.prototype.mergeDeep=function(){return mergeIntoListWith(this,deepMerger(void 0),arguments)},List.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,deepMerger(merger),iters)},List.prototype.setSize=function(size){return setListBounds(this,0,size)},List.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:setListBounds(this,resolveBegin(begin,size),resolveEnd(end,size))},List.prototype.__iterator=function(type,reverse){var index=0,values=iterateList(this,reverse);return new src_Iterator__Iterator(function(){var value=values();return value===DONE?iteratorDone():iteratorValue(type,index++,value)})},List.prototype.__iterate=function(fn,reverse){for(var value,index=0,values=iterateList(this,reverse);(value=values())!==DONE&&fn(value,index++,this)!==!1;);return index},List.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeList(this._origin,this._capacity,this._level,this._root,this._tail,ownerID,this.__hash):(this.__ownerID=ownerID,this)},List.isList=isList;var IS_LIST_SENTINEL="@@__IMMUTABLE_LIST__@@",ListPrototype=List.prototype;ListPrototype[IS_LIST_SENTINEL]=!0,ListPrototype[DELETE]=ListPrototype.remove,ListPrototype.setIn=MapPrototype.setIn,ListPrototype.deleteIn=ListPrototype.removeIn=MapPrototype.removeIn,ListPrototype.update=MapPrototype.update,ListPrototype.updateIn=MapPrototype.updateIn,ListPrototype.mergeIn=MapPrototype.mergeIn,ListPrototype.mergeDeepIn=MapPrototype.mergeDeepIn,ListPrototype.withMutations=MapPrototype.withMutations,ListPrototype.asMutable=MapPrototype.asMutable,ListPrototype.asImmutable=MapPrototype.asImmutable,ListPrototype.wasAltered=MapPrototype.wasAltered,VNode.prototype.removeBefore=function(ownerID,level,index){if(index===level?1<<level:0||0===this.array.length)return this;var originIndex=index>>>level&MASK;if(originIndex>=this.array.length)return new VNode([],ownerID);var newChild,removingFirst=0===originIndex;if(level>0){var oldChild=this.array[originIndex];if(newChild=oldChild&&oldChild.removeBefore(ownerID,level-SHIFT,index),newChild===oldChild&&removingFirst)return this}if(removingFirst&&!newChild)return this;var editable=editableVNode(this,ownerID);if(!removingFirst)for(var ii=0;originIndex>ii;ii++)editable.array[ii]=void 0;return newChild&&(editable.array[originIndex]=newChild),editable},VNode.prototype.removeAfter=function(ownerID,level,index){if(index===level?1<<level:0||0===this.array.length)return this;var sizeIndex=index-1>>>level&MASK;if(sizeIndex>=this.array.length)return this;var newChild,removingLast=sizeIndex===this.array.length-1;if(level>0){var oldChild=this.array[sizeIndex];if(newChild=oldChild&&oldChild.removeAfter(ownerID,level-SHIFT,index),newChild===oldChild&&removingLast)return this}if(removingLast&&!newChild)return this;var editable=editableVNode(this,ownerID);return removingLast||editable.array.pop(),newChild&&(editable.array[sizeIndex]=newChild),editable};var EMPTY_LIST,DONE={};createClass(OrderedMap,src_Map__Map),OrderedMap.of=function(){return this(arguments)},OrderedMap.prototype.toString=function(){return this.__toString("OrderedMap {","}")},OrderedMap.prototype.get=function(k,notSetValue){var index=this._map.get(k);return void 0!==index?this._list.get(index)[1]:notSetValue},OrderedMap.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):emptyOrderedMap()},OrderedMap.prototype.set=function(k,v){return updateOrderedMap(this,k,v)},OrderedMap.prototype.remove=function(k){return updateOrderedMap(this,k,NOT_SET)},OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},OrderedMap.prototype.__iterate=function(fn,reverse){var this$0=this;return this._list.__iterate(function(entry){return entry&&fn(entry[1],entry[0],this$0)},reverse)},OrderedMap.prototype.__iterator=function(type,reverse){return this._list.fromEntrySeq().__iterator(type,reverse)},OrderedMap.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map.__ensureOwner(ownerID),newList=this._list.__ensureOwner(ownerID);return ownerID?makeOrderedMap(newMap,newList,ownerID,this.__hash):(this.__ownerID=ownerID,this._map=newMap,this._list=newList,this)},OrderedMap.isOrderedMap=isOrderedMap,OrderedMap.prototype[IS_ORDERED_SENTINEL]=!0,OrderedMap.prototype[DELETE]=OrderedMap.prototype.remove;var EMPTY_ORDERED_MAP;createClass(Stack,IndexedCollection),Stack.of=function(){return this(arguments)},Stack.prototype.toString=function(){return this.__toString("Stack [","]")},Stack.prototype.get=function(index,notSetValue){var head=this._head;for(index=wrapIndex(this,index);head&&index--;)head=head.next;return head?head.value:notSetValue},Stack.prototype.peek=function(){return this._head&&this._head.value},Stack.prototype.push=function(){if(0===arguments.length)return this;for(var newSize=this.size+arguments.length,head=this._head,ii=arguments.length-1;ii>=0;ii--)head={value:arguments[ii],next:head};return this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.pushAll=function(iter){if(iter=IndexedIterable(iter),0===iter.size)return this;assertNotInfinite(iter.size);var newSize=this.size,head=this._head;return iter.reverse().forEach(function(value){newSize++,head={value:value,next:head}}),this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.pop=function(){return this.slice(1)},Stack.prototype.unshift=function(){return this.push.apply(this,arguments)},Stack.prototype.unshiftAll=function(iter){return this.pushAll(iter)},Stack.prototype.shift=function(){return this.pop.apply(this,arguments)},Stack.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):emptyStack()},Stack.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size))return this;var resolvedBegin=resolveBegin(begin,this.size),resolvedEnd=resolveEnd(end,this.size);if(resolvedEnd!==this.size)return IndexedCollection.prototype.slice.call(this,begin,end);for(var newSize=this.size-resolvedBegin,head=this._head;resolvedBegin--;)head=head.next;return this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeStack(this.size,this._head,ownerID,this.__hash):(this.__ownerID=ownerID,this.__altered=!1,this)},Stack.prototype.__iterate=function(fn,reverse){if(reverse)return this.reverse().__iterate(fn);for(var iterations=0,node=this._head;node&&fn(node.value,iterations++,this)!==!1;)node=node.next;return iterations},Stack.prototype.__iterator=function(type,reverse){if(reverse)return this.reverse().__iterator(type);var iterations=0,node=this._head;return new src_Iterator__Iterator(function(){if(node){var value=node.value;return node=node.next,iteratorValue(type,iterations++,value)}return iteratorDone()})},Stack.isStack=isStack;var IS_STACK_SENTINEL="@@__IMMUTABLE_STACK__@@",StackPrototype=Stack.prototype;StackPrototype[IS_STACK_SENTINEL]=!0,StackPrototype.withMutations=MapPrototype.withMutations,StackPrototype.asMutable=MapPrototype.asMutable,StackPrototype.asImmutable=MapPrototype.asImmutable,StackPrototype.wasAltered=MapPrototype.wasAltered;var EMPTY_STACK;createClass(src_Set__Set,SetCollection),src_Set__Set.of=function(){return this(arguments)},src_Set__Set.fromKeys=function(value){return this(KeyedIterable(value).keySeq())},src_Set__Set.prototype.toString=function(){return this.__toString("Set {","}")},src_Set__Set.prototype.has=function(value){return this._map.has(value)},src_Set__Set.prototype.add=function(value){return updateSet(this,this._map.set(value,!0))},src_Set__Set.prototype.remove=function(value){return updateSet(this,this._map.remove(value))},src_Set__Set.prototype.clear=function(){return updateSet(this,this._map.clear())},src_Set__Set.prototype.union=function(){var iters=SLICE$0.call(arguments,0);return iters=iters.filter(function(x){return 0!==x.size}),0===iters.length?this:0!==this.size||this.__ownerID||1!==iters.length?this.withMutations(function(set){for(var ii=0;ii<iters.length;ii++)SetIterable(iters[ii]).forEach(function(value){return set.add(value)})}):this.constructor(iters[0])},src_Set__Set.prototype.intersect=function(){var iters=SLICE$0.call(arguments,0);if(0===iters.length)return this;iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){iters.every(function(iter){return iter.includes(value)})||set.remove(value)})})},src_Set__Set.prototype.subtract=function(){var iters=SLICE$0.call(arguments,0);if(0===iters.length)return this;iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){iters.some(function(iter){return iter.includes(value)})&&set.remove(value)})})},src_Set__Set.prototype.merge=function(){return this.union.apply(this,arguments)},src_Set__Set.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return this.union.apply(this,iters)},src_Set__Set.prototype.sort=function(comparator){return OrderedSet(sortFactory(this,comparator))},src_Set__Set.prototype.sortBy=function(mapper,comparator){return OrderedSet(sortFactory(this,comparator,mapper))},src_Set__Set.prototype.wasAltered=function(){return this._map.wasAltered()},src_Set__Set.prototype.__iterate=function(fn,reverse){var this$0=this;return this._map.__iterate(function(_,k){return fn(k,k,this$0)},reverse)},src_Set__Set.prototype.__iterator=function(type,reverse){return this._map.map(function(_,k){return k}).__iterator(type,reverse)},src_Set__Set.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map.__ensureOwner(ownerID);return ownerID?this.__make(newMap,ownerID):(this.__ownerID=ownerID,this._map=newMap,this)},src_Set__Set.isSet=isSet;var IS_SET_SENTINEL="@@__IMMUTABLE_SET__@@",SetPrototype=src_Set__Set.prototype;SetPrototype[IS_SET_SENTINEL]=!0,SetPrototype[DELETE]=SetPrototype.remove,SetPrototype.mergeDeep=SetPrototype.merge,SetPrototype.mergeDeepWith=SetPrototype.mergeWith,SetPrototype.withMutations=MapPrototype.withMutations,SetPrototype.asMutable=MapPrototype.asMutable,SetPrototype.asImmutable=MapPrototype.asImmutable,SetPrototype.__empty=emptySet,SetPrototype.__make=makeSet;var EMPTY_SET;createClass(OrderedSet,src_Set__Set),OrderedSet.of=function(){return this(arguments)},OrderedSet.fromKeys=function(value){return this(KeyedIterable(value).keySeq())},OrderedSet.prototype.toString=function(){return this.__toString("OrderedSet {","}")},OrderedSet.isOrderedSet=isOrderedSet;var OrderedSetPrototype=OrderedSet.prototype;OrderedSetPrototype[IS_ORDERED_SENTINEL]=!0,OrderedSetPrototype.__empty=emptyOrderedSet,OrderedSetPrototype.__make=makeOrderedSet;var EMPTY_ORDERED_SET;createClass(Record,KeyedCollection),Record.prototype.toString=function(){return this.__toString(recordName(this)+" {","}")},Record.prototype.has=function(k){return this._defaultValues.hasOwnProperty(k)},Record.prototype.get=function(k,notSetValue){if(!this.has(k))return notSetValue;var defaultVal=this._defaultValues[k];return this._map?this._map.get(k,defaultVal):defaultVal},Record.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var RecordType=this.constructor;return RecordType._empty||(RecordType._empty=makeRecord(this,emptyMap()))},Record.prototype.set=function(k,v){if(!this.has(k))throw new Error('Cannot set unknown key "'+k+'" on '+recordName(this));var newMap=this._map&&this._map.set(k,v);return this.__ownerID||newMap===this._map?this:makeRecord(this,newMap)},Record.prototype.remove=function(k){if(!this.has(k))return this;var newMap=this._map&&this._map.remove(k);return this.__ownerID||newMap===this._map?this:makeRecord(this,newMap)},Record.prototype.wasAltered=function(){return this._map.wasAltered()},Record.prototype.__iterator=function(type,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterator(type,reverse)},Record.prototype.__iterate=function(fn,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterate(fn,reverse)},Record.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map&&this._map.__ensureOwner(ownerID);return ownerID?makeRecord(this,newMap,ownerID):(this.__ownerID=ownerID,this._map=newMap,this)};var RecordPrototype=Record.prototype;RecordPrototype[DELETE]=RecordPrototype.remove,RecordPrototype.deleteIn=RecordPrototype.removeIn=MapPrototype.removeIn,RecordPrototype.merge=MapPrototype.merge,RecordPrototype.mergeWith=MapPrototype.mergeWith,RecordPrototype.mergeIn=MapPrototype.mergeIn,RecordPrototype.mergeDeep=MapPrototype.mergeDeep,RecordPrototype.mergeDeepWith=MapPrototype.mergeDeepWith,RecordPrototype.mergeDeepIn=MapPrototype.mergeDeepIn,RecordPrototype.setIn=MapPrototype.setIn,RecordPrototype.update=MapPrototype.update,RecordPrototype.updateIn=MapPrototype.updateIn,RecordPrototype.withMutations=MapPrototype.withMutations,RecordPrototype.asMutable=MapPrototype.asMutable,RecordPrototype.asImmutable=MapPrototype.asImmutable,createClass(Range,IndexedSeq),Range.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Range.prototype.get=function(index,notSetValue){return this.has(index)?this._start+wrapIndex(this,index)*this._step:notSetValue},Range.prototype.includes=function(searchValue){var possibleIndex=(searchValue-this._start)/this._step;return possibleIndex>=0&&possibleIndex<this.size&&possibleIndex===Math.floor(possibleIndex)},Range.prototype.slice=function(begin,end){return wholeSlice(begin,end,this.size)?this:(begin=resolveBegin(begin,this.size),end=resolveEnd(end,this.size),begin>=end?new Range(0,0):new Range(this.get(begin,this._end),this.get(end,this._end),this._step))},Range.prototype.indexOf=function(searchValue){var offsetValue=searchValue-this._start;if(offsetValue%this._step===0){var index=offsetValue/this._step;if(index>=0&&index<this.size)return index}return-1},Range.prototype.lastIndexOf=function(searchValue){return this.indexOf(searchValue)},Range.prototype.__iterate=function(fn,reverse){for(var maxIndex=this.size-1,step=this._step,value=reverse?this._start+maxIndex*step:this._start,ii=0;maxIndex>=ii;ii++){if(fn(value,ii,this)===!1)return ii+1;value+=reverse?-step:step}return ii},Range.prototype.__iterator=function(type,reverse){var maxIndex=this.size-1,step=this._step,value=reverse?this._start+maxIndex*step:this._start,ii=0;return new src_Iterator__Iterator(function(){var v=value;return value+=reverse?-step:step,ii>maxIndex?iteratorDone():iteratorValue(type,ii++,v)})},Range.prototype.equals=function(other){return other instanceof Range?this._start===other._start&&this._end===other._end&&this._step===other._step:deepEqual(this,other)};var EMPTY_RANGE;createClass(Repeat,IndexedSeq),Repeat.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Repeat.prototype.get=function(index,notSetValue){return this.has(index)?this._value:notSetValue},Repeat.prototype.includes=function(searchValue){return is(this._value,searchValue)},Repeat.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:new Repeat(this._value,resolveEnd(end,size)-resolveBegin(begin,size))},Repeat.prototype.reverse=function(){return this},Repeat.prototype.indexOf=function(searchValue){return is(this._value,searchValue)?0:-1},Repeat.prototype.lastIndexOf=function(searchValue){return is(this._value,searchValue)?this.size:-1},Repeat.prototype.__iterate=function(fn,reverse){for(var ii=0;ii<this.size;ii++)if(fn(this._value,ii,this)===!1)return ii+1;return ii},Repeat.prototype.__iterator=function(type,reverse){var this$0=this,ii=0;return new src_Iterator__Iterator(function(){return ii<this$0.size?iteratorValue(type,ii++,this$0._value):iteratorDone()})},Repeat.prototype.equals=function(other){return other instanceof Repeat?is(this._value,other._value):deepEqual(other)};var EMPTY_REPEAT;Iterable.Iterator=src_Iterator__Iterator,mixin(Iterable,{toArray:function(){assertNotInfinite(this.size);var array=new Array(this.size||0);return this.valueSeq().__iterate(function(v,i){array[i]=v}),array},toIndexedSeq:function(){return new ToIndexedSequence(this)},toJS:function(){return this.toSeq().map(function(value){return value&&"function"==typeof value.toJS?value.toJS():value}).__toJS()},toJSON:function(){return this.toSeq().map(function(value){return value&&"function"==typeof value.toJSON?value.toJSON():value}).__toJS()},toKeyedSeq:function(){return new ToKeyedSequence(this,!0)},toMap:function(){return src_Map__Map(this.toKeyedSeq())},toObject:function(){assertNotInfinite(this.size);var object={};return this.__iterate(function(v,k){object[k]=v}),object},toOrderedMap:function(){return OrderedMap(this.toKeyedSeq())},toOrderedSet:function(){return OrderedSet(isKeyed(this)?this.valueSeq():this)},toSet:function(){return src_Set__Set(isKeyed(this)?this.valueSeq():this)},toSetSeq:function(){return new ToSetSequence(this)},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Stack(isKeyed(this)?this.valueSeq():this)},toList:function(){return List(isKeyed(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(head,tail){return 0===this.size?head+tail:head+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+tail},concat:function(){var values=SLICE$0.call(arguments,0);return reify(this,concatFactory(this,values))},contains:function(searchValue){return this.includes(searchValue)},includes:function(searchValue){return this.some(function(value){return is(value,searchValue)})},entries:function(){return this.__iterator(ITERATE_ENTRIES)},every:function(predicate,context){assertNotInfinite(this.size);var returnValue=!0;return this.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?void 0:(returnValue=!1,!1)}),returnValue},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,!0))},find:function(predicate,context,notSetValue){var entry=this.findEntry(predicate,context);return entry?entry[1]:notSetValue},findEntry:function(predicate,context){var found;return this.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?(found=[k,v],!1):void 0}),found},findLastEntry:function(predicate,context){return this.toSeq().reverse().findEntry(predicate,context)},forEach:function(sideEffect,context){return assertNotInfinite(this.size),this.__iterate(context?sideEffect.bind(context):sideEffect)},join:function(separator){assertNotInfinite(this.size),separator=void 0!==separator?""+separator:",";var joined="",isFirst=!0;return this.__iterate(function(v){isFirst?isFirst=!1:joined+=separator,joined+=null!==v&&void 0!==v?v.toString():""}),joined},keys:function(){return this.__iterator(ITERATE_KEYS)},map:function(mapper,context){return reify(this,mapFactory(this,mapper,context))},reduce:function(reducer,initialReduction,context){assertNotInfinite(this.size);var reduction,useFirst;return arguments.length<2?useFirst=!0:reduction=initialReduction,this.__iterate(function(v,k,c){useFirst?(useFirst=!1,reduction=v):reduction=reducer.call(context,reduction,v,k,c)}),reduction},reduceRight:function(reducer,initialReduction,context){var reversed=this.toKeyedSeq().reverse();return reversed.reduce.apply(reversed,arguments)},reverse:function(){return reify(this,reverseFactory(this,!0))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,!0))},some:function(predicate,context){return!this.every(not(predicate),context)},sort:function(comparator){return reify(this,sortFactory(this,comparator))},values:function(){return this.__iterator(ITERATE_VALUES)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(predicate,context){return ensureSize(predicate?this.toSeq().filter(predicate,context):this)},countBy:function(grouper,context){return countByFactory(this,grouper,context)},equals:function(other){return deepEqual(this,other)},entrySeq:function(){var iterable=this;if(iterable._cache)return new ArraySeq(iterable._cache);var entriesSequence=iterable.toSeq().map(entryMapper).toIndexedSeq();return entriesSequence.fromEntrySeq=function(){return iterable.toSeq()},entriesSequence},filterNot:function(predicate,context){return this.filter(not(predicate),context)},findLast:function(predicate,context,notSetValue){return this.toKeyedSeq().reverse().find(predicate,context,notSetValue)},first:function(){return this.find(returnTrue)},flatMap:function(mapper,context){return reify(this,flatMapFactory(this,mapper,context))},flatten:function(depth){return reify(this,flattenFactory(this,depth,!0))},fromEntrySeq:function(){return new FromEntriesSequence(this)},get:function(searchKey,notSetValue){return this.find(function(_,key){return is(key,searchKey)},void 0,notSetValue)},getIn:function(searchKeyPath,notSetValue){for(var step,nested=this,iter=forceIterator(searchKeyPath);!(step=iter.next()).done;){var key=step.value;if(nested=nested&&nested.get?nested.get(key,NOT_SET):NOT_SET,nested===NOT_SET)return notSetValue}return nested},groupBy:function(grouper,context){return groupByFactory(this,grouper,context)},has:function(searchKey){return this.get(searchKey,NOT_SET)!==NOT_SET},hasIn:function(searchKeyPath){return this.getIn(searchKeyPath,NOT_SET)!==NOT_SET},isSubset:function(iter){return iter="function"==typeof iter.includes?iter:Iterable(iter),this.every(function(value){return iter.includes(value)})},isSuperset:function(iter){return iter="function"==typeof iter.isSubset?iter:Iterable(iter),iter.isSubset(this)},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(comparator){return maxFactory(this,comparator)},maxBy:function(mapper,comparator){return maxFactory(this,comparator,mapper)},min:function(comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator)},minBy:function(mapper,comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator,mapper)},rest:function(){return this.slice(1)},skip:function(amount){return this.slice(Math.max(0,amount))},skipLast:function(amount){return reify(this,this.toSeq().reverse().skip(amount).reverse())},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,!0))},skipUntil:function(predicate,context){return this.skipWhile(not(predicate),context)},sortBy:function(mapper,comparator){return reify(this,sortFactory(this,comparator,mapper))},take:function(amount){return this.slice(0,Math.max(0,amount))},takeLast:function(amount){return reify(this,this.toSeq().reverse().take(amount).reverse())},takeWhile:function(predicate,context){return reify(this,takeWhileFactory(this,predicate,context))},takeUntil:function(predicate,context){return this.takeWhile(not(predicate),context)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hashIterable(this))}});var IterablePrototype=Iterable.prototype;IterablePrototype[IS_ITERABLE_SENTINEL]=!0,IterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.values,IterablePrototype.__toJS=IterablePrototype.toArray,IterablePrototype.__toStringMapper=quoteString,IterablePrototype.inspect=IterablePrototype.toSource=function(){return this.toString()},IterablePrototype.chain=IterablePrototype.flatMap,function(){try{Object.defineProperty(IterablePrototype,"length",{get:function(){if(!Iterable.noLengthWarning){var stack;try{throw new Error}catch(error){stack=error.stack}if(-1===stack.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+stack),this.size}}})}catch(e){}}(),mixin(KeyedIterable,{flip:function(){return reify(this,flipFactory(this))},findKey:function(predicate,context){var entry=this.findEntry(predicate,context);return entry&&entry[0]},findLastKey:function(predicate,context){return this.toSeq().reverse().findKey(predicate,context)},keyOf:function(searchValue){return this.findKey(function(value){return is(value,searchValue)})},lastKeyOf:function(searchValue){return this.findLastKey(function(value){return is(value,searchValue)})},mapEntries:function(mapper,context){var this$0=this,iterations=0;return reify(this,this.toSeq().map(function(v,k){return mapper.call(context,[k,v],iterations++,this$0)}).fromEntrySeq())},mapKeys:function(mapper,context){var this$0=this;return reify(this,this.toSeq().flip().map(function(k,v){return mapper.call(context,k,v,this$0)}).flip())}});var KeyedIterablePrototype=KeyedIterable.prototype;KeyedIterablePrototype[IS_KEYED_SENTINEL]=!0,KeyedIterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.entries,KeyedIterablePrototype.__toJS=IterablePrototype.toObject,KeyedIterablePrototype.__toStringMapper=function(v,k){return JSON.stringify(k)+": "+quoteString(v)},mixin(IndexedIterable,{toKeyedSeq:function(){return new ToKeyedSequence(this,!1)},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,!1))},findIndex:function(predicate,context){var entry=this.findEntry(predicate,context);return entry?entry[0]:-1},indexOf:function(searchValue){var key=this.toKeyedSeq().keyOf(searchValue);return void 0===key?-1:key},lastIndexOf:function(searchValue){return this.toSeq().reverse().indexOf(searchValue)},reverse:function(){return reify(this,reverseFactory(this,!1))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,!1))},splice:function(index,removeNum){var numArgs=arguments.length;if(removeNum=Math.max(0|removeNum,0),0===numArgs||2===numArgs&&!removeNum)return this;index=resolveBegin(index,this.size);var spliced=this.slice(0,index);return reify(this,1===numArgs?spliced:spliced.concat(arrCopy(arguments,2),this.slice(index+removeNum)))},findLastIndex:function(predicate,context){var key=this.toKeyedSeq().findLastKey(predicate,context);return void 0===key?-1:key},first:function(){return this.get(0)},flatten:function(depth){return reify(this,flattenFactory(this,depth,!1))},get:function(index,notSetValue){return index=wrapIndex(this,index),0>index||this.size===1/0||void 0!==this.size&&index>this.size?notSetValue:this.find(function(_,key){return key===index},void 0,notSetValue)},has:function(index){return index=wrapIndex(this,index),index>=0&&(void 0!==this.size?this.size===1/0||index<this.size:-1!==this.indexOf(index))},interpose:function(separator){return reify(this,interposeFactory(this,separator))},interleave:function(){var iterables=[this].concat(arrCopy(arguments)),zipped=zipWithFactory(this.toSeq(),IndexedSeq.of,iterables),interleaved=zipped.flatten(!0);return zipped.size&&(interleaved.size=zipped.size*iterables.length),reify(this,interleaved)},last:function(){return this.get(-1)},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,!1))},zip:function(){var iterables=[this].concat(arrCopy(arguments));return reify(this,zipWithFactory(this,defaultZipper,iterables))},zipWith:function(zipper){var iterables=arrCopy(arguments);return iterables[0]=this,reify(this,zipWithFactory(this,zipper,iterables))}}),IndexedIterable.prototype[IS_INDEXED_SENTINEL]=!0,IndexedIterable.prototype[IS_ORDERED_SENTINEL]=!0,mixin(SetIterable,{get:function(value,notSetValue){return this.has(value)?value:notSetValue},includes:function(value){return this.has(value)},keySeq:function(){return this.valueSeq()}}),SetIterable.prototype.has=IterablePrototype.includes,mixin(KeyedSeq,KeyedIterable.prototype),mixin(IndexedSeq,IndexedIterable.prototype),mixin(SetSeq,SetIterable.prototype),mixin(KeyedCollection,KeyedIterable.prototype),mixin(IndexedCollection,IndexedIterable.prototype),mixin(SetCollection,SetIterable.prototype);var Immutable={Iterable:Iterable,Seq:Seq,Collection:Collection,Map:src_Map__Map,OrderedMap:OrderedMap,List:List,Stack:Stack,Set:src_Set__Set,OrderedSet:OrderedSet,Record:Record,Range:Range,Repeat:Repeat,is:is,fromJS:fromJS};return Immutable});


},{}],3:[function(require,module,exports){
module.exports={"default":require("core-js/library/fn/array/from"),__esModule:!0};


},{"core-js/library/fn/array/from":14}],4:[function(require,module,exports){
module.exports={"default":require("core-js/library/fn/get-iterator"),__esModule:!0};


},{"core-js/library/fn/get-iterator":15}],5:[function(require,module,exports){
module.exports={"default":require("core-js/library/fn/is-iterable"),__esModule:!0};


},{"core-js/library/fn/is-iterable":16}],6:[function(require,module,exports){
module.exports={"default":require("core-js/library/fn/object/create"),__esModule:!0};


},{"core-js/library/fn/object/create":17}],7:[function(require,module,exports){
module.exports={"default":require("core-js/library/fn/object/keys"),__esModule:!0};


},{"core-js/library/fn/object/keys":18}],8:[function(require,module,exports){
module.exports={"default":require("core-js/library/fn/symbol"),__esModule:!0};


},{"core-js/library/fn/symbol":19}],9:[function(require,module,exports){
"use strict";exports["default"]=function(obj){return obj&&obj.__esModule?obj:{"default":obj}},exports.__esModule=!0;


},{}],10:[function(require,module,exports){
"use strict";exports["default"]=function(obj){return obj&&obj.__esModule?obj["default"]:obj},exports.__esModule=!0;


},{}],11:[function(require,module,exports){
"use strict";var _isIterable=require("babel-runtime/core-js/is-iterable")["default"],_getIterator=require("babel-runtime/core-js/get-iterator")["default"];exports["default"]=function(arr,i){if(Array.isArray(arr))return arr;if(_isIterable(Object(arr))){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=_getIterator(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}throw new TypeError("Invalid attempt to destructure non-iterable instance")},exports.__esModule=!0;


},{"babel-runtime/core-js/get-iterator":4,"babel-runtime/core-js/is-iterable":5}],12:[function(require,module,exports){
"use strict";var _Array$from=require("babel-runtime/core-js/array/from")["default"];exports["default"]=function(arr){return Array.isArray(arr)?arr:_Array$from(arr)},exports.__esModule=!0;


},{"babel-runtime/core-js/array/from":3}],13:[function(require,module,exports){
"use strict";var _Array$from=require("babel-runtime/core-js/array/from")["default"];exports["default"]=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return _Array$from(arr)},exports.__esModule=!0;


},{"babel-runtime/core-js/array/from":3}],14:[function(require,module,exports){
require("../../modules/es6.string.iterator"),require("../../modules/es6.array.from"),module.exports=require("../../modules/$").core.Array.from;


},{"../../modules/$":31,"../../modules/es6.array.from":40,"../../modules/es6.string.iterator":43}],15:[function(require,module,exports){
require("../modules/web.dom.iterable"),require("../modules/es6.string.iterator"),require("../modules/core.iter-helpers"),module.exports=require("../modules/$").core.getIterator;


},{"../modules/$":31,"../modules/core.iter-helpers":39,"../modules/es6.string.iterator":43,"../modules/web.dom.iterable":45}],16:[function(require,module,exports){
require("../modules/web.dom.iterable"),require("../modules/es6.string.iterator"),require("../modules/core.iter-helpers"),module.exports=require("../modules/$").core.isIterable;


},{"../modules/$":31,"../modules/core.iter-helpers":39,"../modules/es6.string.iterator":43,"../modules/web.dom.iterable":45}],17:[function(require,module,exports){
var $=require("../../modules/$");module.exports=function(P,D){return $.create(P,D)};


},{"../../modules/$":31}],18:[function(require,module,exports){
require("../../modules/es6.object.statics-accept-primitives"),module.exports=require("../../modules/$").core.Object.keys;


},{"../../modules/$":31,"../../modules/es6.object.statics-accept-primitives":42}],19:[function(require,module,exports){
require("../../modules/es6.symbol"),module.exports=require("../../modules/$").core.Symbol;


},{"../../modules/$":31,"../../modules/es6.symbol":44}],20:[function(require,module,exports){
function assert(condition,msg1,msg2){if(!condition)throw TypeError(msg2?msg1+msg2:msg1)}var $=require("./$");assert.def=$.assertDefined,assert.fn=function(it){if(!$.isFunction(it))throw TypeError(it+" is not a function!");return it},assert.obj=function(it){if(!$.isObject(it))throw TypeError(it+" is not an object!");return it},assert.inst=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError(name+": use the 'new' operator!");return it},module.exports=assert;


},{"./$":31}],21:[function(require,module,exports){
function cof(it){return toString.call(it).slice(8,-1)}var $=require("./$"),TAG=require("./$.wks")("toStringTag"),toString={}.toString;cof.classof=function(it){var O,T;return void 0==it?void 0===it?"Undefined":"Null":"string"==typeof(T=(O=Object(it))[TAG])?T:cof(O)},cof.set=function(it,tag,stat){it&&!$.has(it=stat?it:it.prototype,TAG)&&$.hide(it,TAG,tag)},module.exports=cof;


},{"./$":31,"./$.wks":38}],22:[function(require,module,exports){
var assertFunction=require("./$.assert").fn;module.exports=function(fn,that,length){if(assertFunction(fn),~length&&void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}};


},{"./$.assert":20}],23:[function(require,module,exports){
function ctx(fn,that){return function(){return fn.apply(that,arguments)}}function $def(type,name,source){var key,own,out,exp,isGlobal=type&$def.G,isProto=type&$def.P,target=isGlobal?global:type&$def.S?global[name]:(global[name]||{}).prototype,exports=isGlobal?core:core[name]||(core[name]={});isGlobal&&(source=name);for(key in source)own=!(type&$def.F)&&target&&key in target,own&&key in exports||(out=own?target[key]:source[key],isGlobal&&!isFunction(target[key])?exp=source[key]:type&$def.B&&own?exp=ctx(out,global):type&$def.W&&target[key]==out?!function(C){exp=function(param){return this instanceof C?new C(param):C(param)},exp.prototype=C.prototype}(out):exp=isProto&&isFunction(out)?ctx(Function.call,out):out,exports[key]=exp,isProto&&((exports.prototype||(exports.prototype={}))[key]=out))}var $=require("./$"),global=$.g,core=$.core,isFunction=$.isFunction;$def.F=1,$def.G=2,$def.S=4,$def.P=8,$def.B=16,$def.W=32,module.exports=$def;


},{"./$":31}],24:[function(require,module,exports){
var $=require("./$");module.exports=function(it){var keys=$.getKeys(it),getDesc=$.getDesc,getSymbols=$.getSymbols;return getSymbols&&$.each.call(getSymbols(it),function(key){getDesc(it,key).enumerable&&keys.push(key)}),keys};


},{"./$":31}],25:[function(require,module,exports){
module.exports=function($){return $.FW=!1,$.path=$.core,$};


},{}],26:[function(require,module,exports){
function getWindowNames(it){try{return getNames(it)}catch(e){return windowNames.slice()}}var $=require("./$"),toString={}.toString,getNames=$.getNames,windowNames="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.get=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):getNames($.toObject(it))};


},{"./$":31}],27:[function(require,module,exports){
function close(iterator){var ret=iterator["return"];void 0!==ret&&assertObject(ret.call(iterator))}function call(iterator,fn,value,entries){try{return entries?fn(assertObject(value)[0],value[1]):fn(value)}catch(e){throw close(iterator),e}}var assertObject=require("./$.assert").obj;call.close=close,module.exports=call;


},{"./$.assert":20}],28:[function(require,module,exports){
var $def=require("./$.def"),$redef=require("./$.redef"),$=require("./$"),cof=require("./$.cof"),$iter=require("./$.iter"),SYMBOL_ITERATOR=require("./$.wks")("iterator"),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",Iterators=$iter.Iterators;module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCE){function createMethod(kind){function $$(that){return new Constructor(that,kind)}switch(kind){case KEYS:return function(){return $$(this)};case VALUES:return function(){return $$(this)}}return function(){return $$(this)}}$iter.create(Constructor,NAME,next);var methods,key,TAG=NAME+" Iterator",proto=Base.prototype,_native=proto[SYMBOL_ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],_default=_native||createMethod(DEFAULT);if(_native){var IteratorPrototype=$.getProto(_default.call(new Base));cof.set(IteratorPrototype,TAG,!0),$.FW&&$.has(proto,FF_ITERATOR)&&$iter.set(IteratorPrototype,$.that)}if(($.FW||FORCE)&&$iter.set(proto,_default),Iterators[NAME]=_default,Iterators[TAG]=$.that,DEFAULT)if(methods={keys:IS_SET?_default:createMethod(KEYS),values:DEFAULT==VALUES?_default:createMethod(VALUES),entries:DEFAULT!=VALUES?_default:createMethod("entries")},FORCE)for(key in methods)key in proto||$redef(proto,key,methods[key]);else $def($def.P+$def.F*$iter.BUGGY,NAME,methods)};


},{"./$":31,"./$.cof":21,"./$.def":23,"./$.iter":30,"./$.redef":33,"./$.wks":38}],29:[function(require,module,exports){
var SYMBOL_ITERATOR=require("./$.wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][SYMBOL_ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec){if(!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[SYMBOL_ITERATOR]();iter.next=function(){safe=!0},arr[SYMBOL_ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe};


},{"./$.wks":38}],30:[function(require,module,exports){
"use strict";function setIterator(O,value){$.hide(O,SYMBOL_ITERATOR,value),FF_ITERATOR in[]&&$.hide(O,FF_ITERATOR,value)}var $=require("./$"),cof=require("./$.cof"),classof=cof.classof,assert=require("./$.assert"),assertObject=assert.obj,SYMBOL_ITERATOR=require("./$.wks")("iterator"),FF_ITERATOR="@@iterator",Iterators=require("./$.shared")("iterators"),IteratorPrototype={};setIterator(IteratorPrototype,$.that),module.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:Iterators,step:function(done,value){return{value:value,done:!!done}},is:function(it){var O=Object(it),Symbol=$.g.Symbol;return(Symbol&&Symbol.iterator||FF_ITERATOR)in O||SYMBOL_ITERATOR in O||$.has(Iterators,classof(O))},get:function(it){var getIter,Symbol=$.g.Symbol;return void 0!=it&&(getIter=it[Symbol&&Symbol.iterator||FF_ITERATOR]||it[SYMBOL_ITERATOR]||Iterators[classof(it)]),assert($.isFunction(getIter),it," is not iterable!"),assertObject(getIter.call(it))},set:setIterator,create:function(Constructor,NAME,next,proto){Constructor.prototype=$.create(proto||IteratorPrototype,{next:$.desc(1,next)}),cof.set(Constructor,NAME+" Iterator")}};


},{"./$":31,"./$.assert":20,"./$.cof":21,"./$.shared":34,"./$.wks":38}],31:[function(require,module,exports){
"use strict";function toInteger(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}function desc(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}function simpleSet(object,key,value){return object[key]=value,object}function createDefiner(bitmap){return DESC?function(object,key,value){return $.setDesc(object,key,desc(bitmap,value))}:simpleSet}function isObject(it){return null!==it&&("object"==typeof it||"function"==typeof it)}function isFunction(it){return"function"==typeof it}function assertDefined(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}var global="undefined"!=typeof self?self:Function("return this")(),core={},defineProperty=Object.defineProperty,hasOwnProperty={}.hasOwnProperty,ceil=Math.ceil,floor=Math.floor,max=Math.max,min=Math.min,DESC=!!function(){try{return 2==defineProperty({},"a",{get:function(){return 2}}).a}catch(e){}}(),hide=createDefiner(1),$=module.exports=require("./$.fw")({g:global,core:core,html:global.document&&document.documentElement,isObject:isObject,isFunction:isFunction,that:function(){return this},toInteger:toInteger,toLength:function(it){return it>0?min(toInteger(it),9007199254740991):0},toIndex:function(index,length){return index=toInteger(index),0>index?max(index+length,0):min(index,length)},has:function(it,key){return hasOwnProperty.call(it,key)},create:Object.create,getProto:Object.getPrototypeOf,DESC:DESC,desc:desc,getDesc:Object.getOwnPropertyDescriptor,setDesc:defineProperty,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:assertDefined,ES5Object:Object,toObject:function(it){return $.ES5Object(assertDefined(it))},hide:hide,def:createDefiner(0),set:global.Symbol?simpleSet:hide,each:[].forEach});"undefined"!=typeof __e&&(__e=core),"undefined"!=typeof __g&&(__g=global);


},{"./$.fw":25}],32:[function(require,module,exports){
var $=require("./$");module.exports=function(object,el){for(var key,O=$.toObject(object),keys=$.getKeys(O),length=keys.length,index=0;length>index;)if(O[key=keys[index++]]===el)return key};


},{"./$":31}],33:[function(require,module,exports){
module.exports=require("./$").hide;


},{"./$":31}],34:[function(require,module,exports){
var $=require("./$"),SHARED="__core-js_shared__",store=$.g[SHARED]||($.g[SHARED]={});module.exports=function(key){return store[key]||(store[key]={})};


},{"./$":31}],35:[function(require,module,exports){
var $=require("./$");module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String($.assertDefined(that)),i=$.toInteger(pos),l=s.length;return 0>i||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),55296>a||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}};


},{"./$":31}],36:[function(require,module,exports){
function uid(key){return"Symbol(".concat(void 0===key?"":key,")_",(++sid+Math.random()).toString(36))}var sid=0;uid.safe=require("./$").g.Symbol||uid,module.exports=uid;


},{"./$":31}],37:[function(require,module,exports){
module.exports=function(){};


},{}],38:[function(require,module,exports){
var global=require("./$").g,store=require("./$.shared")("wks");module.exports=function(name){return store[name]||(store[name]=global.Symbol&&global.Symbol[name]||require("./$.uid").safe("Symbol."+name))};


},{"./$":31,"./$.shared":34,"./$.uid":36}],39:[function(require,module,exports){
var core=require("./$").core,$iter=require("./$.iter");core.isIterable=$iter.is,core.getIterator=$iter.get;


},{"./$":31,"./$.iter":30}],40:[function(require,module,exports){
var $=require("./$"),ctx=require("./$.ctx"),$def=require("./$.def"),$iter=require("./$.iter"),call=require("./$.iter-call");$def($def.S+$def.F*!require("./$.iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=Object($.assertDefined(arrayLike)),mapfn=arguments[1],mapping=void 0!==mapfn,f=mapping?ctx(mapfn,arguments[2],2):void 0,index=0;if($iter.is(O))for(iterator=$iter.get(O),result=new("function"==typeof this?this:Array);!(step=iterator.next()).done;index++)result[index]=mapping?call(iterator,f,[step.value,index],!0):step.value;else for(result=new("function"==typeof this?this:Array)(length=$.toLength(O.length));length>index;index++)result[index]=mapping?f(O[index],index):O[index];return result.length=index,result}});


},{"./$":31,"./$.ctx":22,"./$.def":23,"./$.iter":30,"./$.iter-call":27,"./$.iter-detect":29}],41:[function(require,module,exports){
var $=require("./$"),setUnscope=require("./$.unscope"),ITER=require("./$.uid").safe("iter"),$iter=require("./$.iter"),step=$iter.step,Iterators=$iter.Iterators;require("./$.iter-define")(Array,"Array",function(iterated,kind){$.set(this,ITER,{o:$.toObject(iterated),i:0,k:kind})},function(){var iter=this[ITER],O=iter.o,kind=iter.k,index=iter.i++;return!O||index>=O.length?(iter.o=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,setUnscope("keys"),setUnscope("values"),setUnscope("entries");


},{"./$":31,"./$.iter":30,"./$.iter-define":28,"./$.uid":36,"./$.unscope":37}],42:[function(require,module,exports){
var $=require("./$"),$def=require("./$.def"),isObject=$.isObject,toObject=$.toObject;$.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(KEY,ID){var fn=($.core.Object||{})[KEY]||Object[KEY],forced=0,method={};method[KEY]=0==ID?function(it){return isObject(it)?fn(it):it}:1==ID?function(it){return isObject(it)?fn(it):it}:2==ID?function(it){return isObject(it)?fn(it):it}:3==ID?function(it){return isObject(it)?fn(it):!0}:4==ID?function(it){return isObject(it)?fn(it):!0}:5==ID?function(it){return isObject(it)?fn(it):!1}:6==ID?function(it,key){return fn(toObject(it),key)}:7==ID?function(it){return fn(Object($.assertDefined(it)))}:8==ID?function(it){return fn(toObject(it))}:require("./$.get-names").get;try{fn("z")}catch(e){forced=1}$def($def.S+$def.F*forced,"Object",method)});


},{"./$":31,"./$.def":23,"./$.get-names":26}],43:[function(require,module,exports){
var set=require("./$").set,$at=require("./$.string-at")(!0),ITER=require("./$.uid").safe("iter"),$iter=require("./$.iter"),step=$iter.step;require("./$.iter-define")(String,"String",function(iterated){set(this,ITER,{o:String(iterated),i:0})},function(){var point,iter=this[ITER],O=iter.o,index=iter.i;return index>=O.length?step(1):(point=$at(O,index),iter.i+=point.length,step(0,point))});


},{"./$":31,"./$.iter":30,"./$.iter-define":28,"./$.string-at":35,"./$.uid":36}],44:[function(require,module,exports){
"use strict";function wrap(tag){var sym=AllSymbols[tag]=$.set($create($Symbol.prototype),TAG,tag);return DESC&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:function(value){has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,desc(1,value))}}),sym}function defineProperty(it,key,D){return D&&has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=$create(D,{enumerable:desc(0,!1)})):(has(it,HIDDEN)||setDesc(it,HIDDEN,desc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):setDesc(it,key,D)}function defineProperties(it,P){assertObject(it);for(var key,keys=enumKeys(P=toObject(P)),i=0,l=keys.length;l>i;)defineProperty(it,key=keys[i++],P[key]);return it}function create(it,P){return void 0===P?$create(it):defineProperties($create(it),P)}function propertyIsEnumerable(key){var E=_propertyIsEnumerable.call(this,key);return E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key]?E:!0}function getOwnPropertyDescriptor(it,key){var D=getDesc(it=toObject(it),key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}function getOwnPropertyNames(it){for(var key,names=getNames(toObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||result.push(key);return result}function getOwnPropertySymbols(it){for(var key,names=getNames(toObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])&&result.push(AllSymbols[key]);return result}var $=require("./$"),setTag=require("./$.cof").set,uid=require("./$.uid"),shared=require("./$.shared"),$def=require("./$.def"),$redef=require("./$.redef"),keyOf=require("./$.keyof"),enumKeys=require("./$.enum-keys"),assertObject=require("./$.assert").obj,ObjectProto=Object.prototype,DESC=$.DESC,has=$.has,$create=$.create,getDesc=$.getDesc,setDesc=$.setDesc,desc=$.desc,$names=require("./$.get-names"),getNames=$names.get,toObject=$.toObject,$Symbol=$.g.Symbol,setter=!1,TAG=uid("tag"),HIDDEN=uid("hidden"),_propertyIsEnumerable={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),useNative=$.isFunction($Symbol),setSymbolDesc=DESC?function(){try{return $create(setDesc({},HIDDEN,{get:function(){return setDesc(this,HIDDEN,{value:!1})[HIDDEN]}}))[HIDDEN]||setDesc}catch(e){return function(it,key,D){var protoDesc=getDesc(ObjectProto,key);protoDesc&&delete ObjectProto[key],setDesc(it,key,D),protoDesc&&it!==ObjectProto&&setDesc(ObjectProto,key,protoDesc)}}}():setDesc;useNative||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");return wrap(uid(arguments[0]))},$redef($Symbol.prototype,"toString",function(){return this[TAG]}),$.create=create,$.setDesc=defineProperty,$.getDesc=getOwnPropertyDescriptor,$.setDescs=defineProperties,$.getNames=$names.get=getOwnPropertyNames,$.getSymbols=getOwnPropertySymbols,$.DESC&&$.FW&&$redef(ObjectProto,"propertyIsEnumerable",propertyIsEnumerable,!0));var symbolStatics={"for":function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(key){return keyOf(SymbolRegistry,key)},useSetter:function(){setter=!0},useSimple:function(){setter=!1}};$.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(it){var sym=require("./$.wks")(it);symbolStatics[it]=useNative?sym:wrap(sym)}),setter=!0,$def($def.G+$def.W,{Symbol:$Symbol}),$def($def.S,"Symbol",symbolStatics),$def($def.S+$def.F*!useNative,"Object",{create:create,defineProperty:defineProperty,defineProperties:defineProperties,getOwnPropertyDescriptor:getOwnPropertyDescriptor,getOwnPropertyNames:getOwnPropertyNames,getOwnPropertySymbols:getOwnPropertySymbols}),setTag($Symbol,"Symbol"),setTag(Math,"Math",!0),setTag($.g.JSON,"JSON",!0);


},{"./$":31,"./$.assert":20,"./$.cof":21,"./$.def":23,"./$.enum-keys":24,"./$.get-names":26,"./$.keyof":32,"./$.redef":33,"./$.shared":34,"./$.uid":36,"./$.wks":38}],45:[function(require,module,exports){
require("./es6.array.iterator");var $=require("./$"),Iterators=require("./$.iter").Iterators,ITERATOR=require("./$.wks")("iterator"),ArrayValues=Iterators.Array,NL=$.g.NodeList,HTC=$.g.HTMLCollection,NLProto=NL&&NL.prototype,HTCProto=HTC&&HTC.prototype;$.FW&&(!NL||ITERATOR in NLProto||$.hide(NLProto,ITERATOR,ArrayValues),!HTC||ITERATOR in HTCProto||$.hide(HTCProto,ITERATOR,ArrayValues)),Iterators.NodeList=Iterators.HTMLCollection=ArrayValues;


},{"./$":31,"./$.iter":30,"./$.wks":38,"./es6.array.iterator":41}],46:[function(require,module,exports){
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.Immutable=factory()}(this,function(){"use strict";function createClass(ctor,superClass){superClass&&(ctor.prototype=Object.create(superClass.prototype)),ctor.prototype.constructor=ctor}function MakeRef(ref){return ref.value=!1,ref}function SetRef(ref){ref&&(ref.value=!0)}function OwnerID(){}function arrCopy(arr,offset){offset=offset||0;for(var len=Math.max(0,arr.length-offset),newArr=new Array(len),ii=0;len>ii;ii++)newArr[ii]=arr[ii+offset];return newArr}function ensureSize(iter){return void 0===iter.size&&(iter.size=iter.__iterate(returnTrue)),iter.size}function wrapIndex(iter,index){return index>=0?+index:ensureSize(iter)+ +index}function returnTrue(){return!0}function wholeSlice(begin,end,size){return(0===begin||void 0!==size&&-size>=begin)&&(void 0===end||void 0!==size&&end>=size)}function resolveBegin(begin,size){return resolveIndex(begin,size,0)}function resolveEnd(end,size){return resolveIndex(end,size,size)}function resolveIndex(index,size,defaultIndex){return void 0===index?defaultIndex:0>index?Math.max(0,size+index):void 0===size?index:Math.min(size,index)}function Iterable(value){return isIterable(value)?value:Seq(value)}function KeyedIterable(value){return isKeyed(value)?value:KeyedSeq(value)}function IndexedIterable(value){return isIndexed(value)?value:IndexedSeq(value)}function SetIterable(value){return isIterable(value)&&!isAssociative(value)?value:SetSeq(value)}function isIterable(maybeIterable){return!(!maybeIterable||!maybeIterable[IS_ITERABLE_SENTINEL])}function isKeyed(maybeKeyed){return!(!maybeKeyed||!maybeKeyed[IS_KEYED_SENTINEL])}function isIndexed(maybeIndexed){return!(!maybeIndexed||!maybeIndexed[IS_INDEXED_SENTINEL])}function isAssociative(maybeAssociative){return isKeyed(maybeAssociative)||isIndexed(maybeAssociative)}function isOrdered(maybeOrdered){return!(!maybeOrdered||!maybeOrdered[IS_ORDERED_SENTINEL])}function src_Iterator__Iterator(next){this.next=next}function iteratorValue(type,k,v,iteratorResult){var value=0===type?k:1===type?v:[k,v];return iteratorResult?iteratorResult.value=value:iteratorResult={value:value,done:!1},iteratorResult}function iteratorDone(){return{value:void 0,done:!0}}function hasIterator(maybeIterable){return!!getIteratorFn(maybeIterable)}function isIterator(maybeIterator){return maybeIterator&&"function"==typeof maybeIterator.next}function getIterator(iterable){var iteratorFn=getIteratorFn(iterable);return iteratorFn&&iteratorFn.call(iterable)}function getIteratorFn(iterable){var iteratorFn=iterable&&(REAL_ITERATOR_SYMBOL&&iterable[REAL_ITERATOR_SYMBOL]||iterable[FAUX_ITERATOR_SYMBOL]);return"function"==typeof iteratorFn?iteratorFn:void 0}function isArrayLike(value){return value&&"number"==typeof value.length}function Seq(value){return null===value||void 0===value?emptySequence():isIterable(value)?value.toSeq():seqFromValue(value)}function KeyedSeq(value){return null===value||void 0===value?emptySequence().toKeyedSeq():isIterable(value)?isKeyed(value)?value.toSeq():value.fromEntrySeq():keyedSeqFromValue(value)}function IndexedSeq(value){return null===value||void 0===value?emptySequence():isIterable(value)?isKeyed(value)?value.entrySeq():value.toIndexedSeq():indexedSeqFromValue(value)}function SetSeq(value){return(null===value||void 0===value?emptySequence():isIterable(value)?isKeyed(value)?value.entrySeq():value:indexedSeqFromValue(value)).toSetSeq()}function ArraySeq(array){this._array=array,this.size=array.length}function ObjectSeq(object){var keys=Object.keys(object);this._object=object,this._keys=keys,this.size=keys.length}function IterableSeq(iterable){this._iterable=iterable,this.size=iterable.length||iterable.size}function IteratorSeq(iterator){this._iterator=iterator,this._iteratorCache=[]}function isSeq(maybeSeq){return!(!maybeSeq||!maybeSeq[IS_SEQ_SENTINEL])}function emptySequence(){return EMPTY_SEQ||(EMPTY_SEQ=new ArraySeq([]))}function keyedSeqFromValue(value){var seq=Array.isArray(value)?new ArraySeq(value).fromEntrySeq():isIterator(value)?new IteratorSeq(value).fromEntrySeq():hasIterator(value)?new IterableSeq(value).fromEntrySeq():"object"==typeof value?new ObjectSeq(value):void 0;if(!seq)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+value);return seq}function indexedSeqFromValue(value){var seq=maybeIndexedSeqFromValue(value);if(!seq)throw new TypeError("Expected Array or iterable object of values: "+value);return seq}function seqFromValue(value){var seq=maybeIndexedSeqFromValue(value)||"object"==typeof value&&new ObjectSeq(value);if(!seq)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+value);return seq}function maybeIndexedSeqFromValue(value){return isArrayLike(value)?new ArraySeq(value):isIterator(value)?new IteratorSeq(value):hasIterator(value)?new IterableSeq(value):void 0}function seqIterate(seq,fn,reverse,useKeys){var cache=seq._cache;if(cache){for(var maxIndex=cache.length-1,ii=0;maxIndex>=ii;ii++){var entry=cache[reverse?maxIndex-ii:ii];if(fn(entry[1],useKeys?entry[0]:ii,seq)===!1)return ii+1}return ii}return seq.__iterateUncached(fn,reverse)}function seqIterator(seq,type,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1,ii=0;return new src_Iterator__Iterator(function(){var entry=cache[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,useKeys?entry[0]:ii-1,entry[1])})}return seq.__iteratorUncached(type,reverse)}function Collection(){throw TypeError("Abstract")}function KeyedCollection(){}function IndexedCollection(){}function SetCollection(){}function is(valueA,valueB){if(valueA===valueB||valueA!==valueA&&valueB!==valueB)return!0;if(!valueA||!valueB)return!1;if("function"==typeof valueA.valueOf&&"function"==typeof valueB.valueOf){if(valueA=valueA.valueOf(),valueB=valueB.valueOf(),valueA===valueB||valueA!==valueA&&valueB!==valueB)return!0;if(!valueA||!valueB)return!1}return"function"==typeof valueA.equals&&"function"==typeof valueB.equals&&valueA.equals(valueB)?!0:!1}function fromJS(json,converter){return converter?fromJSWith(converter,json,"",{"":json}):fromJSDefault(json)}function fromJSWith(converter,json,key,parentJSON){return Array.isArray(json)?converter.call(parentJSON,key,IndexedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)})):isPlainObj(json)?converter.call(parentJSON,key,KeyedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)})):json}function fromJSDefault(json){return Array.isArray(json)?IndexedSeq(json).map(fromJSDefault).toList():isPlainObj(json)?KeyedSeq(json).map(fromJSDefault).toMap():json}function isPlainObj(value){return value&&(value.constructor===Object||void 0===value.constructor)}function smi(i32){return i32>>>1&1073741824|3221225471&i32}function hash(o){if(o===!1||null===o||void 0===o)return 0;if("function"==typeof o.valueOf&&(o=o.valueOf(),o===!1||null===o||void 0===o))return 0;if(o===!0)return 1;var type=typeof o;if("number"===type){var h=0|o;for(h!==o&&(h^=4294967295*o);o>4294967295;)o/=4294967295,h^=o;return smi(h)}return"string"===type?o.length>STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(o):hashString(o):"function"==typeof o.hashCode?o.hashCode():hashJSObj(o)}function cachedHashString(string){var hash=stringHashCache[string];return void 0===hash&&(hash=hashString(string),STRING_HASH_CACHE_SIZE===STRING_HASH_CACHE_MAX_SIZE&&(STRING_HASH_CACHE_SIZE=0,stringHashCache={}),STRING_HASH_CACHE_SIZE++,stringHashCache[string]=hash),hash}function hashString(string){for(var hash=0,ii=0;ii<string.length;ii++)hash=31*hash+string.charCodeAt(ii)|0;return smi(hash)}function hashJSObj(obj){var hash;if(usingWeakMap&&(hash=weakMap.get(obj),void 0!==hash))return hash;if(hash=obj[UID_HASH_KEY],void 0!==hash)return hash;if(!canDefineProperty){if(hash=obj.propertyIsEnumerable&&obj.propertyIsEnumerable[UID_HASH_KEY],void 0!==hash)return hash;if(hash=getIENodeHash(obj),void 0!==hash)return hash}if(hash=++objHashUID,1073741824&objHashUID&&(objHashUID=0),usingWeakMap)weakMap.set(obj,hash);else{if(void 0!==isExtensible&&isExtensible(obj)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(canDefineProperty)Object.defineProperty(obj,UID_HASH_KEY,{enumerable:!1,configurable:!1,writable:!1,value:hash});else if(void 0!==obj.propertyIsEnumerable&&obj.propertyIsEnumerable===obj.constructor.prototype.propertyIsEnumerable)obj.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},obj.propertyIsEnumerable[UID_HASH_KEY]=hash;else{if(void 0===obj.nodeType)throw new Error("Unable to set a non-enumerable property on object.");obj[UID_HASH_KEY]=hash}}return hash}function getIENodeHash(node){if(node&&node.nodeType>0)switch(node.nodeType){case 1:return node.uniqueID;case 9:return node.documentElement&&node.documentElement.uniqueID}}function invariant(condition,error){if(!condition)throw new Error(error)}function assertNotInfinite(size){invariant(size!==1/0,"Cannot perform this action with an infinite size.")}function ToKeyedSequence(indexed,useKeys){this._iter=indexed,this._useKeys=useKeys,this.size=indexed.size}function ToIndexedSequence(iter){this._iter=iter,this.size=iter.size}function ToSetSequence(iter){this._iter=iter,this.size=iter.size}function FromEntriesSequence(entries){this._iter=entries,this.size=entries.size}function flipFactory(iterable){var flipSequence=makeSequence(iterable);return flipSequence._iter=iterable,flipSequence.size=iterable.size,flipSequence.flip=function(){return iterable},flipSequence.reverse=function(){var reversedSequence=iterable.reverse.apply(this);return reversedSequence.flip=function(){return iterable.reverse()},reversedSequence},flipSequence.has=function(key){return iterable.includes(key)},flipSequence.includes=function(key){return iterable.has(key)},flipSequence.cacheResult=cacheResultThrough,flipSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(k,v,this$0)!==!1},reverse)},flipSequence.__iteratorUncached=function(type,reverse){if(type===ITERATE_ENTRIES){var iterator=iterable.__iterator(type,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();if(!step.done){var k=step.value[0];step.value[0]=step.value[1],step.value[1]=k}return step})}return iterable.__iterator(type===ITERATE_VALUES?ITERATE_KEYS:ITERATE_VALUES,reverse)},flipSequence}function mapFactory(iterable,mapper,context){var mappedSequence=makeSequence(iterable);return mappedSequence.size=iterable.size,mappedSequence.has=function(key){return iterable.has(key)},mappedSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v===NOT_SET?notSetValue:mapper.call(context,v,key,iterable)},mappedSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k,c){return fn(mapper.call(context,v,k,c),k,this$0)!==!1},reverse)},mappedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();if(step.done)return step;var entry=step.value,key=entry[0];return iteratorValue(type,key,mapper.call(context,entry[1],key,iterable),step)})},mappedSequence}function reverseFactory(iterable,useKeys){var reversedSequence=makeSequence(iterable);return reversedSequence._iter=iterable,reversedSequence.size=iterable.size,reversedSequence.reverse=function(){return iterable},iterable.flip&&(reversedSequence.flip=function(){var flipSequence=flipFactory(iterable);return flipSequence.reverse=function(){return iterable.flip()},flipSequence}),reversedSequence.get=function(key,notSetValue){return iterable.get(useKeys?key:-1-key,notSetValue)},reversedSequence.has=function(key){return iterable.has(useKeys?key:-1-key)},reversedSequence.includes=function(value){return iterable.includes(value)},reversedSequence.cacheResult=cacheResultThrough,reversedSequence.__iterate=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(v,k,this$0)},!reverse)},reversedSequence.__iterator=function(type,reverse){return iterable.__iterator(type,!reverse)},reversedSequence}function filterFactory(iterable,predicate,context,useKeys){var filterSequence=makeSequence(iterable);return useKeys&&(filterSequence.has=function(key){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&!!predicate.call(context,v,key,iterable)},filterSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&predicate.call(context,v,key,iterable)?v:notSetValue}),filterSequence.__iterateUncached=function(fn,reverse){var this$0=this,iterations=0;return iterable.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?(iterations++,fn(v,useKeys?k:iterations-1,this$0)):void 0},reverse),iterations},filterSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),iterations=0;return new src_Iterator__Iterator(function(){for(;;){var step=iterator.next();if(step.done)return step;var entry=step.value,key=entry[0],value=entry[1];if(predicate.call(context,value,key,iterable))return iteratorValue(type,useKeys?key:iterations++,value,step)}})},filterSequence}function countByFactory(iterable,grouper,context){var groups=src_Map__Map().asMutable();return iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),0,function(a){return a+1})}),groups.asImmutable()}function groupByFactory(iterable,grouper,context){var isKeyedIter=isKeyed(iterable),groups=(isOrdered(iterable)?OrderedMap():src_Map__Map()).asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),function(a){return a=a||[],a.push(isKeyedIter?[k,v]:v),a})});var coerce=iterableClass(iterable);return groups.map(function(arr){return reify(iterable,coerce(arr))})}function sliceFactory(iterable,begin,end,useKeys){var originalSize=iterable.size;if(wholeSlice(begin,end,originalSize))return iterable;var resolvedBegin=resolveBegin(begin,originalSize),resolvedEnd=resolveEnd(end,originalSize);if(resolvedBegin!==resolvedBegin||resolvedEnd!==resolvedEnd)return sliceFactory(iterable.toSeq().cacheResult(),begin,end,useKeys);var sliceSize,resolvedSize=resolvedEnd-resolvedBegin;resolvedSize===resolvedSize&&(sliceSize=0>resolvedSize?0:resolvedSize);var sliceSeq=makeSequence(iterable);return sliceSeq.size=sliceSize,!useKeys&&isSeq(iterable)&&sliceSize>=0&&(sliceSeq.get=function(index,notSetValue){return index=wrapIndex(this,index),index>=0&&sliceSize>index?iterable.get(index+resolvedBegin,notSetValue):notSetValue}),sliceSeq.__iterateUncached=function(fn,reverse){var this$0=this;if(0===sliceSize)return 0;if(reverse)return this.cacheResult().__iterate(fn,reverse);var skipped=0,isSkipping=!0,iterations=0;return iterable.__iterate(function(v,k){return isSkipping&&(isSkipping=skipped++<resolvedBegin)?void 0:(iterations++,fn(v,useKeys?k:iterations-1,this$0)!==!1&&iterations!==sliceSize)}),iterations},sliceSeq.__iteratorUncached=function(type,reverse){if(0!==sliceSize&&reverse)return this.cacheResult().__iterator(type,reverse);var iterator=0!==sliceSize&&iterable.__iterator(type,reverse),skipped=0,iterations=0;return new src_Iterator__Iterator(function(){for(;skipped++<resolvedBegin;)iterator.next();if(++iterations>sliceSize)return iteratorDone();var step=iterator.next();return useKeys||type===ITERATE_VALUES?step:type===ITERATE_KEYS?iteratorValue(type,iterations-1,void 0,step):iteratorValue(type,iterations-1,step.value[1],step)})},sliceSeq}function takeWhileFactory(iterable,predicate,context){var takeSequence=makeSequence(iterable);return takeSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterate(fn,reverse);var iterations=0;return iterable.__iterate(function(v,k,c){return predicate.call(context,v,k,c)&&++iterations&&fn(v,k,this$0)}),iterations},takeSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),iterating=!0;return new src_Iterator__Iterator(function(){if(!iterating)return iteratorDone();var step=iterator.next();if(step.done)return step;var entry=step.value,k=entry[0],v=entry[1];return predicate.call(context,v,k,this$0)?type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step):(iterating=!1,iteratorDone())})},takeSequence}function skipWhileFactory(iterable,predicate,context,useKeys){var skipSequence=makeSequence(iterable);return skipSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterate(fn,reverse);var isSkipping=!0,iterations=0;return iterable.__iterate(function(v,k,c){return isSkipping&&(isSkipping=predicate.call(context,v,k,c))?void 0:(iterations++,fn(v,useKeys?k:iterations-1,this$0))}),iterations},skipSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),skipping=!0,iterations=0;return new src_Iterator__Iterator(function(){var step,k,v;do{if(step=iterator.next(),step.done)return useKeys||type===ITERATE_VALUES?step:type===ITERATE_KEYS?iteratorValue(type,iterations++,void 0,step):iteratorValue(type,iterations++,step.value[1],step);var entry=step.value;k=entry[0],v=entry[1],skipping&&(skipping=predicate.call(context,v,k,this$0))}while(skipping);return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step)})},skipSequence}function concatFactory(iterable,values){var isKeyedIterable=isKeyed(iterable),iters=[iterable].concat(values).map(function(v){return isIterable(v)?isKeyedIterable&&(v=KeyedIterable(v)):v=isKeyedIterable?keyedSeqFromValue(v):indexedSeqFromValue(Array.isArray(v)?v:[v]),v}).filter(function(v){return 0!==v.size});if(0===iters.length)return iterable;if(1===iters.length){var singleton=iters[0];if(singleton===iterable||isKeyedIterable&&isKeyed(singleton)||isIndexed(iterable)&&isIndexed(singleton))return singleton}var concatSeq=new ArraySeq(iters);return isKeyedIterable?concatSeq=concatSeq.toKeyedSeq():isIndexed(iterable)||(concatSeq=concatSeq.toSetSeq()),concatSeq=concatSeq.flatten(!0),concatSeq.size=iters.reduce(function(sum,seq){if(void 0!==sum){var size=seq.size;if(void 0!==size)return sum+size}},0),concatSeq}function flattenFactory(iterable,depth,useKeys){var flatSequence=makeSequence(iterable);return flatSequence.__iterateUncached=function(fn,reverse){function flatDeep(iter,currentDepth){var this$0=this;iter.__iterate(function(v,k){return(!depth||depth>currentDepth)&&isIterable(v)?flatDeep(v,currentDepth+1):fn(v,useKeys?k:iterations++,this$0)===!1&&(stopped=!0),!stopped},reverse)}var iterations=0,stopped=!1;return flatDeep(iterable,0),iterations},flatSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(type,reverse),stack=[],iterations=0;return new src_Iterator__Iterator(function(){for(;iterator;){var step=iterator.next();if(step.done===!1){var v=step.value;if(type===ITERATE_ENTRIES&&(v=v[1]),depth&&!(stack.length<depth)||!isIterable(v))return useKeys?step:iteratorValue(type,iterations++,v,step);stack.push(iterator),iterator=v.__iterator(type,reverse)}else iterator=stack.pop()}return iteratorDone()})},flatSequence}function flatMapFactory(iterable,mapper,context){var coerce=iterableClass(iterable);return iterable.toSeq().map(function(v,k){return coerce(mapper.call(context,v,k,iterable))}).flatten(!0)}function interposeFactory(iterable,separator){var interposedSequence=makeSequence(iterable);return interposedSequence.size=iterable.size&&2*iterable.size-1,interposedSequence.__iterateUncached=function(fn,reverse){var this$0=this,iterations=0;return iterable.__iterate(function(v,k){return(!iterations||fn(separator,iterations++,this$0)!==!1)&&fn(v,iterations++,this$0)!==!1},reverse),iterations},interposedSequence.__iteratorUncached=function(type,reverse){var step,iterator=iterable.__iterator(ITERATE_VALUES,reverse),iterations=0;return new src_Iterator__Iterator(function(){return(!step||iterations%2)&&(step=iterator.next(),step.done)?step:iterations%2?iteratorValue(type,iterations++,separator):iteratorValue(type,iterations++,step.value,step)})},interposedSequence}function sortFactory(iterable,comparator,mapper){comparator||(comparator=defaultComparator);var isKeyedIterable=isKeyed(iterable),index=0,entries=iterable.toSeq().map(function(v,k){return[k,v,index++,mapper?mapper(v,k,iterable):v]}).toArray();return entries.sort(function(a,b){return comparator(a[3],b[3])||a[2]-b[2]}).forEach(isKeyedIterable?function(v,i){entries[i].length=2}:function(v,i){entries[i]=v[1]}),isKeyedIterable?KeyedSeq(entries):isIndexed(iterable)?IndexedSeq(entries):SetSeq(entries)}function maxFactory(iterable,comparator,mapper){if(comparator||(comparator=defaultComparator),mapper){var entry=iterable.toSeq().map(function(v,k){return[v,mapper(v,k,iterable)]}).reduce(function(a,b){return maxCompare(comparator,a[1],b[1])?b:a});return entry&&entry[0]}return iterable.reduce(function(a,b){return maxCompare(comparator,a,b)?b:a})}function maxCompare(comparator,a,b){var comp=comparator(b,a);return 0===comp&&b!==a&&(void 0===b||null===b||b!==b)||comp>0}function zipWithFactory(keyIter,zipper,iters){var zipSequence=makeSequence(keyIter);return zipSequence.size=new ArraySeq(iters).map(function(i){return i.size}).min(),zipSequence.__iterate=function(fn,reverse){for(var step,iterator=this.__iterator(ITERATE_VALUES,reverse),iterations=0;!(step=iterator.next()).done&&fn(step.value,iterations++,this)!==!1;);return iterations},zipSequence.__iteratorUncached=function(type,reverse){var iterators=iters.map(function(i){return i=Iterable(i),getIterator(reverse?i.reverse():i)}),iterations=0,isDone=!1;return new src_Iterator__Iterator(function(){var steps;return isDone||(steps=iterators.map(function(i){return i.next()}),isDone=steps.some(function(s){return s.done})),isDone?iteratorDone():iteratorValue(type,iterations++,zipper.apply(null,steps.map(function(s){return s.value})))})},zipSequence}function reify(iter,seq){return isSeq(iter)?seq:iter.constructor(seq)}function validateEntry(entry){if(entry!==Object(entry))throw new TypeError("Expected [K, V] tuple: "+entry)}function resolveSize(iter){return assertNotInfinite(iter.size),ensureSize(iter)}function iterableClass(iterable){return isKeyed(iterable)?KeyedIterable:isIndexed(iterable)?IndexedIterable:SetIterable}function makeSequence(iterable){return Object.create((isKeyed(iterable)?KeyedSeq:isIndexed(iterable)?IndexedSeq:SetSeq).prototype)}function cacheResultThrough(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Seq.prototype.cacheResult.call(this)}function defaultComparator(a,b){return a>b?1:b>a?-1:0}function forceIterator(keyPath){var iter=getIterator(keyPath);if(!iter){if(!isArrayLike(keyPath))throw new TypeError("Expected iterable or array-like: "+keyPath);iter=getIterator(Iterable(keyPath))}return iter}function src_Map__Map(value){return null===value||void 0===value?emptyMap():isMap(value)?value:emptyMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v,k){return map.set(k,v)})})}function isMap(maybeMap){return!(!maybeMap||!maybeMap[IS_MAP_SENTINEL])}function ArrayMapNode(ownerID,entries){this.ownerID=ownerID,this.entries=entries}function BitmapIndexedNode(ownerID,bitmap,nodes){this.ownerID=ownerID,this.bitmap=bitmap,this.nodes=nodes}function HashArrayMapNode(ownerID,count,nodes){this.ownerID=ownerID,this.count=count,this.nodes=nodes}function HashCollisionNode(ownerID,keyHash,entries){this.ownerID=ownerID,this.keyHash=keyHash,this.entries=entries}function ValueNode(ownerID,keyHash,entry){this.ownerID=ownerID,this.keyHash=keyHash,this.entry=entry}function MapIterator(map,type,reverse){this._type=type,this._reverse=reverse,this._stack=map._root&&mapIteratorFrame(map._root)}function mapIteratorValue(type,entry){return iteratorValue(type,entry[0],entry[1])}function mapIteratorFrame(node,prev){return{node:node,index:0,__prev:prev}}function makeMap(size,root,ownerID,hash){var map=Object.create(MapPrototype);return map.size=size,map._root=root,map.__ownerID=ownerID,map.__hash=hash,map.__altered=!1,map}function emptyMap(){return EMPTY_MAP||(EMPTY_MAP=makeMap(0))}function updateMap(map,k,v){var newRoot,newSize;if(map._root){var didChangeSize=MakeRef(CHANGE_LENGTH),didAlter=MakeRef(DID_ALTER);if(newRoot=updateNode(map._root,map.__ownerID,0,void 0,k,v,didChangeSize,didAlter),!didAlter.value)return map;newSize=map.size+(didChangeSize.value?v===NOT_SET?-1:1:0)}else{if(v===NOT_SET)return map;newSize=1,newRoot=new ArrayMapNode(map.__ownerID,[[k,v]])}return map.__ownerID?(map.size=newSize,map._root=newRoot,map.__hash=void 0,map.__altered=!0,map):newRoot?makeMap(newSize,newRoot):emptyMap()}function updateNode(node,ownerID,shift,keyHash,key,value,didChangeSize,didAlter){return node?node.update(ownerID,shift,keyHash,key,value,didChangeSize,didAlter):value===NOT_SET?node:(SetRef(didAlter),SetRef(didChangeSize),new ValueNode(ownerID,keyHash,[key,value]))}function isLeafNode(node){return node.constructor===ValueNode||node.constructor===HashCollisionNode}function mergeIntoNode(node,ownerID,shift,keyHash,entry){if(node.keyHash===keyHash)return new HashCollisionNode(ownerID,keyHash,[node.entry,entry]);var newNode,idx1=(0===shift?node.keyHash:node.keyHash>>>shift)&MASK,idx2=(0===shift?keyHash:keyHash>>>shift)&MASK,nodes=idx1===idx2?[mergeIntoNode(node,ownerID,shift+SHIFT,keyHash,entry)]:(newNode=new ValueNode(ownerID,keyHash,entry),idx2>idx1?[node,newNode]:[newNode,node]);return new BitmapIndexedNode(ownerID,1<<idx1|1<<idx2,nodes)}function createNodes(ownerID,entries,key,value){ownerID||(ownerID=new OwnerID);for(var node=new ValueNode(ownerID,hash(key),[key,value]),ii=0;ii<entries.length;ii++){var entry=entries[ii];node=node.update(ownerID,0,void 0,entry[0],entry[1])}return node}function packNodes(ownerID,nodes,count,excluding){for(var bitmap=0,packedII=0,packedNodes=new Array(count),ii=0,bit=1,len=nodes.length;len>ii;ii++,bit<<=1){var node=nodes[ii];void 0!==node&&ii!==excluding&&(bitmap|=bit,packedNodes[packedII++]=node)}return new BitmapIndexedNode(ownerID,bitmap,packedNodes)}function expandNodes(ownerID,nodes,bitmap,including,node){for(var count=0,expandedNodes=new Array(SIZE),ii=0;0!==bitmap;ii++,bitmap>>>=1)expandedNodes[ii]=1&bitmap?nodes[count++]:void 0;return expandedNodes[including]=node,new HashArrayMapNode(ownerID,count+1,expandedNodes)}function mergeIntoMapWith(map,merger,iterables){for(var iters=[],ii=0;ii<iterables.length;ii++){var value=iterables[ii],iter=KeyedIterable(value);isIterable(value)||(iter=iter.map(function(v){return fromJS(v)})),iters.push(iter)}return mergeIntoCollectionWith(map,merger,iters)}function deepMerger(merger){return function(existing,value,key){return existing&&existing.mergeDeepWith&&isIterable(value)?existing.mergeDeepWith(merger,value):merger?merger(existing,value,key):value}}function mergeIntoCollectionWith(collection,merger,iters){return iters=iters.filter(function(x){return 0!==x.size}),0===iters.length?collection:0!==collection.size||collection.__ownerID||1!==iters.length?collection.withMutations(function(collection){for(var mergeIntoMap=merger?function(value,key){collection.update(key,NOT_SET,function(existing){return existing===NOT_SET?value:merger(existing,value,key)})}:function(value,key){collection.set(key,value)},ii=0;ii<iters.length;ii++)iters[ii].forEach(mergeIntoMap)}):collection.constructor(iters[0])}function updateInDeepMap(existing,keyPathIter,notSetValue,updater){var isNotSet=existing===NOT_SET,step=keyPathIter.next();if(step.done){var existingValue=isNotSet?notSetValue:existing,newValue=updater(existingValue);return newValue===existingValue?existing:newValue}invariant(isNotSet||existing&&existing.set,"invalid keyPath");var key=step.value,nextExisting=isNotSet?NOT_SET:existing.get(key,NOT_SET),nextUpdated=updateInDeepMap(nextExisting,keyPathIter,notSetValue,updater);return nextUpdated===nextExisting?existing:nextUpdated===NOT_SET?existing.remove(key):(isNotSet?emptyMap():existing).set(key,nextUpdated)}function popCount(x){return x-=x>>1&1431655765,x=(858993459&x)+(x>>2&858993459),x=x+(x>>4)&252645135,x+=x>>8,x+=x>>16,127&x}function setIn(array,idx,val,canEdit){var newArray=canEdit?array:arrCopy(array);return newArray[idx]=val,newArray}function spliceIn(array,idx,val,canEdit){var newLen=array.length+1;if(canEdit&&idx+1===newLen)return array[idx]=val,array;for(var newArray=new Array(newLen),after=0,ii=0;newLen>ii;ii++)ii===idx?(newArray[ii]=val,after=-1):newArray[ii]=array[ii+after];return newArray}function spliceOut(array,idx,canEdit){var newLen=array.length-1;if(canEdit&&idx===newLen)return array.pop(),array;for(var newArray=new Array(newLen),after=0,ii=0;newLen>ii;ii++)ii===idx&&(after=1),newArray[ii]=array[ii+after];return newArray}function List(value){var empty=emptyList();if(null===value||void 0===value)return empty;if(isList(value))return value;var iter=IndexedIterable(value),size=iter.size;return 0===size?empty:(assertNotInfinite(size),size>0&&SIZE>size?makeList(0,size,SHIFT,null,new VNode(iter.toArray())):empty.withMutations(function(list){list.setSize(size),iter.forEach(function(v,i){return list.set(i,v)})}))}function isList(maybeList){return!(!maybeList||!maybeList[IS_LIST_SENTINEL])}function VNode(array,ownerID){this.array=array,this.ownerID=ownerID}function iterateList(list,reverse){function iterateNodeOrLeaf(node,level,offset){return 0===level?iterateLeaf(node,offset):iterateNode(node,level,offset)}function iterateLeaf(node,offset){var array=offset===tailPos?tail&&tail.array:node&&node.array,from=offset>left?0:left-offset,to=right-offset;return to>SIZE&&(to=SIZE),function(){if(from===to)return DONE;var idx=reverse?--to:from++;return array&&array[idx]}}function iterateNode(node,level,offset){var values,array=node&&node.array,from=offset>left?0:left-offset>>level,to=(right-offset>>level)+1;return to>SIZE&&(to=SIZE),function(){for(;;){if(values){var value=values();if(value!==DONE)return value;values=null}if(from===to)return DONE;var idx=reverse?--to:from++;values=iterateNodeOrLeaf(array&&array[idx],level-SHIFT,offset+(idx<<level))}}}var left=list._origin,right=list._capacity,tailPos=getTailOffset(right),tail=list._tail;return iterateNodeOrLeaf(list._root,list._level,0)}function makeList(origin,capacity,level,root,tail,ownerID,hash){var list=Object.create(ListPrototype);return list.size=capacity-origin,list._origin=origin,list._capacity=capacity,list._level=level,list._root=root,list._tail=tail,list.__ownerID=ownerID,list.__hash=hash,list.__altered=!1,list}function emptyList(){return EMPTY_LIST||(EMPTY_LIST=makeList(0,0,SHIFT))}function updateList(list,index,value){if(index=wrapIndex(list,index),index>=list.size||0>index)return list.withMutations(function(list){0>index?setListBounds(list,index).set(0,value):setListBounds(list,0,index+1).set(index,value)});index+=list._origin;var newTail=list._tail,newRoot=list._root,didAlter=MakeRef(DID_ALTER);return index>=getTailOffset(list._capacity)?newTail=updateVNode(newTail,list.__ownerID,0,index,value,didAlter):newRoot=updateVNode(newRoot,list.__ownerID,list._level,index,value,didAlter),didAlter.value?list.__ownerID?(list._root=newRoot,list._tail=newTail,list.__hash=void 0,list.__altered=!0,list):makeList(list._origin,list._capacity,list._level,newRoot,newTail):list}function updateVNode(node,ownerID,level,index,value,didAlter){var idx=index>>>level&MASK,nodeHas=node&&idx<node.array.length;if(!nodeHas&&void 0===value)return node;var newNode;if(level>0){var lowerNode=node&&node.array[idx],newLowerNode=updateVNode(lowerNode,ownerID,level-SHIFT,index,value,didAlter);return newLowerNode===lowerNode?node:(newNode=editableVNode(node,ownerID),newNode.array[idx]=newLowerNode,
newNode)}return nodeHas&&node.array[idx]===value?node:(SetRef(didAlter),newNode=editableVNode(node,ownerID),void 0===value&&idx===newNode.array.length-1?newNode.array.pop():newNode.array[idx]=value,newNode)}function editableVNode(node,ownerID){return ownerID&&node&&ownerID===node.ownerID?node:new VNode(node?node.array.slice():[],ownerID)}function listNodeFor(list,rawIndex){if(rawIndex>=getTailOffset(list._capacity))return list._tail;if(rawIndex<1<<list._level+SHIFT){for(var node=list._root,level=list._level;node&&level>0;)node=node.array[rawIndex>>>level&MASK],level-=SHIFT;return node}}function setListBounds(list,begin,end){var owner=list.__ownerID||new OwnerID,oldOrigin=list._origin,oldCapacity=list._capacity,newOrigin=oldOrigin+begin,newCapacity=void 0===end?oldCapacity:0>end?oldCapacity+end:oldOrigin+end;if(newOrigin===oldOrigin&&newCapacity===oldCapacity)return list;if(newOrigin>=newCapacity)return list.clear();for(var newLevel=list._level,newRoot=list._root,offsetShift=0;0>newOrigin+offsetShift;)newRoot=new VNode(newRoot&&newRoot.array.length?[void 0,newRoot]:[],owner),newLevel+=SHIFT,offsetShift+=1<<newLevel;offsetShift&&(newOrigin+=offsetShift,oldOrigin+=offsetShift,newCapacity+=offsetShift,oldCapacity+=offsetShift);for(var oldTailOffset=getTailOffset(oldCapacity),newTailOffset=getTailOffset(newCapacity);newTailOffset>=1<<newLevel+SHIFT;)newRoot=new VNode(newRoot&&newRoot.array.length?[newRoot]:[],owner),newLevel+=SHIFT;var oldTail=list._tail,newTail=oldTailOffset>newTailOffset?listNodeFor(list,newCapacity-1):newTailOffset>oldTailOffset?new VNode([],owner):oldTail;if(oldTail&&newTailOffset>oldTailOffset&&oldCapacity>newOrigin&&oldTail.array.length){newRoot=editableVNode(newRoot,owner);for(var node=newRoot,level=newLevel;level>SHIFT;level-=SHIFT){var idx=oldTailOffset>>>level&MASK;node=node.array[idx]=editableVNode(node.array[idx],owner)}node.array[oldTailOffset>>>SHIFT&MASK]=oldTail}if(oldCapacity>newCapacity&&(newTail=newTail&&newTail.removeAfter(owner,0,newCapacity)),newOrigin>=newTailOffset)newOrigin-=newTailOffset,newCapacity-=newTailOffset,newLevel=SHIFT,newRoot=null,newTail=newTail&&newTail.removeBefore(owner,0,newOrigin);else if(newOrigin>oldOrigin||oldTailOffset>newTailOffset){for(offsetShift=0;newRoot;){var beginIndex=newOrigin>>>newLevel&MASK;if(beginIndex!==newTailOffset>>>newLevel&MASK)break;beginIndex&&(offsetShift+=(1<<newLevel)*beginIndex),newLevel-=SHIFT,newRoot=newRoot.array[beginIndex]}newRoot&&newOrigin>oldOrigin&&(newRoot=newRoot.removeBefore(owner,newLevel,newOrigin-offsetShift)),newRoot&&oldTailOffset>newTailOffset&&(newRoot=newRoot.removeAfter(owner,newLevel,newTailOffset-offsetShift)),offsetShift&&(newOrigin-=offsetShift,newCapacity-=offsetShift)}return list.__ownerID?(list.size=newCapacity-newOrigin,list._origin=newOrigin,list._capacity=newCapacity,list._level=newLevel,list._root=newRoot,list._tail=newTail,list.__hash=void 0,list.__altered=!0,list):makeList(newOrigin,newCapacity,newLevel,newRoot,newTail)}function mergeIntoListWith(list,merger,iterables){for(var iters=[],maxSize=0,ii=0;ii<iterables.length;ii++){var value=iterables[ii],iter=IndexedIterable(value);iter.size>maxSize&&(maxSize=iter.size),isIterable(value)||(iter=iter.map(function(v){return fromJS(v)})),iters.push(iter)}return maxSize>list.size&&(list=list.setSize(maxSize)),mergeIntoCollectionWith(list,merger,iters)}function getTailOffset(size){return SIZE>size?0:size-1>>>SHIFT<<SHIFT}function OrderedMap(value){return null===value||void 0===value?emptyOrderedMap():isOrderedMap(value)?value:emptyOrderedMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v,k){return map.set(k,v)})})}function isOrderedMap(maybeOrderedMap){return isMap(maybeOrderedMap)&&isOrdered(maybeOrderedMap)}function makeOrderedMap(map,list,ownerID,hash){var omap=Object.create(OrderedMap.prototype);return omap.size=map?map.size:0,omap._map=map,omap._list=list,omap.__ownerID=ownerID,omap.__hash=hash,omap}function emptyOrderedMap(){return EMPTY_ORDERED_MAP||(EMPTY_ORDERED_MAP=makeOrderedMap(emptyMap(),emptyList()))}function updateOrderedMap(omap,k,v){var newMap,newList,map=omap._map,list=omap._list,i=map.get(k),has=void 0!==i;if(v===NOT_SET){if(!has)return omap;list.size>=SIZE&&list.size>=2*map.size?(newList=list.filter(function(entry,idx){return void 0!==entry&&i!==idx}),newMap=newList.toKeyedSeq().map(function(entry){return entry[0]}).flip().toMap(),omap.__ownerID&&(newMap.__ownerID=newList.__ownerID=omap.__ownerID)):(newMap=map.remove(k),newList=i===list.size-1?list.pop():list.set(i,void 0))}else if(has){if(v===list.get(i)[1])return omap;newMap=map,newList=list.set(i,[k,v])}else newMap=map.set(k,list.size),newList=list.set(list.size,[k,v]);return omap.__ownerID?(omap.size=newMap.size,omap._map=newMap,omap._list=newList,omap.__hash=void 0,omap):makeOrderedMap(newMap,newList)}function Stack(value){return null===value||void 0===value?emptyStack():isStack(value)?value:emptyStack().unshiftAll(value)}function isStack(maybeStack){return!(!maybeStack||!maybeStack[IS_STACK_SENTINEL])}function makeStack(size,head,ownerID,hash){var map=Object.create(StackPrototype);return map.size=size,map._head=head,map.__ownerID=ownerID,map.__hash=hash,map.__altered=!1,map}function emptyStack(){return EMPTY_STACK||(EMPTY_STACK=makeStack(0))}function src_Set__Set(value){return null===value||void 0===value?emptySet():isSet(value)?value:emptySet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v){return set.add(v)})})}function isSet(maybeSet){return!(!maybeSet||!maybeSet[IS_SET_SENTINEL])}function updateSet(set,newMap){return set.__ownerID?(set.size=newMap.size,set._map=newMap,set):newMap===set._map?set:0===newMap.size?set.__empty():set.__make(newMap)}function makeSet(map,ownerID){var set=Object.create(SetPrototype);return set.size=map?map.size:0,set._map=map,set.__ownerID=ownerID,set}function emptySet(){return EMPTY_SET||(EMPTY_SET=makeSet(emptyMap()))}function OrderedSet(value){return null===value||void 0===value?emptyOrderedSet():isOrderedSet(value)?value:emptyOrderedSet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v){return set.add(v)})})}function isOrderedSet(maybeOrderedSet){return isSet(maybeOrderedSet)&&isOrdered(maybeOrderedSet)}function makeOrderedSet(map,ownerID){var set=Object.create(OrderedSetPrototype);return set.size=map?map.size:0,set._map=map,set.__ownerID=ownerID,set}function emptyOrderedSet(){return EMPTY_ORDERED_SET||(EMPTY_ORDERED_SET=makeOrderedSet(emptyOrderedMap()))}function Record(defaultValues,name){var hasInitialized,RecordType=function(values){if(values instanceof RecordType)return values;if(!(this instanceof RecordType))return new RecordType(values);if(!hasInitialized){hasInitialized=!0;var keys=Object.keys(defaultValues);setProps(RecordTypePrototype,keys),RecordTypePrototype.size=keys.length,RecordTypePrototype._name=name,RecordTypePrototype._keys=keys,RecordTypePrototype._defaultValues=defaultValues}this._map=src_Map__Map(values)},RecordTypePrototype=RecordType.prototype=Object.create(RecordPrototype);return RecordTypePrototype.constructor=RecordType,RecordType}function makeRecord(likeRecord,map,ownerID){var record=Object.create(Object.getPrototypeOf(likeRecord));return record._map=map,record.__ownerID=ownerID,record}function recordName(record){return record._name||record.constructor.name||"Record"}function setProps(prototype,names){try{names.forEach(setProp.bind(void 0,prototype))}catch(error){}}function setProp(prototype,name){Object.defineProperty(prototype,name,{get:function(){return this.get(name)},set:function(value){invariant(this.__ownerID,"Cannot set on an immutable record."),this.set(name,value)}})}function deepEqual(a,b){if(a===b)return!0;if(!isIterable(b)||void 0!==a.size&&void 0!==b.size&&a.size!==b.size||void 0!==a.__hash&&void 0!==b.__hash&&a.__hash!==b.__hash||isKeyed(a)!==isKeyed(b)||isIndexed(a)!==isIndexed(b)||isOrdered(a)!==isOrdered(b))return!1;if(0===a.size&&0===b.size)return!0;var notAssociative=!isAssociative(a);if(isOrdered(a)){var entries=a.entries();return b.every(function(v,k){var entry=entries.next().value;return entry&&is(entry[1],v)&&(notAssociative||is(entry[0],k))})&&entries.next().done}var flipped=!1;if(void 0===a.size)if(void 0===b.size)"function"==typeof a.cacheResult&&a.cacheResult();else{flipped=!0;var _=a;a=b,b=_}var allEqual=!0,bSize=b.__iterate(function(v,k){return(notAssociative?a.has(v):flipped?is(v,a.get(k,NOT_SET)):is(a.get(k,NOT_SET),v))?void 0:(allEqual=!1,!1)});return allEqual&&a.size===bSize}function Range(start,end,step){if(!(this instanceof Range))return new Range(start,end,step);if(invariant(0!==step,"Cannot step a Range by 0"),start=start||0,void 0===end&&(end=1/0),step=void 0===step?1:Math.abs(step),start>end&&(step=-step),this._start=start,this._end=end,this._step=step,this.size=Math.max(0,Math.ceil((end-start)/step-1)+1),0===this.size){if(EMPTY_RANGE)return EMPTY_RANGE;EMPTY_RANGE=this}}function Repeat(value,times){if(!(this instanceof Repeat))return new Repeat(value,times);if(this._value=value,this.size=void 0===times?1/0:Math.max(0,times),0===this.size){if(EMPTY_REPEAT)return EMPTY_REPEAT;EMPTY_REPEAT=this}}function mixin(ctor,methods){var keyCopier=function(key){ctor.prototype[key]=methods[key]};return Object.keys(methods).forEach(keyCopier),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(methods).forEach(keyCopier),ctor}function keyMapper(v,k){return k}function entryMapper(v,k){return[k,v]}function not(predicate){return function(){return!predicate.apply(this,arguments)}}function neg(predicate){return function(){return-predicate.apply(this,arguments)}}function quoteString(value){return"string"==typeof value?JSON.stringify(value):value}function defaultZipper(){return arrCopy(arguments)}function defaultNegComparator(a,b){return b>a?1:a>b?-1:0}function hashIterable(iterable){if(iterable.size===1/0)return 0;var ordered=isOrdered(iterable),keyed=isKeyed(iterable),h=ordered?1:0,size=iterable.__iterate(keyed?ordered?function(v,k){h=31*h+hashMerge(hash(v),hash(k))|0}:function(v,k){h=h+hashMerge(hash(v),hash(k))|0}:ordered?function(v){h=31*h+hash(v)|0}:function(v){h=h+hash(v)|0});return murmurHashOfSize(size,h)}function murmurHashOfSize(size,h){return h=src_Math__imul(h,3432918353),h=src_Math__imul(h<<15|h>>>-15,461845907),h=src_Math__imul(h<<13|h>>>-13,5),h=(h+3864292196|0)^size,h=src_Math__imul(h^h>>>16,2246822507),h=src_Math__imul(h^h>>>13,3266489909),h=smi(h^h>>>16)}function hashMerge(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}var SLICE$0=Array.prototype.slice,DELETE="delete",SHIFT=5,SIZE=1<<SHIFT,MASK=SIZE-1,NOT_SET={},CHANGE_LENGTH={value:!1},DID_ALTER={value:!1};createClass(KeyedIterable,Iterable),createClass(IndexedIterable,Iterable),createClass(SetIterable,Iterable),Iterable.isIterable=isIterable,Iterable.isKeyed=isKeyed,Iterable.isIndexed=isIndexed,Iterable.isAssociative=isAssociative,Iterable.isOrdered=isOrdered,Iterable.Keyed=KeyedIterable,Iterable.Indexed=IndexedIterable,Iterable.Set=SetIterable;var IS_ITERABLE_SENTINEL="@@__IMMUTABLE_ITERABLE__@@",IS_KEYED_SENTINEL="@@__IMMUTABLE_KEYED__@@",IS_INDEXED_SENTINEL="@@__IMMUTABLE_INDEXED__@@",IS_ORDERED_SENTINEL="@@__IMMUTABLE_ORDERED__@@",ITERATE_KEYS=0,ITERATE_VALUES=1,ITERATE_ENTRIES=2,REAL_ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator",ITERATOR_SYMBOL=REAL_ITERATOR_SYMBOL||FAUX_ITERATOR_SYMBOL;src_Iterator__Iterator.prototype.toString=function(){return"[Iterator]"},src_Iterator__Iterator.KEYS=ITERATE_KEYS,src_Iterator__Iterator.VALUES=ITERATE_VALUES,src_Iterator__Iterator.ENTRIES=ITERATE_ENTRIES,src_Iterator__Iterator.prototype.inspect=src_Iterator__Iterator.prototype.toSource=function(){return this.toString()},src_Iterator__Iterator.prototype[ITERATOR_SYMBOL]=function(){return this},createClass(Seq,Iterable),Seq.of=function(){return Seq(arguments)},Seq.prototype.toSeq=function(){return this},Seq.prototype.toString=function(){return this.__toString("Seq {","}")},Seq.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Seq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,!0)},Seq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,!0)},createClass(KeyedSeq,Seq),KeyedSeq.prototype.toKeyedSeq=function(){return this},createClass(IndexedSeq,Seq),IndexedSeq.of=function(){return IndexedSeq(arguments)},IndexedSeq.prototype.toIndexedSeq=function(){return this},IndexedSeq.prototype.toString=function(){return this.__toString("Seq [","]")},IndexedSeq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,!1)},IndexedSeq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,!1)},createClass(SetSeq,Seq),SetSeq.of=function(){return SetSeq(arguments)},SetSeq.prototype.toSetSeq=function(){return this},Seq.isSeq=isSeq,Seq.Keyed=KeyedSeq,Seq.Set=SetSeq,Seq.Indexed=IndexedSeq;var IS_SEQ_SENTINEL="@@__IMMUTABLE_SEQ__@@";Seq.prototype[IS_SEQ_SENTINEL]=!0,createClass(ArraySeq,IndexedSeq),ArraySeq.prototype.get=function(index,notSetValue){return this.has(index)?this._array[wrapIndex(this,index)]:notSetValue},ArraySeq.prototype.__iterate=function(fn,reverse){for(var array=this._array,maxIndex=array.length-1,ii=0;maxIndex>=ii;ii++)if(fn(array[reverse?maxIndex-ii:ii],ii,this)===!1)return ii+1;return ii},ArraySeq.prototype.__iterator=function(type,reverse){var array=this._array,maxIndex=array.length-1,ii=0;return new src_Iterator__Iterator(function(){return ii>maxIndex?iteratorDone():iteratorValue(type,ii,array[reverse?maxIndex-ii++:ii++])})},createClass(ObjectSeq,KeyedSeq),ObjectSeq.prototype.get=function(key,notSetValue){return void 0===notSetValue||this.has(key)?this._object[key]:notSetValue},ObjectSeq.prototype.has=function(key){return this._object.hasOwnProperty(key)},ObjectSeq.prototype.__iterate=function(fn,reverse){for(var object=this._object,keys=this._keys,maxIndex=keys.length-1,ii=0;maxIndex>=ii;ii++){var key=keys[reverse?maxIndex-ii:ii];if(fn(object[key],key,this)===!1)return ii+1}return ii},ObjectSeq.prototype.__iterator=function(type,reverse){var object=this._object,keys=this._keys,maxIndex=keys.length-1,ii=0;return new src_Iterator__Iterator(function(){var key=keys[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,key,object[key])})},ObjectSeq.prototype[IS_ORDERED_SENTINEL]=!0,createClass(IterableSeq,IndexedSeq),IterableSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse)return this.cacheResult().__iterate(fn,reverse);var iterable=this._iterable,iterator=getIterator(iterable),iterations=0;if(isIterator(iterator))for(var step;!(step=iterator.next()).done&&fn(step.value,iterations++,this)!==!1;);return iterations},IterableSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse)return this.cacheResult().__iterator(type,reverse);var iterable=this._iterable,iterator=getIterator(iterable);if(!isIterator(iterator))return new src_Iterator__Iterator(iteratorDone);var iterations=0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value)})},createClass(IteratorSeq,IndexedSeq),IteratorSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse)return this.cacheResult().__iterate(fn,reverse);for(var iterator=this._iterator,cache=this._iteratorCache,iterations=0;iterations<cache.length;)if(fn(cache[iterations],iterations++,this)===!1)return iterations;for(var step;!(step=iterator.next()).done;){var val=step.value;if(cache[iterations]=val,fn(val,iterations++,this)===!1)break}return iterations},IteratorSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=this._iterator,cache=this._iteratorCache,iterations=0;return new src_Iterator__Iterator(function(){if(iterations>=cache.length){var step=iterator.next();if(step.done)return step;cache[iterations]=step.value}return iteratorValue(type,iterations,cache[iterations++])})};var EMPTY_SEQ;createClass(Collection,Iterable),createClass(KeyedCollection,Collection),createClass(IndexedCollection,Collection),createClass(SetCollection,Collection),Collection.Keyed=KeyedCollection,Collection.Indexed=IndexedCollection,Collection.Set=SetCollection;var weakMap,src_Math__imul="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(a,b){a=0|a,b=0|b;var c=65535&a,d=65535&b;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0},isExtensible=Object.isExtensible,canDefineProperty=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),usingWeakMap="function"==typeof WeakMap;usingWeakMap&&(weakMap=new WeakMap);var objHashUID=0,UID_HASH_KEY="__immutablehash__";"function"==typeof Symbol&&(UID_HASH_KEY=Symbol(UID_HASH_KEY));var STRING_HASH_CACHE_MIN_STRLEN=16,STRING_HASH_CACHE_MAX_SIZE=255,STRING_HASH_CACHE_SIZE=0,stringHashCache={};createClass(ToKeyedSequence,KeyedSeq),ToKeyedSequence.prototype.get=function(key,notSetValue){return this._iter.get(key,notSetValue)},ToKeyedSequence.prototype.has=function(key){return this._iter.has(key)},ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq()},ToKeyedSequence.prototype.reverse=function(){var this$0=this,reversedSequence=reverseFactory(this,!0);return this._useKeys||(reversedSequence.valueSeq=function(){return this$0._iter.toSeq().reverse()}),reversedSequence},ToKeyedSequence.prototype.map=function(mapper,context){var this$0=this,mappedSequence=mapFactory(this,mapper,context);return this._useKeys||(mappedSequence.valueSeq=function(){return this$0._iter.toSeq().map(mapper,context)}),mappedSequence},ToKeyedSequence.prototype.__iterate=function(fn,reverse){var ii,this$0=this;return this._iter.__iterate(this._useKeys?function(v,k){return fn(v,k,this$0)}:(ii=reverse?resolveSize(this):0,function(v){return fn(v,reverse?--ii:ii++,this$0)}),reverse)},ToKeyedSequence.prototype.__iterator=function(type,reverse){if(this._useKeys)return this._iter.__iterator(type,reverse);var iterator=this._iter.__iterator(ITERATE_VALUES,reverse),ii=reverse?resolveSize(this):0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,reverse?--ii:ii++,step.value,step)})},ToKeyedSequence.prototype[IS_ORDERED_SENTINEL]=!0,createClass(ToIndexedSequence,IndexedSeq),ToIndexedSequence.prototype.includes=function(value){return this._iter.includes(value)},ToIndexedSequence.prototype.__iterate=function(fn,reverse){var this$0=this,iterations=0;return this._iter.__iterate(function(v){return fn(v,iterations++,this$0)},reverse)},ToIndexedSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse),iterations=0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value,step)})},createClass(ToSetSequence,SetSeq),ToSetSequence.prototype.has=function(key){return this._iter.includes(key)},ToSetSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(v){return fn(v,v,this$0)},reverse)},ToSetSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,step.value,step.value,step)})},createClass(FromEntriesSequence,KeyedSeq),FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq()},FromEntriesSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(entry){if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return fn(indexedIterable?entry.get(1):entry[1],indexedIterable?entry.get(0):entry[0],this$0)}},reverse)},FromEntriesSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new src_Iterator__Iterator(function(){for(;;){var step=iterator.next();if(step.done)return step;var entry=step.value;if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return iteratorValue(type,indexedIterable?entry.get(0):entry[0],indexedIterable?entry.get(1):entry[1],step)}}})},ToIndexedSequence.prototype.cacheResult=ToKeyedSequence.prototype.cacheResult=ToSetSequence.prototype.cacheResult=FromEntriesSequence.prototype.cacheResult=cacheResultThrough,createClass(src_Map__Map,KeyedCollection),src_Map__Map.prototype.toString=function(){return this.__toString("Map {","}")},src_Map__Map.prototype.get=function(k,notSetValue){return this._root?this._root.get(0,void 0,k,notSetValue):notSetValue},src_Map__Map.prototype.set=function(k,v){return updateMap(this,k,v)},src_Map__Map.prototype.setIn=function(keyPath,v){return this.updateIn(keyPath,NOT_SET,function(){return v})},src_Map__Map.prototype.remove=function(k){return updateMap(this,k,NOT_SET)},src_Map__Map.prototype.deleteIn=function(keyPath){return this.updateIn(keyPath,function(){return NOT_SET})},src_Map__Map.prototype.update=function(k,notSetValue,updater){return 1===arguments.length?k(this):this.updateIn([k],notSetValue,updater)},src_Map__Map.prototype.updateIn=function(keyPath,notSetValue,updater){updater||(updater=notSetValue,notSetValue=void 0);var updatedValue=updateInDeepMap(this,forceIterator(keyPath),notSetValue,updater);return updatedValue===NOT_SET?void 0:updatedValue},src_Map__Map.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):emptyMap()},src_Map__Map.prototype.merge=function(){return mergeIntoMapWith(this,void 0,arguments)},src_Map__Map.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,merger,iters)},src_Map__Map.prototype.mergeIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return"function"==typeof m.merge?m.merge.apply(m,iters):iters[iters.length-1]})},src_Map__Map.prototype.mergeDeep=function(){return mergeIntoMapWith(this,deepMerger(void 0),arguments)},src_Map__Map.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,deepMerger(merger),iters)},src_Map__Map.prototype.mergeDeepIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return"function"==typeof m.mergeDeep?m.mergeDeep.apply(m,iters):iters[iters.length-1]})},src_Map__Map.prototype.sort=function(comparator){return OrderedMap(sortFactory(this,comparator))},src_Map__Map.prototype.sortBy=function(mapper,comparator){return OrderedMap(sortFactory(this,comparator,mapper))},src_Map__Map.prototype.withMutations=function(fn){var mutable=this.asMutable();return fn(mutable),mutable.wasAltered()?mutable.__ensureOwner(this.__ownerID):this},src_Map__Map.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID)},src_Map__Map.prototype.asImmutable=function(){return this.__ensureOwner()},src_Map__Map.prototype.wasAltered=function(){return this.__altered},src_Map__Map.prototype.__iterator=function(type,reverse){return new MapIterator(this,type,reverse)},src_Map__Map.prototype.__iterate=function(fn,reverse){var this$0=this,iterations=0;return this._root&&this._root.iterate(function(entry){return iterations++,fn(entry[1],entry[0],this$0)},reverse),iterations},src_Map__Map.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeMap(this.size,this._root,ownerID,this.__hash):(this.__ownerID=ownerID,this.__altered=!1,this)},src_Map__Map.isMap=isMap;var IS_MAP_SENTINEL="@@__IMMUTABLE_MAP__@@",MapPrototype=src_Map__Map.prototype;MapPrototype[IS_MAP_SENTINEL]=!0,MapPrototype[DELETE]=MapPrototype.remove,MapPrototype.removeIn=MapPrototype.deleteIn,ArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){for(var entries=this.entries,ii=0,len=entries.length;len>ii;ii++)if(is(key,entries[ii][0]))return entries[ii][1];return notSetValue},ArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){for(var removed=value===NOT_SET,entries=this.entries,idx=0,len=entries.length;len>idx&&!is(key,entries[idx][0]);idx++);var exists=len>idx;if(exists?entries[idx][1]===value:removed)return this;if(SetRef(didAlter),(removed||!exists)&&SetRef(didChangeSize),!removed||1!==entries.length){if(!exists&&!removed&&entries.length>=MAX_ARRAY_MAP_SIZE)return createNodes(ownerID,entries,key,value);var isEditable=ownerID&&ownerID===this.ownerID,newEntries=isEditable?entries:arrCopy(entries);return exists?removed?idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop():newEntries[idx]=[key,value]:newEntries.push([key,value]),isEditable?(this.entries=newEntries,this):new ArrayMapNode(ownerID,newEntries)}},BitmapIndexedNode.prototype.get=function(shift,keyHash,key,notSetValue){void 0===keyHash&&(keyHash=hash(key));var bit=1<<((0===shift?keyHash:keyHash>>>shift)&MASK),bitmap=this.bitmap;return 0===(bitmap&bit)?notSetValue:this.nodes[popCount(bitmap&bit-1)].get(shift+SHIFT,keyHash,key,notSetValue)},BitmapIndexedNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var keyHashFrag=(0===shift?keyHash:keyHash>>>shift)&MASK,bit=1<<keyHashFrag,bitmap=this.bitmap,exists=0!==(bitmap&bit);if(!exists&&value===NOT_SET)return this;var idx=popCount(bitmap&bit-1),nodes=this.nodes,node=exists?nodes[idx]:void 0,newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node)return this;if(!exists&&newNode&&nodes.length>=MAX_BITMAP_INDEXED_SIZE)return expandNodes(ownerID,nodes,bitmap,keyHashFrag,newNode);if(exists&&!newNode&&2===nodes.length&&isLeafNode(nodes[1^idx]))return nodes[1^idx];if(exists&&newNode&&1===nodes.length&&isLeafNode(newNode))return newNode;var isEditable=ownerID&&ownerID===this.ownerID,newBitmap=exists?newNode?bitmap:bitmap^bit:bitmap|bit,newNodes=exists?newNode?setIn(nodes,idx,newNode,isEditable):spliceOut(nodes,idx,isEditable):spliceIn(nodes,idx,newNode,isEditable);return isEditable?(this.bitmap=newBitmap,this.nodes=newNodes,this):new BitmapIndexedNode(ownerID,newBitmap,newNodes)},HashArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){void 0===keyHash&&(keyHash=hash(key));var idx=(0===shift?keyHash:keyHash>>>shift)&MASK,node=this.nodes[idx];return node?node.get(shift+SHIFT,keyHash,key,notSetValue):notSetValue},HashArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var idx=(0===shift?keyHash:keyHash>>>shift)&MASK,removed=value===NOT_SET,nodes=this.nodes,node=nodes[idx];if(removed&&!node)return this;var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node)return this;var newCount=this.count;if(node){if(!newNode&&(newCount--,MIN_HASH_ARRAY_MAP_SIZE>newCount))return packNodes(ownerID,nodes,newCount,idx)}else newCount++;var isEditable=ownerID&&ownerID===this.ownerID,newNodes=setIn(nodes,idx,newNode,isEditable);return isEditable?(this.count=newCount,this.nodes=newNodes,this):new HashArrayMapNode(ownerID,newCount,newNodes)},HashCollisionNode.prototype.get=function(shift,keyHash,key,notSetValue){for(var entries=this.entries,ii=0,len=entries.length;len>ii;ii++)if(is(key,entries[ii][0]))return entries[ii][1];return notSetValue},HashCollisionNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var removed=value===NOT_SET;if(keyHash!==this.keyHash)return removed?this:(SetRef(didAlter),SetRef(didChangeSize),mergeIntoNode(this,ownerID,shift,keyHash,[key,value]));for(var entries=this.entries,idx=0,len=entries.length;len>idx&&!is(key,entries[idx][0]);idx++);var exists=len>idx;if(exists?entries[idx][1]===value:removed)return this;if(SetRef(didAlter),(removed||!exists)&&SetRef(didChangeSize),removed&&2===len)return new ValueNode(ownerID,this.keyHash,entries[1^idx]);var isEditable=ownerID&&ownerID===this.ownerID,newEntries=isEditable?entries:arrCopy(entries);return exists?removed?idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop():newEntries[idx]=[key,value]:newEntries.push([key,value]),isEditable?(this.entries=newEntries,this):new HashCollisionNode(ownerID,this.keyHash,newEntries)},ValueNode.prototype.get=function(shift,keyHash,key,notSetValue){return is(key,this.entry[0])?this.entry[1]:notSetValue},ValueNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET,keyMatch=is(key,this.entry[0]);return(keyMatch?value===this.entry[1]:removed)?this:(SetRef(didAlter),removed?void SetRef(didChangeSize):keyMatch?ownerID&&ownerID===this.ownerID?(this.entry[1]=value,this):new ValueNode(ownerID,this.keyHash,[key,value]):(SetRef(didChangeSize),mergeIntoNode(this,ownerID,shift,hash(key),[key,value])))},ArrayMapNode.prototype.iterate=HashCollisionNode.prototype.iterate=function(fn,reverse){for(var entries=this.entries,ii=0,maxIndex=entries.length-1;maxIndex>=ii;ii++)if(fn(entries[reverse?maxIndex-ii:ii])===!1)return!1},BitmapIndexedNode.prototype.iterate=HashArrayMapNode.prototype.iterate=function(fn,reverse){for(var nodes=this.nodes,ii=0,maxIndex=nodes.length-1;maxIndex>=ii;ii++){var node=nodes[reverse?maxIndex-ii:ii];if(node&&node.iterate(fn,reverse)===!1)return!1}},ValueNode.prototype.iterate=function(fn,reverse){return fn(this.entry)},createClass(MapIterator,src_Iterator__Iterator),MapIterator.prototype.next=function(){for(var type=this._type,stack=this._stack;stack;){var maxIndex,node=stack.node,index=stack.index++;if(node.entry){if(0===index)return mapIteratorValue(type,node.entry)}else if(node.entries){if(maxIndex=node.entries.length-1,maxIndex>=index)return mapIteratorValue(type,node.entries[this._reverse?maxIndex-index:index])}else if(maxIndex=node.nodes.length-1,maxIndex>=index){var subNode=node.nodes[this._reverse?maxIndex-index:index];if(subNode){if(subNode.entry)return mapIteratorValue(type,subNode.entry);stack=this._stack=mapIteratorFrame(subNode,stack)}continue}stack=this._stack=this._stack.__prev}return iteratorDone()};var EMPTY_MAP,MAX_ARRAY_MAP_SIZE=SIZE/4,MAX_BITMAP_INDEXED_SIZE=SIZE/2,MIN_HASH_ARRAY_MAP_SIZE=SIZE/4;createClass(List,IndexedCollection),List.of=function(){return this(arguments)},List.prototype.toString=function(){return this.__toString("List [","]")},List.prototype.get=function(index,notSetValue){if(index=wrapIndex(this,index),0>index||index>=this.size)return notSetValue;index+=this._origin;var node=listNodeFor(this,index);return node&&node.array[index&MASK]},List.prototype.set=function(index,value){return updateList(this,index,value)},List.prototype.remove=function(index){return this.has(index)?0===index?this.shift():index===this.size-1?this.pop():this.splice(index,1):this},List.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=SHIFT,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):emptyList()},List.prototype.push=function(){var values=arguments,oldSize=this.size;return this.withMutations(function(list){setListBounds(list,0,oldSize+values.length);for(var ii=0;ii<values.length;ii++)list.set(oldSize+ii,values[ii])})},List.prototype.pop=function(){return setListBounds(this,0,-1)},List.prototype.unshift=function(){var values=arguments;return this.withMutations(function(list){setListBounds(list,-values.length);for(var ii=0;ii<values.length;ii++)list.set(ii,values[ii])})},List.prototype.shift=function(){return setListBounds(this,1)},List.prototype.merge=function(){return mergeIntoListWith(this,void 0,arguments)},List.prototype.mergeWith=function(merger){
var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,merger,iters)},List.prototype.mergeDeep=function(){return mergeIntoListWith(this,deepMerger(void 0),arguments)},List.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,deepMerger(merger),iters)},List.prototype.setSize=function(size){return setListBounds(this,0,size)},List.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:setListBounds(this,resolveBegin(begin,size),resolveEnd(end,size))},List.prototype.__iterator=function(type,reverse){var index=0,values=iterateList(this,reverse);return new src_Iterator__Iterator(function(){var value=values();return value===DONE?iteratorDone():iteratorValue(type,index++,value)})},List.prototype.__iterate=function(fn,reverse){for(var value,index=0,values=iterateList(this,reverse);(value=values())!==DONE&&fn(value,index++,this)!==!1;);return index},List.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeList(this._origin,this._capacity,this._level,this._root,this._tail,ownerID,this.__hash):(this.__ownerID=ownerID,this)},List.isList=isList;var IS_LIST_SENTINEL="@@__IMMUTABLE_LIST__@@",ListPrototype=List.prototype;ListPrototype[IS_LIST_SENTINEL]=!0,ListPrototype[DELETE]=ListPrototype.remove,ListPrototype.setIn=MapPrototype.setIn,ListPrototype.deleteIn=ListPrototype.removeIn=MapPrototype.removeIn,ListPrototype.update=MapPrototype.update,ListPrototype.updateIn=MapPrototype.updateIn,ListPrototype.mergeIn=MapPrototype.mergeIn,ListPrototype.mergeDeepIn=MapPrototype.mergeDeepIn,ListPrototype.withMutations=MapPrototype.withMutations,ListPrototype.asMutable=MapPrototype.asMutable,ListPrototype.asImmutable=MapPrototype.asImmutable,ListPrototype.wasAltered=MapPrototype.wasAltered,VNode.prototype.removeBefore=function(ownerID,level,index){if(index===level?1<<level:0||0===this.array.length)return this;var originIndex=index>>>level&MASK;if(originIndex>=this.array.length)return new VNode([],ownerID);var newChild,removingFirst=0===originIndex;if(level>0){var oldChild=this.array[originIndex];if(newChild=oldChild&&oldChild.removeBefore(ownerID,level-SHIFT,index),newChild===oldChild&&removingFirst)return this}if(removingFirst&&!newChild)return this;var editable=editableVNode(this,ownerID);if(!removingFirst)for(var ii=0;originIndex>ii;ii++)editable.array[ii]=void 0;return newChild&&(editable.array[originIndex]=newChild),editable},VNode.prototype.removeAfter=function(ownerID,level,index){if(index===level?1<<level:0||0===this.array.length)return this;var sizeIndex=index-1>>>level&MASK;if(sizeIndex>=this.array.length)return this;var newChild,removingLast=sizeIndex===this.array.length-1;if(level>0){var oldChild=this.array[sizeIndex];if(newChild=oldChild&&oldChild.removeAfter(ownerID,level-SHIFT,index),newChild===oldChild&&removingLast)return this}if(removingLast&&!newChild)return this;var editable=editableVNode(this,ownerID);return removingLast||editable.array.pop(),newChild&&(editable.array[sizeIndex]=newChild),editable};var EMPTY_LIST,DONE={};createClass(OrderedMap,src_Map__Map),OrderedMap.of=function(){return this(arguments)},OrderedMap.prototype.toString=function(){return this.__toString("OrderedMap {","}")},OrderedMap.prototype.get=function(k,notSetValue){var index=this._map.get(k);return void 0!==index?this._list.get(index)[1]:notSetValue},OrderedMap.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):emptyOrderedMap()},OrderedMap.prototype.set=function(k,v){return updateOrderedMap(this,k,v)},OrderedMap.prototype.remove=function(k){return updateOrderedMap(this,k,NOT_SET)},OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},OrderedMap.prototype.__iterate=function(fn,reverse){var this$0=this;return this._list.__iterate(function(entry){return entry&&fn(entry[1],entry[0],this$0)},reverse)},OrderedMap.prototype.__iterator=function(type,reverse){return this._list.fromEntrySeq().__iterator(type,reverse)},OrderedMap.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map.__ensureOwner(ownerID),newList=this._list.__ensureOwner(ownerID);return ownerID?makeOrderedMap(newMap,newList,ownerID,this.__hash):(this.__ownerID=ownerID,this._map=newMap,this._list=newList,this)},OrderedMap.isOrderedMap=isOrderedMap,OrderedMap.prototype[IS_ORDERED_SENTINEL]=!0,OrderedMap.prototype[DELETE]=OrderedMap.prototype.remove;var EMPTY_ORDERED_MAP;createClass(Stack,IndexedCollection),Stack.of=function(){return this(arguments)},Stack.prototype.toString=function(){return this.__toString("Stack [","]")},Stack.prototype.get=function(index,notSetValue){var head=this._head;for(index=wrapIndex(this,index);head&&index--;)head=head.next;return head?head.value:notSetValue},Stack.prototype.peek=function(){return this._head&&this._head.value},Stack.prototype.push=function(){if(0===arguments.length)return this;for(var newSize=this.size+arguments.length,head=this._head,ii=arguments.length-1;ii>=0;ii--)head={value:arguments[ii],next:head};return this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.pushAll=function(iter){if(iter=IndexedIterable(iter),0===iter.size)return this;assertNotInfinite(iter.size);var newSize=this.size,head=this._head;return iter.reverse().forEach(function(value){newSize++,head={value:value,next:head}}),this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.pop=function(){return this.slice(1)},Stack.prototype.unshift=function(){return this.push.apply(this,arguments)},Stack.prototype.unshiftAll=function(iter){return this.pushAll(iter)},Stack.prototype.shift=function(){return this.pop.apply(this,arguments)},Stack.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):emptyStack()},Stack.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size))return this;var resolvedBegin=resolveBegin(begin,this.size),resolvedEnd=resolveEnd(end,this.size);if(resolvedEnd!==this.size)return IndexedCollection.prototype.slice.call(this,begin,end);for(var newSize=this.size-resolvedBegin,head=this._head;resolvedBegin--;)head=head.next;return this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeStack(this.size,this._head,ownerID,this.__hash):(this.__ownerID=ownerID,this.__altered=!1,this)},Stack.prototype.__iterate=function(fn,reverse){if(reverse)return this.reverse().__iterate(fn);for(var iterations=0,node=this._head;node&&fn(node.value,iterations++,this)!==!1;)node=node.next;return iterations},Stack.prototype.__iterator=function(type,reverse){if(reverse)return this.reverse().__iterator(type);var iterations=0,node=this._head;return new src_Iterator__Iterator(function(){if(node){var value=node.value;return node=node.next,iteratorValue(type,iterations++,value)}return iteratorDone()})},Stack.isStack=isStack;var IS_STACK_SENTINEL="@@__IMMUTABLE_STACK__@@",StackPrototype=Stack.prototype;StackPrototype[IS_STACK_SENTINEL]=!0,StackPrototype.withMutations=MapPrototype.withMutations,StackPrototype.asMutable=MapPrototype.asMutable,StackPrototype.asImmutable=MapPrototype.asImmutable,StackPrototype.wasAltered=MapPrototype.wasAltered;var EMPTY_STACK;createClass(src_Set__Set,SetCollection),src_Set__Set.of=function(){return this(arguments)},src_Set__Set.fromKeys=function(value){return this(KeyedIterable(value).keySeq())},src_Set__Set.prototype.toString=function(){return this.__toString("Set {","}")},src_Set__Set.prototype.has=function(value){return this._map.has(value)},src_Set__Set.prototype.add=function(value){return updateSet(this,this._map.set(value,!0))},src_Set__Set.prototype.remove=function(value){return updateSet(this,this._map.remove(value))},src_Set__Set.prototype.clear=function(){return updateSet(this,this._map.clear())},src_Set__Set.prototype.union=function(){var iters=SLICE$0.call(arguments,0);return iters=iters.filter(function(x){return 0!==x.size}),0===iters.length?this:0!==this.size||this.__ownerID||1!==iters.length?this.withMutations(function(set){for(var ii=0;ii<iters.length;ii++)SetIterable(iters[ii]).forEach(function(value){return set.add(value)})}):this.constructor(iters[0])},src_Set__Set.prototype.intersect=function(){var iters=SLICE$0.call(arguments,0);if(0===iters.length)return this;iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){iters.every(function(iter){return iter.includes(value)})||set.remove(value)})})},src_Set__Set.prototype.subtract=function(){var iters=SLICE$0.call(arguments,0);if(0===iters.length)return this;iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){iters.some(function(iter){return iter.includes(value)})&&set.remove(value)})})},src_Set__Set.prototype.merge=function(){return this.union.apply(this,arguments)},src_Set__Set.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return this.union.apply(this,iters)},src_Set__Set.prototype.sort=function(comparator){return OrderedSet(sortFactory(this,comparator))},src_Set__Set.prototype.sortBy=function(mapper,comparator){return OrderedSet(sortFactory(this,comparator,mapper))},src_Set__Set.prototype.wasAltered=function(){return this._map.wasAltered()},src_Set__Set.prototype.__iterate=function(fn,reverse){var this$0=this;return this._map.__iterate(function(_,k){return fn(k,k,this$0)},reverse)},src_Set__Set.prototype.__iterator=function(type,reverse){return this._map.map(function(_,k){return k}).__iterator(type,reverse)},src_Set__Set.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map.__ensureOwner(ownerID);return ownerID?this.__make(newMap,ownerID):(this.__ownerID=ownerID,this._map=newMap,this)},src_Set__Set.isSet=isSet;var IS_SET_SENTINEL="@@__IMMUTABLE_SET__@@",SetPrototype=src_Set__Set.prototype;SetPrototype[IS_SET_SENTINEL]=!0,SetPrototype[DELETE]=SetPrototype.remove,SetPrototype.mergeDeep=SetPrototype.merge,SetPrototype.mergeDeepWith=SetPrototype.mergeWith,SetPrototype.withMutations=MapPrototype.withMutations,SetPrototype.asMutable=MapPrototype.asMutable,SetPrototype.asImmutable=MapPrototype.asImmutable,SetPrototype.__empty=emptySet,SetPrototype.__make=makeSet;var EMPTY_SET;createClass(OrderedSet,src_Set__Set),OrderedSet.of=function(){return this(arguments)},OrderedSet.fromKeys=function(value){return this(KeyedIterable(value).keySeq())},OrderedSet.prototype.toString=function(){return this.__toString("OrderedSet {","}")},OrderedSet.isOrderedSet=isOrderedSet;var OrderedSetPrototype=OrderedSet.prototype;OrderedSetPrototype[IS_ORDERED_SENTINEL]=!0,OrderedSetPrototype.__empty=emptyOrderedSet,OrderedSetPrototype.__make=makeOrderedSet;var EMPTY_ORDERED_SET;createClass(Record,KeyedCollection),Record.prototype.toString=function(){return this.__toString(recordName(this)+" {","}")},Record.prototype.has=function(k){return this._defaultValues.hasOwnProperty(k)},Record.prototype.get=function(k,notSetValue){if(!this.has(k))return notSetValue;var defaultVal=this._defaultValues[k];return this._map?this._map.get(k,defaultVal):defaultVal},Record.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var RecordType=this.constructor;return RecordType._empty||(RecordType._empty=makeRecord(this,emptyMap()))},Record.prototype.set=function(k,v){if(!this.has(k))throw new Error('Cannot set unknown key "'+k+'" on '+recordName(this));var newMap=this._map&&this._map.set(k,v);return this.__ownerID||newMap===this._map?this:makeRecord(this,newMap)},Record.prototype.remove=function(k){if(!this.has(k))return this;var newMap=this._map&&this._map.remove(k);return this.__ownerID||newMap===this._map?this:makeRecord(this,newMap)},Record.prototype.wasAltered=function(){return this._map.wasAltered()},Record.prototype.__iterator=function(type,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterator(type,reverse)},Record.prototype.__iterate=function(fn,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterate(fn,reverse)},Record.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map&&this._map.__ensureOwner(ownerID);return ownerID?makeRecord(this,newMap,ownerID):(this.__ownerID=ownerID,this._map=newMap,this)};var RecordPrototype=Record.prototype;RecordPrototype[DELETE]=RecordPrototype.remove,RecordPrototype.deleteIn=RecordPrototype.removeIn=MapPrototype.removeIn,RecordPrototype.merge=MapPrototype.merge,RecordPrototype.mergeWith=MapPrototype.mergeWith,RecordPrototype.mergeIn=MapPrototype.mergeIn,RecordPrototype.mergeDeep=MapPrototype.mergeDeep,RecordPrototype.mergeDeepWith=MapPrototype.mergeDeepWith,RecordPrototype.mergeDeepIn=MapPrototype.mergeDeepIn,RecordPrototype.setIn=MapPrototype.setIn,RecordPrototype.update=MapPrototype.update,RecordPrototype.updateIn=MapPrototype.updateIn,RecordPrototype.withMutations=MapPrototype.withMutations,RecordPrototype.asMutable=MapPrototype.asMutable,RecordPrototype.asImmutable=MapPrototype.asImmutable,createClass(Range,IndexedSeq),Range.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Range.prototype.get=function(index,notSetValue){return this.has(index)?this._start+wrapIndex(this,index)*this._step:notSetValue},Range.prototype.includes=function(searchValue){var possibleIndex=(searchValue-this._start)/this._step;return possibleIndex>=0&&possibleIndex<this.size&&possibleIndex===Math.floor(possibleIndex)},Range.prototype.slice=function(begin,end){return wholeSlice(begin,end,this.size)?this:(begin=resolveBegin(begin,this.size),end=resolveEnd(end,this.size),begin>=end?new Range(0,0):new Range(this.get(begin,this._end),this.get(end,this._end),this._step))},Range.prototype.indexOf=function(searchValue){var offsetValue=searchValue-this._start;if(offsetValue%this._step===0){var index=offsetValue/this._step;if(index>=0&&index<this.size)return index}return-1},Range.prototype.lastIndexOf=function(searchValue){return this.indexOf(searchValue)},Range.prototype.__iterate=function(fn,reverse){for(var maxIndex=this.size-1,step=this._step,value=reverse?this._start+maxIndex*step:this._start,ii=0;maxIndex>=ii;ii++){if(fn(value,ii,this)===!1)return ii+1;value+=reverse?-step:step}return ii},Range.prototype.__iterator=function(type,reverse){var maxIndex=this.size-1,step=this._step,value=reverse?this._start+maxIndex*step:this._start,ii=0;return new src_Iterator__Iterator(function(){var v=value;return value+=reverse?-step:step,ii>maxIndex?iteratorDone():iteratorValue(type,ii++,v)})},Range.prototype.equals=function(other){return other instanceof Range?this._start===other._start&&this._end===other._end&&this._step===other._step:deepEqual(this,other)};var EMPTY_RANGE;createClass(Repeat,IndexedSeq),Repeat.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Repeat.prototype.get=function(index,notSetValue){return this.has(index)?this._value:notSetValue},Repeat.prototype.includes=function(searchValue){return is(this._value,searchValue)},Repeat.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:new Repeat(this._value,resolveEnd(end,size)-resolveBegin(begin,size))},Repeat.prototype.reverse=function(){return this},Repeat.prototype.indexOf=function(searchValue){return is(this._value,searchValue)?0:-1},Repeat.prototype.lastIndexOf=function(searchValue){return is(this._value,searchValue)?this.size:-1},Repeat.prototype.__iterate=function(fn,reverse){for(var ii=0;ii<this.size;ii++)if(fn(this._value,ii,this)===!1)return ii+1;return ii},Repeat.prototype.__iterator=function(type,reverse){var this$0=this,ii=0;return new src_Iterator__Iterator(function(){return ii<this$0.size?iteratorValue(type,ii++,this$0._value):iteratorDone()})},Repeat.prototype.equals=function(other){return other instanceof Repeat?is(this._value,other._value):deepEqual(other)};var EMPTY_REPEAT;Iterable.Iterator=src_Iterator__Iterator,mixin(Iterable,{toArray:function(){assertNotInfinite(this.size);var array=new Array(this.size||0);return this.valueSeq().__iterate(function(v,i){array[i]=v}),array},toIndexedSeq:function(){return new ToIndexedSequence(this)},toJS:function(){return this.toSeq().map(function(value){return value&&"function"==typeof value.toJS?value.toJS():value}).__toJS()},toJSON:function(){return this.toSeq().map(function(value){return value&&"function"==typeof value.toJSON?value.toJSON():value}).__toJS()},toKeyedSeq:function(){return new ToKeyedSequence(this,!0)},toMap:function(){return src_Map__Map(this.toKeyedSeq())},toObject:function(){assertNotInfinite(this.size);var object={};return this.__iterate(function(v,k){object[k]=v}),object},toOrderedMap:function(){return OrderedMap(this.toKeyedSeq())},toOrderedSet:function(){return OrderedSet(isKeyed(this)?this.valueSeq():this)},toSet:function(){return src_Set__Set(isKeyed(this)?this.valueSeq():this)},toSetSeq:function(){return new ToSetSequence(this)},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Stack(isKeyed(this)?this.valueSeq():this)},toList:function(){return List(isKeyed(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(head,tail){return 0===this.size?head+tail:head+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+tail},concat:function(){var values=SLICE$0.call(arguments,0);return reify(this,concatFactory(this,values))},contains:function(searchValue){return this.includes(searchValue)},includes:function(searchValue){return this.some(function(value){return is(value,searchValue)})},entries:function(){return this.__iterator(ITERATE_ENTRIES)},every:function(predicate,context){assertNotInfinite(this.size);var returnValue=!0;return this.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?void 0:(returnValue=!1,!1)}),returnValue},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,!0))},find:function(predicate,context,notSetValue){var entry=this.findEntry(predicate,context);return entry?entry[1]:notSetValue},findEntry:function(predicate,context){var found;return this.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?(found=[k,v],!1):void 0}),found},findLastEntry:function(predicate,context){return this.toSeq().reverse().findEntry(predicate,context)},forEach:function(sideEffect,context){return assertNotInfinite(this.size),this.__iterate(context?sideEffect.bind(context):sideEffect)},join:function(separator){assertNotInfinite(this.size),separator=void 0!==separator?""+separator:",";var joined="",isFirst=!0;return this.__iterate(function(v){isFirst?isFirst=!1:joined+=separator,joined+=null!==v&&void 0!==v?v.toString():""}),joined},keys:function(){return this.__iterator(ITERATE_KEYS)},map:function(mapper,context){return reify(this,mapFactory(this,mapper,context))},reduce:function(reducer,initialReduction,context){assertNotInfinite(this.size);var reduction,useFirst;return arguments.length<2?useFirst=!0:reduction=initialReduction,this.__iterate(function(v,k,c){useFirst?(useFirst=!1,reduction=v):reduction=reducer.call(context,reduction,v,k,c)}),reduction},reduceRight:function(reducer,initialReduction,context){var reversed=this.toKeyedSeq().reverse();return reversed.reduce.apply(reversed,arguments)},reverse:function(){return reify(this,reverseFactory(this,!0))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,!0))},some:function(predicate,context){return!this.every(not(predicate),context)},sort:function(comparator){return reify(this,sortFactory(this,comparator))},values:function(){return this.__iterator(ITERATE_VALUES)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(predicate,context){return ensureSize(predicate?this.toSeq().filter(predicate,context):this)},countBy:function(grouper,context){return countByFactory(this,grouper,context)},equals:function(other){return deepEqual(this,other)},entrySeq:function(){var iterable=this;if(iterable._cache)return new ArraySeq(iterable._cache);var entriesSequence=iterable.toSeq().map(entryMapper).toIndexedSeq();return entriesSequence.fromEntrySeq=function(){return iterable.toSeq()},entriesSequence},filterNot:function(predicate,context){return this.filter(not(predicate),context)},findLast:function(predicate,context,notSetValue){return this.toKeyedSeq().reverse().find(predicate,context,notSetValue)},first:function(){return this.find(returnTrue)},flatMap:function(mapper,context){return reify(this,flatMapFactory(this,mapper,context))},flatten:function(depth){return reify(this,flattenFactory(this,depth,!0))},fromEntrySeq:function(){return new FromEntriesSequence(this)},get:function(searchKey,notSetValue){return this.find(function(_,key){return is(key,searchKey)},void 0,notSetValue)},getIn:function(searchKeyPath,notSetValue){for(var step,nested=this,iter=forceIterator(searchKeyPath);!(step=iter.next()).done;){var key=step.value;if(nested=nested&&nested.get?nested.get(key,NOT_SET):NOT_SET,nested===NOT_SET)return notSetValue}return nested},groupBy:function(grouper,context){return groupByFactory(this,grouper,context)},has:function(searchKey){return this.get(searchKey,NOT_SET)!==NOT_SET},hasIn:function(searchKeyPath){return this.getIn(searchKeyPath,NOT_SET)!==NOT_SET},isSubset:function(iter){return iter="function"==typeof iter.includes?iter:Iterable(iter),this.every(function(value){return iter.includes(value)})},isSuperset:function(iter){return iter="function"==typeof iter.isSubset?iter:Iterable(iter),iter.isSubset(this)},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(comparator){return maxFactory(this,comparator)},maxBy:function(mapper,comparator){return maxFactory(this,comparator,mapper)},min:function(comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator)},minBy:function(mapper,comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator,mapper)},rest:function(){return this.slice(1)},skip:function(amount){return this.slice(Math.max(0,amount))},skipLast:function(amount){return reify(this,this.toSeq().reverse().skip(amount).reverse())},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,!0))},skipUntil:function(predicate,context){return this.skipWhile(not(predicate),context)},sortBy:function(mapper,comparator){return reify(this,sortFactory(this,comparator,mapper))},take:function(amount){return this.slice(0,Math.max(0,amount))},takeLast:function(amount){return reify(this,this.toSeq().reverse().take(amount).reverse())},takeWhile:function(predicate,context){return reify(this,takeWhileFactory(this,predicate,context))},takeUntil:function(predicate,context){return this.takeWhile(not(predicate),context)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hashIterable(this))}});var IterablePrototype=Iterable.prototype;IterablePrototype[IS_ITERABLE_SENTINEL]=!0,IterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.values,IterablePrototype.__toJS=IterablePrototype.toArray,IterablePrototype.__toStringMapper=quoteString,IterablePrototype.inspect=IterablePrototype.toSource=function(){return this.toString()},IterablePrototype.chain=IterablePrototype.flatMap,function(){try{Object.defineProperty(IterablePrototype,"length",{get:function(){if(!Iterable.noLengthWarning){var stack;try{throw new Error}catch(error){stack=error.stack}if(-1===stack.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+stack),this.size}}})}catch(e){}}(),mixin(KeyedIterable,{flip:function(){return reify(this,flipFactory(this))},findKey:function(predicate,context){var entry=this.findEntry(predicate,context);return entry&&entry[0]},findLastKey:function(predicate,context){return this.toSeq().reverse().findKey(predicate,context)},keyOf:function(searchValue){return this.findKey(function(value){return is(value,searchValue)})},lastKeyOf:function(searchValue){return this.findLastKey(function(value){return is(value,searchValue)})},mapEntries:function(mapper,context){var this$0=this,iterations=0;return reify(this,this.toSeq().map(function(v,k){return mapper.call(context,[k,v],iterations++,this$0)}).fromEntrySeq())},mapKeys:function(mapper,context){var this$0=this;return reify(this,this.toSeq().flip().map(function(k,v){return mapper.call(context,k,v,this$0)}).flip())}});var KeyedIterablePrototype=KeyedIterable.prototype;KeyedIterablePrototype[IS_KEYED_SENTINEL]=!0,KeyedIterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.entries,KeyedIterablePrototype.__toJS=IterablePrototype.toObject,KeyedIterablePrototype.__toStringMapper=function(v,k){return JSON.stringify(k)+": "+quoteString(v)},mixin(IndexedIterable,{toKeyedSeq:function(){return new ToKeyedSequence(this,!1)},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,!1))},findIndex:function(predicate,context){var entry=this.findEntry(predicate,context);return entry?entry[0]:-1},indexOf:function(searchValue){var key=this.toKeyedSeq().keyOf(searchValue);return void 0===key?-1:key},lastIndexOf:function(searchValue){return this.toSeq().reverse().indexOf(searchValue)},reverse:function(){return reify(this,reverseFactory(this,!1))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,!1))},splice:function(index,removeNum){var numArgs=arguments.length;if(removeNum=Math.max(0|removeNum,0),0===numArgs||2===numArgs&&!removeNum)return this;index=resolveBegin(index,this.size);var spliced=this.slice(0,index);return reify(this,1===numArgs?spliced:spliced.concat(arrCopy(arguments,2),this.slice(index+removeNum)))},findLastIndex:function(predicate,context){var key=this.toKeyedSeq().findLastKey(predicate,context);return void 0===key?-1:key},first:function(){return this.get(0)},flatten:function(depth){return reify(this,flattenFactory(this,depth,!1))},get:function(index,notSetValue){return index=wrapIndex(this,index),0>index||this.size===1/0||void 0!==this.size&&index>this.size?notSetValue:this.find(function(_,key){return key===index},void 0,notSetValue)},has:function(index){return index=wrapIndex(this,index),index>=0&&(void 0!==this.size?this.size===1/0||index<this.size:-1!==this.indexOf(index))},interpose:function(separator){return reify(this,interposeFactory(this,separator))},interleave:function(){var iterables=[this].concat(arrCopy(arguments)),zipped=zipWithFactory(this.toSeq(),IndexedSeq.of,iterables),interleaved=zipped.flatten(!0);return zipped.size&&(interleaved.size=zipped.size*iterables.length),reify(this,interleaved)},last:function(){return this.get(-1)},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,!1))},zip:function(){var iterables=[this].concat(arrCopy(arguments));return reify(this,zipWithFactory(this,defaultZipper,iterables))},zipWith:function(zipper){var iterables=arrCopy(arguments);return iterables[0]=this,reify(this,zipWithFactory(this,zipper,iterables))}}),IndexedIterable.prototype[IS_INDEXED_SENTINEL]=!0,IndexedIterable.prototype[IS_ORDERED_SENTINEL]=!0,mixin(SetIterable,{get:function(value,notSetValue){return this.has(value)?value:notSetValue},includes:function(value){return this.has(value)},keySeq:function(){return this.valueSeq()}}),SetIterable.prototype.has=IterablePrototype.includes,mixin(KeyedSeq,KeyedIterable.prototype),mixin(IndexedSeq,IndexedIterable.prototype),mixin(SetSeq,SetIterable.prototype),mixin(KeyedCollection,KeyedIterable.prototype),mixin(IndexedCollection,IndexedIterable.prototype),mixin(SetCollection,SetIterable.prototype);var Immutable={Iterable:Iterable,Seq:Seq,Collection:Collection,Map:src_Map__Map,OrderedMap:OrderedMap,List:List,Stack:Stack,Set:src_Set__Set,OrderedSet:OrderedSet,Record:Record,Range:Range,Repeat:Repeat,is:is,fromJS:fromJS};return Immutable});


},{}],47:[function(require,module,exports){
!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?exports.Kefir=factory():root.Kefir=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function deprecated(name,alt,fn){return function(){if(Kefir.DEPRECATION_WARNINGS&&"undefined"!=typeof console&&console.log){var message="Method `"+name+"` is deprecated, and to be removed in v3.0.0.\nUse `"+alt+"` instead.\nTo disable all warnings like this set `Kefir.DEPRECATION_WARNINGS = false`.";console.log(message)}return fn.apply(this,arguments)}}var Kefir=module.exports={};Kefir.Kefir=Kefir;var Observable=Kefir.Observable=__webpack_require__(1);Kefir.Stream=__webpack_require__(6),Kefir.Property=__webpack_require__(7),Kefir.never=__webpack_require__(8),Kefir.later=__webpack_require__(9),Kefir.interval=__webpack_require__(11),Kefir.sequentially=__webpack_require__(12),Kefir.fromPoll=__webpack_require__(13),Kefir.withInterval=__webpack_require__(14),Kefir.fromCallback=__webpack_require__(16),Kefir.fromNodeCallback=__webpack_require__(18),Kefir.fromEvents=__webpack_require__(19),Kefir.stream=__webpack_require__(17),Kefir.constant=__webpack_require__(22),Kefir.constantError=__webpack_require__(23),Kefir.fromPromise=__webpack_require__(24);var toProperty=__webpack_require__(25);Observable.prototype.toProperty=function(fn){return toProperty(this,fn)};var changes=__webpack_require__(27);Observable.prototype.changes=function(){return changes(this)};var toPromise=__webpack_require__(28);Observable.prototype.toPromise=function(Promise){return toPromise(this,Promise)};var map=__webpack_require__(29);Observable.prototype.map=function(fn){return map(this,fn)};var filter=__webpack_require__(30);Observable.prototype.filter=function(fn){return filter(this,fn)};var take=__webpack_require__(31);Observable.prototype.take=function(n){return take(this,n)};var takeWhile=__webpack_require__(32);Observable.prototype.takeWhile=function(fn){return takeWhile(this,fn)};var last=__webpack_require__(33);Observable.prototype.last=function(){return last(this)};var skip=__webpack_require__(34);Observable.prototype.skip=function(n){return skip(this,n)};var skipWhile=__webpack_require__(35);Observable.prototype.skipWhile=function(fn){return skipWhile(this,fn)};var skipDuplicates=__webpack_require__(36);Observable.prototype.skipDuplicates=function(fn){return skipDuplicates(this,fn)};var diff=__webpack_require__(37);Observable.prototype.diff=function(fn,seed){return diff(this,fn,seed)};var scan=__webpack_require__(38);Observable.prototype.scan=function(fn,seed){return scan(this,fn,seed)};var flatten=__webpack_require__(39);Observable.prototype.flatten=function(fn){return flatten(this,fn)};var delay=__webpack_require__(40);Observable.prototype.delay=function(wait){return delay(this,wait)};var throttle=__webpack_require__(41);Observable.prototype.throttle=function(wait,options){return throttle(this,wait,options)};var debounce=__webpack_require__(43);Observable.prototype.debounce=function(wait,options){return debounce(this,wait,options)};var valuesToErrors=__webpack_require__(44);Observable.prototype.valuesToErrors=function(fn){return valuesToErrors(this,fn)};var errorsToValues=__webpack_require__(45);Observable.prototype.errorsToValues=function(fn){return errorsToValues(this,fn)};var mapErrors=__webpack_require__(46);Observable.prototype.mapErrors=function(fn){return mapErrors(this,fn)};var filterErrors=__webpack_require__(47);Observable.prototype.filterErrors=function(fn){return filterErrors(this,fn)};var endOnError=__webpack_require__(48);Observable.prototype.endOnError=function(){return endOnError(this)};var skipValues=__webpack_require__(49);Observable.prototype.skipValues=function(){return skipValues(this)};var skipErrors=__webpack_require__(50);Observable.prototype.skipErrors=function(){return skipErrors(this)};var skipEnd=__webpack_require__(51);Observable.prototype.skipEnd=function(){return skipEnd(this)};var beforeEnd=__webpack_require__(52);Observable.prototype.beforeEnd=function(fn){return beforeEnd(this,fn)};var slidingWindow=__webpack_require__(53);Observable.prototype.slidingWindow=function(max,min){return slidingWindow(this,max,min)};var bufferWhile=__webpack_require__(54);Observable.prototype.bufferWhile=function(fn,options){return bufferWhile(this,fn,options)};var transduce=__webpack_require__(55);Observable.prototype.transduce=function(transducer){return transduce(this,transducer)};var withHandler=__webpack_require__(56);Observable.prototype.withHandler=function(fn){return withHandler(this,fn)};var combine=Kefir.combine=__webpack_require__(57);Observable.prototype.combine=function(other,combinator){return combine([this,other],combinator)};var zip=Kefir.zip=__webpack_require__(58);Observable.prototype.zip=function(other,combinator){return zip([this,other],combinator)};var merge=Kefir.merge=__webpack_require__(59);Observable.prototype.merge=function(other){return merge([this,other])};var concat=Kefir.concat=__webpack_require__(61);Observable.prototype.concat=function(other){return concat([this,other])};var Pool=Kefir.Pool=__webpack_require__(63);Kefir.pool=function(){return new Pool},Kefir.repeat=__webpack_require__(62);var FlatMap=__webpack_require__(64);Observable.prototype.flatMap=function(fn){return new FlatMap(this,fn).setName(this,"flatMap")},Observable.prototype.flatMapLatest=function(fn){return new FlatMap(this,fn,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},Observable.prototype.flatMapFirst=function(fn){return new FlatMap(this,fn,{concurLim:1}).setName(this,"flatMapFirst")},Observable.prototype.flatMapConcat=function(fn){return new FlatMap(this,fn,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},Observable.prototype.flatMapConcurLimit=function(fn,limit){return new FlatMap(this,fn,{queueLim:-1,concurLim:limit}).setName(this,"flatMapConcurLimit")};var FlatMapErrors=__webpack_require__(65);Observable.prototype.flatMapErrors=function(fn){return new FlatMapErrors(this,fn).setName(this,"flatMapErrors")};var filterBy=__webpack_require__(66);Observable.prototype.filterBy=function(other){return filterBy(this,other)};var sampledBy2items=__webpack_require__(68);Observable.prototype.sampledBy=function(other,combinator){return sampledBy2items(this,other,combinator)};var skipUntilBy=__webpack_require__(69);Observable.prototype.skipUntilBy=function(other){return skipUntilBy(this,other)};var takeUntilBy=__webpack_require__(70);Observable.prototype.takeUntilBy=function(other){return takeUntilBy(this,other)};var bufferBy=__webpack_require__(71);Observable.prototype.bufferBy=function(other,options){return bufferBy(this,other,options)};var bufferWhileBy=__webpack_require__(72);Observable.prototype.bufferWhileBy=function(other,options){return bufferWhileBy(this,other,options)};var awaiting=__webpack_require__(73);Observable.prototype.awaiting=function(other){return awaiting(this,other)},Kefir.DEPRECATION_WARNINGS=!0;var Emitter=Kefir.Emitter=__webpack_require__(74);Kefir.emitter=deprecated("Kefir.emitter()","Kefir.stream()",function(){return new Emitter});var Bus=Kefir.Bus=__webpack_require__(75);Kefir.bus=deprecated("Kefir.bus()","Kefir.pool() or Kefir.stream()",function(){return new Bus});var reduce=__webpack_require__(76);Observable.prototype.reduce=deprecated(".reduce(fn, seed)",".scan(fn, seed).last()",function(fn,seed){return reduce(this,fn,seed)});var sampledByManyItems=__webpack_require__(77);Kefir.sampledBy=deprecated("Kefir.sampledBy()","Kefir.combine()",sampledByManyItems);var repeatedly=__webpack_require__(78);Kefir.repeatedly=deprecated("Kefir.repeatedly()","Kefir.repeat(() => Kefir.sequentially(...)})",repeatedly);var mapTo=__webpack_require__(79);Observable.prototype.mapTo=deprecated(".mapTo()",".map(() => value)",function(x){return mapTo(this,x)});var tap=__webpack_require__(80);Observable.prototype.tap=deprecated(".tap()",".map((v) => {fn(v); return v})",function(fn){return tap(this,fn)});var pluck=__webpack_require__(81);Observable.prototype.pluck=deprecated(".pluck()",".map((x) => x.foo)",function(propName){return pluck(this,propName)});var invoke=__webpack_require__(82);Observable.prototype.invoke=deprecated(".invoke()",".map((x) => x.foo())",function(methodName){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_len>_key;_key++)args[_key-1]=arguments[_key];return invoke(this,methodName,args)});var timestamp=__webpack_require__(83);Observable.prototype.timestamp=deprecated(".timestamp()",".map((x) => {value: x, time: Date.now()})",function(){return timestamp(this)});var and=__webpack_require__(84);Kefir.and=deprecated("Kefir.and()","Kefir.combine([a, b], (a, b) => a && b)",and),Observable.prototype.and=deprecated(".and()",".combine(other, (a, b) => a && b)",function(other){return and([this,other])});var or=__webpack_require__(85);Kefir.or=deprecated("Kefir.or()","Kefir.combine([a, b], (a, b) => a || b)",or),Observable.prototype.or=deprecated(".or()",".combine(other, (a, b) => a || b)",function(other){return or([this,other])});var not=__webpack_require__(86);Observable.prototype.not=deprecated(".not()",".map((x) => !x)",function(){return not(this)});var fromSubUnsub=__webpack_require__(20);Kefir.fromSubUnsub=deprecated(".fromSubUnsub()","Kefir.stream()",fromSubUnsub);var takeWhileBy=__webpack_require__(87);Observable.prototype.takeWhileBy=deprecated(".takeWhileBy(foo)",".skipUntilBy(foo.filter((x) => !x))",function(other){return takeWhileBy(this,other)});var skipWhileBy=__webpack_require__(88);Observable.prototype.skipWhileBy=deprecated(".skipWhileBy(foo)",".takeUntilBy(foo.filter((x) => !x))",function(other){return skipWhileBy(this,other)})},function(module,exports,__webpack_require__){"use strict";function Observable(){this._dispatcher=new Dispatcher,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null}var _require=__webpack_require__(2),extend=_require.extend,_require2=__webpack_require__(3),VALUE=_require2.VALUE,ERROR=_require2.ERROR,ANY=_require2.ANY,END=_require2.END,_require3=__webpack_require__(4),Dispatcher=_require3.Dispatcher,callSubscriber=_require3.callSubscriber,_require4=__webpack_require__(5),findByPred=_require4.findByPred;extend(Observable.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(active){this._active!==active&&(this._active=active,active?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._alive=!1,this._dispatcher=null,this._logHandlers=null},_emit:function(type,x){switch(type){case VALUE:return this._emitValue(x);case ERROR:return this._emitError(x);case END:return this._emitEnd()}},_emitValue:function(value){this._alive&&this._dispatcher.dispatch({type:VALUE,value:value,current:this._activating})},_emitError:function(value){this._alive&&this._dispatcher.dispatch({type:ERROR,value:value,current:this._activating})},_emitEnd:function(){this._alive&&(this._dispatcher.dispatch({type:END,current:this._activating}),this._clear())},_on:function(type,fn){return this._alive?(this._dispatcher.add(type,fn),this._setActive(!0)):callSubscriber(type,fn,{type:END,current:!0}),this},_off:function(type,fn){if(this._alive){var count=this._dispatcher.remove(type,fn);0===count&&this._setActive(!1)}return this},onValue:function(fn){return this._on(VALUE,fn)},onError:function(fn){return this._on(ERROR,fn)},onEnd:function(fn){return this._on(END,fn)},onAny:function(fn){return this._on(ANY,fn)},offValue:function(fn){return this._off(VALUE,fn)},offError:function(fn){return this._off(ERROR,fn)},offEnd:function(fn){return this._off(END,fn)},offAny:function(fn){return this._off(ANY,fn)},_ofSameType:function(A,B){return A.prototype.getType()===this.getType()?A:B},setName:function(sourceObs,selfName){return this._name=selfName?""+sourceObs._name+"."+selfName:sourceObs,this},log:function(){var name=void 0===arguments[0]?this.toString():arguments[0],handler=function(event){var type="<"+event.type+(event.current?":current":"")+">";event.type===END?console.log(name,type):console.log(name,type,event.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:name,handler:handler})),this.onAny(handler),this},offLog:function(){var name=void 0===arguments[0]?this.toString():arguments[0];if(this._logHandlers){var handlerIndex=findByPred(this._logHandlers,function(obj){return obj.name===name});-1!==handlerIndex&&(this.offAny(this._logHandlers[handlerIndex].handler),this._logHandlers.splice(handlerIndex,1))}return this}}),Observable.prototype.toString=function(){return"["+this._name+"]"},module.exports=Observable},function(module,exports,__webpack_require__){"use strict";function createObj(proto){var F=function(){};return F.prototype=proto,new F}function extend(target){var length=arguments.length,i=void 0,prop=void 0;for(i=1;length>i;i++)for(prop in arguments[i])target[prop]=arguments[i][prop];return target}function inherit(Child,Parent){var length=arguments.length,i=void 0;for(Child.prototype=createObj(Parent.prototype),Child.prototype.constructor=Child,i=2;length>i;i++)extend(Child.prototype,arguments[i]);return Child}module.exports={extend:extend,inherit:inherit}},function(module,exports,__webpack_require__){"use strict";exports.NOTHING=["<nothing>"],exports.END="end",exports.VALUE="value",exports.ERROR="error",exports.ANY="any"},function(module,exports,__webpack_require__){"use strict";function callSubscriber(type,fn,event){type===ANY?fn(event):type===event.type&&(type===VALUE||type===ERROR?fn(event.value):fn())}function Dispatcher(){this._items=[]}var _require=__webpack_require__(2),extend=_require.extend,_require2=__webpack_require__(3),VALUE=_require2.VALUE,ERROR=_require2.ERROR,ANY=_require2.ANY,_require3=__webpack_require__(5),concat=_require3.concat,removeByPred=_require3.removeByPred;extend(Dispatcher.prototype,{add:function(type,fn){return this._items=concat(this._items,[{type:type,fn:fn}]),this._items.length},remove:function(type,fn){return this._items=removeByPred(this._items,function(x){return x.type===type&&x.fn===fn}),this._items.length},dispatch:function(event){for(var i=0,items=this._items;i<items.length;i++)callSubscriber(items[i].type,items[i].fn,event)}}),module.exports={callSubscriber:callSubscriber,Dispatcher:Dispatcher}},function(module,exports,__webpack_require__){"use strict";function concat(a,b){var result=void 0,length=void 0,i=void 0,j=void 0;if(0===a.length)return b;if(0===b.length)return a;for(j=0,result=new Array(a.length+b.length),length=a.length,i=0;length>i;i++,j++)result[j]=a[i];for(length=b.length,i=0;length>i;i++,j++)result[j]=b[i];return result}function circleShift(arr,distance){var length=arr.length,result=new Array(length),i=void 0;for(i=0;length>i;i++)result[(i+distance)%length]=arr[i];return result}function find(arr,value){var length=arr.length,i=void 0;for(i=0;length>i;i++)if(arr[i]===value)return i;return-1}function findByPred(arr,pred){var length=arr.length,i=void 0;for(i=0;length>i;i++)if(pred(arr[i]))return i;return-1}function cloneArray(input){var length=input.length,result=new Array(length),i=void 0;for(i=0;length>i;i++)result[i]=input[i];return result}function remove(input,index){var length=input.length,result=void 0,i=void 0,j=void 0;if(index>=0&&length>index){if(1===length)return[];for(result=new Array(length-1),i=0,j=0;length>i;i++)i!==index&&(result[j]=input[i],j++);return result}return input}function removeByPred(input,pred){return remove(input,findByPred(input,pred))}function map(input,fn){var length=input.length,result=new Array(length),i=void 0;for(i=0;length>i;i++)result[i]=fn(input[i]);return result}function forEach(arr,fn){var length=arr.length,i=void 0;for(i=0;length>i;i++)fn(arr[i])}function fillArray(arr,value){var length=arr.length,i=void 0;for(i=0;length>i;i++)arr[i]=value}function contains(arr,value){return-1!==find(arr,value)}function slide(cur,next,max){var length=Math.min(max,cur.length+1),offset=cur.length-length+1,result=new Array(length),i=void 0;for(i=offset;length>i;i++)result[i-offset]=cur[i];return result[length-1]=next,result}module.exports={concat:concat,circleShift:circleShift,find:find,findByPred:findByPred,cloneArray:cloneArray,remove:remove,removeByPred:removeByPred,map:map,forEach:forEach,fillArray:fillArray,contains:contains,slide:slide}},function(module,exports,__webpack_require__){"use strict";function Stream(){Observable.call(this)}var _require=__webpack_require__(2),inherit=_require.inherit,Observable=__webpack_require__(1);inherit(Stream,Observable,{_name:"stream",getType:function(){return"stream"}}),module.exports=Stream},function(module,exports,__webpack_require__){"use strict";function Property(){Observable.call(this),this._currentEvent=null}var _require=__webpack_require__(2),inherit=_require.inherit,_require2=__webpack_require__(3),VALUE=_require2.VALUE,ERROR=_require2.ERROR,END=_require2.END,_require3=__webpack_require__(4),callSubscriber=_require3.callSubscriber,Observable=__webpack_require__(1);inherit(Property,Observable,{_name:"property",_emitValue:function(value){this._alive&&(this._activating||this._dispatcher.dispatch({type:VALUE,value:value,current:this._activating}),this._currentEvent={type:VALUE,value:value,current:!0})},_emitError:function(value){this._alive&&(this._activating||this._dispatcher.dispatch({type:ERROR,value:value,current:this._activating}),this._currentEvent={type:ERROR,value:value,current:!0})},_emitEnd:function(){this._alive&&(this._activating||this._dispatcher.dispatch({type:END,current:this._activating}),this._clear())},_on:function(type,fn){return this._alive&&(this._dispatcher.add(type,fn),this._setActive(!0)),null!==this._currentEvent&&callSubscriber(type,fn,this._currentEvent),this._alive||callSubscriber(type,fn,{type:END,current:!0}),this},getType:function(){return"property"}}),module.exports=Property},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(6),neverS=new Stream;neverS._emitEnd(),neverS._name="never",module.exports=function(){return neverS}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),S=timeBased({_name:"later",_init:function(_ref){var x=_ref.x;this._x=x},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}});module.exports=function(wait,x){return new S(wait,{x:x})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(2),inherit=_require.inherit,Stream=__webpack_require__(6);module.exports=function(mixin){function AnonymousStream(wait,options){var _this=this;Stream.call(this),this._wait=wait,this._intervalId=null,this._$onTick=function(){return _this._onTick()},this._init(options)}return inherit(AnonymousStream,Stream,{_init:function(options){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){Stream.prototype._clear.call(this),this._$onTick=null,this._free()}},mixin),AnonymousStream}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),S=timeBased({_name:"interval",_init:function(_ref){var x=_ref.x;this._x=x},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}});module.exports=function(wait,x){return new S(wait,{x:x})}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),_require=__webpack_require__(5),cloneArray=_require.cloneArray,never=__webpack_require__(8),S=timeBased({_name:"sequentially",_init:function(_ref){var xs=_ref.xs;this._xs=cloneArray(xs)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}});module.exports=function(wait,xs){return 0===xs.length?never():new S(wait,{xs:xs})}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),S=timeBased({_name:"fromPoll",_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_onTick:function(){var fn=this._fn;this._emitValue(fn())}});module.exports=function(wait,fn){return new S(wait,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),emitter=__webpack_require__(15),S=timeBased({_name:"withInterval",_init:function(_ref){var fn=_ref.fn;this._fn=fn,this._emitter=emitter(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var fn=this._fn;fn(this._emitter)}});module.exports=function(wait,fn){return new S(wait,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";module.exports=function(obs){function value(x){return obs._emitValue(x),obs._active}function error(x){return obs._emitError(x),obs._active}function end(){return obs._emitEnd(),obs._active}function event(e){return obs._emit(e.type,e.value),obs._active}return{value:value,error:error,end:end,event:event,emit:value,emitEvent:event}}},function(module,exports,__webpack_require__){"use strict";var stream=__webpack_require__(17);module.exports=function(callbackConsumer){var called=!1;return stream(function(emitter){called||(callbackConsumer(function(x){emitter.emit(x),emitter.end()}),called=!0)}).setName("fromCallback")}},function(module,exports,__webpack_require__){"use strict";function S(fn){Stream.call(this),this._fn=fn,this._unsubscribe=null}var _require=__webpack_require__(2),inherit=_require.inherit,Stream=__webpack_require__(6),emitter=__webpack_require__(15);inherit(S,Stream,{_name:"stream",_onActivation:function(){var fn=this._fn,unsubscribe=fn(emitter(this));this._unsubscribe="function"==typeof unsubscribe?unsubscribe:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){Stream.prototype._clear.call(this),this._fn=null}}),module.exports=function(fn){return new S(fn)}},function(module,exports,__webpack_require__){"use strict";var stream=__webpack_require__(17);module.exports=function(callbackConsumer){var called=!1;return stream(function(emitter){called||(callbackConsumer(function(error,x){error?emitter.error(error):emitter.emit(x),emitter.end()}),called=!0)}).setName("fromNodeCallback")}},function(module,exports,__webpack_require__){"use strict";var fromSubUnsub=__webpack_require__(20),pairs=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];module.exports=function(target,eventName,transformer){for(var sub=void 0,unsub=void 0,i=0;i<pairs.length;i++)if("function"==typeof target[pairs[i][0]]&&"function"==typeof target[pairs[i][1]]){sub=pairs[i][0],unsub=pairs[i][1];break}if(void 0===sub)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return fromSubUnsub(function(handler){return target[sub](eventName,handler)},function(handler){return target[unsub](eventName,handler)},transformer).setName("fromEvents")}},function(module,exports,__webpack_require__){"use strict";var stream=__webpack_require__(17),_require=__webpack_require__(21),apply=_require.apply;module.exports=function(sub,unsub,transformer){return stream(function(emitter){var handler=transformer?function(){emitter.emit(apply(transformer,this,arguments))}:emitter.emit;return sub(handler),function(){return unsub(handler)}}).setName("fromSubUnsub")}},function(module,exports,__webpack_require__){"use strict";function spread(fn,length){switch(length){case 0:return function(a){return fn()};case 1:return function(a){return fn(a[0])};case 2:return function(a){return fn(a[0],a[1])};case 3:return function(a){return fn(a[0],a[1],a[2])};case 4:return function(a){return fn(a[0],a[1],a[2],a[3])};default:return function(a){return fn.apply(null,a)}}}function apply(fn,c,a){var aLength=a?a.length:0;if(null==c)switch(aLength){case 0:return fn();case 1:return fn(a[0]);case 2:return fn(a[0],a[1]);case 3:return fn(a[0],a[1],a[2]);case 4:return fn(a[0],a[1],a[2],a[3]);default:return fn.apply(null,a)}else switch(aLength){case 0:return fn.call(c);default:return fn.apply(c,a)}}module.exports={spread:spread,apply:apply}},function(module,exports,__webpack_require__){"use strict";function P(value){this._currentEvent={type:"value",value:value,current:!0}}var _require=__webpack_require__(2),inherit=_require.inherit,Property=__webpack_require__(7);inherit(P,Property,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),module.exports=function(x){return new P(x)}},function(module,exports,__webpack_require__){"use strict";function P(value){this._currentEvent={type:"error",value:value,current:!0}}var _require=__webpack_require__(2),inherit=_require.inherit,Property=__webpack_require__(7);inherit(P,Property,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),module.exports=function(x){return new P(x)}},function(module,exports,__webpack_require__){"use strict";var stream=__webpack_require__(17),toProperty=__webpack_require__(25);module.exports=function(promise){var called=!1,result=stream(function(emitter){if(!called){var onValue=function(x){emitter.emit(x),emitter.end()},onError=function(x){emitter.error(x),emitter.end()},_promise=promise.then(onValue,onError);_promise&&"function"==typeof _promise.done&&_promise.done(),called=!0}});return toProperty(result,null).setName("fromPromise")}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createProperty=_require.createProperty,P=createProperty("toProperty",{_init:function(_ref){var fn=_ref.fn;this._getInitialCurrent=fn},_onActivation:function(){if(null!==this._getInitialCurrent){var getInitial=this._getInitialCurrent;this._emitValue(getInitial())}this._source.onAny(this._$handleAny)}});module.exports=function(obs){var fn=void 0===arguments[1]?null:arguments[1];if(null!==fn&&"function"!=typeof fn)throw new Error("You should call toProperty() with a function or no arguments.");return new P(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";function createConstructor(BaseClass,name){return function(source,options){var _this=this;BaseClass.call(this),this._source=source,this._name=""+source._name+"."+name,this._init(options),this._$handleAny=function(event){return _this._handleAny(event)}}}function createClassMethods(BaseClass){return{_init:function(options){},_free:function(){},_handleValue:function(x){this._emitValue(x)},_handleError:function(x){this._emitError(x)},_handleEnd:function(){this._emitEnd()},_handleAny:function(event){switch(event.type){case VALUE:return this._handleValue(event.value);case ERROR:return this._handleError(event.value);case END:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){BaseClass.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function createStream(name,mixin){var S=createConstructor(Stream,name);return inherit(S,Stream,createClassMethods(Stream),mixin),S}function createProperty(name,mixin){var P=createConstructor(Property,name);return inherit(P,Property,createClassMethods(Property),mixin),P}var Stream=__webpack_require__(6),Property=__webpack_require__(7),_require=__webpack_require__(2),inherit=_require.inherit,_require2=__webpack_require__(3),VALUE=_require2.VALUE,ERROR=_require2.ERROR,END=_require2.END;module.exports={createStream:createStream,createProperty:createProperty}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,S=createStream("changes",{_handleValue:function(x){this._activating||this._emitValue(x)},_handleError:function(x){this._activating||this._emitError(x)}});module.exports=function(obs){return new S(obs)}},function(module,exports,__webpack_require__){"use strict";function getGlodalPromise(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}module.exports=function(obs){var Promise=void 0===arguments[1]?getGlodalPromise():arguments[1],last=null;return new Promise(function(resolve,reject){obs.onAny(function(event){"end"===event.type&&null!==last?(("value"===last.type?resolve:reject)(last.value),last=null):last=event})})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){var fn=this._fn;this._emitValue(fn(x))}},S=createStream("map",mixin),P=createProperty("map",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){var fn=this._fn;fn(x)&&this._emitValue(x)}},S=createStream("filter",mixin),P=createProperty("filter",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var n=_ref.n;this._n=n,0>=n&&this._emitEnd()},_handleValue:function(x){this._n--,this._emitValue(x),0===this._n&&this._emitEnd()}},S=createStream("take",mixin),P=createProperty("take",mixin);module.exports=function(obs,n){return new(obs._ofSameType(S,P))(obs,{n:n})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){var fn=this._fn;fn(x)?this._emitValue(x):this._emitEnd()}},S=createStream("takeWhile",mixin),P=createProperty("takeWhile",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_init:function(){this._lastValue=NOTHING},_free:function(){this._lastValue=null},_handleValue:function(x){this._lastValue=x},_handleEnd:function(){this._lastValue!==NOTHING&&this._emitValue(this._lastValue),this._emitEnd()}},S=createStream("last",mixin),P=createProperty("last",mixin);module.exports=function(obs){return new(obs._ofSameType(S,P))(obs)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={
_init:function(_ref){var n=_ref.n;this._n=Math.max(0,n)},_handleValue:function(x){0===this._n?this._emitValue(x):this._n--}},S=createStream("skip",mixin),P=createProperty("skip",mixin);module.exports=function(obs,n){return new(obs._ofSameType(S,P))(obs,{n:n})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){var fn=this._fn;null===this._fn||fn(x)||(this._fn=null),null===this._fn&&this._emitValue(x)}},S=createStream("skipWhile",mixin),P=createProperty("skipWhile",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn,this._prev=NOTHING},_free:function(){this._fn=null,this._prev=null},_handleValue:function(x){var fn=this._fn;this._prev!==NOTHING&&fn(this._prev,x)||(this._prev=x,this._emitValue(x))}},S=createStream("skipDuplicates",mixin),P=createProperty("skipDuplicates",mixin),eq=function(a,b){return a===b};module.exports=function(obs){var fn=void 0===arguments[1]?eq:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";function defaultFn(a,b){return[a,b]}var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_init:function(_ref){var fn=_ref.fn,seed=_ref.seed;this._fn=fn,this._prev=seed},_free:function(){this._prev=null,this._fn=null},_handleValue:function(x){if(this._prev!==NOTHING){var fn=this._fn;this._emitValue(fn(this._prev,x))}this._prev=x}},S=createStream("diff",mixin),P=createProperty("diff",mixin);module.exports=function(obs,fn){var seed=void 0===arguments[2]?NOTHING:arguments[2];return new(obs._ofSameType(S,P))(obs,{fn:fn||defaultFn,seed:seed})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createProperty=_require.createProperty,_require2=__webpack_require__(3),ERROR=_require2.ERROR,NOTHING=_require2.NOTHING,P=createProperty("scan",{_init:function(_ref){var fn=_ref.fn,seed=_ref.seed;this._fn=fn,seed!==NOTHING&&this._emitValue(seed)},_free:function(){this._fn=null},_handleValue:function(x){if(null!==this._currentEvent&&this._currentEvent.type!==ERROR){var fn=this._fn;x=fn(this._currentEvent.value,x)}this._emitValue(x)}});module.exports=function(obs,fn){var seed=void 0===arguments[2]?NOTHING:arguments[2];return new P(obs,{fn:fn,seed:seed})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){for(var fn=this._fn,xs=fn(x),i=0;i<xs.length;i++)this._emitValue(xs[i])}},S=createStream("flatten",mixin),P=createProperty("flatten",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var _this=this,wait=_ref.wait;this._wait=Math.max(0,wait),this._buff=[],this._$shiftBuff=function(){return _this._emitValue(_this._buff.shift())}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(x){this._activating?this._emitValue(x):(this._buff.push(x),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){var _this2=this;this._activating?this._emitEnd():setTimeout(function(){return _this2._emitEnd()},this._wait)}},S=createStream("delay",mixin),P=createProperty("delay",mixin);module.exports=function(obs,wait){return new(obs._ofSameType(S,P))(obs,{wait:wait})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,now=__webpack_require__(42),mixin={_init:function(_ref){var _this=this,wait=_ref.wait,leading=_ref.leading,trailing=_ref.trailing;this._wait=Math.max(0,wait),this._leading=leading,this._trailing=trailing,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return _this._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(x){if(this._activating)this._emitValue(x);else{var curTime=now();0!==this._lastCallTime||this._leading||(this._lastCallTime=curTime);var remaining=this._wait-(curTime-this._lastCallTime);0>=remaining?(this._cancelTrailing(),this._lastCallTime=curTime,this._emitValue(x)):this._trailing&&(this._cancelTrailing(),this._trailingValue=x,this._timeoutId=setTimeout(this._$trailingCall,remaining))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?now():0,this._endLater&&this._emitEnd()}},S=createStream("throttle",mixin),P=createProperty("throttle",mixin);module.exports=function(obs,wait){var _ref2=void 0===arguments[2]?{}:arguments[2],_ref2$leading=_ref2.leading,leading=void 0===_ref2$leading?!0:_ref2$leading,_ref2$trailing=_ref2.trailing,trailing=void 0===_ref2$trailing?!0:_ref2$trailing;return new(obs._ofSameType(S,P))(obs,{wait:wait,leading:leading,trailing:trailing})}},function(module,exports,__webpack_require__){"use strict";module.exports=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,now=__webpack_require__(42),mixin={_init:function(_ref){var _this=this,wait=_ref.wait,immediate=_ref.immediate;this._wait=Math.max(0,wait),this._immediate=immediate,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return _this._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(x){this._activating?this._emitValue(x):(this._lastAttempt=now(),this._immediate&&!this._timeoutId&&this._emitValue(x),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=x))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var last=now()-this._lastAttempt;last<this._wait&&last>=0?this._timeoutId=setTimeout(this._$later,this._wait-last):(this._timeoutId=null,this._immediate||(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},S=createStream("debounce",mixin),P=createProperty("debounce",mixin);module.exports=function(obs,wait){var _ref2=void 0===arguments[2]?{}:arguments[2],_ref2$immediate=_ref2.immediate,immediate=void 0===_ref2$immediate?!1:_ref2$immediate;return new(obs._ofSameType(S,P))(obs,{wait:wait,immediate:immediate})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){var fn=this._fn,result=fn(x);result.convert?this._emitError(result.error):this._emitValue(x)}},S=createStream("valuesToErrors",mixin),P=createProperty("valuesToErrors",mixin),defFn=function(x){return{convert:!0,error:x}};module.exports=function(obs){var fn=void 0===arguments[1]?defFn:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleError:function(x){var fn=this._fn,result=fn(x);result.convert?this._emitValue(result.value):this._emitError(x)}},S=createStream("errorsToValues",mixin),P=createProperty("errorsToValues",mixin),defFn=function(x){return{convert:!0,value:x}};module.exports=function(obs){var fn=void 0===arguments[1]?defFn:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleError:function(x){var fn=this._fn;this._emitError(fn(x))}},S=createStream("mapErrors",mixin),P=createProperty("mapErrors",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleError:function(x){var fn=this._fn;fn(x)&&this._emitError(x)}},S=createStream("filterErrors",mixin),P=createProperty("filterErrors",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_handleError:function(x){this._emitError(x),this._emitEnd()}},S=createStream("endOnError",mixin),P=createProperty("endOnError",mixin);module.exports=function(obs){return new(obs._ofSameType(S,P))(obs)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_handleValue:function(){}},S=createStream("skipValues",mixin),P=createProperty("skipValues",mixin);module.exports=function(obs){return new(obs._ofSameType(S,P))(obs)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_handleError:function(){}},S=createStream("skipErrors",mixin),P=createProperty("skipErrors",mixin);module.exports=function(obs){return new(obs._ofSameType(S,P))(obs)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_handleEnd:function(){}},S=createStream("skipEnd",mixin),P=createProperty("skipEnd",mixin);module.exports=function(obs){return new(obs._ofSameType(S,P))(obs)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleEnd:function(){var fn=this._fn;this._emitValue(fn()),this._emitEnd()}},S=createStream("beforeEnd",mixin),P=createProperty("beforeEnd",mixin);module.exports=function(obs,fn){return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(5),slide=_require2.slide,mixin={_init:function(_ref){var min=_ref.min,max=_ref.max;this._max=max,this._min=min,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(x){this._buff=slide(this._buff,x,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},S=createStream("slidingWindow",mixin),P=createProperty("slidingWindow",mixin);module.exports=function(obs,max){var min=void 0===arguments[2]?0:arguments[2];return new(obs._ofSameType(S,P))(obs,{min:min,max:max})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn,flushOnEnd=_ref.flushOnEnd;this._fn=fn,this._flushOnEnd=flushOnEnd,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(x){this._buff.push(x);var fn=this._fn;fn(x)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},S=createStream("bufferWhile",mixin),P=createProperty("bufferWhile",mixin),id=function(x){return x};module.exports=function(obs,fn){var _ref2=void 0===arguments[2]?{}:arguments[2],_ref2$flushOnEnd=_ref2.flushOnEnd,flushOnEnd=void 0===_ref2$flushOnEnd?!0:_ref2$flushOnEnd;return new(obs._ofSameType(S,P))(obs,{fn:fn||id,flushOnEnd:flushOnEnd})}},function(module,exports,__webpack_require__){"use strict";function xformForObs(obs){return{"@@transducer/step":function(res,input){return obs._emitValue(input),null},"@@transducer/result":function(res){return obs._emitEnd(),null}}}var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var transducer=_ref.transducer;this._xform=transducer(xformForObs(this))},_free:function(){this._xform=null},_handleValue:function(x){null!==this._xform["@@transducer/step"](null,x)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},S=createStream("transduce",mixin),P=createProperty("transduce",mixin);module.exports=function(obs,transducer){return new(obs._ofSameType(S,P))(obs,{transducer:transducer})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,emitter=__webpack_require__(15),mixin={_init:function(_ref){var fn=_ref.fn;this._handler=fn,this._emitter=emitter(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(event){this._handler(this._emitter,event)}},S=createStream("withHandler",mixin),P=createProperty("withHandler",mixin);module.exports=function(obs,fn){return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";function defaultErrorsCombinator(errors){for(var latestError=void 0,i=0;i<errors.length;i++)void 0!==errors[i]&&(void 0===latestError||latestError.index<errors[i].index)&&(latestError=errors[i]);return latestError.error}function Combine(active,passive,combinator){var _this=this;Stream.call(this),this._activeCount=active.length,this._sources=concat(active,passive),this._combinator=combinator?spread(combinator,this._sources.length):function(x){return x},this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),fillArray(this._latestValues,NOTHING),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var _loop=function(i){_this._$handlers.push(function(event){return _this._handleAny(i,event)})},i=0;i<this._sources.length;i++)_loop(i)}var Stream=__webpack_require__(6),_require=__webpack_require__(3),VALUE=_require.VALUE,ERROR=_require.ERROR,NOTHING=_require.NOTHING,_require2=__webpack_require__(2),inherit=_require2.inherit,_require3=__webpack_require__(5),concat=_require3.concat,fillArray=_require3.fillArray,_require4=__webpack_require__(21),spread=_require4.spread,never=__webpack_require__(8);inherit(Combine,Stream,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var i=this._activeCount;i<this._sources.length;i++)this._sources[i].onAny(this._$handlers[i]);for(var i=0;i<this._activeCount;i++)this._sources[i].onAny(this._$handlers[i]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var length=this._sources.length,i=void 0;for(i=0;length>i;i++)this._sources[i].offAny(this._$handlers[i])},_emitIfFull:function(){for(var hasAllValues=!0,hasErrors=!1,length=this._latestValues.length,valuesCopy=new Array(length),errorsCopy=new Array(length),i=0;length>i;i++)valuesCopy[i]=this._latestValues[i],errorsCopy[i]=this._latestErrors[i],valuesCopy[i]===NOTHING&&(hasAllValues=!1),void 0!==errorsCopy[i]&&(hasErrors=!0);if(hasAllValues){var combinator=this._combinator;this._emitValue(combinator(valuesCopy))}hasErrors&&this._emitError(defaultErrorsCombinator(errorsCopy))},_handleAny:function(i,event){event.type===VALUE||event.type===ERROR?(event.type===VALUE&&(this._latestValues[i]=event.value,this._latestErrors[i]=void 0),event.type===ERROR&&(this._latestValues[i]=NOTHING,this._latestErrors[i]={index:this._latestErrorIndex++,error:event.value}),i<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):i<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){Stream.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}}),module.exports=function(active,_x,combinator){var passive=void 0===arguments[1]?[]:arguments[1];return"function"==typeof passive&&(combinator=passive,passive=[]),0===active.length?never():new Combine(active,passive,combinator)}},function(module,exports,__webpack_require__){"use strict";function Zip(sources,combinator){var _this=this;Stream.call(this),this._buffers=map(sources,function(source){return isArray(source)?cloneArray(source):[]}),this._sources=map(sources,function(source){return isArray(source)?never():source}),this._combinator=combinator?spread(combinator,this._sources.length):function(x){return x},this._aliveCount=0,this._$handlers=[];for(var _loop=function(i){_this._$handlers.push(function(event){return _this._handleAny(i,event)})},i=0;i<this._sources.length;i++)_loop(i)}var Stream=__webpack_require__(6),_require=__webpack_require__(3),VALUE=_require.VALUE,ERROR=_require.ERROR,END=_require.END,_require2=__webpack_require__(2),inherit=_require2.inherit,_require3=__webpack_require__(5),map=_require3.map,cloneArray=_require3.cloneArray,_require4=__webpack_require__(21),spread=_require4.spread,never=__webpack_require__(8),isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)};inherit(Zip,Stream,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var length=this._sources.length;this._aliveCount=length;for(var i=0;length>i&&this._active;i++)this._sources[i].onAny(this._$handlers[i])},_onDeactivation:function(){for(var i=0;i<this._sources.length;i++)this._sources[i].offAny(this._$handlers[i])},_emit:function(){for(var values=new Array(this._buffers.length),i=0;i<this._buffers.length;i++)values[i]=this._buffers[i].shift();var combinator=this._combinator;this._emitValue(combinator(values))},_isFull:function(){for(var i=0;i<this._buffers.length;i++)if(0===this._buffers[i].length)return!1;return!0},_handleAny:function(i,event){event.type===VALUE&&(this._buffers[i].push(event.value),this._isFull()&&this._emit()),event.type===ERROR&&this._emitError(event.value),event.type===END&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){Stream.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}}),module.exports=function(observables,combinator){return 0===observables.length?never():new Zip(observables,combinator)}},function(module,exports,__webpack_require__){"use strict";function Merge(sources){AbstractPool.call(this),this._addAll(sources),this._initialised=!0}var _require=__webpack_require__(2),inherit=_require.inherit,AbstractPool=__webpack_require__(60),never=__webpack_require__(8);inherit(Merge,AbstractPool,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),module.exports=function(observables){return 0===observables.length?never():new Merge(observables)}},function(module,exports,__webpack_require__){"use strict";function AbstractPool(){var _this=this,_ref=void 0===arguments[0]?{}:arguments[0],_ref$queueLim=_ref.queueLim,queueLim=void 0===_ref$queueLim?0:_ref$queueLim,_ref$concurLim=_ref.concurLim,concurLim=void 0===_ref$concurLim?-1:_ref$concurLim,_ref$drop=_ref.drop,drop=void 0===_ref$drop?"new":_ref$drop;Stream.call(this),this._queueLim=0>queueLim?-1:queueLim,this._concurLim=0>concurLim?-1:concurLim,this._drop=drop,this._queue=[],this._curSources=[],this._$handleSubAny=function(event){return _this._handleSubAny(event)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}var Stream=__webpack_require__(6),_require=__webpack_require__(3),VALUE=_require.VALUE,ERROR=_require.ERROR,_require2=__webpack_require__(2),inherit=_require2.inherit,_require3=__webpack_require__(5),concat=_require3.concat,forEach=_require3.forEach,findByPred=_require3.findByPred,find=_require3.find,remove=_require3.remove,cloneArray=_require3.cloneArray,id=function(x){return x};inherit(AbstractPool,Stream,{_name:"abstractPool",_add:function(obj,toObs){toObs=toObs||id,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(toObs(obj)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(toObs(obj)):"old"===this._drop&&(this._removeOldest(),this._add(obj,toObs))},_addAll:function(obss){var _this2=this;forEach(obss,function(obs){return _this2._add(obs)})},_remove:function(obs){-1===this._removeCur(obs)&&this._removeQueue(obs)},_addToQueue:function(obs){this._queue=concat(this._queue,[obs])},_addToCur:function(obs){if(this._active){if(!obs._alive)return void(obs._currentEvent&&this._emit(obs._currentEvent.type,obs._currentEvent.value));this._currentlyAdding=obs,obs.onAny(this._$handleSubAny),this._currentlyAdding=null,obs._alive&&(this._curSources=concat(this._curSources,[obs]),this._active&&this._subToEnd(obs))}else this._curSources=concat(this._curSources,[obs])},_subToEnd:function(obs){var _this3=this,onEnd=function(){return _this3._removeCur(obs)};this._$endHandlers.push({obs:obs,handler:onEnd}),obs.onEnd(onEnd)},_subscribe:function(obs){obs.onAny(this._$handleSubAny),this._active&&this._subToEnd(obs)},_unsubscribe:function(obs){obs.offAny(this._$handleSubAny);var onEndI=findByPred(this._$endHandlers,function(obj){return obj.obs===obs});-1!==onEndI&&(obs.offEnd(this._$endHandlers[onEndI].handler),this._$endHandlers.splice(onEndI,1))},_handleSubAny:function(event){event.type===VALUE?this._emitValue(event.value):event.type===ERROR&&this._emitError(event.value)},_removeQueue:function(obs){var index=find(this._queue,obs);return this._queue=remove(this._queue,index),index},_removeCur:function(obs){this._active&&this._unsubscribe(obs);var index=find(this._curSources,obs);return this._curSources=remove(this._curSources,index),-1!==index&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),index},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=cloneArray(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var i=0,sources=this._curSources;i<sources.length&&this._active;i++)this._subscribe(sources[i])},_onDeactivation:function(){for(var i=0,sources=this._curSources;i<sources.length;i++)this._unsubscribe(sources[i]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){Stream.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),module.exports=AbstractPool},function(module,exports,__webpack_require__){"use strict";var repeat=__webpack_require__(62);module.exports=function(observables){return repeat(function(index){return observables.length>index?observables[index]:!1}).setName("concat")}},function(module,exports,__webpack_require__){"use strict";function S(generator){var _this=this;Stream.call(this),this._generator=generator,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(event){return _this._handleAny(event)}}var _require=__webpack_require__(2),inherit=_require.inherit,Stream=__webpack_require__(6),_require2=__webpack_require__(3),END=_require2.END;inherit(S,Stream,{_name:"repeat",_handleAny:function(event){event.type===END?(this._source=null,this._getSource()):this._emit(event.type,event.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var generator=this._generator;null===this._source&&this._alive&&this._active;)this._source=generator(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){Stream.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}}),module.exports=function(generator){return new S(generator)}},function(module,exports,__webpack_require__){"use strict";function Pool(){AbstractPool.call(this)}var _require=__webpack_require__(2),inherit=_require.inherit,AbstractPool=__webpack_require__(60);inherit(Pool,AbstractPool,{_name:"pool",plug:function(obs){return this._add(obs),this},unplug:function(obs){return this._remove(obs),this}}),module.exports=Pool},function(module,exports,__webpack_require__){"use strict";function FlatMap(source,fn,options){var _this=this;AbstractPool.call(this,options),this._source=source,this._fn=fn,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(event){return _this._handleMain(event)}}var _require=__webpack_require__(3),VALUE=_require.VALUE,ERROR=_require.ERROR,END=_require.END,_require2=__webpack_require__(2),inherit=_require2.inherit,AbstractPool=__webpack_require__(60);inherit(FlatMap,AbstractPool,{_onActivation:function(){AbstractPool.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){AbstractPool.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(event){if(event.type===VALUE){var sameCurr=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===event.value;sameCurr||this._add(event.value,this._fn),this._lastCurrent=event.value,this._hadNoEvSinceDeact=!1}event.type===ERROR&&this._emitError(event.value),event.type===END&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){AbstractPool.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),module.exports=FlatMap},function(module,exports,__webpack_require__){"use strict";function FlatMapErrors(source,fn){FlatMap.call(this,source,fn)}var _require=__webpack_require__(3),VALUE=_require.VALUE,ERROR=_require.ERROR,END=_require.END,_require2=__webpack_require__(2),inherit=_require2.inherit,FlatMap=__webpack_require__(64);inherit(FlatMapErrors,FlatMap,{_handleMain:function(event){if(event.type===ERROR){var sameCurr=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===event.value;sameCurr||this._add(event.value,this._fn),this._lastCurrent=event.value,this._hadNoEvSinceDeact=!1}event.type===VALUE&&this._emitValue(event.value),event.type===END&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}}),module.exports=FlatMapErrors},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_handlePrimaryValue:function(x){this._lastSecondary!==NOTHING&&this._lastSecondary&&this._emitValue(x)},_handleSecondaryEnd:function(){this._lastSecondary!==NOTHING&&this._lastSecondary||this._emitEnd()}},S=createStream("filterBy",mixin),P=createProperty("filterBy",mixin);module.exports=function(primary,secondary){return new(primary._ofSameType(S,P))(primary,secondary)}},function(module,exports,__webpack_require__){"use strict";function createConstructor(BaseClass,name){return function(primary,secondary,options){var _this=this;BaseClass.call(this),this._primary=primary,this._secondary=secondary,this._name=""+primary._name+"."+name,this._lastSecondary=NOTHING,this._$handleSecondaryAny=function(event){return _this._handleSecondaryAny(event)},this._$handlePrimaryAny=function(event){return _this._handlePrimaryAny(event)},this._init(options)}}function createClassMethods(BaseClass){return{_init:function(options){},_free:function(){},_handlePrimaryValue:function(x){this._emitValue(x)},_handlePrimaryError:function(x){this._emitError(x)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(x){this._lastSecondary=x},_handleSecondaryError:function(x){this._emitError(x)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(event){switch(event.type){case VALUE:return this._handlePrimaryValue(event.value);case ERROR:return this._handlePrimaryError(event.value);case END:return this._handlePrimaryEnd(event.value)}},_handleSecondaryAny:function(event){switch(event.type){case VALUE:return this._handleSecondaryValue(event.value);case ERROR:return this._handleSecondaryError(event.value);case END:this._handleSecondaryEnd(event.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){BaseClass.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function createStream(name,mixin){var S=createConstructor(Stream,name);return inherit(S,Stream,createClassMethods(Stream),mixin),S}function createProperty(name,mixin){var P=createConstructor(Property,name);return inherit(P,Property,createClassMethods(Property),mixin),P}var Stream=__webpack_require__(6),Property=__webpack_require__(7),_require=__webpack_require__(2),inherit=_require.inherit,_require2=__webpack_require__(3),VALUE=_require2.VALUE,ERROR=_require2.ERROR,END=_require2.END,NOTHING=_require2.NOTHING;module.exports={createStream:createStream,createProperty:createProperty}},function(module,exports,__webpack_require__){"use strict";var combine=__webpack_require__(57),id2=function(_,x){return x};module.exports=function(passive,active,combinator){var _combinator=combinator?function(a,b){return combinator(b,a)}:id2;return combine([active],[passive],_combinator).setName(passive,"sampledBy")}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={
_handlePrimaryValue:function(x){this._lastSecondary!==NOTHING&&this._emitValue(x)},_handleSecondaryEnd:function(){this._lastSecondary===NOTHING&&this._emitEnd()}},S=createStream("skipUntilBy",mixin),P=createProperty("skipUntilBy",mixin);module.exports=function(primary,secondary){return new(primary._ofSameType(S,P))(primary,secondary)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_handleSecondaryValue:function(x){this._emitEnd()}},S=createStream("takeUntilBy",mixin),P=createProperty("takeUntilBy",mixin);module.exports=function(primary,secondary){return new(primary._ofSameType(S,P))(primary,secondary)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(){var _ref=void 0===arguments[0]?{}:arguments[0],_ref$flushOnEnd=_ref.flushOnEnd,flushOnEnd=void 0===_ref$flushOnEnd?!0:_ref$flushOnEnd;this._buff=[],this._flushOnEnd=flushOnEnd},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(x){this._buff.push(x)},_handleSecondaryValue:function(x){this._flush()},_handleSecondaryEnd:function(x){this._flushOnEnd||this._emitEnd()}},S=createStream("bufferBy",mixin),P=createProperty("bufferBy",mixin);module.exports=function(primary,secondary,options){return new(primary._ofSameType(S,P))(primary,secondary,options)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_init:function(){var _ref=void 0===arguments[0]?{}:arguments[0],_ref$flushOnEnd=_ref.flushOnEnd,flushOnEnd=void 0===_ref$flushOnEnd?!0:_ref$flushOnEnd;this._buff=[],this._flushOnEnd=flushOnEnd},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(x){this._buff.push(x),this._lastSecondary===NOTHING||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(x){this._flushOnEnd||this._lastSecondary!==NOTHING&&!this._lastSecondary||this._emitEnd()}},S=createStream("bufferWhileBy",mixin),P=createProperty("bufferWhileBy",mixin);module.exports=function(primary,secondary,options){return new(primary._ofSameType(S,P))(primary,secondary,options)}},function(module,exports,__webpack_require__){"use strict";var merge=__webpack_require__(59),map=__webpack_require__(29),skipDuplicates=__webpack_require__(36),toProperty=__webpack_require__(25),f=function(){return!1},t=function(){return!0};module.exports=function(a,b){var result=merge([map(a,t),map(b,f)]);return result=skipDuplicates(result),result=toProperty(result,f),result.setName(a,"awaiting")}},function(module,exports,__webpack_require__){"use strict";function Emitter(){Stream.call(this)}var _require=__webpack_require__(2),inherit=_require.inherit,Stream=__webpack_require__(6);inherit(Emitter,Stream,{_name:"emitter",emit:function(x){return this._emitValue(x),this},error:function(x){return this._emitError(x),this},end:function(){return this._emitEnd(),this},emitEvent:function(event){this._emit(event.type,event.value)}}),module.exports=Emitter},function(module,exports,__webpack_require__){"use strict";function Bus(){AbstractPool.call(this)}var _require=__webpack_require__(2),inherit=_require.inherit,AbstractPool=__webpack_require__(60);inherit(Bus,AbstractPool,{_name:"bus",plug:function(obs){return this._add(obs),this},unplug:function(obs){return this._remove(obs),this},emit:function(x){return this._emitValue(x),this},error:function(x){return this._emitError(x),this},end:function(){return this._emitEnd(),this},emitEvent:function(event){this._emit(event.type,event.value)}}),module.exports=Bus},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_init:function(_ref){var fn=_ref.fn,seed=_ref.seed;this._fn=fn,this._result=seed},_free:function(){this._fn=null,this._result=null},_handleValue:function(x){var fn=this._fn;this._result=this._result===NOTHING?x:fn(this._result,x)},_handleEnd:function(){this._result!==NOTHING&&this._emitValue(this._result),this._emitEnd()}},S=createStream("reduce",mixin),P=createProperty("reduce",mixin);module.exports=function(obs,fn){var seed=void 0===arguments[2]?NOTHING:arguments[2];return new(obs._ofSameType(S,P))(obs,{fn:fn,seed:seed})}},function(module,exports,__webpack_require__){"use strict";var combine=__webpack_require__(57),_require=__webpack_require__(21),apply=_require.apply,_require2=__webpack_require__(5),circleShift=_require2.circleShift;module.exports=function(passive,active,combinator){var _combinator=combinator;return passive.length>0&&(_combinator=function(){var args=circleShift(arguments,passive.length);return combinator?apply(combinator,null,args):args}),combine(active,passive,_combinator).setName("sampledBy")}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),_require=__webpack_require__(5),cloneArray=_require.cloneArray,S=timeBased({_name:"repeatedly",_init:function(_ref){var xs=_ref.xs;this._xs=cloneArray(xs),this._i=-1},_onTick:function(){this._xs.length>0&&(this._i=(this._i+1)%this._xs.length,this._emitValue(this._xs[this._i]))}});module.exports=function(wait,xs){return new S(wait,{xs:xs})}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29);module.exports=function(obs,x){return map(obs,function(){return x}).setName(obs,"mapTo")}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29);module.exports=function(obs,fn){return map(obs,function(x){return fn(x),x}).setName(obs,"tap")}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29);module.exports=function(obs,propName){return map(obs,function(x){return x[propName]}).setName(obs,"pluck")}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29),_require=__webpack_require__(21),apply=_require.apply;module.exports=function(obs,methodName,args){var fn=0===args.length?function(x){return x[methodName]()}:function(x){return apply(x[methodName],x,args)};return map(obs,fn).setName(obs,"invoke")}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29),now=__webpack_require__(42);module.exports=function(obs){return map(obs,function(x){return{value:x,time:now()}}).setName(obs,"timestamp")}},function(module,exports,__webpack_require__){"use strict";function fn(){var i=void 0;for(i=0;i<arguments.length;i++)if(!arguments[i])return arguments[i];return arguments[i-1]}var combine=__webpack_require__(57);module.exports=function(observables){return combine(observables,[],fn).setName("and")}},function(module,exports,__webpack_require__){"use strict";function fn(){var i=void 0;for(i=0;i<arguments.length;i++)if(arguments[i])return arguments[i];return arguments[i-1]}var combine=__webpack_require__(57);module.exports=function(observables){return combine(observables,[],fn).setName("or")}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29);module.exports=function(obs){return map(obs,function(x){return!x}).setName(obs,"not")}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_handlePrimaryValue:function(x){this._lastSecondary!==NOTHING&&this._emitValue(x)},_handleSecondaryValue:function(x){this._lastSecondary=x,this._lastSecondary||this._emitEnd()},_handleSecondaryEnd:function(){this._lastSecondary===NOTHING&&this._emitEnd()}},S=createStream("takeWhileBy",mixin),P=createProperty("takeWhileBy",mixin);module.exports=function(primary,secondary){return new(primary._ofSameType(S,P))(primary,secondary)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(){this._hasFalseyFromSecondary=!1},_handlePrimaryValue:function(x){this._hasFalseyFromSecondary&&this._emitValue(x)},_handleSecondaryValue:function(x){this._hasFalseyFromSecondary=this._hasFalseyFromSecondary||!x},_handleSecondaryEnd:function(){this._hasFalseyFromSecondary||this._emitEnd()}},S=createStream("skipWhileBy",mixin),P=createProperty("skipWhileBy",mixin);module.exports=function(primary,secondary){return new(primary._ofSameType(S,P))(primary,secondary)}}])});


},{}],48:[function(require,module,exports){
function EventEmitter(){EventEmitter.init.call(this)}var util={};util.isObject=function(arg){return"object"==typeof arg&&null!==arg},util.isNumber=function(arg){return"number"==typeof arg},util.isUndefined=function(arg){return void 0===arg},util.isFunction=function(arg){return"function"==typeof arg},module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if(!util.isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&!this._events.error)throw er=arguments[1],er instanceof Error?er:Error('Uncaught, unspecified "error" event.');if(handler=this._events[type],util.isUndefined(handler))return!1;if(util.isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(util.isObject(handler)){for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!util.isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,util.isFunction(listener.listener)?listener.listener:listener),this._events[type]?util.isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,util.isObject(this._events[type])&&!this._events[type].warned){var m;m=util.isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,util.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),util.isFunction(console.trace)&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!util.isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!util.isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||util.isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(util.isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],util.isFunction(listeners))this.removeListener(type,listeners);else if(Array.isArray(listeners))for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?util.isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?util.isFunction(emitter._events[type])?1:emitter._events[type].length:0};


},{}],49:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _core=require("../core"),Actions=_core.createActions(["create","updateText","toggleComplete","toggleCompleteAll","destroy","destroyCompleted","setFilter"]);exports["default"]=Actions,module.exports=exports["default"];


},{"../core":58}],50:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _core=require("../core"),Constants=_core.createConstants(["FILTER_ALL","FILTER_ACTIVE","FILTER_COMPLETE"]);exports["default"]=Constants,module.exports=exports["default"];


},{"../core":58}],51:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _eventStream=require("./eventStream"),_eventStream2=_interopRequireDefault(_eventStream),_factories=require("./factories");exports["default"]=_factories.actionFactory(_eventStream2["default"]),module.exports=exports["default"];


},{"./eventStream":55,"./factories":57,"babel-runtime/helpers/interop-require-default":9}],52:[function(require,module,exports){
"use strict";function createActions(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return _utilities.flatten(args).reduce(function(acc,action){return(acc[action]=_createAction2["default"](action))&&acc},{})}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createActions;var _utilities=require("./utilities"),_createAction=require("./createAction"),_createAction2=_interopRequireDefault(_createAction);module.exports=exports["default"];


},{"./createAction":51,"./utilities":61,"babel-runtime/helpers/interop-require-default":9}],53:[function(require,module,exports){
"use strict";function createConstants(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return _utilities.flatten(args).reduce(function(acc,key){return(acc[key]=key)&&acc},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createConstants;var _utilities=require("./utilities");module.exports=exports["default"];


},{"./utilities":61}],54:[function(require,module,exports){
"use strict";function actionsToStreams(){var actions=void 0===arguments[0]?{}:arguments[0];return _Object$keys(actions).map(function(key){return actions[key]})}function mutateOrPassthrough(_ref){var _ref2=_toArray(_ref),context=_ref2[0],actionName=_ref2[1],content=_ref2[2],rest=_ref2.slice(3),handler=context["on"+_utilities.toSentenceCase(actionName)];return _utilities.isFunction(handler)&&[content,handler.apply(void 0,[content].concat(_toConsumableArray(rest)))]||[content,content]}function diff(_ref3){var _ref32=_slicedToArray(_ref3,2),currentState=_ref32[0],nextState=_ref32[1];return!_immutable2["default"].is(currentState,nextState)}function createStore(obj){var Store=_Object$create(obj),Content=Store.type&&Store.type()||_immutable2["default"].OrderedMap(),ContentStream=_kefir2["default"].stream(function(emitter){return emitter.emit(Content)});window.ContentStream=ContentStream;var Actions=actionsToStreams(Store.actions).map(function(action){return _kefir2["default"].combine([_kefir2["default"].constant(Store),_kefir2["default"].constant(action._name),action.flatMap(function(){return ContentStream.sampledBy(action)}),action]).log()}),Stream=_kefir2["default"].merge(Actions).log("Actions").map(mutateOrPassthrough).filter(diff);return Stream.map(function(_ref4){var _ref42=_slicedToArray(_ref4,2),currentState=_ref42[0],nextState=_ref42[1];return currentState.merge(nextState)}).log("merged").map(function(store){return store.toJS()}).log("store"),Store=_utilities.inherit(Stream,Store)}var _toConsumableArray=require("babel-runtime/helpers/to-consumable-array")["default"],_toArray=require("babel-runtime/helpers/to-array")["default"],_slicedToArray=require("babel-runtime/helpers/sliced-to-array")["default"],_Symbol=require("babel-runtime/core-js/symbol")["default"],_Object$keys=require("babel-runtime/core-js/object/keys")["default"],_Object$create=require("babel-runtime/core-js/object/create")["default"],_interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createStore;var _immutable=require("immutable"),_immutable2=_interopRequireDefault(_immutable),_kefir=require("kefir"),_kefir2=_interopRequireDefault(_kefir),_utilities=require("./utilities"),contentKey=_Symbol("contents");module.exports=exports["default"];


},{"./utilities":61,"babel-runtime/core-js/object/create":6,"babel-runtime/core-js/object/keys":7,"babel-runtime/core-js/symbol":8,"babel-runtime/helpers/interop-require-default":9,"babel-runtime/helpers/sliced-to-array":11,"babel-runtime/helpers/to-array":12,"babel-runtime/helpers/to-consumable-array":13,"immutable":46,"kefir":47}],55:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _nodeEventEmitter=require("node-event-emitter"),_nodeEventEmitter2=_interopRequireDefault(_nodeEventEmitter);exports["default"]=new _nodeEventEmitter2["default"],module.exports=exports["default"];


},{"babel-runtime/helpers/interop-require-default":9,"node-event-emitter":48}],56:[function(require,module,exports){
"use strict";function actionFactory(eventStream){return function(actionName){var Emitter=void 0,Stream=_kefir2["default"].stream(function(emitter){return Emitter=emitter}),functor=function(value){return Emitter.emit(value)};return functor=_utilities.inherit(Stream,functor),functor._name=actionName,functor}}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=actionFactory;var _kefir=require("kefir"),_kefir2=_interopRequireDefault(_kefir),_utilities=require("../utilities");module.exports=exports["default"];


},{"../utilities":61,"babel-runtime/helpers/interop-require-default":9,"kefir":47}],57:[function(require,module,exports){
"use strict";var _interopRequire=require("babel-runtime/helpers/interop-require")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _actionFactory=require("./actionFactory");exports.actionFactory=_interopRequire(_actionFactory);


},{"./actionFactory":56,"babel-runtime/helpers/interop-require":10}],58:[function(require,module,exports){
"use strict";var _interopRequire=require("babel-runtime/helpers/interop-require")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _eventStream=require("./eventStream");exports.eventStream=_interopRequire(_eventStream);var _createAction=require("./createAction");exports.createAction=_interopRequire(_createAction);var _createActions=require("./createActions");exports.createActions=_interopRequire(_createActions);var _createConstants=require("./createConstants");exports.createConstants=_interopRequire(_createConstants);var _createStore=require("./createStore");exports.createStore=_interopRequire(_createStore);


},{"./createAction":51,"./createActions":52,"./createConstants":53,"./createStore":54,"./eventStream":55,"babel-runtime/helpers/interop-require":10}],59:[function(require,module,exports){
"use strict";function createObj(proto){var F=new Function;return F.prototype=proto,new F}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createObj,module.exports=exports["default"];


},{}],60:[function(require,module,exports){
"use strict";function flatten(arr){return arr.reduce(function(acc,item){return acc.concat(item)},[])}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=flatten,module.exports=exports["default"];


},{}],61:[function(require,module,exports){
"use strict";var _interopRequire=require("babel-runtime/helpers/interop-require")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _createObj=require("./createObj");exports.createObj=_interopRequire(_createObj);var _flatten=require("./flatten");exports.flatten=_interopRequire(_flatten);var _inherit=require("./inherit");exports.inherit=_interopRequire(_inherit);var _isFunction=require("./isFunction");exports.isFunction=_interopRequire(_isFunction);var _toSentenceCase=require("./toSentenceCase");exports.toSentenceCase=_interopRequire(_toSentenceCase);


},{"./createObj":59,"./flatten":60,"./inherit":62,"./isFunction":63,"./toSentenceCase":64,"babel-runtime/helpers/interop-require":10}],62:[function(require,module,exports){
"use strict";function inherit(stream,obj){var proto=_.createObj(stream.constructor.prototype);for(var fn in proto)obj[fn]=_.isFunction(proto[fn])?proto[fn].bind(stream):proto[fn];return obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=inherit;var _=require("./");module.exports=exports["default"];


},{"./":61}],63:[function(require,module,exports){
"use strict";function isFunction(fn){return"function"==typeof fn}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=isFunction,module.exports=exports["default"];


},{}],64:[function(require,module,exports){
"use strict";function toSentenceCase(str){return str.substr(0,1).toUpperCase()+str.substr(1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=toSentenceCase,module.exports=exports["default"];


},{}],65:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _actions=require("../actions"),_actions2=_interopRequireDefault(_actions),_Immutable=require("Immutable"),_Immutable2=_interopRequireDefault(_Immutable),_constants=require("../constants"),_constants2=_interopRequireDefault(_constants),_core=require("../core"),_utilities=require("../utilities"),create=function(text){return _Immutable2["default"].Map({id:_utilities.uuid(),completed:!1,text:text})},isComplete=function(todo){return todo.get("complete")},TodoStore=_core.createStore({actions:_actions2["default"],modifier:_actions2["default"].setFilter,onCreate:function(todos,text){var todo=create(text);return todos.set(todo.get("id"),todo)},onUpdateText:function(todos,todo){return todos.setIn([todo.id,"text"],todo.text)},onToggleComplete:function(todos,todo){return todos.setIn([todo.id,"complete"],!todo.complete)},onToggleCompleteAll:function(todos){return todos.map(function(todo){return todo.set("complete",!0)})},onDestroy:function(todos,todo){return todos["delete"](todo.id)},onDestroyCompleted:function(todos){return todos.filterNot(function(todo){return todo.get("complete")})},setFilter:function(todos,filter){switch(filter){case _constants2["default"].FILTER_ACTIVE:return todos.filterNot(isComplete);case _constants2["default"].FILTER_COMPLETE:return todos.filter(isComplete);default:return todos}}});exports["default"]=TodoStore,module.exports=exports["default"];


},{"../actions":49,"../constants":50,"../core":58,"../utilities":66,"Immutable":2,"babel-runtime/helpers/interop-require-default":9}],66:[function(require,module,exports){
"use strict";var _interopRequire=require("babel-runtime/helpers/interop-require")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _uuid=require("./uuid");exports.uuid=_interopRequire(_uuid);


},{"./uuid":67,"babel-runtime/helpers/interop-require":10}],67:[function(require,module,exports){
"use strict";function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function uuid(){var p4="4"+s4().slice(-3),p5=(3&parseInt(s4().slice(0,1),16)|8).toString(16)+s4().slice(-3);return""+s4()+s4()+"-"+s4()+"-"+p4+"-"+p5+"-"+s4()+s4()+s4()}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=uuid,module.exports=exports["default"];


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvc3JjL2FwcC5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvSW1tdXRhYmxlL2Rpc3QvaW1tdXRhYmxlLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbS5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvci5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2lzLWl0ZXJhYmxlLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9zbGljZWQtdG8tYXJyYXkuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90by1hcnJheS5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvLWNvbnN1bWFibGUtYXJyYXkuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vZ2V0LWl0ZXJhdG9yLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGUuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYXNzZXJ0LmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvZi5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5jdHguanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZGVmLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmVudW0ta2V5cy5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5mdy5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5nZXQtbmFtZXMuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1jYWxsLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItZGVmaW5lLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItZGV0ZWN0LmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXIuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQua2V5b2YuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQucmVkZWYuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuc2hhcmVkLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnN0cmluZy1hdC5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC51aWQuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQudW5zY29wZS5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC53a3MuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuaXRlci1oZWxwZXJzLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnN0YXRpY3MtYWNjZXB0LXByaW1pdGl2ZXMuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvbm9kZV9tb2R1bGVzL2ltbXV0YWJsZS9kaXN0L2ltbXV0YWJsZS5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMva2VmaXIvZGlzdC9rZWZpci5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9ub2RlX21vZHVsZXMvbm9kZS1ldmVudC1lbWl0dGVyL2luZGV4LmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL3NyYy9hY3Rpb25zL2luZGV4LmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL3NyYy9jb25zdGFudHMvaW5kZXguanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvc3JjL2NvcmUvY3JlYXRlQWN0aW9uLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL3NyYy9jb3JlL2NyZWF0ZUFjdGlvbnMuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvc3JjL2NvcmUvY3JlYXRlQ29uc3RhbnRzLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL3NyYy9jb3JlL2NyZWF0ZVN0b3JlLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL3NyYy9jb3JlL2V2ZW50U3RyZWFtLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL3NyYy9jb3JlL2ZhY3Rvcmllcy9hY3Rpb25GYWN0b3J5LmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL3NyYy9jb3JlL2ZhY3Rvcmllcy9pbmRleC5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9zcmMvY29yZS9pbmRleC5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9zcmMvY29yZS91dGlsaXRpZXMvY3JlYXRlT2JqLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL3NyYy9jb3JlL3V0aWxpdGllcy9mbGF0dGVuLmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9mIDUvRlJQL3JlYWN0LWtlZmlyL3NyYy9jb3JlL3V0aWxpdGllcy9pbmRleC5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9zcmMvY29yZS91dGlsaXRpZXMvaW5oZXJpdC5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9zcmMvY29yZS91dGlsaXRpZXMvaXNGdW5jdGlvbi5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9zcmMvY29yZS91dGlsaXRpZXMvdG9TZW50ZW5jZUNhc2UuanMiLCIvVXNlcnMvam9lL1dvcmtzcGFjZS9Gb3VydGggb2YgNS9GUlAvcmVhY3Qta2VmaXIvc3JjL3N0b3Jlcy9pbmRleC5qcyIsIi9Vc2Vycy9qb2UvV29ya3NwYWNlL0ZvdXJ0aCBvZiA1L0ZSUC9yZWFjdC1rZWZpci9zcmMvdXRpbGl0aWVzL2luZGV4LmpzIiwiL1VzZXJzL2pvZS9Xb3Jrc3BhY2UvRm91cnRoIG9m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S0FBSyxDQUFDO0FGSDlDLEFNSmUsQ0RJZCxFSEc2QyxDRkgxQyxBRUcyQyxLSVB2QixLTklWLEVNSmlCLENOSWQsQU1KZSxHQUFHLEVBQUUsR05JYixVQUFVLENBQUMsQ0FBQztBRUlsQyxBSVBELFFBQU8sQ0pPQyxFSVBFLENKT0MsQUlQQSxBRUNHLE1GREcsQ0FBQyxFRUNLLE1ORGYsRUVDZ0MsQUVEckIsQ0VDWSxFRkRULEVKQVAsQUlBUyxFSk9MLENNTm9CLENGRFgsSUpPSCxBTUx6QixFTksyQixDTUx2QixDSkRxRCxLRk12QixDQUFDLEFNTHZCLENOS3dCLENNUjVCLFVBR2MsT0FBTyxZQUFZLFVBQ3pDLEtBQUssR0FBSSxNQUFNLE9BQ2QsSUFBSSxJQUFNLEVBTFEsV0FLRyxNQUFNLEtBQU8sTUFBTSxJQUFJLEtBQUssUUFBVSxNQUFNLEdBRWxFLE9BQU8sK0VBTGdCLHNCQUZjO0FSTXRDLEFFR0UsU0ZITyxBRUdBLEFJUnlCLENKUXhCLEVJUjJCLENBQUMsRUpRdkIsR0FBRyxDSVIwQixDQUFDLElBQUksQ05LeEIsQU1MeUIsR05LVixBRUdaLENBQUM7QUFDM0IsRUlUZ0QsRUFBRSxDTksxQixDTUw0QixDQUFDLENGQ25DLEFFRG1DLENKUzlDLEdGSndCLElFSWpCLENBQUMsSUVSZ0IsdUJKSUcsRUFBRTtDTUpyQyxDSlNDLENBQUE7QUZKRCxDRUtBLE9GTE8sSVNQTyxTVE9LLEFTUEksSUZBYSxHUE9WLENBQUMsQ0FBQyxDSUpjLEVKSVgsQVNQRyxDVE9GLEdTTmhDLENGRGlELEtFQzVCLENUTVcsR0FBRyxHSUowQixXS0YvQyw4RUFEUztBSEV2QixDQUFDLFFOS3NDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQVFMNUIsT0FBTztFUktxQixDQUFDLENBQUMsSUlKbEMsQUdIQSxTQUFTLE1IR007Q0pLbEMsZVFScUMsSUFBSTtZRUEzQixTQUFTLEVIQ1csSUhHSSxPR0hPLEdHRFAsS05JZSxBTUhwRCxNQUFPLEtBQUksT0FBTyxFQUFHLEdBQUcsY0FBZ0IsSUFBSSxPQUFPLDZFQUQ3QjtBVlV4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QkFBQyxLQUFLLEVBQUU7QUFDMUIsU1htQmMsQVduQlAsS1htQlksQVduQlAsQ1htQlEsQVduQlAsR0FBRyxDWG1CUSxBV25CUCxFWG1CUyxRV25CVCxJQUFJO0VYbUJLLENBQUMsQ0FDMUIsR0FBRyxDQUFDLEVXcEJvQixJQUFJLENYb0JqQixBV3BCa0IsQ1hvQmpCLENBQUMsQ1dwQm1CLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQztHQUFBLENBQUMsQ0FBQztBWHNCdEQsRVdyQkMsSVhxQkksR0FBRyxlQWhENEIsT0FBTyxFQWdEM0IsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQy9CLEFXckJBLFFYcUJPLEVXckJFLEVBQUEsQ1hxQkcsQ0FBQyxpQldyQkgsS0FBSyxFQUFFLElBQUksRUFBRTtBQUN0QixTQUFPLEtBQUssVUFBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztFQUM3QjtBQUNELG1CQUFrQixFQUFBLDRCQUFDLEtBQUssRUFBRTtBQUN6QixTQUFPLEtBQUssQ0FBQyxTQUFTLENBQUMsVUFBQSxJQUFJO1VBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUM7R0FBQSxDQUFDLENBQUM7RUFDckQ7QUFDRCxVQUFTLEVBQUEsbUJBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRTtBQUN4QixVQUFPLE1BQU07QUFDWixRQUFLLHVCQUFVLGFBQWE7QUFBRSxXQUFPLEtBQUssQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7QUFBQSxBQUNqRSxRQUFLLHVCQUFVLGVBQWU7QUFBRSxXQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7QUFBQSxBQUNoRTtBQUFTLFdBQU8sS0FBSyxDQUFDO0FBQUEsR0FDdEI7RUFDRDtDQUNELENBQUMsQ0FBQzs7cUJBRVksU0FBUztDWDJCdkI7O0FBQUEsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgQWN0aW9ucyBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IFRvZG9TdG9yZSBmcm9tICcuL3N0b3Jlcyc7XG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcblxuaW1wb3J0IEtlZmlyIGZyb20gJ2tlZmlyJztcbmltcG9ydCBJbW11dGFibGUgZnJvbSAnaW1tdXRhYmxlJztcblxubGV0IGlzV29ya2luZyA9IGZhbHNlO1xuXG4vLyBUb2RvU3RvcmUubWFwKHN0b3JlID0+IHN0b3JlLnRvTGlzdCgpLnRvSlMoKSkubG9nKCd0b2RvU3RvcmUnKTtcblxuLy8gVG9kb1N0b3JlLm9uVmFsdWUoZnVuY3Rpb24odG9kb3MpIHtcbi8vIFx0aWYgKHRvZG9zLnNpemUgPT09IDEwICYmICFpc1dvcmtpbmcpIHtcbi8vIFx0XHRpc1dvcmtpbmcgPSB0cnVlO1xuLy8gXHRcdGxldCB0ZW1wID0gdG9kb3MudGFrZUxhc3QoNCkudG9MaXN0KCkudG9KUygpO1xuLy8gXHRcdHRlbXAuZm9yRWFjaChmdW5jdGlvbih0b2RvKSB7XG4vLyBcdFx0XHRBY3Rpb25zLnRvZ2dsZUNvbXBsZXRlKHRvZG8pO1xuLy8gXHRcdH0pO1xuLy8gXHRcdEFjdGlvbnMuc2V0RmlsdGVyKENvbnN0YW50cy5GSUxURVJfQ09NUExFVEUpO1xuLy8gXHRcdEFjdGlvbnMuc2V0RmlsdGVyKENvbnN0YW50cy5GSUxURVJfQUxMKTtcbi8vIFx0fVxuLy8gfSk7XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRBY3Rpb25zLmNyZWF0ZShgaGVsbG8ke2krMX1gKTtcbn1cblxud2luZG93LkFjdGlvbnMgPSBBY3Rpb25zO1xud2luZG93LlRvZG9TdG9yZSA9IFRvZG9TdG9yZTtcblxud2luZG93LktlZmlyID0gS2VmaXI7XG53aW5kb3cuSW1tdXRhYmxlID0gSW1tdXRhYmxlO1xuIiwiLyoqXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiAgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiAgb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgZ2xvYmFsLkltbXV0YWJsZSA9IGZhY3RvcnkoKVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0Jzt2YXIgU0xJQ0UkMCA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuICBmdW5jdGlvbiBjcmVhdGVDbGFzcyhjdG9yLCBzdXBlckNsYXNzKSB7XG4gICAgaWYgKHN1cGVyQ2xhc3MpIHtcbiAgICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gICAgfVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvcjtcbiAgfVxuXG4gIC8vIFVzZWQgZm9yIHNldHRpbmcgcHJvdG90eXBlIG1ldGhvZHMgdGhhdCBJRTggY2hva2VzIG9uLlxuICB2YXIgREVMRVRFID0gJ2RlbGV0ZSc7XG5cbiAgLy8gQ29uc3RhbnRzIGRlc2NyaWJpbmcgdGhlIHNpemUgb2YgdHJpZSBub2Rlcy5cbiAgdmFyIFNISUZUID0gNTsgLy8gUmVzdWx0ZWQgaW4gYmVzdCBwZXJmb3JtYW5jZSBhZnRlciBfX19fX18/XG4gIHZhciBTSVpFID0gMSA8PCBTSElGVDtcbiAgdmFyIE1BU0sgPSBTSVpFIC0gMTtcblxuICAvLyBBIGNvbnNpc3RlbnQgc2hhcmVkIHZhbHVlIHJlcHJlc2VudGluZyBcIm5vdCBzZXRcIiB3aGljaCBlcXVhbHMgbm90aGluZyBvdGhlclxuICAvLyB0aGFuIGl0c2VsZiwgYW5kIG5vdGhpbmcgdGhhdCBjb3VsZCBiZSBwcm92aWRlZCBleHRlcm5hbGx5LlxuICB2YXIgTk9UX1NFVCA9IHt9O1xuXG4gIC8vIEJvb2xlYW4gcmVmZXJlbmNlcywgUm91Z2ggZXF1aXZhbGVudCBvZiBgYm9vbCAmYC5cbiAgdmFyIENIQU5HRV9MRU5HVEggPSB7IHZhbHVlOiBmYWxzZSB9O1xuICB2YXIgRElEX0FMVEVSID0geyB2YWx1ZTogZmFsc2UgfTtcblxuICBmdW5jdGlvbiBNYWtlUmVmKHJlZikge1xuICAgIHJlZi52YWx1ZSA9IGZhbHNlO1xuICAgIHJldHVybiByZWY7XG4gIH1cblxuICBmdW5jdGlvbiBTZXRSZWYocmVmKSB7XG4gICAgcmVmICYmIChyZWYudmFsdWUgPSB0cnVlKTtcbiAgfVxuXG4gIC8vIEEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIHZhbHVlIHJlcHJlc2VudGluZyBhbiBcIm93bmVyXCIgZm9yIHRyYW5zaWVudCB3cml0ZXNcbiAgLy8gdG8gdHJpZXMuIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBvbmx5IGV2ZXIgZXF1YWwgaXRzZWxmLCBhbmQgd2lsbCBub3QgZXF1YWxcbiAgLy8gdGhlIHJldHVybiBvZiBhbnkgc3Vic2VxdWVudCBjYWxsIG9mIHRoaXMgZnVuY3Rpb24uXG4gIGZ1bmN0aW9uIE93bmVySUQoKSB7fVxuXG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2NvcHktYXJyYXktaW5saW5lXG4gIGZ1bmN0aW9uIGFyckNvcHkoYXJyLCBvZmZzZXQpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgICB2YXIgbGVuID0gTWF0aC5tYXgoMCwgYXJyLmxlbmd0aCAtIG9mZnNldCk7XG4gICAgdmFyIG5ld0FyciA9IG5ldyBBcnJheShsZW4pO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICAgIG5ld0FycltpaV0gPSBhcnJbaWkgKyBvZmZzZXRdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3QXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5zdXJlU2l6ZShpdGVyKSB7XG4gICAgaWYgKGl0ZXIuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpdGVyLnNpemUgPSBpdGVyLl9faXRlcmF0ZShyZXR1cm5UcnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZXIuc2l6ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXBJbmRleChpdGVyLCBpbmRleCkge1xuICAgIHJldHVybiBpbmRleCA+PSAwID8gKCtpbmRleCkgOiBlbnN1cmVTaXplKGl0ZXIpICsgKCtpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gd2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKSB7XG4gICAgcmV0dXJuIChiZWdpbiA9PT0gMCB8fCAoc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGJlZ2luIDw9IC1zaXplKSkgJiZcbiAgICAgIChlbmQgPT09IHVuZGVmaW5lZCB8fCAoc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGVuZCA+PSBzaXplKSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUluZGV4KGJlZ2luLCBzaXplLCAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVFbmQoZW5kLCBzaXplKSB7XG4gICAgcmV0dXJuIHJlc29sdmVJbmRleChlbmQsIHNpemUsIHNpemUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUluZGV4KGluZGV4LCBzaXplLCBkZWZhdWx0SW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggPT09IHVuZGVmaW5lZCA/XG4gICAgICBkZWZhdWx0SW5kZXggOlxuICAgICAgaW5kZXggPCAwID9cbiAgICAgICAgTWF0aC5tYXgoMCwgc2l6ZSArIGluZGV4KSA6XG4gICAgICAgIHNpemUgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgaW5kZXggOlxuICAgICAgICAgIE1hdGgubWluKHNpemUsIGluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJdGVyYWJsZSh2YWx1ZSkgPyB2YWx1ZSA6IFNlcSh2YWx1ZSk7XG4gICAgfVxuXG5cbiAgY3JlYXRlQ2xhc3MoS2V5ZWRJdGVyYWJsZSwgSXRlcmFibGUpO1xuICAgIGZ1bmN0aW9uIEtleWVkSXRlcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0tleWVkKHZhbHVlKSA/IHZhbHVlIDogS2V5ZWRTZXEodmFsdWUpO1xuICAgIH1cblxuXG4gIGNyZWF0ZUNsYXNzKEluZGV4ZWRJdGVyYWJsZSwgSXRlcmFibGUpO1xuICAgIGZ1bmN0aW9uIEluZGV4ZWRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW5kZXhlZCh2YWx1ZSkgPyB2YWx1ZSA6IEluZGV4ZWRTZXEodmFsdWUpO1xuICAgIH1cblxuXG4gIGNyZWF0ZUNsYXNzKFNldEl0ZXJhYmxlLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gU2V0SXRlcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0l0ZXJhYmxlKHZhbHVlKSAmJiAhaXNBc3NvY2lhdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IFNldFNlcSh2YWx1ZSk7XG4gICAgfVxuXG5cblxuICBmdW5jdGlvbiBpc0l0ZXJhYmxlKG1heWJlSXRlcmFibGUpIHtcbiAgICByZXR1cm4gISEobWF5YmVJdGVyYWJsZSAmJiBtYXliZUl0ZXJhYmxlW0lTX0lURVJBQkxFX1NFTlRJTkVMXSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0tleWVkKG1heWJlS2V5ZWQpIHtcbiAgICByZXR1cm4gISEobWF5YmVLZXllZCAmJiBtYXliZUtleWVkW0lTX0tFWUVEX1NFTlRJTkVMXSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0luZGV4ZWQobWF5YmVJbmRleGVkKSB7XG4gICAgcmV0dXJuICEhKG1heWJlSW5kZXhlZCAmJiBtYXliZUluZGV4ZWRbSVNfSU5ERVhFRF9TRU5USU5FTF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNBc3NvY2lhdGl2ZShtYXliZUFzc29jaWF0aXZlKSB7XG4gICAgcmV0dXJuIGlzS2V5ZWQobWF5YmVBc3NvY2lhdGl2ZSkgfHwgaXNJbmRleGVkKG1heWJlQXNzb2NpYXRpdmUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNPcmRlcmVkKG1heWJlT3JkZXJlZCkge1xuICAgIHJldHVybiAhIShtYXliZU9yZGVyZWQgJiYgbWF5YmVPcmRlcmVkW0lTX09SREVSRURfU0VOVElORUxdKTtcbiAgfVxuXG4gIEl0ZXJhYmxlLmlzSXRlcmFibGUgPSBpc0l0ZXJhYmxlO1xuICBJdGVyYWJsZS5pc0tleWVkID0gaXNLZXllZDtcbiAgSXRlcmFibGUuaXNJbmRleGVkID0gaXNJbmRleGVkO1xuICBJdGVyYWJsZS5pc0Fzc29jaWF0aXZlID0gaXNBc3NvY2lhdGl2ZTtcbiAgSXRlcmFibGUuaXNPcmRlcmVkID0gaXNPcmRlcmVkO1xuXG4gIEl0ZXJhYmxlLktleWVkID0gS2V5ZWRJdGVyYWJsZTtcbiAgSXRlcmFibGUuSW5kZXhlZCA9IEluZGV4ZWRJdGVyYWJsZTtcbiAgSXRlcmFibGUuU2V0ID0gU2V0SXRlcmFibGU7XG5cblxuICB2YXIgSVNfSVRFUkFCTEVfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9JVEVSQUJMRV9fQEAnO1xuICB2YXIgSVNfS0VZRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9LRVlFRF9fQEAnO1xuICB2YXIgSVNfSU5ERVhFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lOREVYRURfX0BAJztcbiAgdmFyIElTX09SREVSRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCc7XG5cbiAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuXG4gIHZhciBJVEVSQVRFX0tFWVMgPSAwO1xuICB2YXIgSVRFUkFURV9WQUxVRVMgPSAxO1xuICB2YXIgSVRFUkFURV9FTlRSSUVTID0gMjtcblxuICB2YXIgUkVBTF9JVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbiAgdmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuXG4gIHZhciBJVEVSQVRPUl9TWU1CT0wgPSBSRUFMX0lURVJBVE9SX1NZTUJPTCB8fCBGQVVYX0lURVJBVE9SX1NZTUJPTDtcblxuXG4gIGZ1bmN0aW9uIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IobmV4dCkge1xuICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcbiAgICB9XG5cbiAgICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICdbSXRlcmF0b3JdJztcbiAgICB9O1xuXG5cbiAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5LRVlTID0gSVRFUkFURV9LRVlTO1xuICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLlZBTFVFUyA9IElURVJBVEVfVkFMVUVTO1xuICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLkVOVFJJRVMgPSBJVEVSQVRFX0VOVFJJRVM7XG5cbiAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5wcm90b3R5cGUuaW5zcGVjdCA9XG4gIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IucHJvdG90eXBlLnRvU291cmNlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy50b1N0cmluZygpOyB9XG4gIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IucHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxuICBmdW5jdGlvbiBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIGl0ZXJhdG9yUmVzdWx0KSB7XG4gICAgdmFyIHZhbHVlID0gdHlwZSA9PT0gMCA/IGsgOiB0eXBlID09PSAxID8gdiA6IFtrLCB2XTtcbiAgICBpdGVyYXRvclJlc3VsdCA/IChpdGVyYXRvclJlc3VsdC52YWx1ZSA9IHZhbHVlKSA6IChpdGVyYXRvclJlc3VsdCA9IHtcbiAgICAgIHZhbHVlOiB2YWx1ZSwgZG9uZTogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm4gaXRlcmF0b3JSZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBpdGVyYXRvckRvbmUoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzSXRlcmF0b3IobWF5YmVJdGVyYWJsZSkge1xuICAgIHJldHVybiAhIWdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0l0ZXJhdG9yKG1heWJlSXRlcmF0b3IpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvciAmJiB0eXBlb2YgbWF5YmVJdGVyYXRvci5uZXh0ID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SXRlcmF0b3IoaXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oaXRlcmFibGUpO1xuICAgIHJldHVybiBpdGVyYXRvckZuICYmIGl0ZXJhdG9yRm4uY2FsbChpdGVyYWJsZSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKGl0ZXJhYmxlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBpdGVyYWJsZSAmJiAoXG4gICAgICAoUkVBTF9JVEVSQVRPUl9TWU1CT0wgJiYgaXRlcmFibGVbUkVBTF9JVEVSQVRPUl9TWU1CT0xdKSB8fFxuICAgICAgaXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdXG4gICAgKTtcbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT09ICdudW1iZXInO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU2VxLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gU2VxKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5U2VxdWVuY2UoKSA6XG4gICAgICAgIGlzSXRlcmFibGUodmFsdWUpID8gdmFsdWUudG9TZXEoKSA6IHNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgU2VxLm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIFNlcShhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBTZXEucHJvdG90eXBlLnRvU2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgU2VxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU2VxIHsnLCAnfScpO1xuICAgIH07XG5cbiAgICBTZXEucHJvdG90eXBlLmNhY2hlUmVzdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX2NhY2hlICYmIHRoaXMuX19pdGVyYXRlVW5jYWNoZWQpIHtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSB0aGlzLmVudHJ5U2VxKCkudG9BcnJheSgpO1xuICAgICAgICB0aGlzLnNpemUgPSB0aGlzLl9jYWNoZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLy8gYWJzdHJhY3QgX19pdGVyYXRlVW5jYWNoZWQoZm4sIHJldmVyc2UpXG5cbiAgICBTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gc2VxSXRlcmF0ZSh0aGlzLCBmbiwgcmV2ZXJzZSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIC8vIGFic3RyYWN0IF9faXRlcmF0b3JVbmNhY2hlZCh0eXBlLCByZXZlcnNlKVxuXG4gICAgU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHNlcUl0ZXJhdG9yKHRoaXMsIHR5cGUsIHJldmVyc2UsIHRydWUpO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKEtleWVkU2VxLCBTZXEpO1xuICAgIGZ1bmN0aW9uIEtleWVkU2VxKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgIGVtcHR5U2VxdWVuY2UoKS50b0tleWVkU2VxKCkgOlxuICAgICAgICBpc0l0ZXJhYmxlKHZhbHVlKSA/XG4gICAgICAgICAgKGlzS2V5ZWQodmFsdWUpID8gdmFsdWUudG9TZXEoKSA6IHZhbHVlLmZyb21FbnRyeVNlcSgpKSA6XG4gICAgICAgICAga2V5ZWRTZXFGcm9tVmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIEtleWVkU2VxLnByb3RvdHlwZS50b0tleWVkU2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhJbmRleGVkU2VxLCBTZXEpO1xuICAgIGZ1bmN0aW9uIEluZGV4ZWRTZXEodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTZXF1ZW5jZSgpIDpcbiAgICAgICAgIWlzSXRlcmFibGUodmFsdWUpID8gaW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkgOlxuICAgICAgICBpc0tleWVkKHZhbHVlKSA/IHZhbHVlLmVudHJ5U2VxKCkgOiB2YWx1ZS50b0luZGV4ZWRTZXEoKTtcbiAgICB9XG5cbiAgICBJbmRleGVkU2VxLm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIEluZGV4ZWRTZXEoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgSW5kZXhlZFNlcS5wcm90b3R5cGUudG9JbmRleGVkU2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgSW5kZXhlZFNlcS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1NlcSBbJywgJ10nKTtcbiAgICB9O1xuXG4gICAgSW5kZXhlZFNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBzZXFJdGVyYXRlKHRoaXMsIGZuLCByZXZlcnNlLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIEluZGV4ZWRTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gc2VxSXRlcmF0b3IodGhpcywgdHlwZSwgcmV2ZXJzZSwgZmFsc2UpO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKFNldFNlcSwgU2VxKTtcbiAgICBmdW5jdGlvbiBTZXRTZXEodmFsdWUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eVNlcXVlbmNlKCkgOlxuICAgICAgICAhaXNJdGVyYWJsZSh2YWx1ZSkgPyBpbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSA6XG4gICAgICAgIGlzS2V5ZWQodmFsdWUpID8gdmFsdWUuZW50cnlTZXEoKSA6IHZhbHVlXG4gICAgICApLnRvU2V0U2VxKCk7XG4gICAgfVxuXG4gICAgU2V0U2VxLm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIFNldFNlcShhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBTZXRTZXEucHJvdG90eXBlLnRvU2V0U2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5cblxuICBTZXEuaXNTZXEgPSBpc1NlcTtcbiAgU2VxLktleWVkID0gS2V5ZWRTZXE7XG4gIFNlcS5TZXQgPSBTZXRTZXE7XG4gIFNlcS5JbmRleGVkID0gSW5kZXhlZFNlcTtcblxuICB2YXIgSVNfU0VRX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfU0VRX19AQCc7XG5cbiAgU2VxLnByb3RvdHlwZVtJU19TRVFfU0VOVElORUxdID0gdHJ1ZTtcblxuXG5cbiAgLy8gI3ByYWdtYSBSb290IFNlcXVlbmNlc1xuXG4gIGNyZWF0ZUNsYXNzKEFycmF5U2VxLCBJbmRleGVkU2VxKTtcbiAgICBmdW5jdGlvbiBBcnJheVNlcShhcnJheSkge1xuICAgICAgdGhpcy5fYXJyYXkgPSBhcnJheTtcbiAgICAgIHRoaXMuc2l6ZSA9IGFycmF5Lmxlbmd0aDtcbiAgICB9XG5cbiAgICBBcnJheVNlcS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID8gdGhpcy5fYXJyYXlbd3JhcEluZGV4KHRoaXMsIGluZGV4KV0gOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgQXJyYXlTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9hcnJheTtcbiAgICAgIHZhciBtYXhJbmRleCA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICAgIGlmIChmbihhcnJheVtyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXSwgaWksIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9O1xuXG4gICAgQXJyYXlTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9hcnJheTtcbiAgICAgIHZhciBtYXhJbmRleCA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgICB2YXIgaWkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgXG4gICAgICAgIHtyZXR1cm4gaWkgPiBtYXhJbmRleCA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaWksIGFycmF5W3JldmVyc2UgPyBtYXhJbmRleCAtIGlpKysgOiBpaSsrXSl9XG4gICAgICApO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKE9iamVjdFNlcSwgS2V5ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIE9iamVjdFNlcShvYmplY3QpIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcbiAgICAgIHRoaXMuX29iamVjdCA9IG9iamVjdDtcbiAgICAgIHRoaXMuX2tleXMgPSBrZXlzO1xuICAgICAgdGhpcy5zaXplID0ga2V5cy5sZW5ndGg7XG4gICAgfVxuXG4gICAgT2JqZWN0U2VxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICBpZiAobm90U2V0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5oYXMoa2V5KSkge1xuICAgICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fb2JqZWN0W2tleV07XG4gICAgfTtcblxuICAgIE9iamVjdFNlcS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fb2JqZWN0Lmhhc093blByb3BlcnR5KGtleSk7XG4gICAgfTtcblxuICAgIE9iamVjdFNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHZhciBvYmplY3QgPSB0aGlzLl9vYmplY3Q7XG4gICAgICB2YXIga2V5cyA9IHRoaXMuX2tleXM7XG4gICAgICB2YXIgbWF4SW5kZXggPSBrZXlzLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgICBpZiAoZm4ob2JqZWN0W2tleV0sIGtleSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGlpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlpO1xuICAgIH07XG5cbiAgICBPYmplY3RTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gdGhpcy5fb2JqZWN0O1xuICAgICAgdmFyIGtleXMgPSB0aGlzLl9rZXlzO1xuICAgICAgdmFyIG1heEluZGV4ID0ga2V5cy5sZW5ndGggLSAxO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgICByZXR1cm4gaWkrKyA+IG1heEluZGV4ID9cbiAgICAgICAgICBpdGVyYXRvckRvbmUoKSA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBrZXksIG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgT2JqZWN0U2VxLnByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cblxuICBjcmVhdGVDbGFzcyhJdGVyYWJsZVNlcSwgSW5kZXhlZFNlcSk7XG4gICAgZnVuY3Rpb24gSXRlcmFibGVTZXEoaXRlcmFibGUpIHtcbiAgICAgIHRoaXMuX2l0ZXJhYmxlID0gaXRlcmFibGU7XG4gICAgICB0aGlzLnNpemUgPSBpdGVyYWJsZS5sZW5ndGggfHwgaXRlcmFibGUuc2l6ZTtcbiAgICB9XG5cbiAgICBJdGVyYWJsZVNlcS5wcm90b3R5cGUuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhYmxlID0gdGhpcy5faXRlcmFibGU7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihpdGVyYWJsZSk7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpZiAoaXNJdGVyYXRvcihpdGVyYXRvcikpIHtcbiAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICBpZiAoZm4oc3RlcC52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcblxuICAgIEl0ZXJhYmxlU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmFibGUgPSB0aGlzLl9pdGVyYWJsZTtcbiAgICAgIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGl0ZXJhYmxlKTtcbiAgICAgIGlmICghaXNJdGVyYXRvcihpdGVyYXRvcikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGl0ZXJhdG9yRG9uZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHN0ZXAuZG9uZSA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhJdGVyYXRvclNlcSwgSW5kZXhlZFNlcSk7XG4gICAgZnVuY3Rpb24gSXRlcmF0b3JTZXEoaXRlcmF0b3IpIHtcbiAgICAgIHRoaXMuX2l0ZXJhdG9yID0gaXRlcmF0b3I7XG4gICAgICB0aGlzLl9pdGVyYXRvckNhY2hlID0gW107XG4gICAgfVxuXG4gICAgSXRlcmF0b3JTZXEucHJvdG90eXBlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXJhdG9yO1xuICAgICAgdmFyIGNhY2hlID0gdGhpcy5faXRlcmF0b3JDYWNoZTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHdoaWxlIChpdGVyYXRpb25zIDwgY2FjaGUubGVuZ3RoKSB7XG4gICAgICAgIGlmIChmbihjYWNoZVtpdGVyYXRpb25zXSwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHN0ZXA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIHZhciB2YWwgPSBzdGVwLnZhbHVlO1xuICAgICAgICBjYWNoZVtpdGVyYXRpb25zXSA9IHZhbDtcbiAgICAgICAgaWYgKGZuKHZhbCwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcblxuICAgIEl0ZXJhdG9yU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyYXRvcjtcbiAgICAgIHZhciBjYWNoZSA9IHRoaXMuX2l0ZXJhdG9yQ2FjaGU7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICBpZiAoaXRlcmF0aW9ucyA+PSBjYWNoZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FjaGVbaXRlcmF0aW9uc10gPSBzdGVwLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMsIGNhY2hlW2l0ZXJhdGlvbnMrK10pO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG5cblxuICAvLyAjIHByYWdtYSBIZWxwZXIgZnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24gaXNTZXEobWF5YmVTZXEpIHtcbiAgICByZXR1cm4gISEobWF5YmVTZXEgJiYgbWF5YmVTZXFbSVNfU0VRX1NFTlRJTkVMXSk7XG4gIH1cblxuICB2YXIgRU1QVFlfU0VRO1xuXG4gIGZ1bmN0aW9uIGVtcHR5U2VxdWVuY2UoKSB7XG4gICAgcmV0dXJuIEVNUFRZX1NFUSB8fCAoRU1QVFlfU0VRID0gbmV3IEFycmF5U2VxKFtdKSk7XG4gIH1cblxuICBmdW5jdGlvbiBrZXllZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICAgIHZhciBzZXEgPVxuICAgICAgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBuZXcgQXJyYXlTZXEodmFsdWUpLmZyb21FbnRyeVNlcSgpIDpcbiAgICAgIGlzSXRlcmF0b3IodmFsdWUpID8gbmV3IEl0ZXJhdG9yU2VxKHZhbHVlKS5mcm9tRW50cnlTZXEoKSA6XG4gICAgICBoYXNJdGVyYXRvcih2YWx1ZSkgPyBuZXcgSXRlcmFibGVTZXEodmFsdWUpLmZyb21FbnRyeVNlcSgpIDpcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgPyBuZXcgT2JqZWN0U2VxKHZhbHVlKSA6XG4gICAgICB1bmRlZmluZWQ7XG4gICAgaWYgKCFzZXEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdFeHBlY3RlZCBBcnJheSBvciBpdGVyYWJsZSBvYmplY3Qgb2YgW2ssIHZdIGVudHJpZXMsICcrXG4gICAgICAgICdvciBrZXllZCBvYmplY3Q6ICcgKyB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgICB2YXIgc2VxID0gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgICBpZiAoIXNlcSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ0V4cGVjdGVkIEFycmF5IG9yIGl0ZXJhYmxlIG9iamVjdCBvZiB2YWx1ZXM6ICcgKyB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICAgIHZhciBzZXEgPSBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHx8XG4gICAgICAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBuZXcgT2JqZWN0U2VxKHZhbHVlKSk7XG4gICAgaWYgKCFzZXEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdFeHBlY3RlZCBBcnJheSBvciBpdGVyYWJsZSBvYmplY3Qgb2YgdmFsdWVzLCBvciBrZXllZCBvYmplY3Q6ICcgKyB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiAoXG4gICAgICBpc0FycmF5TGlrZSh2YWx1ZSkgPyBuZXcgQXJyYXlTZXEodmFsdWUpIDpcbiAgICAgIGlzSXRlcmF0b3IodmFsdWUpID8gbmV3IEl0ZXJhdG9yU2VxKHZhbHVlKSA6XG4gICAgICBoYXNJdGVyYXRvcih2YWx1ZSkgPyBuZXcgSXRlcmFibGVTZXEodmFsdWUpIDpcbiAgICAgIHVuZGVmaW5lZFxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXFJdGVyYXRlKHNlcSwgZm4sIHJldmVyc2UsIHVzZUtleXMpIHtcbiAgICB2YXIgY2FjaGUgPSBzZXEuX2NhY2hlO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgdmFyIG1heEluZGV4ID0gY2FjaGUubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gY2FjaGVbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICAgIGlmIChmbihlbnRyeVsxXSwgdXNlS2V5cyA/IGVudHJ5WzBdIDogaWksIHNlcSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGlpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlpO1xuICAgIH1cbiAgICByZXR1cm4gc2VxLl9faXRlcmF0ZVVuY2FjaGVkKGZuLCByZXZlcnNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcUl0ZXJhdG9yKHNlcSwgdHlwZSwgcmV2ZXJzZSwgdXNlS2V5cykge1xuICAgIHZhciBjYWNoZSA9IHNlcS5fY2FjaGU7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICB2YXIgbWF4SW5kZXggPSBjYWNoZS5sZW5ndGggLSAxO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBlbnRyeSA9IGNhY2hlW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgICByZXR1cm4gaWkrKyA+IG1heEluZGV4ID9cbiAgICAgICAgICBpdGVyYXRvckRvbmUoKSA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCB1c2VLZXlzID8gZW50cnlbMF0gOiBpaSAtIDEsIGVudHJ5WzFdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VxLl9faXRlcmF0b3JVbmNhY2hlZCh0eXBlLCByZXZlcnNlKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKENvbGxlY3Rpb24sIEl0ZXJhYmxlKTtcbiAgICBmdW5jdGlvbiBDb2xsZWN0aW9uKCkge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdBYnN0cmFjdCcpO1xuICAgIH1cblxuXG4gIGNyZWF0ZUNsYXNzKEtleWVkQ29sbGVjdGlvbiwgQ29sbGVjdGlvbik7ZnVuY3Rpb24gS2V5ZWRDb2xsZWN0aW9uKCkge31cblxuICBjcmVhdGVDbGFzcyhJbmRleGVkQ29sbGVjdGlvbiwgQ29sbGVjdGlvbik7ZnVuY3Rpb24gSW5kZXhlZENvbGxlY3Rpb24oKSB7fVxuXG4gIGNyZWF0ZUNsYXNzKFNldENvbGxlY3Rpb24sIENvbGxlY3Rpb24pO2Z1bmN0aW9uIFNldENvbGxlY3Rpb24oKSB7fVxuXG5cbiAgQ29sbGVjdGlvbi5LZXllZCA9IEtleWVkQ29sbGVjdGlvbjtcbiAgQ29sbGVjdGlvbi5JbmRleGVkID0gSW5kZXhlZENvbGxlY3Rpb247XG4gIENvbGxlY3Rpb24uU2V0ID0gU2V0Q29sbGVjdGlvbjtcblxuICAvKipcbiAgICogQW4gZXh0ZW5zaW9uIG9mIHRoZSBcInNhbWUtdmFsdWVcIiBhbGdvcml0aG0gYXMgW2Rlc2NyaWJlZCBmb3IgdXNlIGJ5IEVTNiBNYXBcbiAgICogYW5kIFNldF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWFwI0tleV9lcXVhbGl0eSlcbiAgICpcbiAgICogTmFOIGlzIGNvbnNpZGVyZWQgdGhlIHNhbWUgYXMgTmFOLCBob3dldmVyIC0wIGFuZCAwIGFyZSBjb25zaWRlcmVkIHRoZSBzYW1lXG4gICAqIHZhbHVlLCB3aGljaCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYWxnb3JpdGhtIGRlc2NyaWJlZCBieVxuICAgKiBbYE9iamVjdC5pc2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pcykuXG4gICAqXG4gICAqIFRoaXMgaXMgZXh0ZW5kZWQgZnVydGhlciB0byBhbGxvdyBPYmplY3RzIHRvIGRlc2NyaWJlIHRoZSB2YWx1ZXMgdGhleVxuICAgKiByZXByZXNlbnQsIGJ5IHdheSBvZiBgdmFsdWVPZmAgb3IgYGVxdWFsc2AgKGFuZCBgaGFzaENvZGVgKS5cbiAgICpcbiAgICogTm90ZTogYmVjYXVzZSBvZiB0aGlzIGV4dGVuc2lvbiwgdGhlIGtleSBlcXVhbGl0eSBvZiBJbW11dGFibGUuTWFwIGFuZCB0aGVcbiAgICogdmFsdWUgZXF1YWxpdHkgb2YgSW1tdXRhYmxlLlNldCB3aWxsIGRpZmZlciBmcm9tIEVTNiBNYXAgYW5kIFNldC5cbiAgICpcbiAgICogIyMjIERlZmluaW5nIGN1c3RvbSB2YWx1ZXNcbiAgICpcbiAgICogVGhlIGVhc2llc3Qgd2F5IHRvIGRlc2NyaWJlIHRoZSB2YWx1ZSBhbiBvYmplY3QgcmVwcmVzZW50cyBpcyBieSBpbXBsZW1lbnRpbmdcbiAgICogYHZhbHVlT2ZgLiBGb3IgZXhhbXBsZSwgYERhdGVgIHJlcHJlc2VudHMgYSB2YWx1ZSBieSByZXR1cm5pbmcgYSB1bml4XG4gICAqIHRpbWVzdGFtcCBmb3IgYHZhbHVlT2ZgOlxuICAgKlxuICAgKiAgICAgdmFyIGRhdGUxID0gbmV3IERhdGUoMTIzNDU2Nzg5MDAwMCk7IC8vIEZyaSBGZWIgMTMgMjAwOSAuLi5cbiAgICogICAgIHZhciBkYXRlMiA9IG5ldyBEYXRlKDEyMzQ1Njc4OTAwMDApO1xuICAgKiAgICAgZGF0ZTEudmFsdWVPZigpOyAvLyAxMjM0NTY3ODkwMDAwXG4gICAqICAgICBhc3NlcnQoIGRhdGUxICE9PSBkYXRlMiApO1xuICAgKiAgICAgYXNzZXJ0KCBJbW11dGFibGUuaXMoIGRhdGUxLCBkYXRlMiApICk7XG4gICAqXG4gICAqIE5vdGU6IG92ZXJyaWRpbmcgYHZhbHVlT2ZgIG1heSBoYXZlIG90aGVyIGltcGxpY2F0aW9ucyBpZiB5b3UgdXNlIHRoaXMgb2JqZWN0XG4gICAqIHdoZXJlIEphdmFTY3JpcHQgZXhwZWN0cyBhIHByaW1pdGl2ZSwgc3VjaCBhcyBpbXBsaWNpdCBzdHJpbmcgY29lcmNpb24uXG4gICAqXG4gICAqIEZvciBtb3JlIGNvbXBsZXggdHlwZXMsIGVzcGVjaWFsbHkgY29sbGVjdGlvbnMsIGltcGxlbWVudGluZyBgdmFsdWVPZmAgbWF5XG4gICAqIG5vdCBiZSBwZXJmb3JtYW50LiBBbiBhbHRlcm5hdGl2ZSBpcyB0byBpbXBsZW1lbnQgYGVxdWFsc2AgYW5kIGBoYXNoQ29kZWAuXG4gICAqXG4gICAqIGBlcXVhbHNgIHRha2VzIGFub3RoZXIgb2JqZWN0LCBwcmVzdW1hYmx5IG9mIHNpbWlsYXIgdHlwZSwgYW5kIHJldHVybnMgdHJ1ZVxuICAgKiBpZiB0aGUgaXQgaXMgZXF1YWwuIEVxdWFsaXR5IGlzIHN5bW1ldHJpY2FsLCBzbyB0aGUgc2FtZSByZXN1bHQgc2hvdWxkIGJlXG4gICAqIHJldHVybmVkIGlmIHRoaXMgYW5kIHRoZSBhcmd1bWVudCBhcmUgZmxpcHBlZC5cbiAgICpcbiAgICogICAgIGFzc2VydCggYS5lcXVhbHMoYikgPT09IGIuZXF1YWxzKGEpICk7XG4gICAqXG4gICAqIGBoYXNoQ29kZWAgcmV0dXJucyBhIDMyYml0IGludGVnZXIgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgb2JqZWN0IHdoaWNoIHdpbGxcbiAgICogYmUgdXNlZCB0byBkZXRlcm1pbmUgaG93IHRvIHN0b3JlIHRoZSB2YWx1ZSBvYmplY3QgaW4gYSBNYXAgb3IgU2V0LiBZb3UgbXVzdFxuICAgKiBwcm92aWRlIGJvdGggb3IgbmVpdGhlciBtZXRob2RzLCBvbmUgbXVzdCBub3QgZXhpc3Qgd2l0aG91dCB0aGUgb3RoZXIuXG4gICAqXG4gICAqIEFsc28sIGFuIGltcG9ydGFudCByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGVzZSBtZXRob2RzIG11c3QgYmUgdXBoZWxkOiBpZiB0d29cbiAgICogdmFsdWVzIGFyZSBlcXVhbCwgdGhleSAqbXVzdCogcmV0dXJuIHRoZSBzYW1lIGhhc2hDb2RlLiBJZiB0aGUgdmFsdWVzIGFyZSBub3RcbiAgICogZXF1YWwsIHRoZXkgbWlnaHQgaGF2ZSB0aGUgc2FtZSBoYXNoQ29kZTsgdGhpcyBpcyBjYWxsZWQgYSBoYXNoIGNvbGxpc2lvbixcbiAgICogYW5kIHdoaWxlIHVuZGVzaXJhYmxlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLCBpdCBpcyBhY2NlcHRhYmxlLlxuICAgKlxuICAgKiAgICAgaWYgKGEuZXF1YWxzKGIpKSB7XG4gICAqICAgICAgIGFzc2VydCggYS5oYXNoQ29kZSgpID09PSBiLmhhc2hDb2RlKCkgKTtcbiAgICogICAgIH1cbiAgICpcbiAgICogQWxsIEltbXV0YWJsZSBjb2xsZWN0aW9ucyBpbXBsZW1lbnQgYGVxdWFsc2AgYW5kIGBoYXNoQ29kZWAuXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBpcyh2YWx1ZUEsIHZhbHVlQikge1xuICAgIGlmICh2YWx1ZUEgPT09IHZhbHVlQiB8fCAodmFsdWVBICE9PSB2YWx1ZUEgJiYgdmFsdWVCICE9PSB2YWx1ZUIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCF2YWx1ZUEgfHwgIXZhbHVlQikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlQS52YWx1ZU9mID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHR5cGVvZiB2YWx1ZUIudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsdWVBID0gdmFsdWVBLnZhbHVlT2YoKTtcbiAgICAgIHZhbHVlQiA9IHZhbHVlQi52YWx1ZU9mKCk7XG4gICAgICBpZiAodmFsdWVBID09PSB2YWx1ZUIgfHwgKHZhbHVlQSAhPT0gdmFsdWVBICYmIHZhbHVlQiAhPT0gdmFsdWVCKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghdmFsdWVBIHx8ICF2YWx1ZUIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlQS5lcXVhbHMgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgdHlwZW9mIHZhbHVlQi5lcXVhbHMgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgdmFsdWVBLmVxdWFscyh2YWx1ZUIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZnJvbUpTKGpzb24sIGNvbnZlcnRlcikge1xuICAgIHJldHVybiBjb252ZXJ0ZXIgP1xuICAgICAgZnJvbUpTV2l0aChjb252ZXJ0ZXIsIGpzb24sICcnLCB7Jyc6IGpzb259KSA6XG4gICAgICBmcm9tSlNEZWZhdWx0KGpzb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gZnJvbUpTV2l0aChjb252ZXJ0ZXIsIGpzb24sIGtleSwgcGFyZW50SlNPTikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICByZXR1cm4gY29udmVydGVyLmNhbGwocGFyZW50SlNPTiwga2V5LCBJbmRleGVkU2VxKGpzb24pLm1hcChmdW5jdGlvbih2LCBrKSAge3JldHVybiBmcm9tSlNXaXRoKGNvbnZlcnRlciwgdiwgaywganNvbil9KSk7XG4gICAgfVxuICAgIGlmIChpc1BsYWluT2JqKGpzb24pKSB7XG4gICAgICByZXR1cm4gY29udmVydGVyLmNhbGwocGFyZW50SlNPTiwga2V5LCBLZXllZFNlcShqc29uKS5tYXAoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZnJvbUpTV2l0aChjb252ZXJ0ZXIsIHYsIGssIGpzb24pfSkpO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZyb21KU0RlZmF1bHQoanNvbikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICByZXR1cm4gSW5kZXhlZFNlcShqc29uKS5tYXAoZnJvbUpTRGVmYXVsdCkudG9MaXN0KCk7XG4gICAgfVxuICAgIGlmIChpc1BsYWluT2JqKGpzb24pKSB7XG4gICAgICByZXR1cm4gS2V5ZWRTZXEoanNvbikubWFwKGZyb21KU0RlZmF1bHQpLnRvTWFwKCk7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNQbGFpbk9iaih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiAodmFsdWUuY29uc3RydWN0b3IgPT09IE9iamVjdCB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKTtcbiAgfVxuXG4gIHZhciBzcmNfTWF0aF9faW11bCA9XG4gICAgdHlwZW9mIE1hdGguaW11bCA9PT0gJ2Z1bmN0aW9uJyAmJiBNYXRoLmltdWwoMHhmZmZmZmZmZiwgMikgPT09IC0yID9cbiAgICBNYXRoLmltdWwgOlxuICAgIGZ1bmN0aW9uIHNyY19NYXRoX19pbXVsKGEsIGIpIHtcbiAgICAgIGEgPSBhIHwgMDsgLy8gaW50XG4gICAgICBiID0gYiB8IDA7IC8vIGludFxuICAgICAgdmFyIGMgPSBhICYgMHhmZmZmO1xuICAgICAgdmFyIGQgPSBiICYgMHhmZmZmO1xuICAgICAgLy8gU2hpZnQgYnkgMCBmaXhlcyB0aGUgc2lnbiBvbiB0aGUgaGlnaCBwYXJ0LlxuICAgICAgcmV0dXJuIChjICogZCkgKyAoKCgoYSA+Pj4gMTYpICogZCArIGMgKiAoYiA+Pj4gMTYpKSA8PCAxNikgPj4+IDApIHwgMDsgLy8gaW50XG4gICAgfTtcblxuICAvLyB2OCBoYXMgYW4gb3B0aW1pemF0aW9uIGZvciBzdG9yaW5nIDMxLWJpdCBzaWduZWQgbnVtYmVycy5cbiAgLy8gVmFsdWVzIHdoaWNoIGhhdmUgZWl0aGVyIDAwIG9yIDExIGFzIHRoZSBoaWdoIG9yZGVyIGJpdHMgcXVhbGlmeS5cbiAgLy8gVGhpcyBmdW5jdGlvbiBkcm9wcyB0aGUgaGlnaGVzdCBvcmRlciBiaXQgaW4gYSBzaWduZWQgbnVtYmVyLCBtYWludGFpbmluZ1xuICAvLyB0aGUgc2lnbiBiaXQuXG4gIGZ1bmN0aW9uIHNtaShpMzIpIHtcbiAgICByZXR1cm4gKChpMzIgPj4+IDEpICYgMHg0MDAwMDAwMCkgfCAoaTMyICYgMHhCRkZGRkZGRik7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNoKG8pIHtcbiAgICBpZiAobyA9PT0gZmFsc2UgfHwgbyA9PT0gbnVsbCB8fCBvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG8udmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbyA9IG8udmFsdWVPZigpO1xuICAgICAgaWYgKG8gPT09IGZhbHNlIHx8IG8gPT09IG51bGwgfHwgbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobyA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHZhciB0eXBlID0gdHlwZW9mIG87XG4gICAgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICB2YXIgaCA9IG8gfCAwO1xuICAgICAgaWYgKGggIT09IG8pIHtcbiAgICAgICAgaCBePSBvICogMHhGRkZGRkZGRjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChvID4gMHhGRkZGRkZGRikge1xuICAgICAgICBvIC89IDB4RkZGRkZGRkY7XG4gICAgICAgIGggXj0gbztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzbWkoaCk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG8ubGVuZ3RoID4gU1RSSU5HX0hBU0hfQ0FDSEVfTUlOX1NUUkxFTiA/IGNhY2hlZEhhc2hTdHJpbmcobykgOiBoYXNoU3RyaW5nKG8pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG8uaGFzaENvZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBvLmhhc2hDb2RlKCk7XG4gICAgfVxuICAgIHJldHVybiBoYXNoSlNPYmoobyk7XG4gIH1cblxuICBmdW5jdGlvbiBjYWNoZWRIYXNoU3RyaW5nKHN0cmluZykge1xuICAgIHZhciBoYXNoID0gc3RyaW5nSGFzaENhY2hlW3N0cmluZ107XG4gICAgaWYgKGhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgaGFzaCA9IGhhc2hTdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID09PSBTVFJJTkdfSEFTSF9DQUNIRV9NQVhfU0laRSkge1xuICAgICAgICBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID0gMDtcbiAgICAgICAgc3RyaW5nSGFzaENhY2hlID0ge307XG4gICAgICB9XG4gICAgICBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFKys7XG4gICAgICBzdHJpbmdIYXNoQ2FjaGVbc3RyaW5nXSA9IGhhc2g7XG4gICAgfVxuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vaGFzaGluZy1zdHJpbmdzXG4gIGZ1bmN0aW9uIGhhc2hTdHJpbmcoc3RyaW5nKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgaGFzaCBmcm9tIEpWTVxuICAgIC8vIFRoZSBoYXNoIGNvZGUgZm9yIGEgc3RyaW5nIGlzIGNvbXB1dGVkIGFzXG4gICAgLy8gc1swXSAqIDMxIF4gKG4gLSAxKSArIHNbMV0gKiAzMSBeIChuIC0gMikgKyAuLi4gKyBzW24gLSAxXSxcbiAgICAvLyB3aGVyZSBzW2ldIGlzIHRoZSBpdGggY2hhcmFjdGVyIG9mIHRoZSBzdHJpbmcgYW5kIG4gaXMgdGhlIGxlbmd0aCBvZlxuICAgIC8vIHRoZSBzdHJpbmcuIFdlIFwibW9kXCIgdGhlIHJlc3VsdCB0byBtYWtlIGl0IGJldHdlZW4gMCAoaW5jbHVzaXZlKSBhbmQgMl4zMVxuICAgIC8vIChleGNsdXNpdmUpIGJ5IGRyb3BwaW5nIGhpZ2ggYml0cy5cbiAgICB2YXIgaGFzaCA9IDA7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHN0cmluZy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIGhhc2ggPSAzMSAqIGhhc2ggKyBzdHJpbmcuY2hhckNvZGVBdChpaSkgfCAwO1xuICAgIH1cbiAgICByZXR1cm4gc21pKGhhc2gpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzaEpTT2JqKG9iaikge1xuICAgIHZhciBoYXNoO1xuICAgIGlmICh1c2luZ1dlYWtNYXApIHtcbiAgICAgIGhhc2ggPSB3ZWFrTWFwLmdldChvYmopO1xuICAgICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNoID0gb2JqW1VJRF9IQVNIX0tFWV07XG4gICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuXG4gICAgaWYgKCFjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgaGFzaCA9IG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSAmJiBvYmoucHJvcGVydHlJc0VudW1lcmFibGVbVUlEX0hBU0hfS0VZXTtcbiAgICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgICB9XG5cbiAgICAgIGhhc2ggPSBnZXRJRU5vZGVIYXNoKG9iaik7XG4gICAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhc2ggPSArK29iakhhc2hVSUQ7XG4gICAgaWYgKG9iakhhc2hVSUQgJiAweDQwMDAwMDAwKSB7XG4gICAgICBvYmpIYXNoVUlEID0gMDtcbiAgICB9XG5cbiAgICBpZiAodXNpbmdXZWFrTWFwKSB7XG4gICAgICB3ZWFrTWFwLnNldChvYmosIGhhc2gpO1xuICAgIH0gZWxzZSBpZiAoaXNFeHRlbnNpYmxlICE9PSB1bmRlZmluZWQgJiYgaXNFeHRlbnNpYmxlKG9iaikgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vbi1leHRlbnNpYmxlIG9iamVjdHMgYXJlIG5vdCBhbGxvd2VkIGFzIGtleXMuJyk7XG4gICAgfSBlbHNlIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgVUlEX0hBU0hfS0VZLCB7XG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICdjb25maWd1cmFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3dyaXRhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGhhc2hcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAob2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9PT0gb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSkge1xuICAgICAgLy8gU2luY2Ugd2UgY2FuJ3QgZGVmaW5lIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gdGhlIG9iamVjdFxuICAgICAgLy8gd2UnbGwgaGlqYWNrIG9uZSBvZiB0aGUgbGVzcy11c2VkIG5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXMgdG9cbiAgICAgIC8vIHNhdmUgb3VyIGhhc2ggb24gaXQuIFNpbmNlIHRoaXMgaXMgYSBmdW5jdGlvbiBpdCB3aWxsIG5vdCBzaG93IHVwIGluXG4gICAgICAvLyBgSlNPTi5zdHJpbmdpZnlgIHdoaWNoIGlzIHdoYXQgd2Ugd2FudC5cbiAgICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGVbVUlEX0hBU0hfS0VZXSA9IGhhc2g7XG4gICAgfSBlbHNlIGlmIChvYmoubm9kZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBjb3VsZG4ndCBnZXQgdGhlIElFIGB1bmlxdWVJRGAgdG8gdXNlIGFzIGEgaGFzaFxuICAgICAgLy8gYW5kIHdlIGNvdWxkbid0IHVzZSBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IHRvIGV4cGxvaXQgdGhlXG4gICAgICAvLyBkb250RW51bSBidWcgc28gd2Ugc2ltcGx5IGFkZCB0aGUgYFVJRF9IQVNIX0tFWWAgb24gdGhlIG5vZGVcbiAgICAgIC8vIGl0c2VsZi5cbiAgICAgIG9ialtVSURfSEFTSF9LRVldID0gaGFzaDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gb2JqZWN0LicpO1xuICAgIH1cblxuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgLy8gR2V0IHJlZmVyZW5jZXMgdG8gRVM1IG9iamVjdCBtZXRob2RzLlxuICB2YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZTtcblxuICAvLyBUcnVlIGlmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB3b3JrcyBhcyBleHBlY3RlZC4gSUU4IGZhaWxzIHRoaXMgdGVzdC5cbiAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdAJywge30pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSgpKTtcblxuICAvLyBJRSBoYXMgYSBgdW5pcXVlSURgIHByb3BlcnR5IG9uIERPTSBub2Rlcy4gV2UgY2FuIGNvbnN0cnVjdCB0aGUgaGFzaCBmcm9tIGl0XG4gIC8vIGFuZCBhdm9pZCBtZW1vcnkgbGVha3MgZnJvbSB0aGUgSUUgY2xvbmVOb2RlIGJ1Zy5cbiAgZnVuY3Rpb24gZ2V0SUVOb2RlSGFzaChub2RlKSB7XG4gICAgaWYgKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA+IDApIHtcbiAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICBjYXNlIDE6IC8vIEVsZW1lbnRcbiAgICAgICAgICByZXR1cm4gbm9kZS51bmlxdWVJRDtcbiAgICAgICAgY2FzZSA5OiAvLyBEb2N1bWVudFxuICAgICAgICAgIHJldHVybiBub2RlLmRvY3VtZW50RWxlbWVudCAmJiBub2RlLmRvY3VtZW50RWxlbWVudC51bmlxdWVJRDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBJZiBwb3NzaWJsZSwgdXNlIGEgV2Vha01hcC5cbiAgdmFyIHVzaW5nV2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nO1xuICB2YXIgd2Vha01hcDtcbiAgaWYgKHVzaW5nV2Vha01hcCkge1xuICAgIHdlYWtNYXAgPSBuZXcgV2Vha01hcCgpO1xuICB9XG5cbiAgdmFyIG9iakhhc2hVSUQgPSAwO1xuXG4gIHZhciBVSURfSEFTSF9LRVkgPSAnX19pbW11dGFibGVoYXNoX18nO1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFVJRF9IQVNIX0tFWSA9IFN5bWJvbChVSURfSEFTSF9LRVkpO1xuICB9XG5cbiAgdmFyIFNUUklOR19IQVNIX0NBQ0hFX01JTl9TVFJMRU4gPSAxNjtcbiAgdmFyIFNUUklOR19IQVNIX0NBQ0hFX01BWF9TSVpFID0gMjU1O1xuICB2YXIgU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSA9IDA7XG4gIHZhciBzdHJpbmdIYXNoQ2FjaGUgPSB7fTtcblxuICBmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBlcnJvcikge1xuICAgIGlmICghY29uZGl0aW9uKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gYXNzZXJ0Tm90SW5maW5pdGUoc2l6ZSkge1xuICAgIGludmFyaWFudChcbiAgICAgIHNpemUgIT09IEluZmluaXR5LFxuICAgICAgJ0Nhbm5vdCBwZXJmb3JtIHRoaXMgYWN0aW9uIHdpdGggYW4gaW5maW5pdGUgc2l6ZS4nXG4gICAgKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFRvS2V5ZWRTZXF1ZW5jZSwgS2V5ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIFRvS2V5ZWRTZXF1ZW5jZShpbmRleGVkLCB1c2VLZXlzKSB7XG4gICAgICB0aGlzLl9pdGVyID0gaW5kZXhlZDtcbiAgICAgIHRoaXMuX3VzZUtleXMgPSB1c2VLZXlzO1xuICAgICAgdGhpcy5zaXplID0gaW5kZXhlZC5zaXplO1xuICAgIH1cblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuZ2V0KGtleSwgbm90U2V0VmFsdWUpO1xuICAgIH07XG5cbiAgICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuaGFzKGtleSk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUudmFsdWVTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLnZhbHVlU2VxKCk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSByZXZlcnNlRmFjdG9yeSh0aGlzLCB0cnVlKTtcbiAgICAgIGlmICghdGhpcy5fdXNlS2V5cykge1xuICAgICAgICByZXZlcnNlZFNlcXVlbmNlLnZhbHVlU2VxID0gZnVuY3Rpb24oKSAge3JldHVybiB0aGlzJDAuX2l0ZXIudG9TZXEoKS5yZXZlcnNlKCl9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24obWFwcGVyLCBjb250ZXh0KSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgbWFwcGVkU2VxdWVuY2UgPSBtYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCk7XG4gICAgICBpZiAoIXRoaXMuX3VzZUtleXMpIHtcbiAgICAgICAgbWFwcGVkU2VxdWVuY2UudmFsdWVTZXEgPSBmdW5jdGlvbigpICB7cmV0dXJuIHRoaXMkMC5faXRlci50b1NlcSgpLm1hcChtYXBwZXIsIGNvbnRleHQpfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXBwZWRTZXF1ZW5jZTtcbiAgICB9O1xuXG4gICAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGlpO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKFxuICAgICAgICB0aGlzLl91c2VLZXlzID9cbiAgICAgICAgICBmdW5jdGlvbih2LCBrKSAge3JldHVybiBmbih2LCBrLCB0aGlzJDApfSA6XG4gICAgICAgICAgKChpaSA9IHJldmVyc2UgPyByZXNvbHZlU2l6ZSh0aGlzKSA6IDApLFxuICAgICAgICAgICAgZnVuY3Rpb24odiApIHtyZXR1cm4gZm4odiwgcmV2ZXJzZSA/IC0taWkgOiBpaSsrLCB0aGlzJDApfSksXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmICh0aGlzLl91c2VLZXlzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGlpID0gcmV2ZXJzZSA/IHJlc29sdmVTaXplKHRoaXMpIDogMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCByZXZlcnNlID8gLS1paSA6IGlpKyssIHN0ZXAudmFsdWUsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxuXG4gIGNyZWF0ZUNsYXNzKFRvSW5kZXhlZFNlcXVlbmNlLCBJbmRleGVkU2VxKTtcbiAgICBmdW5jdGlvbiBUb0luZGV4ZWRTZXF1ZW5jZShpdGVyKSB7XG4gICAgICB0aGlzLl9pdGVyID0gaXRlcjtcbiAgICAgIHRoaXMuc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICB9XG5cbiAgICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXModmFsdWUpO1xuICAgIH07XG5cbiAgICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbih2ICkge3JldHVybiBmbih2LCBpdGVyYXRpb25zKyssIHRoaXMkMCl9LCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBzdGVwLmRvbmUgPyBzdGVwIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZSwgc3RlcClcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKFRvU2V0U2VxdWVuY2UsIFNldFNlcSk7XG4gICAgZnVuY3Rpb24gVG9TZXRTZXF1ZW5jZShpdGVyKSB7XG4gICAgICB0aGlzLl9pdGVyID0gaXRlcjtcbiAgICAgIHRoaXMuc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICB9XG5cbiAgICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKGtleSk7XG4gICAgfTtcblxuICAgIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24odiApIHtyZXR1cm4gZm4odiwgdiwgdGhpcyQwKX0sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBzdGVwLnZhbHVlLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKEZyb21FbnRyaWVzU2VxdWVuY2UsIEtleWVkU2VxKTtcbiAgICBmdW5jdGlvbiBGcm9tRW50cmllc1NlcXVlbmNlKGVudHJpZXMpIHtcbiAgICAgIHRoaXMuX2l0ZXIgPSBlbnRyaWVzO1xuICAgICAgdGhpcy5zaXplID0gZW50cmllcy5zaXplO1xuICAgIH1cblxuICAgIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmVudHJ5U2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci50b1NlcSgpO1xuICAgIH07XG5cbiAgICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uKGVudHJ5ICkge1xuICAgICAgICAvLyBDaGVjayBpZiBlbnRyeSBleGlzdHMgZmlyc3Qgc28gYXJyYXkgYWNjZXNzIGRvZXNuJ3QgdGhyb3cgZm9yIGhvbGVzXG4gICAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICB2YWxpZGF0ZUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB2YXIgaW5kZXhlZEl0ZXJhYmxlID0gaXNJdGVyYWJsZShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIGZuKFxuICAgICAgICAgICAgaW5kZXhlZEl0ZXJhYmxlID8gZW50cnkuZ2V0KDEpIDogZW50cnlbMV0sXG4gICAgICAgICAgICBpbmRleGVkSXRlcmFibGUgPyBlbnRyeS5nZXQoMCkgOiBlbnRyeVswXSxcbiAgICAgICAgICAgIHRoaXMkMFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgZW50cnkgZXhpc3RzIGZpcnN0IHNvIGFycmF5IGFjY2VzcyBkb2Vzbid0IHRocm93IGZvciBob2xlc1xuICAgICAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgdmFsaWRhdGVFbnRyeShlbnRyeSk7XG4gICAgICAgICAgICB2YXIgaW5kZXhlZEl0ZXJhYmxlID0gaXNJdGVyYWJsZShlbnRyeSk7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgaW5kZXhlZEl0ZXJhYmxlID8gZW50cnkuZ2V0KDApIDogZW50cnlbMF0sXG4gICAgICAgICAgICAgIGluZGV4ZWRJdGVyYWJsZSA/IGVudHJ5LmdldCgxKSA6IGVudHJ5WzFdLFxuICAgICAgICAgICAgICBzdGVwXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuXG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID1cbiAgICBjYWNoZVJlc3VsdFRocm91Z2g7XG5cblxuICBmdW5jdGlvbiBmbGlwRmFjdG9yeShpdGVyYWJsZSkge1xuICAgIHZhciBmbGlwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIGZsaXBTZXF1ZW5jZS5faXRlciA9IGl0ZXJhYmxlO1xuICAgIGZsaXBTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZTtcbiAgICBmbGlwU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGV9O1xuICAgIGZsaXBTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSBpdGVyYWJsZS5yZXZlcnNlLmFwcGx5KHRoaXMpOyAvLyBzdXBlci5yZXZlcnNlKClcbiAgICAgIHJldmVyc2VkU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGUucmV2ZXJzZSgpfTtcbiAgICAgIHJldHVybiByZXZlcnNlZFNlcXVlbmNlO1xuICAgIH07XG4gICAgZmxpcFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uKGtleSApIHtyZXR1cm4gaXRlcmFibGUuaW5jbHVkZXMoa2V5KX07XG4gICAgZmxpcFNlcXVlbmNlLmluY2x1ZGVzID0gZnVuY3Rpb24oa2V5ICkge3JldHVybiBpdGVyYWJsZS5oYXMoa2V5KX07XG4gICAgZmxpcFNlcXVlbmNlLmNhY2hlUmVzdWx0ID0gY2FjaGVSZXN1bHRUaHJvdWdoO1xuICAgIGZsaXBTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge3JldHVybiBmbihrLCB2LCB0aGlzJDApICE9PSBmYWxzZX0sIHJldmVyc2UpO1xuICAgIH1cbiAgICBmbGlwU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfRU5UUklFUykge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmICghc3RlcC5kb25lKSB7XG4gICAgICAgICAgICB2YXIgayA9IHN0ZXAudmFsdWVbMF07XG4gICAgICAgICAgICBzdGVwLnZhbHVlWzBdID0gc3RlcC52YWx1ZVsxXTtcbiAgICAgICAgICAgIHN0ZXAudmFsdWVbMV0gPSBrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmFibGUuX19pdGVyYXRvcihcbiAgICAgICAgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMgPyBJVEVSQVRFX0tFWVMgOiBJVEVSQVRFX1ZBTFVFUyxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gbWFwRmFjdG9yeShpdGVyYWJsZSwgbWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIG1hcHBlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBtYXBwZWRTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZTtcbiAgICBtYXBwZWRTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbihrZXkgKSB7cmV0dXJuIGl0ZXJhYmxlLmhhcyhrZXkpfTtcbiAgICBtYXBwZWRTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSAge1xuICAgICAgdmFyIHYgPSBpdGVyYWJsZS5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgIHJldHVybiB2ID09PSBOT1RfU0VUID9cbiAgICAgICAgbm90U2V0VmFsdWUgOlxuICAgICAgICBtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKTtcbiAgICB9O1xuICAgIG1hcHBlZFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gaXRlcmFibGUuX19pdGVyYXRlKFxuICAgICAgICBmdW5jdGlvbih2LCBrLCBjKSAge3JldHVybiBmbihtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBjKSwgaywgdGhpcyQwKSAhPT0gZmFsc2V9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH1cbiAgICBtYXBwZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG1hcHBlci5jYWxsKGNvbnRleHQsIGVudHJ5WzFdLCBrZXksIGl0ZXJhYmxlKSxcbiAgICAgICAgICBzdGVwXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcHBlZFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiByZXZlcnNlRmFjdG9yeShpdGVyYWJsZSwgdXNlS2V5cykge1xuICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLl9pdGVyID0gaXRlcmFibGU7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLnJldmVyc2UgPSBmdW5jdGlvbigpICB7cmV0dXJuIGl0ZXJhYmxlfTtcbiAgICBpZiAoaXRlcmFibGUuZmxpcCkge1xuICAgICAgcmV2ZXJzZWRTZXF1ZW5jZS5mbGlwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmxpcFNlcXVlbmNlID0gZmxpcEZhY3RvcnkoaXRlcmFibGUpO1xuICAgICAgICBmbGlwU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGUuZmxpcCgpfTtcbiAgICAgICAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldmVyc2VkU2VxdWVuY2UuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkgXG4gICAgICB7cmV0dXJuIGl0ZXJhYmxlLmdldCh1c2VLZXlzID8ga2V5IDogLTEgLSBrZXksIG5vdFNldFZhbHVlKX07XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbihrZXkgKVxuICAgICAge3JldHVybiBpdGVyYWJsZS5oYXModXNlS2V5cyA/IGtleSA6IC0xIC0ga2V5KX07XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpdGVyYWJsZS5pbmNsdWRlcyh2YWx1ZSl9O1xuICAgIHJldmVyc2VkU2VxdWVuY2UuY2FjaGVSZXN1bHQgPSBjYWNoZVJlc3VsdFRocm91Z2g7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZm4odiwgaywgdGhpcyQwKX0sICFyZXZlcnNlKTtcbiAgICB9O1xuICAgIHJldmVyc2VkU2VxdWVuY2UuX19pdGVyYXRvciA9XG4gICAgICBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSAge3JldHVybiBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsICFyZXZlcnNlKX07XG4gICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGZpbHRlckZhY3RvcnkoaXRlcmFibGUsIHByZWRpY2F0ZSwgY29udGV4dCwgdXNlS2V5cykge1xuICAgIHZhciBmaWx0ZXJTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgaWYgKHVzZUtleXMpIHtcbiAgICAgIGZpbHRlclNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uKGtleSApIHtcbiAgICAgICAgdmFyIHYgPSBpdGVyYWJsZS5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgICAgcmV0dXJuIHYgIT09IE5PVF9TRVQgJiYgISFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKTtcbiAgICAgIH07XG4gICAgICBmaWx0ZXJTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSAge1xuICAgICAgICB2YXIgdiA9IGl0ZXJhYmxlLmdldChrZXksIE5PVF9TRVQpO1xuICAgICAgICByZXR1cm4gdiAhPT0gTk9UX1NFVCAmJiBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKSA/XG4gICAgICAgICAgdiA6IG5vdFNldFZhbHVlO1xuICAgICAgfTtcbiAgICB9XG4gICAgZmlsdGVyU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICBmaWx0ZXJTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gZW50cnlbMV07XG4gICAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHZhbHVlLCBrZXksIGl0ZXJhYmxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgdXNlS2V5cyA/IGtleSA6IGl0ZXJhdGlvbnMrKywgdmFsdWUsIHN0ZXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY291bnRCeUZhY3RvcnkoaXRlcmFibGUsIGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgZ3JvdXBzID0gc3JjX01hcF9fTWFwKCkuYXNNdXRhYmxlKCk7XG4gICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICBncm91cHMudXBkYXRlKFxuICAgICAgICBncm91cGVyLmNhbGwoY29udGV4dCwgdiwgaywgaXRlcmFibGUpLFxuICAgICAgICAwLFxuICAgICAgICBmdW5jdGlvbihhICkge3JldHVybiBhICsgMX1cbiAgICAgICk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGdyb3Vwcy5hc0ltbXV0YWJsZSgpO1xuICB9XG5cblxuICBmdW5jdGlvbiBncm91cEJ5RmFjdG9yeShpdGVyYWJsZSwgZ3JvdXBlciwgY29udGV4dCkge1xuICAgIHZhciBpc0tleWVkSXRlciA9IGlzS2V5ZWQoaXRlcmFibGUpO1xuICAgIHZhciBncm91cHMgPSAoaXNPcmRlcmVkKGl0ZXJhYmxlKSA/IE9yZGVyZWRNYXAoKSA6IHNyY19NYXBfX01hcCgpKS5hc011dGFibGUoKTtcbiAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgIGdyb3Vwcy51cGRhdGUoXG4gICAgICAgIGdyb3VwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBpdGVyYWJsZSksXG4gICAgICAgIGZ1bmN0aW9uKGEgKSB7cmV0dXJuIChhID0gYSB8fCBbXSwgYS5wdXNoKGlzS2V5ZWRJdGVyID8gW2ssIHZdIDogdiksIGEpfVxuICAgICAgKTtcbiAgICB9KTtcbiAgICB2YXIgY29lcmNlID0gaXRlcmFibGVDbGFzcyhpdGVyYWJsZSk7XG4gICAgcmV0dXJuIGdyb3Vwcy5tYXAoZnVuY3Rpb24oYXJyICkge3JldHVybiByZWlmeShpdGVyYWJsZSwgY29lcmNlKGFycikpfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHNsaWNlRmFjdG9yeShpdGVyYWJsZSwgYmVnaW4sIGVuZCwgdXNlS2V5cykge1xuICAgIHZhciBvcmlnaW5hbFNpemUgPSBpdGVyYWJsZS5zaXplO1xuXG4gICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgb3JpZ2luYWxTaXplKSkge1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgIH1cblxuICAgIHZhciByZXNvbHZlZEJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCBvcmlnaW5hbFNpemUpO1xuICAgIHZhciByZXNvbHZlZEVuZCA9IHJlc29sdmVFbmQoZW5kLCBvcmlnaW5hbFNpemUpO1xuXG4gICAgLy8gYmVnaW4gb3IgZW5kIHdpbGwgYmUgTmFOIGlmIHRoZXkgd2VyZSBwcm92aWRlZCBhcyBuZWdhdGl2ZSBudW1iZXJzIGFuZFxuICAgIC8vIHRoaXMgaXRlcmFibGUncyBzaXplIGlzIHVua25vd24uIEluIHRoYXQgY2FzZSwgY2FjaGUgZmlyc3Qgc28gdGhlcmUgaXNcbiAgICAvLyBhIGtub3duIHNpemUgYW5kIHRoZXNlIGRvIG5vdCByZXNvbHZlIHRvIE5hTi5cbiAgICBpZiAocmVzb2x2ZWRCZWdpbiAhPT0gcmVzb2x2ZWRCZWdpbiB8fCByZXNvbHZlZEVuZCAhPT0gcmVzb2x2ZWRFbmQpIHtcbiAgICAgIHJldHVybiBzbGljZUZhY3RvcnkoaXRlcmFibGUudG9TZXEoKS5jYWNoZVJlc3VsdCgpLCBiZWdpbiwgZW5kLCB1c2VLZXlzKTtcbiAgICB9XG5cbiAgICAvLyBOb3RlOiByZXNvbHZlZEVuZCBpcyB1bmRlZmluZWQgd2hlbiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UncyBsZW5ndGggaXNcbiAgICAvLyB1bmtub3duIGFuZCB0aGlzIHNsaWNlIGRpZCBub3Qgc3VwcGx5IGFuIGVuZCBhbmQgc2hvdWxkIGNvbnRhaW4gYWxsXG4gICAgLy8gZWxlbWVudHMgYWZ0ZXIgcmVzb2x2ZWRCZWdpbi5cbiAgICAvLyBJbiB0aGF0IGNhc2UsIHJlc29sdmVkU2l6ZSB3aWxsIGJlIE5hTiBhbmQgc2xpY2VTaXplIHdpbGwgcmVtYWluIHVuZGVmaW5lZC5cbiAgICB2YXIgcmVzb2x2ZWRTaXplID0gcmVzb2x2ZWRFbmQgLSByZXNvbHZlZEJlZ2luO1xuICAgIHZhciBzbGljZVNpemU7XG4gICAgaWYgKHJlc29sdmVkU2l6ZSA9PT0gcmVzb2x2ZWRTaXplKSB7XG4gICAgICBzbGljZVNpemUgPSByZXNvbHZlZFNpemUgPCAwID8gMCA6IHJlc29sdmVkU2l6ZTtcbiAgICB9XG5cbiAgICB2YXIgc2xpY2VTZXEgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuXG4gICAgc2xpY2VTZXEuc2l6ZSA9IHNsaWNlU2l6ZTtcblxuICAgIGlmICghdXNlS2V5cyAmJiBpc1NlcShpdGVyYWJsZSkgJiYgc2xpY2VTaXplID49IDApIHtcbiAgICAgIHNsaWNlU2VxLmdldCA9IGZ1bmN0aW9uIChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8IHNsaWNlU2l6ZSA/XG4gICAgICAgICAgaXRlcmFibGUuZ2V0KGluZGV4ICsgcmVzb2x2ZWRCZWdpbiwgbm90U2V0VmFsdWUpIDpcbiAgICAgICAgICBub3RTZXRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzbGljZVNlcS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICBpZiAoc2xpY2VTaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIHNraXBwZWQgPSAwO1xuICAgICAgdmFyIGlzU2tpcHBpbmcgPSB0cnVlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICAgIGlmICghKGlzU2tpcHBpbmcgJiYgKGlzU2tpcHBpbmcgPSBza2lwcGVkKysgPCByZXNvbHZlZEJlZ2luKSkpIHtcbiAgICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMCkgIT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnMgIT09IHNsaWNlU2l6ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuXG4gICAgc2xpY2VTZXEuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHNsaWNlU2l6ZSAhPT0gMCAmJiByZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIC8vIERvbid0IGJvdGhlciBpbnN0YW50aWF0aW5nIHBhcmVudCBpdGVyYXRvciBpZiB0YWtpbmcgMC5cbiAgICAgIHZhciBpdGVyYXRvciA9IHNsaWNlU2l6ZSAhPT0gMCAmJiBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgdmFyIHNraXBwZWQgPSAwO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgd2hpbGUgKHNraXBwZWQrKyA8IHJlc29sdmVkQmVnaW4pIHtcbiAgICAgICAgICBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCsraXRlcmF0aW9ucyA+IHNsaWNlU2l6ZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHVzZUtleXMgfHwgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBJVEVSQVRFX0tFWVMpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zIC0gMSwgdW5kZWZpbmVkLCBzdGVwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zIC0gMSwgc3RlcC52YWx1ZVsxXSwgc3RlcCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBzbGljZVNlcTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gdGFrZVdoaWxlRmFjdG9yeShpdGVyYWJsZSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHRha2VTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgdGFrZVNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSBcbiAgICAgICAge3JldHVybiBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSAmJiArK2l0ZXJhdGlvbnMgJiYgZm4odiwgaywgdGhpcyQwKX1cbiAgICAgICk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuICAgIHRha2VTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgaXRlcmF0aW5nID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIGlmICghaXRlcmF0aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgdmFyIGsgPSBlbnRyeVswXTtcbiAgICAgICAgdmFyIHYgPSBlbnRyeVsxXTtcbiAgICAgICAgaWYgKCFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCB0aGlzJDApKSB7XG4gICAgICAgICAgaXRlcmF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMgPyBzdGVwIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gdGFrZVNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBza2lwV2hpbGVGYWN0b3J5KGl0ZXJhYmxlLCBwcmVkaWNhdGUsIGNvbnRleHQsIHVzZUtleXMpIHtcbiAgICB2YXIgc2tpcFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBza2lwU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1NraXBwaW5nID0gdHJ1ZTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAoIShpc1NraXBwaW5nICYmIChpc1NraXBwaW5nID0gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpKSkge1xuICAgICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgICByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zIC0gMSwgdGhpcyQwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuICAgIHNraXBTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgc2tpcHBpbmcgPSB0cnVlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAsIGssIHY7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIGlmICh1c2VLZXlzIHx8IHR5cGUgPT09IElURVJBVEVfVkFMVUVTKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBJVEVSQVRFX0tFWVMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB1bmRlZmluZWQsIHN0ZXApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlWzFdLCBzdGVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICBrID0gZW50cnlbMF07XG4gICAgICAgICAgdiA9IGVudHJ5WzFdO1xuICAgICAgICAgIHNraXBwaW5nICYmIChza2lwcGluZyA9IHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIHRoaXMkMCkpO1xuICAgICAgICB9IHdoaWxlIChza2lwcGluZyk7XG4gICAgICAgIHJldHVybiB0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMgPyBzdGVwIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gc2tpcFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBjb25jYXRGYWN0b3J5KGl0ZXJhYmxlLCB2YWx1ZXMpIHtcbiAgICB2YXIgaXNLZXllZEl0ZXJhYmxlID0gaXNLZXllZChpdGVyYWJsZSk7XG4gICAgdmFyIGl0ZXJzID0gW2l0ZXJhYmxlXS5jb25jYXQodmFsdWVzKS5tYXAoZnVuY3Rpb24odiApIHtcbiAgICAgIGlmICghaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICB2ID0gaXNLZXllZEl0ZXJhYmxlID9cbiAgICAgICAgICBrZXllZFNlcUZyb21WYWx1ZSh2KSA6XG4gICAgICAgICAgaW5kZXhlZFNlcUZyb21WYWx1ZShBcnJheS5pc0FycmF5KHYpID8gdiA6IFt2XSk7XG4gICAgICB9IGVsc2UgaWYgKGlzS2V5ZWRJdGVyYWJsZSkge1xuICAgICAgICB2ID0gS2V5ZWRJdGVyYWJsZSh2KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2O1xuICAgIH0pLmZpbHRlcihmdW5jdGlvbih2ICkge3JldHVybiB2LnNpemUgIT09IDB9KTtcblxuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICB9XG5cbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgc2luZ2xldG9uID0gaXRlcnNbMF07XG4gICAgICBpZiAoc2luZ2xldG9uID09PSBpdGVyYWJsZSB8fFxuICAgICAgICAgIGlzS2V5ZWRJdGVyYWJsZSAmJiBpc0tleWVkKHNpbmdsZXRvbikgfHxcbiAgICAgICAgICBpc0luZGV4ZWQoaXRlcmFibGUpICYmIGlzSW5kZXhlZChzaW5nbGV0b24pKSB7XG4gICAgICAgIHJldHVybiBzaW5nbGV0b247XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNvbmNhdFNlcSA9IG5ldyBBcnJheVNlcShpdGVycyk7XG4gICAgaWYgKGlzS2V5ZWRJdGVyYWJsZSkge1xuICAgICAgY29uY2F0U2VxID0gY29uY2F0U2VxLnRvS2V5ZWRTZXEoKTtcbiAgICB9IGVsc2UgaWYgKCFpc0luZGV4ZWQoaXRlcmFibGUpKSB7XG4gICAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEudG9TZXRTZXEoKTtcbiAgICB9XG4gICAgY29uY2F0U2VxID0gY29uY2F0U2VxLmZsYXR0ZW4odHJ1ZSk7XG4gICAgY29uY2F0U2VxLnNpemUgPSBpdGVycy5yZWR1Y2UoXG4gICAgICBmdW5jdGlvbihzdW0sIHNlcSkgIHtcbiAgICAgICAgaWYgKHN1bSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIHNpemUgPSBzZXEuc2l6ZTtcbiAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VtICsgc2l6ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAwXG4gICAgKTtcbiAgICByZXR1cm4gY29uY2F0U2VxO1xuICB9XG5cblxuICBmdW5jdGlvbiBmbGF0dGVuRmFjdG9yeShpdGVyYWJsZSwgZGVwdGgsIHVzZUtleXMpIHtcbiAgICB2YXIgZmxhdFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBmbGF0U2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgIGZ1bmN0aW9uIGZsYXREZWVwKGl0ZXIsIGN1cnJlbnREZXB0aCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgICBpdGVyLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgICAgIGlmICgoIWRlcHRoIHx8IGN1cnJlbnREZXB0aCA8IGRlcHRoKSAmJiBpc0l0ZXJhYmxlKHYpKSB7XG4gICAgICAgICAgICBmbGF0RGVlcCh2LCBjdXJyZW50RGVwdGggKyAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucysrLCB0aGlzJDApID09PSBmYWxzZSkge1xuICAgICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhc3RvcHBlZDtcbiAgICAgICAgfSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICBmbGF0RGVlcChpdGVyYWJsZSwgMCk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9XG4gICAgZmxhdFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHdoaWxlIChpdGVyYXRvcikge1xuICAgICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICBpZiAodHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTKSB7XG4gICAgICAgICAgICB2ID0gdlsxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCghZGVwdGggfHwgc3RhY2subGVuZ3RoIDwgZGVwdGgpICYmIGlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goaXRlcmF0b3IpO1xuICAgICAgICAgICAgaXRlcmF0b3IgPSB2Ll9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1c2VLZXlzID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB2LCBzdGVwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmbGF0U2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGZsYXRNYXBGYWN0b3J5KGl0ZXJhYmxlLCBtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgY29lcmNlID0gaXRlcmFibGVDbGFzcyhpdGVyYWJsZSk7XG4gICAgcmV0dXJuIGl0ZXJhYmxlLnRvU2VxKCkubWFwKFxuICAgICAgZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gY29lcmNlKG1hcHBlci5jYWxsKGNvbnRleHQsIHYsIGssIGl0ZXJhYmxlKSl9XG4gICAgKS5mbGF0dGVuKHRydWUpO1xuICB9XG5cblxuICBmdW5jdGlvbiBpbnRlcnBvc2VGYWN0b3J5KGl0ZXJhYmxlLCBzZXBhcmF0b3IpIHtcbiAgICB2YXIgaW50ZXJwb3NlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBpbnRlcnBvc2VkU2VxdWVuY2Uuc2l6ZSA9IGl0ZXJhYmxlLnNpemUgJiYgaXRlcmFibGUuc2l6ZSAqIDIgLTE7XG4gICAgaW50ZXJwb3NlZFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSBcbiAgICAgICAge3JldHVybiAoIWl0ZXJhdGlvbnMgfHwgZm4oc2VwYXJhdG9yLCBpdGVyYXRpb25zKyssIHRoaXMkMCkgIT09IGZhbHNlKSAmJlxuICAgICAgICBmbih2LCBpdGVyYXRpb25zKyssIHRoaXMkMCkgIT09IGZhbHNlfSxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG4gICAgaW50ZXJwb3NlZFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICBpZiAoIXN0ZXAgfHwgaXRlcmF0aW9ucyAlIDIpIHtcbiAgICAgICAgICBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlcmF0aW9ucyAlIDIgP1xuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzZXBhcmF0b3IpIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZSwgc3RlcCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBpbnRlcnBvc2VkU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHNvcnRGYWN0b3J5KGl0ZXJhYmxlLCBjb21wYXJhdG9yLCBtYXBwZXIpIHtcbiAgICBpZiAoIWNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSBkZWZhdWx0Q29tcGFyYXRvcjtcbiAgICB9XG4gICAgdmFyIGlzS2V5ZWRJdGVyYWJsZSA9IGlzS2V5ZWQoaXRlcmFibGUpO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGVudHJpZXMgPSBpdGVyYWJsZS50b1NlcSgpLm1hcChcbiAgICAgIGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIFtrLCB2LCBpbmRleCsrLCBtYXBwZXIgPyBtYXBwZXIodiwgaywgaXRlcmFibGUpIDogdl19XG4gICAgKS50b0FycmF5KCk7XG4gICAgZW50cmllcy5zb3J0KGZ1bmN0aW9uKGEsIGIpICB7cmV0dXJuIGNvbXBhcmF0b3IoYVszXSwgYlszXSkgfHwgYVsyXSAtIGJbMl19KS5mb3JFYWNoKFxuICAgICAgaXNLZXllZEl0ZXJhYmxlID9cbiAgICAgIGZ1bmN0aW9uKHYsIGkpICB7IGVudHJpZXNbaV0ubGVuZ3RoID0gMjsgfSA6XG4gICAgICBmdW5jdGlvbih2LCBpKSAgeyBlbnRyaWVzW2ldID0gdlsxXTsgfVxuICAgICk7XG4gICAgcmV0dXJuIGlzS2V5ZWRJdGVyYWJsZSA/IEtleWVkU2VxKGVudHJpZXMpIDpcbiAgICAgIGlzSW5kZXhlZChpdGVyYWJsZSkgPyBJbmRleGVkU2VxKGVudHJpZXMpIDpcbiAgICAgIFNldFNlcShlbnRyaWVzKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gbWF4RmFjdG9yeShpdGVyYWJsZSwgY29tcGFyYXRvciwgbWFwcGVyKSB7XG4gICAgaWYgKCFjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gZGVmYXVsdENvbXBhcmF0b3I7XG4gICAgfVxuICAgIGlmIChtYXBwZXIpIHtcbiAgICAgIHZhciBlbnRyeSA9IGl0ZXJhYmxlLnRvU2VxKClcbiAgICAgICAgLm1hcChmdW5jdGlvbih2LCBrKSAge3JldHVybiBbdiwgbWFwcGVyKHYsIGssIGl0ZXJhYmxlKV19KVxuICAgICAgICAucmVkdWNlKGZ1bmN0aW9uKGEsIGIpICB7cmV0dXJuIG1heENvbXBhcmUoY29tcGFyYXRvciwgYVsxXSwgYlsxXSkgPyBiIDogYX0pO1xuICAgICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5WzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaXRlcmFibGUucmVkdWNlKGZ1bmN0aW9uKGEsIGIpICB7cmV0dXJuIG1heENvbXBhcmUoY29tcGFyYXRvciwgYSwgYikgPyBiIDogYX0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1heENvbXBhcmUoY29tcGFyYXRvciwgYSwgYikge1xuICAgIHZhciBjb21wID0gY29tcGFyYXRvcihiLCBhKTtcbiAgICAvLyBiIGlzIGNvbnNpZGVyZWQgdGhlIG5ldyBtYXggaWYgdGhlIGNvbXBhcmF0b3IgZGVjbGFyZXMgdGhlbSBlcXVhbCwgYnV0XG4gICAgLy8gdGhleSBhcmUgbm90IGVxdWFsIGFuZCBiIGlzIGluIGZhY3QgYSBudWxsaXNoIHZhbHVlLlxuICAgIHJldHVybiAoY29tcCA9PT0gMCAmJiBiICE9PSBhICYmIChiID09PSB1bmRlZmluZWQgfHwgYiA9PT0gbnVsbCB8fCBiICE9PSBiKSkgfHwgY29tcCA+IDA7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHppcFdpdGhGYWN0b3J5KGtleUl0ZXIsIHppcHBlciwgaXRlcnMpIHtcbiAgICB2YXIgemlwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2Uoa2V5SXRlcik7XG4gICAgemlwU2VxdWVuY2Uuc2l6ZSA9IG5ldyBBcnJheVNlcShpdGVycykubWFwKGZ1bmN0aW9uKGkgKSB7cmV0dXJuIGkuc2l6ZX0pLm1pbigpO1xuICAgIC8vIE5vdGU6IHRoaXMgYSBnZW5lcmljIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgX19pdGVyYXRlIGluIHRlcm1zIG9mXG4gICAgLy8gX19pdGVyYXRvciB3aGljaCBtYXkgYmUgbW9yZSBnZW5lcmljYWxseSB1c2VmdWwgaW4gdGhlIGZ1dHVyZS5cbiAgICB6aXBTZXF1ZW5jZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgLyogZ2VuZXJpYzpcbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgaWYgKGZuKHN0ZXAudmFsdWVbMV0sIHN0ZXAudmFsdWVbMF0sIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICAgICovXG4gICAgICAvLyBpbmRleGVkOlxuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICBpZiAoZm4oc3RlcC52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICB6aXBTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JzID0gaXRlcnMubWFwKGZ1bmN0aW9uKGkgKVxuICAgICAgICB7cmV0dXJuIChpID0gSXRlcmFibGUoaSksIGdldEl0ZXJhdG9yKHJldmVyc2UgPyBpLnJldmVyc2UoKSA6IGkpKX1cbiAgICAgICk7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgaXNEb25lID0gZmFsc2U7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcHM7XG4gICAgICAgIGlmICghaXNEb25lKSB7XG4gICAgICAgICAgc3RlcHMgPSBpdGVyYXRvcnMubWFwKGZ1bmN0aW9uKGkgKSB7cmV0dXJuIGkubmV4dCgpfSk7XG4gICAgICAgICAgaXNEb25lID0gc3RlcHMuc29tZShmdW5jdGlvbihzICkge3JldHVybiBzLmRvbmV9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgaXRlcmF0aW9ucysrLFxuICAgICAgICAgIHppcHBlci5hcHBseShudWxsLCBzdGVwcy5tYXAoZnVuY3Rpb24ocyApIHtyZXR1cm4gcy52YWx1ZX0pKVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gemlwU2VxdWVuY2VcbiAgfVxuXG5cbiAgLy8gI3ByYWdtYSBIZWxwZXIgRnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24gcmVpZnkoaXRlciwgc2VxKSB7XG4gICAgcmV0dXJuIGlzU2VxKGl0ZXIpID8gc2VxIDogaXRlci5jb25zdHJ1Y3RvcihzZXEpO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVFbnRyeShlbnRyeSkge1xuICAgIGlmIChlbnRyeSAhPT0gT2JqZWN0KGVudHJ5KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgW0ssIFZdIHR1cGxlOiAnICsgZW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVTaXplKGl0ZXIpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgIHJldHVybiBlbnN1cmVTaXplKGl0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXRlcmFibGVDbGFzcyhpdGVyYWJsZSkge1xuICAgIHJldHVybiBpc0tleWVkKGl0ZXJhYmxlKSA/IEtleWVkSXRlcmFibGUgOlxuICAgICAgaXNJbmRleGVkKGl0ZXJhYmxlKSA/IEluZGV4ZWRJdGVyYWJsZSA6XG4gICAgICBTZXRJdGVyYWJsZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VTZXF1ZW5jZShpdGVyYWJsZSkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKFxuICAgICAgKFxuICAgICAgICBpc0tleWVkKGl0ZXJhYmxlKSA/IEtleWVkU2VxIDpcbiAgICAgICAgaXNJbmRleGVkKGl0ZXJhYmxlKSA/IEluZGV4ZWRTZXEgOlxuICAgICAgICBTZXRTZXFcbiAgICAgICkucHJvdG90eXBlXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhY2hlUmVzdWx0VGhyb3VnaCgpIHtcbiAgICBpZiAodGhpcy5faXRlci5jYWNoZVJlc3VsdCkge1xuICAgICAgdGhpcy5faXRlci5jYWNoZVJlc3VsdCgpO1xuICAgICAgdGhpcy5zaXplID0gdGhpcy5faXRlci5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTZXEucHJvdG90eXBlLmNhY2hlUmVzdWx0LmNhbGwodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdENvbXBhcmF0b3IoYSwgYikge1xuICAgIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcmNlSXRlcmF0b3Ioa2V5UGF0aCkge1xuICAgIHZhciBpdGVyID0gZ2V0SXRlcmF0b3Ioa2V5UGF0aCk7XG4gICAgaWYgKCFpdGVyKSB7XG4gICAgICAvLyBBcnJheSBtaWdodCBub3QgYmUgaXRlcmFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCwgc28gd2UgbmVlZCBhIGZhbGxiYWNrXG4gICAgICAvLyB0byBvdXIgd3JhcHBlZCB0eXBlLlxuICAgICAgaWYgKCFpc0FycmF5TGlrZShrZXlQYXRoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBpdGVyYWJsZSBvciBhcnJheS1saWtlOiAnICsga2V5UGF0aCk7XG4gICAgICB9XG4gICAgICBpdGVyID0gZ2V0SXRlcmF0b3IoSXRlcmFibGUoa2V5UGF0aCkpO1xuICAgIH1cbiAgICByZXR1cm4gaXRlcjtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKHNyY19NYXBfX01hcCwgS2V5ZWRDb2xsZWN0aW9uKTtcblxuICAgIC8vIEBwcmFnbWEgQ29uc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBzcmNfTWFwX19NYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlNYXAoKSA6XG4gICAgICAgIGlzTWFwKHZhbHVlKSA/IHZhbHVlIDpcbiAgICAgICAgZW1wdHlNYXAoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKG1hcCApIHtcbiAgICAgICAgICB2YXIgaXRlciA9IEtleWVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIG1hcC5zZXQoaywgdil9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnTWFwIHsnLCAnfScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrLCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QgP1xuICAgICAgICB0aGlzLl9yb290LmdldCgwLCB1bmRlZmluZWQsIGssIG5vdFNldFZhbHVlKSA6XG4gICAgICAgIG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrLCB2KSB7XG4gICAgICByZXR1cm4gdXBkYXRlTWFwKHRoaXMsIGssIHYpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnNldEluID0gZnVuY3Rpb24oa2V5UGF0aCwgdikge1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oa2V5UGF0aCwgTk9UX1NFVCwgZnVuY3Rpb24oKSAge3JldHVybiB2fSk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaykge1xuICAgICAgcmV0dXJuIHVwZGF0ZU1hcCh0aGlzLCBrLCBOT1RfU0VUKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5kZWxldGVJbiA9IGZ1bmN0aW9uKGtleVBhdGgpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKGtleVBhdGgsIGZ1bmN0aW9uKCkgIHtyZXR1cm4gTk9UX1NFVH0pO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGssIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/XG4gICAgICAgIGsodGhpcykgOlxuICAgICAgICB0aGlzLnVwZGF0ZUluKFtrXSwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnVwZGF0ZUluID0gZnVuY3Rpb24oa2V5UGF0aCwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpIHtcbiAgICAgIGlmICghdXBkYXRlcikge1xuICAgICAgICB1cGRhdGVyID0gbm90U2V0VmFsdWU7XG4gICAgICAgIG5vdFNldFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIHVwZGF0ZWRWYWx1ZSA9IHVwZGF0ZUluRGVlcE1hcChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgZm9yY2VJdGVyYXRvcihrZXlQYXRoKSxcbiAgICAgICAgbm90U2V0VmFsdWUsXG4gICAgICAgIHVwZGF0ZXJcbiAgICAgICk7XG4gICAgICByZXR1cm4gdXBkYXRlZFZhbHVlID09PSBOT1RfU0VUID8gdW5kZWZpbmVkIDogdXBkYXRlZFZhbHVlO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbXB0eU1hcCgpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCB1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2VXaXRoID0gZnVuY3Rpb24obWVyZ2VyKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCBtZXJnZXIsIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5tZXJnZUluID0gZnVuY3Rpb24oa2V5UGF0aCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oXG4gICAgICAgIGtleVBhdGgsXG4gICAgICAgIGVtcHR5TWFwKCksXG4gICAgICAgIGZ1bmN0aW9uKG0gKSB7cmV0dXJuIHR5cGVvZiBtLm1lcmdlID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICBtLm1lcmdlLmFwcGx5KG0sIGl0ZXJzKSA6XG4gICAgICAgICAgaXRlcnNbaXRlcnMubGVuZ3RoIC0gMV19XG4gICAgICApO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlRGVlcCA9IGZ1bmN0aW9uKC8qLi4uaXRlcnMqLykge1xuICAgICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgZGVlcE1lcmdlcih1bmRlZmluZWQpLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIGRlZXBNZXJnZXIobWVyZ2VyKSwgaXRlcnMpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlRGVlcEluID0gZnVuY3Rpb24oa2V5UGF0aCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oXG4gICAgICAgIGtleVBhdGgsXG4gICAgICAgIGVtcHR5TWFwKCksXG4gICAgICAgIGZ1bmN0aW9uKG0gKSB7cmV0dXJuIHR5cGVvZiBtLm1lcmdlRGVlcCA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgbS5tZXJnZURlZXAuYXBwbHkobSwgaXRlcnMpIDpcbiAgICAgICAgICBpdGVyc1tpdGVycy5sZW5ndGggLSAxXX1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uKGNvbXBhcmF0b3IpIHtcbiAgICAgIC8vIExhdGUgYmluZGluZ1xuICAgICAgcmV0dXJuIE9yZGVyZWRNYXAoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvcikpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgICByZXR1cm4gT3JkZXJlZE1hcChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNdXRhYmlsaXR5XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBmdW5jdGlvbihmbikge1xuICAgICAgdmFyIG11dGFibGUgPSB0aGlzLmFzTXV0YWJsZSgpO1xuICAgICAgZm4obXV0YWJsZSk7XG4gICAgICByZXR1cm4gbXV0YWJsZS53YXNBbHRlcmVkKCkgPyBtdXRhYmxlLl9fZW5zdXJlT3duZXIodGhpcy5fX293bmVySUQpIDogdGhpcztcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5hc011dGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fb3duZXJJRCA/IHRoaXMgOiB0aGlzLl9fZW5zdXJlT3duZXIobmV3IE93bmVySUQoKSk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuYXNJbW11dGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZW5zdXJlT3duZXIoKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2FsdGVyZWQ7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcywgdHlwZSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHRoaXMuX3Jvb3QgJiYgdGhpcy5fcm9vdC5pdGVyYXRlKGZ1bmN0aW9uKGVudHJ5ICkge1xuICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgIHJldHVybiBmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMkMCk7XG4gICAgICB9LCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlTWFwKHRoaXMuc2l6ZSwgdGhpcy5fcm9vdCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc01hcChtYXliZU1hcCkge1xuICAgIHJldHVybiAhIShtYXliZU1hcCAmJiBtYXliZU1hcFtJU19NQVBfU0VOVElORUxdKTtcbiAgfVxuXG4gIHNyY19NYXBfX01hcC5pc01hcCA9IGlzTWFwO1xuXG4gIHZhciBJU19NQVBfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9NQVBfX0BAJztcblxuICB2YXIgTWFwUHJvdG90eXBlID0gc3JjX01hcF9fTWFwLnByb3RvdHlwZTtcbiAgTWFwUHJvdG90eXBlW0lTX01BUF9TRU5USU5FTF0gPSB0cnVlO1xuICBNYXBQcm90b3R5cGVbREVMRVRFXSA9IE1hcFByb3RvdHlwZS5yZW1vdmU7XG4gIE1hcFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5kZWxldGVJbjtcblxuXG4gIC8vICNwcmFnbWEgVHJpZSBOb2Rlc1xuXG5cblxuICAgIGZ1bmN0aW9uIEFycmF5TWFwTm9kZShvd25lcklELCBlbnRyaWVzKSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbiAgICB9XG5cbiAgICBBcnJheU1hcE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICAgIGZvciAodmFyIGlpID0gMCwgbGVuID0gZW50cmllcy5sZW5ndGg7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWldWzBdKSkge1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzW2lpXVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBBcnJheU1hcE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcblxuICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgICB2YXIgaWR4ID0gMDtcbiAgICAgIGZvciAodmFyIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpZHggPCBsZW47IGlkeCsrKSB7XG4gICAgICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWR4XVswXSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGV4aXN0cyA9IGlkeCA8IGxlbjtcblxuICAgICAgaWYgKGV4aXN0cyA/IGVudHJpZXNbaWR4XVsxXSA9PT0gdmFsdWUgOiByZW1vdmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgICAgKHJlbW92ZWQgfHwgIWV4aXN0cykgJiYgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuXG4gICAgICBpZiAocmVtb3ZlZCAmJiBlbnRyaWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm47IC8vIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICBpZiAoIWV4aXN0cyAmJiAhcmVtb3ZlZCAmJiBlbnRyaWVzLmxlbmd0aCA+PSBNQVhfQVJSQVlfTUFQX1NJWkUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU5vZGVzKG93bmVySUQsIGVudHJpZXMsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICAgICAgdmFyIG5ld0VudHJpZXMgPSBpc0VkaXRhYmxlID8gZW50cmllcyA6IGFyckNvcHkoZW50cmllcyk7XG5cbiAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgICAgICBpZHggPT09IGxlbiAtIDEgPyBuZXdFbnRyaWVzLnBvcCgpIDogKG5ld0VudHJpZXNbaWR4XSA9IG5ld0VudHJpZXMucG9wKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0VudHJpZXNbaWR4XSA9IFtrZXksIHZhbHVlXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEFycmF5TWFwTm9kZShvd25lcklELCBuZXdFbnRyaWVzKTtcbiAgICB9O1xuXG5cblxuXG4gICAgZnVuY3Rpb24gQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgYml0bWFwLCBub2Rlcykge1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuYml0bWFwID0gYml0bWFwO1xuICAgICAgdGhpcy5ub2RlcyA9IG5vZGVzO1xuICAgIH1cblxuICAgIEJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGJpdCA9ICgxIDw8ICgoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSykpO1xuICAgICAgdmFyIGJpdG1hcCA9IHRoaXMuYml0bWFwO1xuICAgICAgcmV0dXJuIChiaXRtYXAgJiBiaXQpID09PSAwID8gbm90U2V0VmFsdWUgOlxuICAgICAgICB0aGlzLm5vZGVzW3BvcENvdW50KGJpdG1hcCAmIChiaXQgLSAxKSldLmdldChzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKTtcbiAgICB9O1xuXG4gICAgQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGtleUhhc2hGcmFnID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gICAgICB2YXIgYml0ID0gMSA8PCBrZXlIYXNoRnJhZztcbiAgICAgIHZhciBiaXRtYXAgPSB0aGlzLmJpdG1hcDtcbiAgICAgIHZhciBleGlzdHMgPSAoYml0bWFwICYgYml0KSAhPT0gMDtcblxuICAgICAgaWYgKCFleGlzdHMgJiYgdmFsdWUgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBpZHggPSBwb3BDb3VudChiaXRtYXAgJiAoYml0IC0gMSkpO1xuICAgICAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgICAgIHZhciBub2RlID0gZXhpc3RzID8gbm9kZXNbaWR4XSA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciBuZXdOb2RlID0gdXBkYXRlTm9kZShub2RlLCBvd25lcklELCBzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcik7XG5cbiAgICAgIGlmIChuZXdOb2RlID09PSBub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV4aXN0cyAmJiBuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA+PSBNQVhfQklUTUFQX0lOREVYRURfU0laRSkge1xuICAgICAgICByZXR1cm4gZXhwYW5kTm9kZXMob3duZXJJRCwgbm9kZXMsIGJpdG1hcCwga2V5SGFzaEZyYWcsIG5ld05vZGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXhpc3RzICYmICFuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA9PT0gMiAmJiBpc0xlYWZOb2RlKG5vZGVzW2lkeCBeIDFdKSkge1xuICAgICAgICByZXR1cm4gbm9kZXNbaWR4IF4gMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChleGlzdHMgJiYgbmV3Tm9kZSAmJiBub2Rlcy5sZW5ndGggPT09IDEgJiYgaXNMZWFmTm9kZShuZXdOb2RlKSkge1xuICAgICAgICByZXR1cm4gbmV3Tm9kZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgICAgIHZhciBuZXdCaXRtYXAgPSBleGlzdHMgPyBuZXdOb2RlID8gYml0bWFwIDogYml0bWFwIF4gYml0IDogYml0bWFwIHwgYml0O1xuICAgICAgdmFyIG5ld05vZGVzID0gZXhpc3RzID8gbmV3Tm9kZSA/XG4gICAgICAgIHNldEluKG5vZGVzLCBpZHgsIG5ld05vZGUsIGlzRWRpdGFibGUpIDpcbiAgICAgICAgc3BsaWNlT3V0KG5vZGVzLCBpZHgsIGlzRWRpdGFibGUpIDpcbiAgICAgICAgc3BsaWNlSW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSk7XG5cbiAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgIHRoaXMuYml0bWFwID0gbmV3Qml0bWFwO1xuICAgICAgICB0aGlzLm5vZGVzID0gbmV3Tm9kZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIG5ld0JpdG1hcCwgbmV3Tm9kZXMpO1xuICAgIH07XG5cblxuXG5cbiAgICBmdW5jdGlvbiBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIGNvdW50LCBub2Rlcykge1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICAgIHRoaXMubm9kZXMgPSBub2RlcztcbiAgICB9XG5cbiAgICBIYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGlkeCA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGVzW2lkeF07XG4gICAgICByZXR1cm4gbm9kZSA/IG5vZGUuZ2V0KHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEhhc2hBcnJheU1hcE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGlkeCA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcbiAgICAgIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gICAgICB2YXIgbm9kZSA9IG5vZGVzW2lkeF07XG5cbiAgICAgIGlmIChyZW1vdmVkICYmICFub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3Tm9kZSA9IHVwZGF0ZU5vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQgKyBTSElGVCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpO1xuICAgICAgaWYgKG5ld05vZGUgPT09IG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdDb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgbmV3Q291bnQrKztcbiAgICAgIH0gZWxzZSBpZiAoIW5ld05vZGUpIHtcbiAgICAgICAgbmV3Q291bnQtLTtcbiAgICAgICAgaWYgKG5ld0NvdW50IDwgTUlOX0hBU0hfQVJSQVlfTUFQX1NJWkUpIHtcbiAgICAgICAgICByZXR1cm4gcGFja05vZGVzKG93bmVySUQsIG5vZGVzLCBuZXdDb3VudCwgaWR4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICAgICAgdmFyIG5ld05vZGVzID0gc2V0SW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSk7XG5cbiAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgIHRoaXMuY291bnQgPSBuZXdDb3VudDtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG5ld05vZGVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIG5ld0NvdW50LCBuZXdOb2Rlcyk7XG4gICAgfTtcblxuXG5cblxuICAgIGZ1bmN0aW9uIEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJpZXMpIHtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLmtleUhhc2ggPSBrZXlIYXNoO1xuICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbiAgICB9XG5cbiAgICBIYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgICAgZm9yICh2YXIgaWkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICAgICAgaWYgKGlzKGtleSwgZW50cmllc1tpaV1bMF0pKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJpZXNbaWldWzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICAgIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcblxuICAgICAgaWYgKGtleUhhc2ggIT09IHRoaXMua2V5SGFzaCkge1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICAgICAgcmV0dXJuIG1lcmdlSW50b05vZGUodGhpcywgb3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICBmb3IgKHZhciBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWR4IDwgbGVuOyBpZHgrKykge1xuICAgICAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lkeF1bMF0pKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBleGlzdHMgPSBpZHggPCBsZW47XG5cbiAgICAgIGlmIChleGlzdHMgPyBlbnRyaWVzW2lkeF1bMV0gPT09IHZhbHVlIDogcmVtb3ZlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICAgIChyZW1vdmVkIHx8ICFleGlzdHMpICYmIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcblxuICAgICAgaWYgKHJlbW92ZWQgJiYgbGVuID09PSAyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgZW50cmllc1tpZHggXiAxXSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gICAgICB2YXIgbmV3RW50cmllcyA9IGlzRWRpdGFibGUgPyBlbnRyaWVzIDogYXJyQ29weShlbnRyaWVzKTtcblxuICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgIGlkeCA9PT0gbGVuIC0gMSA/IG5ld0VudHJpZXMucG9wKCkgOiAobmV3RW50cmllc1tpZHhdID0gbmV3RW50cmllcy5wb3AoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3RW50cmllc1tpZHhdID0gW2tleSwgdmFsdWVdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdFbnRyaWVzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gbmV3RW50cmllcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBuZXdFbnRyaWVzKTtcbiAgICB9O1xuXG5cblxuXG4gICAgZnVuY3Rpb24gVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJ5KSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5rZXlIYXNoID0ga2V5SGFzaDtcbiAgICAgIHRoaXMuZW50cnkgPSBlbnRyeTtcbiAgICB9XG5cbiAgICBWYWx1ZU5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gaXMoa2V5LCB0aGlzLmVudHJ5WzBdKSA/IHRoaXMuZW50cnlbMV0gOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgVmFsdWVOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICAgIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG4gICAgICB2YXIga2V5TWF0Y2ggPSBpcyhrZXksIHRoaXMuZW50cnlbMF0pO1xuICAgICAgaWYgKGtleU1hdGNoID8gdmFsdWUgPT09IHRoaXMuZW50cnlbMV0gOiByZW1vdmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuXG4gICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgICAgIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGlmIChrZXlNYXRjaCkge1xuICAgICAgICBpZiAob3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQpIHtcbiAgICAgICAgICB0aGlzLmVudHJ5WzFdID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBba2V5LCB2YWx1ZV0pO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTm9kZSh0aGlzLCBvd25lcklELCBzaGlmdCwgaGFzaChrZXkpLCBba2V5LCB2YWx1ZV0pO1xuICAgIH07XG5cblxuXG4gIC8vICNwcmFnbWEgSXRlcmF0b3JzXG5cbiAgQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5pdGVyYXRlID1cbiAgSGFzaENvbGxpc2lvbk5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICBmb3IgKHZhciBpaSA9IDAsIG1heEluZGV4ID0gZW50cmllcy5sZW5ndGggLSAxOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgaWYgKGZuKGVudHJpZXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV0pID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPVxuICBIYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgICBmb3IgKHZhciBpaSA9IDAsIG1heEluZGV4ID0gbm9kZXMubGVuZ3RoIC0gMTsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgIHZhciBub2RlID0gbm9kZXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICBpZiAobm9kZSAmJiBub2RlLml0ZXJhdGUoZm4sIHJldmVyc2UpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgVmFsdWVOb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgcmV0dXJuIGZuKHRoaXMuZW50cnkpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoTWFwSXRlcmF0b3IsIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IpO1xuXG4gICAgZnVuY3Rpb24gTWFwSXRlcmF0b3IobWFwLCB0eXBlLCByZXZlcnNlKSB7XG4gICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgIHRoaXMuX3JldmVyc2UgPSByZXZlcnNlO1xuICAgICAgdGhpcy5fc3RhY2sgPSBtYXAuX3Jvb3QgJiYgbWFwSXRlcmF0b3JGcmFtZShtYXAuX3Jvb3QpO1xuICAgIH1cblxuICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdHlwZSA9IHRoaXMuX3R5cGU7XG4gICAgICB2YXIgc3RhY2sgPSB0aGlzLl9zdGFjaztcbiAgICAgIHdoaWxlIChzdGFjaykge1xuICAgICAgICB2YXIgbm9kZSA9IHN0YWNrLm5vZGU7XG4gICAgICAgIHZhciBpbmRleCA9IHN0YWNrLmluZGV4Kys7XG4gICAgICAgIHZhciBtYXhJbmRleDtcbiAgICAgICAgaWYgKG5vZGUuZW50cnkpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIG5vZGUuZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChub2RlLmVudHJpZXMpIHtcbiAgICAgICAgICBtYXhJbmRleCA9IG5vZGUuZW50cmllcy5sZW5ndGggLSAxO1xuICAgICAgICAgIGlmIChpbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgbm9kZS5lbnRyaWVzW3RoaXMuX3JldmVyc2UgPyBtYXhJbmRleCAtIGluZGV4IDogaW5kZXhdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF4SW5kZXggPSBub2RlLm5vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgaWYgKGluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgc3ViTm9kZSA9IG5vZGUubm9kZXNbdGhpcy5fcmV2ZXJzZSA/IG1heEluZGV4IC0gaW5kZXggOiBpbmRleF07XG4gICAgICAgICAgICBpZiAoc3ViTm9kZSkge1xuICAgICAgICAgICAgICBpZiAoc3ViTm9kZS5lbnRyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIHN1Yk5vZGUuZW50cnkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN0YWNrID0gdGhpcy5fc3RhY2sgPSBtYXBJdGVyYXRvckZyYW1lKHN1Yk5vZGUsIHN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGFjayA9IHRoaXMuX3N0YWNrID0gdGhpcy5fc3RhY2suX19wcmV2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIGVudHJ5KSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcEl0ZXJhdG9yRnJhbWUobm9kZSwgcHJldikge1xuICAgIHJldHVybiB7XG4gICAgICBub2RlOiBub2RlLFxuICAgICAgaW5kZXg6IDAsXG4gICAgICBfX3ByZXY6IHByZXZcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZU1hcChzaXplLCByb290LCBvd25lcklELCBoYXNoKSB7XG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUoTWFwUHJvdG90eXBlKTtcbiAgICBtYXAuc2l6ZSA9IHNpemU7XG4gICAgbWFwLl9yb290ID0gcm9vdDtcbiAgICBtYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgICBtYXAuX19oYXNoID0gaGFzaDtcbiAgICBtYXAuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuXG4gIHZhciBFTVBUWV9NQVA7XG4gIGZ1bmN0aW9uIGVtcHR5TWFwKCkge1xuICAgIHJldHVybiBFTVBUWV9NQVAgfHwgKEVNUFRZX01BUCA9IG1ha2VNYXAoMCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTWFwKG1hcCwgaywgdikge1xuICAgIHZhciBuZXdSb290O1xuICAgIHZhciBuZXdTaXplO1xuICAgIGlmICghbWFwLl9yb290KSB7XG4gICAgICBpZiAodiA9PT0gTk9UX1NFVCkge1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgfVxuICAgICAgbmV3U2l6ZSA9IDE7XG4gICAgICBuZXdSb290ID0gbmV3IEFycmF5TWFwTm9kZShtYXAuX19vd25lcklELCBbW2ssIHZdXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkaWRDaGFuZ2VTaXplID0gTWFrZVJlZihDSEFOR0VfTEVOR1RIKTtcbiAgICAgIHZhciBkaWRBbHRlciA9IE1ha2VSZWYoRElEX0FMVEVSKTtcbiAgICAgIG5ld1Jvb3QgPSB1cGRhdGVOb2RlKG1hcC5fcm9vdCwgbWFwLl9fb3duZXJJRCwgMCwgdW5kZWZpbmVkLCBrLCB2LCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcik7XG4gICAgICBpZiAoIWRpZEFsdGVyLnZhbHVlKSB7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9XG4gICAgICBuZXdTaXplID0gbWFwLnNpemUgKyAoZGlkQ2hhbmdlU2l6ZS52YWx1ZSA/IHYgPT09IE5PVF9TRVQgPyAtMSA6IDEgOiAwKTtcbiAgICB9XG4gICAgaWYgKG1hcC5fX293bmVySUQpIHtcbiAgICAgIG1hcC5zaXplID0gbmV3U2l6ZTtcbiAgICAgIG1hcC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgICBtYXAuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgbWFwLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Um9vdCA/IG1ha2VNYXAobmV3U2l6ZSwgbmV3Um9vdCkgOiBlbXB0eU1hcCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTm9kZShub2RlLCBvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gTk9UX1NFVCkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgICByZXR1cm4gbmV3IFZhbHVlTm9kZShvd25lcklELCBrZXlIYXNoLCBba2V5LCB2YWx1ZV0pO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS51cGRhdGUob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTGVhZk5vZGUobm9kZSkge1xuICAgIHJldHVybiBub2RlLmNvbnN0cnVjdG9yID09PSBWYWx1ZU5vZGUgfHwgbm9kZS5jb25zdHJ1Y3RvciA9PT0gSGFzaENvbGxpc2lvbk5vZGU7XG4gIH1cblxuICBmdW5jdGlvbiBtZXJnZUludG9Ob2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBlbnRyeSkge1xuICAgIGlmIChub2RlLmtleUhhc2ggPT09IGtleUhhc2gpIHtcbiAgICAgIHJldHVybiBuZXcgSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwga2V5SGFzaCwgW25vZGUuZW50cnksIGVudHJ5XSk7XG4gICAgfVxuXG4gICAgdmFyIGlkeDEgPSAoc2hpZnQgPT09IDAgPyBub2RlLmtleUhhc2ggOiBub2RlLmtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gICAgdmFyIGlkeDIgPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcblxuICAgIHZhciBuZXdOb2RlO1xuICAgIHZhciBub2RlcyA9IGlkeDEgPT09IGlkeDIgP1xuICAgICAgW21lcmdlSW50b05vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQgKyBTSElGVCwga2V5SGFzaCwgZW50cnkpXSA6XG4gICAgICAoKG5ld05vZGUgPSBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJ5KSksIGlkeDEgPCBpZHgyID8gW25vZGUsIG5ld05vZGVdIDogW25ld05vZGUsIG5vZGVdKTtcblxuICAgIHJldHVybiBuZXcgQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgKDEgPDwgaWR4MSkgfCAoMSA8PCBpZHgyKSwgbm9kZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZXMob3duZXJJRCwgZW50cmllcywga2V5LCB2YWx1ZSkge1xuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgb3duZXJJRCA9IG5ldyBPd25lcklEKCk7XG4gICAgfVxuICAgIHZhciBub2RlID0gbmV3IFZhbHVlTm9kZShvd25lcklELCBoYXNoKGtleSksIFtrZXksIHZhbHVlXSk7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGVudHJpZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2lpXTtcbiAgICAgIG5vZGUgPSBub2RlLnVwZGF0ZShvd25lcklELCAwLCB1bmRlZmluZWQsIGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFja05vZGVzKG93bmVySUQsIG5vZGVzLCBjb3VudCwgZXhjbHVkaW5nKSB7XG4gICAgdmFyIGJpdG1hcCA9IDA7XG4gICAgdmFyIHBhY2tlZElJID0gMDtcbiAgICB2YXIgcGFja2VkTm9kZXMgPSBuZXcgQXJyYXkoY291bnQpO1xuICAgIGZvciAodmFyIGlpID0gMCwgYml0ID0gMSwgbGVuID0gbm9kZXMubGVuZ3RoOyBpaSA8IGxlbjsgaWkrKywgYml0IDw8PSAxKSB7XG4gICAgICB2YXIgbm9kZSA9IG5vZGVzW2lpXTtcbiAgICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQgJiYgaWkgIT09IGV4Y2x1ZGluZykge1xuICAgICAgICBiaXRtYXAgfD0gYml0O1xuICAgICAgICBwYWNrZWROb2Rlc1twYWNrZWRJSSsrXSA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgYml0bWFwLCBwYWNrZWROb2Rlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBleHBhbmROb2Rlcyhvd25lcklELCBub2RlcywgYml0bWFwLCBpbmNsdWRpbmcsIG5vZGUpIHtcbiAgICB2YXIgY291bnQgPSAwO1xuICAgIHZhciBleHBhbmRlZE5vZGVzID0gbmV3IEFycmF5KFNJWkUpO1xuICAgIGZvciAodmFyIGlpID0gMDsgYml0bWFwICE9PSAwOyBpaSsrLCBiaXRtYXAgPj4+PSAxKSB7XG4gICAgICBleHBhbmRlZE5vZGVzW2lpXSA9IGJpdG1hcCAmIDEgPyBub2Rlc1tjb3VudCsrXSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZXhwYW5kZWROb2Rlc1tpbmNsdWRpbmddID0gbm9kZTtcbiAgICByZXR1cm4gbmV3IEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgY291bnQgKyAxLCBleHBhbmRlZE5vZGVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlSW50b01hcFdpdGgobWFwLCBtZXJnZXIsIGl0ZXJhYmxlcykge1xuICAgIHZhciBpdGVycyA9IFtdO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVyYWJsZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVyYWJsZXNbaWldO1xuICAgICAgdmFyIGl0ZXIgPSBLZXllZEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgIGlmICghaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgaXRlciA9IGl0ZXIubWFwKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIGZyb21KUyh2KX0pO1xuICAgICAgfVxuICAgICAgaXRlcnMucHVzaChpdGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlSW50b0NvbGxlY3Rpb25XaXRoKG1hcCwgbWVyZ2VyLCBpdGVycyk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWVwTWVyZ2VyKG1lcmdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihleGlzdGluZywgdmFsdWUsIGtleSkgXG4gICAgICB7cmV0dXJuIGV4aXN0aW5nICYmIGV4aXN0aW5nLm1lcmdlRGVlcFdpdGggJiYgaXNJdGVyYWJsZSh2YWx1ZSkgP1xuICAgICAgICBleGlzdGluZy5tZXJnZURlZXBXaXRoKG1lcmdlciwgdmFsdWUpIDpcbiAgICAgICAgbWVyZ2VyID8gbWVyZ2VyKGV4aXN0aW5nLCB2YWx1ZSwga2V5KSA6IHZhbHVlfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlSW50b0NvbGxlY3Rpb25XaXRoKGNvbGxlY3Rpb24sIG1lcmdlciwgaXRlcnMpIHtcbiAgICBpdGVycyA9IGl0ZXJzLmZpbHRlcihmdW5jdGlvbih4ICkge3JldHVybiB4LnNpemUgIT09IDB9KTtcbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG4gICAgaWYgKGNvbGxlY3Rpb24uc2l6ZSA9PT0gMCAmJiAhY29sbGVjdGlvbi5fX293bmVySUQgJiYgaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gY29sbGVjdGlvbi5jb25zdHJ1Y3RvcihpdGVyc1swXSk7XG4gICAgfVxuICAgIHJldHVybiBjb2xsZWN0aW9uLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oY29sbGVjdGlvbiApIHtcbiAgICAgIHZhciBtZXJnZUludG9NYXAgPSBtZXJnZXIgP1xuICAgICAgICBmdW5jdGlvbih2YWx1ZSwga2V5KSAge1xuICAgICAgICAgIGNvbGxlY3Rpb24udXBkYXRlKGtleSwgTk9UX1NFVCwgZnVuY3Rpb24oZXhpc3RpbmcgKVxuICAgICAgICAgICAge3JldHVybiBleGlzdGluZyA9PT0gTk9UX1NFVCA/IHZhbHVlIDogbWVyZ2VyKGV4aXN0aW5nLCB2YWx1ZSwga2V5KX1cbiAgICAgICAgICApO1xuICAgICAgICB9IDpcbiAgICAgICAgZnVuY3Rpb24odmFsdWUsIGtleSkgIHtcbiAgICAgICAgICBjb2xsZWN0aW9uLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICBpdGVyc1tpaV0uZm9yRWFjaChtZXJnZUludG9NYXApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSW5EZWVwTWFwKGV4aXN0aW5nLCBrZXlQYXRoSXRlciwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpIHtcbiAgICB2YXIgaXNOb3RTZXQgPSBleGlzdGluZyA9PT0gTk9UX1NFVDtcbiAgICB2YXIgc3RlcCA9IGtleVBhdGhJdGVyLm5leHQoKTtcbiAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICB2YXIgZXhpc3RpbmdWYWx1ZSA9IGlzTm90U2V0ID8gbm90U2V0VmFsdWUgOiBleGlzdGluZztcbiAgICAgIHZhciBuZXdWYWx1ZSA9IHVwZGF0ZXIoZXhpc3RpbmdWYWx1ZSk7XG4gICAgICByZXR1cm4gbmV3VmFsdWUgPT09IGV4aXN0aW5nVmFsdWUgPyBleGlzdGluZyA6IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBpc05vdFNldCB8fCAoZXhpc3RpbmcgJiYgZXhpc3Rpbmcuc2V0KSxcbiAgICAgICdpbnZhbGlkIGtleVBhdGgnXG4gICAgKTtcbiAgICB2YXIga2V5ID0gc3RlcC52YWx1ZTtcbiAgICB2YXIgbmV4dEV4aXN0aW5nID0gaXNOb3RTZXQgPyBOT1RfU0VUIDogZXhpc3RpbmcuZ2V0KGtleSwgTk9UX1NFVCk7XG4gICAgdmFyIG5leHRVcGRhdGVkID0gdXBkYXRlSW5EZWVwTWFwKFxuICAgICAgbmV4dEV4aXN0aW5nLFxuICAgICAga2V5UGF0aEl0ZXIsXG4gICAgICBub3RTZXRWYWx1ZSxcbiAgICAgIHVwZGF0ZXJcbiAgICApO1xuICAgIHJldHVybiBuZXh0VXBkYXRlZCA9PT0gbmV4dEV4aXN0aW5nID8gZXhpc3RpbmcgOlxuICAgICAgbmV4dFVwZGF0ZWQgPT09IE5PVF9TRVQgPyBleGlzdGluZy5yZW1vdmUoa2V5KSA6XG4gICAgICAoaXNOb3RTZXQgPyBlbXB0eU1hcCgpIDogZXhpc3RpbmcpLnNldChrZXksIG5leHRVcGRhdGVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcENvdW50KHgpIHtcbiAgICB4ID0geCAtICgoeCA+PiAxKSAmIDB4NTU1NTU1NTUpO1xuICAgIHggPSAoeCAmIDB4MzMzMzMzMzMpICsgKCh4ID4+IDIpICYgMHgzMzMzMzMzMyk7XG4gICAgeCA9ICh4ICsgKHggPj4gNCkpICYgMHgwZjBmMGYwZjtcbiAgICB4ID0geCArICh4ID4+IDgpO1xuICAgIHggPSB4ICsgKHggPj4gMTYpO1xuICAgIHJldHVybiB4ICYgMHg3ZjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEluKGFycmF5LCBpZHgsIHZhbCwgY2FuRWRpdCkge1xuICAgIHZhciBuZXdBcnJheSA9IGNhbkVkaXQgPyBhcnJheSA6IGFyckNvcHkoYXJyYXkpO1xuICAgIG5ld0FycmF5W2lkeF0gPSB2YWw7XG4gICAgcmV0dXJuIG5ld0FycmF5O1xuICB9XG5cbiAgZnVuY3Rpb24gc3BsaWNlSW4oYXJyYXksIGlkeCwgdmFsLCBjYW5FZGl0KSB7XG4gICAgdmFyIG5ld0xlbiA9IGFycmF5Lmxlbmd0aCArIDE7XG4gICAgaWYgKGNhbkVkaXQgJiYgaWR4ICsgMSA9PT0gbmV3TGVuKSB7XG4gICAgICBhcnJheVtpZHhdID0gdmFsO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgICB2YXIgbmV3QXJyYXkgPSBuZXcgQXJyYXkobmV3TGVuKTtcbiAgICB2YXIgYWZ0ZXIgPSAwO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBuZXdMZW47IGlpKyspIHtcbiAgICAgIGlmIChpaSA9PT0gaWR4KSB7XG4gICAgICAgIG5ld0FycmF5W2lpXSA9IHZhbDtcbiAgICAgICAgYWZ0ZXIgPSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0FycmF5W2lpXSA9IGFycmF5W2lpICsgYWZ0ZXJdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH1cblxuICBmdW5jdGlvbiBzcGxpY2VPdXQoYXJyYXksIGlkeCwgY2FuRWRpdCkge1xuICAgIHZhciBuZXdMZW4gPSBhcnJheS5sZW5ndGggLSAxO1xuICAgIGlmIChjYW5FZGl0ICYmIGlkeCA9PT0gbmV3TGVuKSB7XG4gICAgICBhcnJheS5wb3AoKTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgdmFyIG5ld0FycmF5ID0gbmV3IEFycmF5KG5ld0xlbik7XG4gICAgdmFyIGFmdGVyID0gMDtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbmV3TGVuOyBpaSsrKSB7XG4gICAgICBpZiAoaWkgPT09IGlkeCkge1xuICAgICAgICBhZnRlciA9IDE7XG4gICAgICB9XG4gICAgICBuZXdBcnJheVtpaV0gPSBhcnJheVtpaSArIGFmdGVyXTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0FycmF5O1xuICB9XG5cbiAgdmFyIE1BWF9BUlJBWV9NQVBfU0laRSA9IFNJWkUgLyA0O1xuICB2YXIgTUFYX0JJVE1BUF9JTkRFWEVEX1NJWkUgPSBTSVpFIC8gMjtcbiAgdmFyIE1JTl9IQVNIX0FSUkFZX01BUF9TSVpFID0gU0laRSAvIDQ7XG5cbiAgY3JlYXRlQ2xhc3MoTGlzdCwgSW5kZXhlZENvbGxlY3Rpb24pO1xuXG4gICAgLy8gQHByYWdtYSBDb25zdHJ1Y3Rpb25cblxuICAgIGZ1bmN0aW9uIExpc3QodmFsdWUpIHtcbiAgICAgIHZhciBlbXB0eSA9IGVtcHR5TGlzdCgpO1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgICAgfVxuICAgICAgaWYgKGlzTGlzdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXIgPSBJbmRleGVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgdmFyIHNpemUgPSBpdGVyLnNpemU7XG4gICAgICBpZiAoc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgICB9XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZShzaXplKTtcbiAgICAgIGlmIChzaXplID4gMCAmJiBzaXplIDwgU0laRSkge1xuICAgICAgICByZXR1cm4gbWFrZUxpc3QoMCwgc2l6ZSwgU0hJRlQsIG51bGwsIG5ldyBWTm9kZShpdGVyLnRvQXJyYXkoKSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5LndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obGlzdCApIHtcbiAgICAgICAgbGlzdC5zZXRTaXplKHNpemUpO1xuICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiwgaSkgIHtyZXR1cm4gbGlzdC5zZXQoaSwgdil9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIExpc3Qub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnTGlzdCBbJywgJ10nKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICAgIExpc3QucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgICAgfVxuICAgICAgaW5kZXggKz0gdGhpcy5fb3JpZ2luO1xuICAgICAgdmFyIG5vZGUgPSBsaXN0Tm9kZUZvcih0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gbm9kZSAmJiBub2RlLmFycmF5W2luZGV4ICYgTUFTS107XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBMaXN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB1cGRhdGVMaXN0KHRoaXMsIGluZGV4LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICByZXR1cm4gIXRoaXMuaGFzKGluZGV4KSA/IHRoaXMgOlxuICAgICAgICBpbmRleCA9PT0gMCA/IHRoaXMuc2hpZnQoKSA6XG4gICAgICAgIGluZGV4ID09PSB0aGlzLnNpemUgLSAxID8gdGhpcy5wb3AoKSA6XG4gICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gdGhpcy5fb3JpZ2luID0gdGhpcy5fY2FwYWNpdHkgPSAwO1xuICAgICAgICB0aGlzLl9sZXZlbCA9IFNISUZUO1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5TGlzdCgpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgdmFyIHZhbHVlcyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBvbGRTaXplID0gdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIDAsIG9sZFNpemUgKyB2YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBsaXN0LnNldChvbGRTaXplICsgaWksIHZhbHVlc1tpaV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAwLCAtMSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICB2YXIgdmFsdWVzID0gYXJndW1lbnRzO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIC12YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBsaXN0LnNldChpaSwgdmFsdWVzW2lpXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICAgIExpc3QucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgdW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCBtZXJnZXIsIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUubWVyZ2VEZWVwID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgZGVlcE1lcmdlcih1bmRlZmluZWQpLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gZnVuY3Rpb24obWVyZ2VyKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgZGVlcE1lcmdlcihtZXJnZXIpLCBpdGVycyk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbihzaXplKSB7XG4gICAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAwLCBzaXplKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBJdGVyYXRpb25cblxuICAgIExpc3QucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKFxuICAgICAgICB0aGlzLFxuICAgICAgICByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpLFxuICAgICAgICByZXNvbHZlRW5kKGVuZCwgc2l6ZSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHZhbHVlcyA9IGl0ZXJhdGVMaXN0KHRoaXMsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzKCk7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gRE9ORSA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaW5kZXgrKywgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHZhbHVlcyA9IGl0ZXJhdGVMaXN0KHRoaXMsIHJldmVyc2UpO1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgd2hpbGUgKCh2YWx1ZSA9IHZhbHVlcygpKSAhPT0gRE9ORSkge1xuICAgICAgICBpZiAoZm4odmFsdWUsIGluZGV4KyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlTGlzdCh0aGlzLl9vcmlnaW4sIHRoaXMuX2NhcGFjaXR5LCB0aGlzLl9sZXZlbCwgdGhpcy5fcm9vdCwgdGhpcy5fdGFpbCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc0xpc3QobWF5YmVMaXN0KSB7XG4gICAgcmV0dXJuICEhKG1heWJlTGlzdCAmJiBtYXliZUxpc3RbSVNfTElTVF9TRU5USU5FTF0pO1xuICB9XG5cbiAgTGlzdC5pc0xpc3QgPSBpc0xpc3Q7XG5cbiAgdmFyIElTX0xJU1RfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9MSVNUX19AQCc7XG5cbiAgdmFyIExpc3RQcm90b3R5cGUgPSBMaXN0LnByb3RvdHlwZTtcbiAgTGlzdFByb3RvdHlwZVtJU19MSVNUX1NFTlRJTkVMXSA9IHRydWU7XG4gIExpc3RQcm90b3R5cGVbREVMRVRFXSA9IExpc3RQcm90b3R5cGUucmVtb3ZlO1xuICBMaXN0UHJvdG90eXBlLnNldEluID0gTWFwUHJvdG90eXBlLnNldEluO1xuICBMaXN0UHJvdG90eXBlLmRlbGV0ZUluID1cbiAgTGlzdFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5yZW1vdmVJbjtcbiAgTGlzdFByb3RvdHlwZS51cGRhdGUgPSBNYXBQcm90b3R5cGUudXBkYXRlO1xuICBMaXN0UHJvdG90eXBlLnVwZGF0ZUluID0gTWFwUHJvdG90eXBlLnVwZGF0ZUluO1xuICBMaXN0UHJvdG90eXBlLm1lcmdlSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VJbjtcbiAgTGlzdFByb3RvdHlwZS5tZXJnZURlZXBJbiA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBJbjtcbiAgTGlzdFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG4gIExpc3RQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgTGlzdFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcbiAgTGlzdFByb3RvdHlwZS53YXNBbHRlcmVkID0gTWFwUHJvdG90eXBlLndhc0FsdGVyZWQ7XG5cblxuXG4gICAgZnVuY3Rpb24gVk5vZGUoYXJyYXksIG93bmVySUQpIHtcbiAgICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogc2VlbXMgbGlrZSB0aGVzZSBtZXRob2RzIGFyZSB2ZXJ5IHNpbWlsYXJcblxuICAgIFZOb2RlLnByb3RvdHlwZS5yZW1vdmVCZWZvcmUgPSBmdW5jdGlvbihvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gbGV2ZWwgPyAxIDw8IGxldmVsIDogMCB8fCB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBvcmlnaW5JbmRleCA9IChpbmRleCA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgIGlmIChvcmlnaW5JbmRleCA+PSB0aGlzLmFycmF5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IFZOb2RlKFtdLCBvd25lcklEKTtcbiAgICAgIH1cbiAgICAgIHZhciByZW1vdmluZ0ZpcnN0ID0gb3JpZ2luSW5kZXggPT09IDA7XG4gICAgICB2YXIgbmV3Q2hpbGQ7XG4gICAgICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgICAgIHZhciBvbGRDaGlsZCA9IHRoaXMuYXJyYXlbb3JpZ2luSW5kZXhdO1xuICAgICAgICBuZXdDaGlsZCA9IG9sZENoaWxkICYmIG9sZENoaWxkLnJlbW92ZUJlZm9yZShvd25lcklELCBsZXZlbCAtIFNISUZULCBpbmRleCk7XG4gICAgICAgIGlmIChuZXdDaGlsZCA9PT0gb2xkQ2hpbGQgJiYgcmVtb3ZpbmdGaXJzdCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVtb3ZpbmdGaXJzdCAmJiAhbmV3Q2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgZWRpdGFibGUgPSBlZGl0YWJsZVZOb2RlKHRoaXMsIG93bmVySUQpO1xuICAgICAgaWYgKCFyZW1vdmluZ0ZpcnN0KSB7XG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBvcmlnaW5JbmRleDsgaWkrKykge1xuICAgICAgICAgIGVkaXRhYmxlLmFycmF5W2lpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5ld0NoaWxkKSB7XG4gICAgICAgIGVkaXRhYmxlLmFycmF5W29yaWdpbkluZGV4XSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVkaXRhYmxlO1xuICAgIH07XG5cbiAgICBWTm9kZS5wcm90b3R5cGUucmVtb3ZlQWZ0ZXIgPSBmdW5jdGlvbihvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gbGV2ZWwgPyAxIDw8IGxldmVsIDogMCB8fCB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBzaXplSW5kZXggPSAoKGluZGV4IC0gMSkgPj4+IGxldmVsKSAmIE1BU0s7XG4gICAgICBpZiAoc2l6ZUluZGV4ID49IHRoaXMuYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIHJlbW92aW5nTGFzdCA9IHNpemVJbmRleCA9PT0gdGhpcy5hcnJheS5sZW5ndGggLSAxO1xuICAgICAgdmFyIG5ld0NoaWxkO1xuICAgICAgaWYgKGxldmVsID4gMCkge1xuICAgICAgICB2YXIgb2xkQ2hpbGQgPSB0aGlzLmFycmF5W3NpemVJbmRleF07XG4gICAgICAgIG5ld0NoaWxkID0gb2xkQ2hpbGQgJiYgb2xkQ2hpbGQucmVtb3ZlQWZ0ZXIob3duZXJJRCwgbGV2ZWwgLSBTSElGVCwgaW5kZXgpO1xuICAgICAgICBpZiAobmV3Q2hpbGQgPT09IG9sZENoaWxkICYmIHJlbW92aW5nTGFzdCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVtb3ZpbmdMYXN0ICYmICFuZXdDaGlsZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRhYmxlVk5vZGUodGhpcywgb3duZXJJRCk7XG4gICAgICBpZiAoIXJlbW92aW5nTGFzdCkge1xuICAgICAgICBlZGl0YWJsZS5hcnJheS5wb3AoKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZXdDaGlsZCkge1xuICAgICAgICBlZGl0YWJsZS5hcnJheVtzaXplSW5kZXhdID0gbmV3Q2hpbGQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWRpdGFibGU7XG4gICAgfTtcblxuXG5cbiAgdmFyIERPTkUgPSB7fTtcblxuICBmdW5jdGlvbiBpdGVyYXRlTGlzdChsaXN0LCByZXZlcnNlKSB7XG4gICAgdmFyIGxlZnQgPSBsaXN0Ll9vcmlnaW47XG4gICAgdmFyIHJpZ2h0ID0gbGlzdC5fY2FwYWNpdHk7XG4gICAgdmFyIHRhaWxQb3MgPSBnZXRUYWlsT2Zmc2V0KHJpZ2h0KTtcbiAgICB2YXIgdGFpbCA9IGxpc3QuX3RhaWw7XG5cbiAgICByZXR1cm4gaXRlcmF0ZU5vZGVPckxlYWYobGlzdC5fcm9vdCwgbGlzdC5fbGV2ZWwsIDApO1xuXG4gICAgZnVuY3Rpb24gaXRlcmF0ZU5vZGVPckxlYWYobm9kZSwgbGV2ZWwsIG9mZnNldCkge1xuICAgICAgcmV0dXJuIGxldmVsID09PSAwID9cbiAgICAgICAgaXRlcmF0ZUxlYWYobm9kZSwgb2Zmc2V0KSA6XG4gICAgICAgIGl0ZXJhdGVOb2RlKG5vZGUsIGxldmVsLCBvZmZzZXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGl0ZXJhdGVMZWFmKG5vZGUsIG9mZnNldCkge1xuICAgICAgdmFyIGFycmF5ID0gb2Zmc2V0ID09PSB0YWlsUG9zID8gdGFpbCAmJiB0YWlsLmFycmF5IDogbm9kZSAmJiBub2RlLmFycmF5O1xuICAgICAgdmFyIGZyb20gPSBvZmZzZXQgPiBsZWZ0ID8gMCA6IGxlZnQgLSBvZmZzZXQ7XG4gICAgICB2YXIgdG8gPSByaWdodCAtIG9mZnNldDtcbiAgICAgIGlmICh0byA+IFNJWkUpIHtcbiAgICAgICAgdG8gPSBTSVpFO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgcmV0dXJuIERPTkU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlkeCA9IHJldmVyc2UgPyAtLXRvIDogZnJvbSsrO1xuICAgICAgICByZXR1cm4gYXJyYXkgJiYgYXJyYXlbaWR4XTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXRlcmF0ZU5vZGUobm9kZSwgbGV2ZWwsIG9mZnNldCkge1xuICAgICAgdmFyIHZhbHVlcztcbiAgICAgIHZhciBhcnJheSA9IG5vZGUgJiYgbm9kZS5hcnJheTtcbiAgICAgIHZhciBmcm9tID0gb2Zmc2V0ID4gbGVmdCA/IDAgOiAobGVmdCAtIG9mZnNldCkgPj4gbGV2ZWw7XG4gICAgICB2YXIgdG8gPSAoKHJpZ2h0IC0gb2Zmc2V0KSA+PiBsZXZlbCkgKyAxO1xuICAgICAgaWYgKHRvID4gU0laRSkge1xuICAgICAgICB0byA9IFNJWkU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSAge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzKCk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IERPTkUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgICByZXR1cm4gRE9ORTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGlkeCA9IHJldmVyc2UgPyAtLXRvIDogZnJvbSsrO1xuICAgICAgICAgIHZhbHVlcyA9IGl0ZXJhdGVOb2RlT3JMZWFmKFxuICAgICAgICAgICAgYXJyYXkgJiYgYXJyYXlbaWR4XSwgbGV2ZWwgLSBTSElGVCwgb2Zmc2V0ICsgKGlkeCA8PCBsZXZlbClcbiAgICAgICAgICApO1xuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFrZUxpc3Qob3JpZ2luLCBjYXBhY2l0eSwgbGV2ZWwsIHJvb3QsIHRhaWwsIG93bmVySUQsIGhhc2gpIHtcbiAgICB2YXIgbGlzdCA9IE9iamVjdC5jcmVhdGUoTGlzdFByb3RvdHlwZSk7XG4gICAgbGlzdC5zaXplID0gY2FwYWNpdHkgLSBvcmlnaW47XG4gICAgbGlzdC5fb3JpZ2luID0gb3JpZ2luO1xuICAgIGxpc3QuX2NhcGFjaXR5ID0gY2FwYWNpdHk7XG4gICAgbGlzdC5fbGV2ZWwgPSBsZXZlbDtcbiAgICBsaXN0Ll9yb290ID0gcm9vdDtcbiAgICBsaXN0Ll90YWlsID0gdGFpbDtcbiAgICBsaXN0Ll9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgbGlzdC5fX2hhc2ggPSBoYXNoO1xuICAgIGxpc3QuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICB2YXIgRU1QVFlfTElTVDtcbiAgZnVuY3Rpb24gZW1wdHlMaXN0KCkge1xuICAgIHJldHVybiBFTVBUWV9MSVNUIHx8IChFTVBUWV9MSVNUID0gbWFrZUxpc3QoMCwgMCwgU0hJRlQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpc3QobGlzdCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgaW5kZXggPSB3cmFwSW5kZXgobGlzdCwgaW5kZXgpO1xuXG4gICAgaWYgKGluZGV4ID49IGxpc3Quc2l6ZSB8fCBpbmRleCA8IDApIHtcbiAgICAgIHJldHVybiBsaXN0LndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obGlzdCApIHtcbiAgICAgICAgaW5kZXggPCAwID9cbiAgICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIGluZGV4KS5zZXQoMCwgdmFsdWUpIDpcbiAgICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIDAsIGluZGV4ICsgMSkuc2V0KGluZGV4LCB2YWx1ZSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGluZGV4ICs9IGxpc3QuX29yaWdpbjtcblxuICAgIHZhciBuZXdUYWlsID0gbGlzdC5fdGFpbDtcbiAgICB2YXIgbmV3Um9vdCA9IGxpc3QuX3Jvb3Q7XG4gICAgdmFyIGRpZEFsdGVyID0gTWFrZVJlZihESURfQUxURVIpO1xuICAgIGlmIChpbmRleCA+PSBnZXRUYWlsT2Zmc2V0KGxpc3QuX2NhcGFjaXR5KSkge1xuICAgICAgbmV3VGFpbCA9IHVwZGF0ZVZOb2RlKG5ld1RhaWwsIGxpc3QuX19vd25lcklELCAwLCBpbmRleCwgdmFsdWUsIGRpZEFsdGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3Um9vdCA9IHVwZGF0ZVZOb2RlKG5ld1Jvb3QsIGxpc3QuX19vd25lcklELCBsaXN0Ll9sZXZlbCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcik7XG4gICAgfVxuXG4gICAgaWYgKCFkaWRBbHRlci52YWx1ZSkge1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgaWYgKGxpc3QuX19vd25lcklEKSB7XG4gICAgICBsaXN0Ll9yb290ID0gbmV3Um9vdDtcbiAgICAgIGxpc3QuX3RhaWwgPSBuZXdUYWlsO1xuICAgICAgbGlzdC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICBsaXN0Ll9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VMaXN0KGxpc3QuX29yaWdpbiwgbGlzdC5fY2FwYWNpdHksIGxpc3QuX2xldmVsLCBuZXdSb290LCBuZXdUYWlsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZOb2RlKG5vZGUsIG93bmVySUQsIGxldmVsLCBpbmRleCwgdmFsdWUsIGRpZEFsdGVyKSB7XG4gICAgdmFyIGlkeCA9IChpbmRleCA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICB2YXIgbm9kZUhhcyA9IG5vZGUgJiYgaWR4IDwgbm9kZS5hcnJheS5sZW5ndGg7XG4gICAgaWYgKCFub2RlSGFzICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHZhciBuZXdOb2RlO1xuXG4gICAgaWYgKGxldmVsID4gMCkge1xuICAgICAgdmFyIGxvd2VyTm9kZSA9IG5vZGUgJiYgbm9kZS5hcnJheVtpZHhdO1xuICAgICAgdmFyIG5ld0xvd2VyTm9kZSA9IHVwZGF0ZVZOb2RlKGxvd2VyTm9kZSwgb3duZXJJRCwgbGV2ZWwgLSBTSElGVCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcik7XG4gICAgICBpZiAobmV3TG93ZXJOb2RlID09PSBsb3dlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG4gICAgICBuZXdOb2RlID0gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKTtcbiAgICAgIG5ld05vZGUuYXJyYXlbaWR4XSA9IG5ld0xvd2VyTm9kZTtcbiAgICAgIHJldHVybiBuZXdOb2RlO1xuICAgIH1cblxuICAgIGlmIChub2RlSGFzICYmIG5vZGUuYXJyYXlbaWR4XSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIFNldFJlZihkaWRBbHRlcik7XG5cbiAgICBuZXdOb2RlID0gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKTtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBpZHggPT09IG5ld05vZGUuYXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgbmV3Tm9kZS5hcnJheS5wb3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3Tm9kZS5hcnJheVtpZHhdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBuZXdOb2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKSB7XG4gICAgaWYgKG93bmVySUQgJiYgbm9kZSAmJiBvd25lcklEID09PSBub2RlLm93bmVySUQpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFZOb2RlKG5vZGUgPyBub2RlLmFycmF5LnNsaWNlKCkgOiBbXSwgb3duZXJJRCk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0Tm9kZUZvcihsaXN0LCByYXdJbmRleCkge1xuICAgIGlmIChyYXdJbmRleCA+PSBnZXRUYWlsT2Zmc2V0KGxpc3QuX2NhcGFjaXR5KSkge1xuICAgICAgcmV0dXJuIGxpc3QuX3RhaWw7XG4gICAgfVxuICAgIGlmIChyYXdJbmRleCA8IDEgPDwgKGxpc3QuX2xldmVsICsgU0hJRlQpKSB7XG4gICAgICB2YXIgbm9kZSA9IGxpc3QuX3Jvb3Q7XG4gICAgICB2YXIgbGV2ZWwgPSBsaXN0Ll9sZXZlbDtcbiAgICAgIHdoaWxlIChub2RlICYmIGxldmVsID4gMCkge1xuICAgICAgICBub2RlID0gbm9kZS5hcnJheVsocmF3SW5kZXggPj4+IGxldmVsKSAmIE1BU0tdO1xuICAgICAgICBsZXZlbCAtPSBTSElGVDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldExpc3RCb3VuZHMobGlzdCwgYmVnaW4sIGVuZCkge1xuICAgIHZhciBvd25lciA9IGxpc3QuX19vd25lcklEIHx8IG5ldyBPd25lcklEKCk7XG4gICAgdmFyIG9sZE9yaWdpbiA9IGxpc3QuX29yaWdpbjtcbiAgICB2YXIgb2xkQ2FwYWNpdHkgPSBsaXN0Ll9jYXBhY2l0eTtcbiAgICB2YXIgbmV3T3JpZ2luID0gb2xkT3JpZ2luICsgYmVnaW47XG4gICAgdmFyIG5ld0NhcGFjaXR5ID0gZW5kID09PSB1bmRlZmluZWQgPyBvbGRDYXBhY2l0eSA6IGVuZCA8IDAgPyBvbGRDYXBhY2l0eSArIGVuZCA6IG9sZE9yaWdpbiArIGVuZDtcbiAgICBpZiAobmV3T3JpZ2luID09PSBvbGRPcmlnaW4gJiYgbmV3Q2FwYWNpdHkgPT09IG9sZENhcGFjaXR5KSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICAvLyBJZiBpdCdzIGdvaW5nIHRvIGVuZCBhZnRlciBpdCBzdGFydHMsIGl0J3MgZW1wdHkuXG4gICAgaWYgKG5ld09yaWdpbiA+PSBuZXdDYXBhY2l0eSkge1xuICAgICAgcmV0dXJuIGxpc3QuY2xlYXIoKTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGV2ZWwgPSBsaXN0Ll9sZXZlbDtcbiAgICB2YXIgbmV3Um9vdCA9IGxpc3QuX3Jvb3Q7XG5cbiAgICAvLyBOZXcgb3JpZ2luIG1pZ2h0IG5lZWQgY3JlYXRpbmcgYSBoaWdoZXIgcm9vdC5cbiAgICB2YXIgb2Zmc2V0U2hpZnQgPSAwO1xuICAgIHdoaWxlIChuZXdPcmlnaW4gKyBvZmZzZXRTaGlmdCA8IDApIHtcbiAgICAgIG5ld1Jvb3QgPSBuZXcgVk5vZGUobmV3Um9vdCAmJiBuZXdSb290LmFycmF5Lmxlbmd0aCA/IFt1bmRlZmluZWQsIG5ld1Jvb3RdIDogW10sIG93bmVyKTtcbiAgICAgIG5ld0xldmVsICs9IFNISUZUO1xuICAgICAgb2Zmc2V0U2hpZnQgKz0gMSA8PCBuZXdMZXZlbDtcbiAgICB9XG4gICAgaWYgKG9mZnNldFNoaWZ0KSB7XG4gICAgICBuZXdPcmlnaW4gKz0gb2Zmc2V0U2hpZnQ7XG4gICAgICBvbGRPcmlnaW4gKz0gb2Zmc2V0U2hpZnQ7XG4gICAgICBuZXdDYXBhY2l0eSArPSBvZmZzZXRTaGlmdDtcbiAgICAgIG9sZENhcGFjaXR5ICs9IG9mZnNldFNoaWZ0O1xuICAgIH1cblxuICAgIHZhciBvbGRUYWlsT2Zmc2V0ID0gZ2V0VGFpbE9mZnNldChvbGRDYXBhY2l0eSk7XG4gICAgdmFyIG5ld1RhaWxPZmZzZXQgPSBnZXRUYWlsT2Zmc2V0KG5ld0NhcGFjaXR5KTtcblxuICAgIC8vIE5ldyBzaXplIG1pZ2h0IG5lZWQgY3JlYXRpbmcgYSBoaWdoZXIgcm9vdC5cbiAgICB3aGlsZSAobmV3VGFpbE9mZnNldCA+PSAxIDw8IChuZXdMZXZlbCArIFNISUZUKSkge1xuICAgICAgbmV3Um9vdCA9IG5ldyBWTm9kZShuZXdSb290ICYmIG5ld1Jvb3QuYXJyYXkubGVuZ3RoID8gW25ld1Jvb3RdIDogW10sIG93bmVyKTtcbiAgICAgIG5ld0xldmVsICs9IFNISUZUO1xuICAgIH1cblxuICAgIC8vIExvY2F0ZSBvciBjcmVhdGUgdGhlIG5ldyB0YWlsLlxuICAgIHZhciBvbGRUYWlsID0gbGlzdC5fdGFpbDtcbiAgICB2YXIgbmV3VGFpbCA9IG5ld1RhaWxPZmZzZXQgPCBvbGRUYWlsT2Zmc2V0ID9cbiAgICAgIGxpc3ROb2RlRm9yKGxpc3QsIG5ld0NhcGFjaXR5IC0gMSkgOlxuICAgICAgbmV3VGFpbE9mZnNldCA+IG9sZFRhaWxPZmZzZXQgPyBuZXcgVk5vZGUoW10sIG93bmVyKSA6IG9sZFRhaWw7XG5cbiAgICAvLyBNZXJnZSBUYWlsIGludG8gdHJlZS5cbiAgICBpZiAob2xkVGFpbCAmJiBuZXdUYWlsT2Zmc2V0ID4gb2xkVGFpbE9mZnNldCAmJiBuZXdPcmlnaW4gPCBvbGRDYXBhY2l0eSAmJiBvbGRUYWlsLmFycmF5Lmxlbmd0aCkge1xuICAgICAgbmV3Um9vdCA9IGVkaXRhYmxlVk5vZGUobmV3Um9vdCwgb3duZXIpO1xuICAgICAgdmFyIG5vZGUgPSBuZXdSb290O1xuICAgICAgZm9yICh2YXIgbGV2ZWwgPSBuZXdMZXZlbDsgbGV2ZWwgPiBTSElGVDsgbGV2ZWwgLT0gU0hJRlQpIHtcbiAgICAgICAgdmFyIGlkeCA9IChvbGRUYWlsT2Zmc2V0ID4+PiBsZXZlbCkgJiBNQVNLO1xuICAgICAgICBub2RlID0gbm9kZS5hcnJheVtpZHhdID0gZWRpdGFibGVWTm9kZShub2RlLmFycmF5W2lkeF0sIG93bmVyKTtcbiAgICAgIH1cbiAgICAgIG5vZGUuYXJyYXlbKG9sZFRhaWxPZmZzZXQgPj4+IFNISUZUKSAmIE1BU0tdID0gb2xkVGFpbDtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc2l6ZSBoYXMgYmVlbiByZWR1Y2VkLCB0aGVyZSdzIGEgY2hhbmNlIHRoZSB0YWlsIG5lZWRzIHRvIGJlIHRyaW1tZWQuXG4gICAgaWYgKG5ld0NhcGFjaXR5IDwgb2xkQ2FwYWNpdHkpIHtcbiAgICAgIG5ld1RhaWwgPSBuZXdUYWlsICYmIG5ld1RhaWwucmVtb3ZlQWZ0ZXIob3duZXIsIDAsIG5ld0NhcGFjaXR5KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbmV3IG9yaWdpbiBpcyB3aXRoaW4gdGhlIHRhaWwsIHRoZW4gd2UgZG8gbm90IG5lZWQgYSByb290LlxuICAgIGlmIChuZXdPcmlnaW4gPj0gbmV3VGFpbE9mZnNldCkge1xuICAgICAgbmV3T3JpZ2luIC09IG5ld1RhaWxPZmZzZXQ7XG4gICAgICBuZXdDYXBhY2l0eSAtPSBuZXdUYWlsT2Zmc2V0O1xuICAgICAgbmV3TGV2ZWwgPSBTSElGVDtcbiAgICAgIG5ld1Jvb3QgPSBudWxsO1xuICAgICAgbmV3VGFpbCA9IG5ld1RhaWwgJiYgbmV3VGFpbC5yZW1vdmVCZWZvcmUob3duZXIsIDAsIG5ld09yaWdpbik7XG5cbiAgICAvLyBPdGhlcndpc2UsIGlmIHRoZSByb290IGhhcyBiZWVuIHRyaW1tZWQsIGdhcmJhZ2UgY29sbGVjdC5cbiAgICB9IGVsc2UgaWYgKG5ld09yaWdpbiA+IG9sZE9yaWdpbiB8fCBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCkge1xuICAgICAgb2Zmc2V0U2hpZnQgPSAwO1xuXG4gICAgICAvLyBJZGVudGlmeSB0aGUgbmV3IHRvcCByb290IG5vZGUgb2YgdGhlIHN1YnRyZWUgb2YgdGhlIG9sZCByb290LlxuICAgICAgd2hpbGUgKG5ld1Jvb3QpIHtcbiAgICAgICAgdmFyIGJlZ2luSW5kZXggPSAobmV3T3JpZ2luID4+PiBuZXdMZXZlbCkgJiBNQVNLO1xuICAgICAgICBpZiAoYmVnaW5JbmRleCAhPT0gKG5ld1RhaWxPZmZzZXQgPj4+IG5ld0xldmVsKSAmIE1BU0spIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmVnaW5JbmRleCkge1xuICAgICAgICAgIG9mZnNldFNoaWZ0ICs9ICgxIDw8IG5ld0xldmVsKSAqIGJlZ2luSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgbmV3TGV2ZWwgLT0gU0hJRlQ7XG4gICAgICAgIG5ld1Jvb3QgPSBuZXdSb290LmFycmF5W2JlZ2luSW5kZXhdO1xuICAgICAgfVxuXG4gICAgICAvLyBUcmltIHRoZSBuZXcgc2lkZXMgb2YgdGhlIG5ldyByb290LlxuICAgICAgaWYgKG5ld1Jvb3QgJiYgbmV3T3JpZ2luID4gb2xkT3JpZ2luKSB7XG4gICAgICAgIG5ld1Jvb3QgPSBuZXdSb290LnJlbW92ZUJlZm9yZShvd25lciwgbmV3TGV2ZWwsIG5ld09yaWdpbiAtIG9mZnNldFNoaWZ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChuZXdSb290ICYmIG5ld1RhaWxPZmZzZXQgPCBvbGRUYWlsT2Zmc2V0KSB7XG4gICAgICAgIG5ld1Jvb3QgPSBuZXdSb290LnJlbW92ZUFmdGVyKG93bmVyLCBuZXdMZXZlbCwgbmV3VGFpbE9mZnNldCAtIG9mZnNldFNoaWZ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChvZmZzZXRTaGlmdCkge1xuICAgICAgICBuZXdPcmlnaW4gLT0gb2Zmc2V0U2hpZnQ7XG4gICAgICAgIG5ld0NhcGFjaXR5IC09IG9mZnNldFNoaWZ0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsaXN0Ll9fb3duZXJJRCkge1xuICAgICAgbGlzdC5zaXplID0gbmV3Q2FwYWNpdHkgLSBuZXdPcmlnaW47XG4gICAgICBsaXN0Ll9vcmlnaW4gPSBuZXdPcmlnaW47XG4gICAgICBsaXN0Ll9jYXBhY2l0eSA9IG5ld0NhcGFjaXR5O1xuICAgICAgbGlzdC5fbGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgIGxpc3QuX3Jvb3QgPSBuZXdSb290O1xuICAgICAgbGlzdC5fdGFpbCA9IG5ld1RhaWw7XG4gICAgICBsaXN0Ll9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIGxpc3QuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICByZXR1cm4gbWFrZUxpc3QobmV3T3JpZ2luLCBuZXdDYXBhY2l0eSwgbmV3TGV2ZWwsIG5ld1Jvb3QsIG5ld1RhaWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvTGlzdFdpdGgobGlzdCwgbWVyZ2VyLCBpdGVyYWJsZXMpIHtcbiAgICB2YXIgaXRlcnMgPSBbXTtcbiAgICB2YXIgbWF4U2l6ZSA9IDA7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJhYmxlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGl0ZXJhYmxlc1tpaV07XG4gICAgICB2YXIgaXRlciA9IEluZGV4ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICBpZiAoaXRlci5zaXplID4gbWF4U2l6ZSkge1xuICAgICAgICBtYXhTaXplID0gaXRlci5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICBpdGVyID0gaXRlci5tYXAoZnVuY3Rpb24odiApIHtyZXR1cm4gZnJvbUpTKHYpfSk7XG4gICAgICB9XG4gICAgICBpdGVycy5wdXNoKGl0ZXIpO1xuICAgIH1cbiAgICBpZiAobWF4U2l6ZSA+IGxpc3Quc2l6ZSkge1xuICAgICAgbGlzdCA9IGxpc3Quc2V0U2l6ZShtYXhTaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlSW50b0NvbGxlY3Rpb25XaXRoKGxpc3QsIG1lcmdlciwgaXRlcnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFpbE9mZnNldChzaXplKSB7XG4gICAgcmV0dXJuIHNpemUgPCBTSVpFID8gMCA6ICgoKHNpemUgLSAxKSA+Pj4gU0hJRlQpIDw8IFNISUZUKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKE9yZGVyZWRNYXAsIHNyY19NYXBfX01hcCk7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gT3JkZXJlZE1hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eU9yZGVyZWRNYXAoKSA6XG4gICAgICAgIGlzT3JkZXJlZE1hcCh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5T3JkZXJlZE1hcCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obWFwICkge1xuICAgICAgICAgIHZhciBpdGVyID0gS2V5ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gbWFwLnNldChrLCB2KX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBPcmRlcmVkTWFwLm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ09yZGVyZWRNYXAgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrLCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIGluZGV4ID0gdGhpcy5fbWFwLmdldChrKTtcbiAgICAgIHJldHVybiBpbmRleCAhPT0gdW5kZWZpbmVkID8gdGhpcy5fbGlzdC5nZXQoaW5kZXgpWzFdIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLl9tYXAuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fbGlzdC5jbGVhcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbXB0eU9yZGVyZWRNYXAoKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oaywgdikge1xuICAgICAgcmV0dXJuIHVwZGF0ZU9yZGVyZWRNYXAodGhpcywgaywgdik7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGspIHtcbiAgICAgIHJldHVybiB1cGRhdGVPcmRlcmVkTWFwKHRoaXMsIGssIE5PVF9TRVQpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKSB8fCB0aGlzLl9saXN0Lndhc0FsdGVyZWQoKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLl9saXN0Ll9faXRlcmF0ZShcbiAgICAgICAgZnVuY3Rpb24oZW50cnkgKSB7cmV0dXJuIGVudHJ5ICYmIGZuKGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcyQwKX0sXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbGlzdC5mcm9tRW50cnlTZXEoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24ob3duZXJJRCkge1xuICAgICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgICAgdmFyIG5ld0xpc3QgPSB0aGlzLl9saXN0Ll9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBuZXdMaXN0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlT3JkZXJlZE1hcChuZXdNYXAsIG5ld0xpc3QsIG93bmVySUQsIHRoaXMuX19oYXNoKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNPcmRlcmVkTWFwKG1heWJlT3JkZXJlZE1hcCkge1xuICAgIHJldHVybiBpc01hcChtYXliZU9yZGVyZWRNYXApICYmIGlzT3JkZXJlZChtYXliZU9yZGVyZWRNYXApO1xuICB9XG5cbiAgT3JkZXJlZE1hcC5pc09yZGVyZWRNYXAgPSBpc09yZGVyZWRNYXA7XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuICBPcmRlcmVkTWFwLnByb3RvdHlwZVtERUxFVEVdID0gT3JkZXJlZE1hcC5wcm90b3R5cGUucmVtb3ZlO1xuXG5cblxuICBmdW5jdGlvbiBtYWtlT3JkZXJlZE1hcChtYXAsIGxpc3QsIG93bmVySUQsIGhhc2gpIHtcbiAgICB2YXIgb21hcCA9IE9iamVjdC5jcmVhdGUoT3JkZXJlZE1hcC5wcm90b3R5cGUpO1xuICAgIG9tYXAuc2l6ZSA9IG1hcCA/IG1hcC5zaXplIDogMDtcbiAgICBvbWFwLl9tYXAgPSBtYXA7XG4gICAgb21hcC5fbGlzdCA9IGxpc3Q7XG4gICAgb21hcC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIG9tYXAuX19oYXNoID0gaGFzaDtcbiAgICByZXR1cm4gb21hcDtcbiAgfVxuXG4gIHZhciBFTVBUWV9PUkRFUkVEX01BUDtcbiAgZnVuY3Rpb24gZW1wdHlPcmRlcmVkTWFwKCkge1xuICAgIHJldHVybiBFTVBUWV9PUkRFUkVEX01BUCB8fCAoRU1QVFlfT1JERVJFRF9NQVAgPSBtYWtlT3JkZXJlZE1hcChlbXB0eU1hcCgpLCBlbXB0eUxpc3QoKSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlT3JkZXJlZE1hcChvbWFwLCBrLCB2KSB7XG4gICAgdmFyIG1hcCA9IG9tYXAuX21hcDtcbiAgICB2YXIgbGlzdCA9IG9tYXAuX2xpc3Q7XG4gICAgdmFyIGkgPSBtYXAuZ2V0KGspO1xuICAgIHZhciBoYXMgPSBpICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIG5ld01hcDtcbiAgICB2YXIgbmV3TGlzdDtcbiAgICBpZiAodiA9PT0gTk9UX1NFVCkgeyAvLyByZW1vdmVkXG4gICAgICBpZiAoIWhhcykge1xuICAgICAgICByZXR1cm4gb21hcDtcbiAgICAgIH1cbiAgICAgIGlmIChsaXN0LnNpemUgPj0gU0laRSAmJiBsaXN0LnNpemUgPj0gbWFwLnNpemUgKiAyKSB7XG4gICAgICAgIG5ld0xpc3QgPSBsaXN0LmZpbHRlcihmdW5jdGlvbihlbnRyeSwgaWR4KSAge3JldHVybiBlbnRyeSAhPT0gdW5kZWZpbmVkICYmIGkgIT09IGlkeH0pO1xuICAgICAgICBuZXdNYXAgPSBuZXdMaXN0LnRvS2V5ZWRTZXEoKS5tYXAoZnVuY3Rpb24oZW50cnkgKSB7cmV0dXJuIGVudHJ5WzBdfSkuZmxpcCgpLnRvTWFwKCk7XG4gICAgICAgIGlmIChvbWFwLl9fb3duZXJJRCkge1xuICAgICAgICAgIG5ld01hcC5fX293bmVySUQgPSBuZXdMaXN0Ll9fb3duZXJJRCA9IG9tYXAuX19vd25lcklEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdNYXAgPSBtYXAucmVtb3ZlKGspO1xuICAgICAgICBuZXdMaXN0ID0gaSA9PT0gbGlzdC5zaXplIC0gMSA/IGxpc3QucG9wKCkgOiBsaXN0LnNldChpLCB1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzKSB7XG4gICAgICAgIGlmICh2ID09PSBsaXN0LmdldChpKVsxXSkge1xuICAgICAgICAgIHJldHVybiBvbWFwO1xuICAgICAgICB9XG4gICAgICAgIG5ld01hcCA9IG1hcDtcbiAgICAgICAgbmV3TGlzdCA9IGxpc3Quc2V0KGksIFtrLCB2XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdNYXAgPSBtYXAuc2V0KGssIGxpc3Quc2l6ZSk7XG4gICAgICAgIG5ld0xpc3QgPSBsaXN0LnNldChsaXN0LnNpemUsIFtrLCB2XSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvbWFwLl9fb3duZXJJRCkge1xuICAgICAgb21hcC5zaXplID0gbmV3TWFwLnNpemU7XG4gICAgICBvbWFwLl9tYXAgPSBuZXdNYXA7XG4gICAgICBvbWFwLl9saXN0ID0gbmV3TGlzdDtcbiAgICAgIG9tYXAuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9tYXA7XG4gICAgfVxuICAgIHJldHVybiBtYWtlT3JkZXJlZE1hcChuZXdNYXAsIG5ld0xpc3QpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU3RhY2ssIEluZGV4ZWRDb2xsZWN0aW9uKTtcblxuICAgIC8vIEBwcmFnbWEgQ29uc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBTdGFjayh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eVN0YWNrKCkgOlxuICAgICAgICBpc1N0YWNrKHZhbHVlKSA/IHZhbHVlIDpcbiAgICAgICAgZW1wdHlTdGFjaygpLnVuc2hpZnRBbGwodmFsdWUpO1xuICAgIH1cblxuICAgIFN0YWNrLm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTdGFjayBbJywgJ10nKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICAgIHdoaWxlIChoZWFkICYmIGluZGV4LS0pIHtcbiAgICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWFkID8gaGVhZC52YWx1ZSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hlYWQgJiYgdGhpcy5faGVhZC52YWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICAgIFN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZSArIGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICBmb3IgKHZhciBpaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpaSA+PSAwOyBpaS0tKSB7XG4gICAgICAgIGhlYWQgPSB7XG4gICAgICAgICAgdmFsdWU6IGFyZ3VtZW50c1tpaV0sXG4gICAgICAgICAgbmV4dDogaGVhZFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS5wdXNoQWxsID0gZnVuY3Rpb24oaXRlcikge1xuICAgICAgaXRlciA9IEluZGV4ZWRJdGVyYWJsZShpdGVyKTtcbiAgICAgIGlmIChpdGVyLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemU7XG4gICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICBpdGVyLnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlICkge1xuICAgICAgICBuZXdTaXplKys7XG4gICAgICAgIGhlYWQgPSB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIG5leHQ6IGhlYWRcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNsaWNlKDEpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzLnB1c2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnVuc2hpZnRBbGwgPSBmdW5jdGlvbihpdGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5wdXNoQWxsKGl0ZXIpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5faGVhZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlTdGFjaygpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XG4gICAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCB0aGlzLnNpemUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc29sdmVkQmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIHRoaXMuc2l6ZSk7XG4gICAgICB2YXIgcmVzb2x2ZWRFbmQgPSByZXNvbHZlRW5kKGVuZCwgdGhpcy5zaXplKTtcbiAgICAgIGlmIChyZXNvbHZlZEVuZCAhPT0gdGhpcy5zaXplKSB7XG4gICAgICAgIC8vIHN1cGVyLnNsaWNlKGJlZ2luLCBlbmQpO1xuICAgICAgICByZXR1cm4gSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcywgYmVnaW4sIGVuZCk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZSAtIHJlc29sdmVkQmVnaW47XG4gICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICB3aGlsZSAocmVzb2x2ZWRCZWdpbi0tKSB7XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gbmV3U2l6ZTtcbiAgICAgICAgdGhpcy5faGVhZCA9IGhlYWQ7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VTdGFjayhuZXdTaXplLCBoZWFkKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNdXRhYmlsaXR5XG5cbiAgICBTdGFjay5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICghb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VTdGFjayh0aGlzLnNpemUsIHRoaXMuX2hlYWQsIG93bmVySUQsIHRoaXMuX19oYXNoKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBJdGVyYXRpb25cblxuICAgIFN0YWNrLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLl9faXRlcmF0ZShmbik7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAoZm4obm9kZS52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLl9faXRlcmF0b3IodHlwZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG5vZGUudmFsdWU7XG4gICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNTdGFjayhtYXliZVN0YWNrKSB7XG4gICAgcmV0dXJuICEhKG1heWJlU3RhY2sgJiYgbWF5YmVTdGFja1tJU19TVEFDS19TRU5USU5FTF0pO1xuICB9XG5cbiAgU3RhY2suaXNTdGFjayA9IGlzU3RhY2s7XG5cbiAgdmFyIElTX1NUQUNLX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfU1RBQ0tfX0BAJztcblxuICB2YXIgU3RhY2tQcm90b3R5cGUgPSBTdGFjay5wcm90b3R5cGU7XG4gIFN0YWNrUHJvdG90eXBlW0lTX1NUQUNLX1NFTlRJTkVMXSA9IHRydWU7XG4gIFN0YWNrUHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBNYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucztcbiAgU3RhY2tQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgU3RhY2tQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG4gIFN0YWNrUHJvdG90eXBlLndhc0FsdGVyZWQgPSBNYXBQcm90b3R5cGUud2FzQWx0ZXJlZDtcblxuXG4gIGZ1bmN0aW9uIG1ha2VTdGFjayhzaXplLCBoZWFkLCBvd25lcklELCBoYXNoKSB7XG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUoU3RhY2tQcm90b3R5cGUpO1xuICAgIG1hcC5zaXplID0gc2l6ZTtcbiAgICBtYXAuX2hlYWQgPSBoZWFkO1xuICAgIG1hcC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIG1hcC5fX2hhc2ggPSBoYXNoO1xuICAgIG1hcC5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gbWFwO1xuICB9XG5cbiAgdmFyIEVNUFRZX1NUQUNLO1xuICBmdW5jdGlvbiBlbXB0eVN0YWNrKCkge1xuICAgIHJldHVybiBFTVBUWV9TVEFDSyB8fCAoRU1QVFlfU1RBQ0sgPSBtYWtlU3RhY2soMCkpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3Moc3JjX1NldF9fU2V0LCBTZXRDb2xsZWN0aW9uKTtcblxuICAgIC8vIEBwcmFnbWEgQ29uc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBzcmNfU2V0X19TZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTZXQoKSA6XG4gICAgICAgIGlzU2V0KHZhbHVlKSA/IHZhbHVlIDpcbiAgICAgICAgZW1wdHlTZXQoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHNldCApIHtcbiAgICAgICAgICB2YXIgaXRlciA9IFNldEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbih2ICkge3JldHVybiBzZXQuYWRkKHYpfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNyY19TZXRfX1NldC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5mcm9tS2V5cyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcyhLZXllZEl0ZXJhYmxlKHZhbHVlKS5rZXlTZXEoKSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1NldCB7JywgJ30nKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLnNldCh2YWx1ZSwgdHJ1ZSkpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5yZW1vdmUodmFsdWUpKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHVwZGF0ZVNldCh0aGlzLCB0aGlzLl9tYXAuY2xlYXIoKSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUudW5pb24gPSBmdW5jdGlvbigpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgIGl0ZXJzID0gaXRlcnMuZmlsdGVyKGZ1bmN0aW9uKHggKSB7cmV0dXJuIHguc2l6ZSAhPT0gMH0pO1xuICAgICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDAgJiYgIXRoaXMuX19vd25lcklEICYmIGl0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihpdGVyc1swXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHNldCApIHtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgIFNldEl0ZXJhYmxlKGl0ZXJzW2lpXSkuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gc2V0LmFkZCh2YWx1ZSl9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24oKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaXRlcnMgPSBpdGVycy5tYXAoZnVuY3Rpb24oaXRlciApIHtyZXR1cm4gU2V0SXRlcmFibGUoaXRlcil9KTtcbiAgICAgIHZhciBvcmlnaW5hbFNldCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHNldCApIHtcbiAgICAgICAgb3JpZ2luYWxTZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSApIHtcbiAgICAgICAgICBpZiAoIWl0ZXJzLmV2ZXJ5KGZ1bmN0aW9uKGl0ZXIgKSB7cmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpfSkpIHtcbiAgICAgICAgICAgIHNldC5yZW1vdmUodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uKCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGl0ZXJzID0gaXRlcnMubWFwKGZ1bmN0aW9uKGl0ZXIgKSB7cmV0dXJuIFNldEl0ZXJhYmxlKGl0ZXIpfSk7XG4gICAgICB2YXIgb3JpZ2luYWxTZXQgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgIG9yaWdpbmFsU2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUgKSB7XG4gICAgICAgICAgaWYgKGl0ZXJzLnNvbWUoZnVuY3Rpb24oaXRlciApIHtyZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSl9KSkge1xuICAgICAgICAgICAgc2V0LnJlbW92ZSh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy51bmlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLm1lcmdlV2l0aCA9IGZ1bmN0aW9uKG1lcmdlcikge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIHRoaXMudW5pb24uYXBwbHkodGhpcywgaXRlcnMpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbihjb21wYXJhdG9yKSB7XG4gICAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICAgIHJldHVybiBPcmRlcmVkU2V0KHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5zb3J0QnkgPSBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIC8vIExhdGUgYmluZGluZ1xuICAgICAgcmV0dXJuIE9yZGVyZWRTZXQoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLl9tYXAuX19pdGVyYXRlKGZ1bmN0aW9uKF8sIGspICB7cmV0dXJuIGZuKGssIGssIHRoaXMkMCl9LCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC5tYXAoZnVuY3Rpb24oXywgaykgIHtyZXR1cm4ga30pLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICAgIGlmICghb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ld01hcDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fX21ha2UobmV3TWFwLCBvd25lcklEKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNTZXQobWF5YmVTZXQpIHtcbiAgICByZXR1cm4gISEobWF5YmVTZXQgJiYgbWF5YmVTZXRbSVNfU0VUX1NFTlRJTkVMXSk7XG4gIH1cblxuICBzcmNfU2V0X19TZXQuaXNTZXQgPSBpc1NldDtcblxuICB2YXIgSVNfU0VUX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfU0VUX19AQCc7XG5cbiAgdmFyIFNldFByb3RvdHlwZSA9IHNyY19TZXRfX1NldC5wcm90b3R5cGU7XG4gIFNldFByb3RvdHlwZVtJU19TRVRfU0VOVElORUxdID0gdHJ1ZTtcbiAgU2V0UHJvdG90eXBlW0RFTEVURV0gPSBTZXRQcm90b3R5cGUucmVtb3ZlO1xuICBTZXRQcm90b3R5cGUubWVyZ2VEZWVwID0gU2V0UHJvdG90eXBlLm1lcmdlO1xuICBTZXRQcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IFNldFByb3RvdHlwZS5tZXJnZVdpdGg7XG4gIFNldFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG4gIFNldFByb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuICBTZXRQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG5cbiAgU2V0UHJvdG90eXBlLl9fZW1wdHkgPSBlbXB0eVNldDtcbiAgU2V0UHJvdG90eXBlLl9fbWFrZSA9IG1ha2VTZXQ7XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2V0KHNldCwgbmV3TWFwKSB7XG4gICAgaWYgKHNldC5fX293bmVySUQpIHtcbiAgICAgIHNldC5zaXplID0gbmV3TWFwLnNpemU7XG4gICAgICBzZXQuX21hcCA9IG5ld01hcDtcbiAgICAgIHJldHVybiBzZXQ7XG4gICAgfVxuICAgIHJldHVybiBuZXdNYXAgPT09IHNldC5fbWFwID8gc2V0IDpcbiAgICAgIG5ld01hcC5zaXplID09PSAwID8gc2V0Ll9fZW1wdHkoKSA6XG4gICAgICBzZXQuX19tYWtlKG5ld01hcCk7XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlU2V0KG1hcCwgb3duZXJJRCkge1xuICAgIHZhciBzZXQgPSBPYmplY3QuY3JlYXRlKFNldFByb3RvdHlwZSk7XG4gICAgc2V0LnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gICAgc2V0Ll9tYXAgPSBtYXA7XG4gICAgc2V0Ll9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgcmV0dXJuIHNldDtcbiAgfVxuXG4gIHZhciBFTVBUWV9TRVQ7XG4gIGZ1bmN0aW9uIGVtcHR5U2V0KCkge1xuICAgIHJldHVybiBFTVBUWV9TRVQgfHwgKEVNUFRZX1NFVCA9IG1ha2VTZXQoZW1wdHlNYXAoKSkpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoT3JkZXJlZFNldCwgc3JjX1NldF9fU2V0KTtcblxuICAgIC8vIEBwcmFnbWEgQ29uc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBPcmRlcmVkU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5T3JkZXJlZFNldCgpIDpcbiAgICAgICAgaXNPcmRlcmVkU2V0KHZhbHVlKSA/IHZhbHVlIDpcbiAgICAgICAgZW1wdHlPcmRlcmVkU2V0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBTZXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiApIHtyZXR1cm4gc2V0LmFkZCh2KX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBPcmRlcmVkU2V0Lm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZFNldC5mcm9tS2V5cyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcyhLZXllZEl0ZXJhYmxlKHZhbHVlKS5rZXlTZXEoKSk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRTZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdPcmRlcmVkU2V0IHsnLCAnfScpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc09yZGVyZWRTZXQobWF5YmVPcmRlcmVkU2V0KSB7XG4gICAgcmV0dXJuIGlzU2V0KG1heWJlT3JkZXJlZFNldCkgJiYgaXNPcmRlcmVkKG1heWJlT3JkZXJlZFNldCk7XG4gIH1cblxuICBPcmRlcmVkU2V0LmlzT3JkZXJlZFNldCA9IGlzT3JkZXJlZFNldDtcblxuICB2YXIgT3JkZXJlZFNldFByb3RvdHlwZSA9IE9yZGVyZWRTZXQucHJvdG90eXBlO1xuICBPcmRlcmVkU2V0UHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxuICBPcmRlcmVkU2V0UHJvdG90eXBlLl9fZW1wdHkgPSBlbXB0eU9yZGVyZWRTZXQ7XG4gIE9yZGVyZWRTZXRQcm90b3R5cGUuX19tYWtlID0gbWFrZU9yZGVyZWRTZXQ7XG5cbiAgZnVuY3Rpb24gbWFrZU9yZGVyZWRTZXQobWFwLCBvd25lcklEKSB7XG4gICAgdmFyIHNldCA9IE9iamVjdC5jcmVhdGUoT3JkZXJlZFNldFByb3RvdHlwZSk7XG4gICAgc2V0LnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gICAgc2V0Ll9tYXAgPSBtYXA7XG4gICAgc2V0Ll9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgcmV0dXJuIHNldDtcbiAgfVxuXG4gIHZhciBFTVBUWV9PUkRFUkVEX1NFVDtcbiAgZnVuY3Rpb24gZW1wdHlPcmRlcmVkU2V0KCkge1xuICAgIHJldHVybiBFTVBUWV9PUkRFUkVEX1NFVCB8fCAoRU1QVFlfT1JERVJFRF9TRVQgPSBtYWtlT3JkZXJlZFNldChlbXB0eU9yZGVyZWRNYXAoKSkpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoUmVjb3JkLCBLZXllZENvbGxlY3Rpb24pO1xuXG4gICAgZnVuY3Rpb24gUmVjb3JkKGRlZmF1bHRWYWx1ZXMsIG5hbWUpIHtcbiAgICAgIHZhciBoYXNJbml0aWFsaXplZDtcblxuICAgICAgdmFyIFJlY29yZFR5cGUgPSBmdW5jdGlvbiBSZWNvcmQodmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBSZWNvcmRUeXBlKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVjb3JkVHlwZSkpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlY29yZFR5cGUodmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgaGFzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGVmYXVsdFZhbHVlcyk7XG4gICAgICAgICAgc2V0UHJvcHMoUmVjb3JkVHlwZVByb3RvdHlwZSwga2V5cyk7XG4gICAgICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5zaXplID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fbmFtZSA9IG5hbWU7XG4gICAgICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fa2V5cyA9IGtleXM7XG4gICAgICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fZGVmYXVsdFZhbHVlcyA9IGRlZmF1bHRWYWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwID0gc3JjX01hcF9fTWFwKHZhbHVlcyk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgUmVjb3JkVHlwZVByb3RvdHlwZSA9IFJlY29yZFR5cGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSZWNvcmRQcm90b3R5cGUpO1xuICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlY29yZFR5cGU7XG5cbiAgICAgIHJldHVybiBSZWNvcmRUeXBlO1xuICAgIH1cblxuICAgIFJlY29yZC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcocmVjb3JkTmFtZSh0aGlzKSArICcgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBSZWNvcmQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGspIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0VmFsdWVzLmhhc093blByb3BlcnR5KGspO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGssIG5vdFNldFZhbHVlKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzKGspKSB7XG4gICAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkZWZhdWx0VmFsID0gdGhpcy5fZGVmYXVsdFZhbHVlc1trXTtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAgPyB0aGlzLl9tYXAuZ2V0KGssIGRlZmF1bHRWYWwpIDogZGVmYXVsdFZhbDtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICAgIFJlY29yZC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9tYXAgJiYgdGhpcy5fbWFwLmNsZWFyKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIFJlY29yZFR5cGUgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIFJlY29yZFR5cGUuX2VtcHR5IHx8IChSZWNvcmRUeXBlLl9lbXB0eSA9IG1ha2VSZWNvcmQodGhpcywgZW1wdHlNYXAoKSkpO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgIGlmICghdGhpcy5oYXMoaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2V0IHVua25vd24ga2V5IFwiJyArIGsgKyAnXCIgb24gJyArIHJlY29yZE5hbWUodGhpcykpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcCAmJiB0aGlzLl9tYXAuc2V0KGssIHYpO1xuICAgICAgaWYgKHRoaXMuX19vd25lcklEIHx8IG5ld01hcCA9PT0gdGhpcy5fbWFwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VSZWNvcmQodGhpcywgbmV3TWFwKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzKGspKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcCAmJiB0aGlzLl9tYXAucmVtb3ZlKGspO1xuICAgICAgaWYgKHRoaXMuX19vd25lcklEIHx8IG5ld01hcCA9PT0gdGhpcy5fbWFwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VSZWNvcmQodGhpcywgbmV3TWFwKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIEtleWVkSXRlcmFibGUodGhpcy5fZGVmYXVsdFZhbHVlcykubWFwKGZ1bmN0aW9uKF8sIGspICB7cmV0dXJuIHRoaXMkMC5nZXQoayl9KS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gS2V5ZWRJdGVyYWJsZSh0aGlzLl9kZWZhdWx0VmFsdWVzKS5tYXAoZnVuY3Rpb24oXywgaykgIHtyZXR1cm4gdGhpcyQwLmdldChrKX0pLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAgJiYgdGhpcy5fbWFwLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VSZWNvcmQodGhpcywgbmV3TWFwLCBvd25lcklEKTtcbiAgICB9O1xuXG5cbiAgdmFyIFJlY29yZFByb3RvdHlwZSA9IFJlY29yZC5wcm90b3R5cGU7XG4gIFJlY29yZFByb3RvdHlwZVtERUxFVEVdID0gUmVjb3JkUHJvdG90eXBlLnJlbW92ZTtcbiAgUmVjb3JkUHJvdG90eXBlLmRlbGV0ZUluID1cbiAgUmVjb3JkUHJvdG90eXBlLnJlbW92ZUluID0gTWFwUHJvdG90eXBlLnJlbW92ZUluO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2UgPSBNYXBQcm90b3R5cGUubWVyZ2U7XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZVdpdGggPSBNYXBQcm90b3R5cGUubWVyZ2VXaXRoO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2VJbiA9IE1hcFByb3RvdHlwZS5tZXJnZUluO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcDtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwV2l0aDtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcEluID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcEluO1xuICBSZWNvcmRQcm90b3R5cGUuc2V0SW4gPSBNYXBQcm90b3R5cGUuc2V0SW47XG4gIFJlY29yZFByb3RvdHlwZS51cGRhdGUgPSBNYXBQcm90b3R5cGUudXBkYXRlO1xuICBSZWNvcmRQcm90b3R5cGUudXBkYXRlSW4gPSBNYXBQcm90b3R5cGUudXBkYXRlSW47XG4gIFJlY29yZFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG4gIFJlY29yZFByb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuICBSZWNvcmRQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG5cblxuICBmdW5jdGlvbiBtYWtlUmVjb3JkKGxpa2VSZWNvcmQsIG1hcCwgb3duZXJJRCkge1xuICAgIHZhciByZWNvcmQgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihsaWtlUmVjb3JkKSk7XG4gICAgcmVjb3JkLl9tYXAgPSBtYXA7XG4gICAgcmVjb3JkLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgcmV0dXJuIHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29yZE5hbWUocmVjb3JkKSB7XG4gICAgcmV0dXJuIHJlY29yZC5fbmFtZSB8fCByZWNvcmQuY29uc3RydWN0b3IubmFtZSB8fCAnUmVjb3JkJztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFByb3BzKHByb3RvdHlwZSwgbmFtZXMpIHtcbiAgICB0cnkge1xuICAgICAgbmFtZXMuZm9yRWFjaChzZXRQcm9wLmJpbmQodW5kZWZpbmVkLCBwcm90b3R5cGUpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5IGZhaWxlZC4gUHJvYmFibHkgSUU4LlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFByb3AocHJvdG90eXBlLCBuYW1lKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbmFtZSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG5hbWUpO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaW52YXJpYW50KHRoaXMuX19vd25lcklELCAnQ2Fubm90IHNldCBvbiBhbiBpbW11dGFibGUgcmVjb3JkLicpO1xuICAgICAgICB0aGlzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhaXNJdGVyYWJsZShiKSB8fFxuICAgICAgYS5zaXplICE9PSB1bmRlZmluZWQgJiYgYi5zaXplICE9PSB1bmRlZmluZWQgJiYgYS5zaXplICE9PSBiLnNpemUgfHxcbiAgICAgIGEuX19oYXNoICE9PSB1bmRlZmluZWQgJiYgYi5fX2hhc2ggIT09IHVuZGVmaW5lZCAmJiBhLl9faGFzaCAhPT0gYi5fX2hhc2ggfHxcbiAgICAgIGlzS2V5ZWQoYSkgIT09IGlzS2V5ZWQoYikgfHxcbiAgICAgIGlzSW5kZXhlZChhKSAhPT0gaXNJbmRleGVkKGIpIHx8XG4gICAgICBpc09yZGVyZWQoYSkgIT09IGlzT3JkZXJlZChiKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhLnNpemUgPT09IDAgJiYgYi5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgbm90QXNzb2NpYXRpdmUgPSAhaXNBc3NvY2lhdGl2ZShhKTtcblxuICAgIGlmIChpc09yZGVyZWQoYSkpIHtcbiAgICAgIHZhciBlbnRyaWVzID0gYS5lbnRyaWVzKCk7XG4gICAgICByZXR1cm4gYi5ldmVyeShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzLm5leHQoKS52YWx1ZTtcbiAgICAgICAgcmV0dXJuIGVudHJ5ICYmIGlzKGVudHJ5WzFdLCB2KSAmJiAobm90QXNzb2NpYXRpdmUgfHwgaXMoZW50cnlbMF0sIGspKTtcbiAgICAgIH0pICYmIGVudHJpZXMubmV4dCgpLmRvbmU7XG4gICAgfVxuXG4gICAgdmFyIGZsaXBwZWQgPSBmYWxzZTtcblxuICAgIGlmIChhLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGIuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYS5jYWNoZVJlc3VsdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGEuY2FjaGVSZXN1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmxpcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBfID0gYTtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSBfO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhbGxFcXVhbCA9IHRydWU7XG4gICAgdmFyIGJTaXplID0gYi5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgIGlmIChub3RBc3NvY2lhdGl2ZSA/ICFhLmhhcyh2KSA6XG4gICAgICAgICAgZmxpcHBlZCA/ICFpcyh2LCBhLmdldChrLCBOT1RfU0VUKSkgOiAhaXMoYS5nZXQoaywgTk9UX1NFVCksIHYpKSB7XG4gICAgICAgIGFsbEVxdWFsID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBhbGxFcXVhbCAmJiBhLnNpemUgPT09IGJTaXplO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoUmFuZ2UsIEluZGV4ZWRTZXEpO1xuXG4gICAgZnVuY3Rpb24gUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJhbmdlKSkge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApO1xuICAgICAgfVxuICAgICAgaW52YXJpYW50KHN0ZXAgIT09IDAsICdDYW5ub3Qgc3RlcCBhIFJhbmdlIGJ5IDAnKTtcbiAgICAgIHN0YXJ0ID0gc3RhcnQgfHwgMDtcbiAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSBJbmZpbml0eTtcbiAgICAgIH1cbiAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAxIDogTWF0aC5hYnMoc3RlcCk7XG4gICAgICBpZiAoZW5kIDwgc3RhcnQpIHtcbiAgICAgICAgc3RlcCA9IC1zdGVwO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RhcnQgPSBzdGFydDtcbiAgICAgIHRoaXMuX2VuZCA9IGVuZDtcbiAgICAgIHRoaXMuX3N0ZXAgPSBzdGVwO1xuICAgICAgdGhpcy5zaXplID0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKChlbmQgLSBzdGFydCkgLyBzdGVwIC0gMSkgKyAxKTtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgaWYgKEVNUFRZX1JBTkdFKSB7XG4gICAgICAgICAgcmV0dXJuIEVNUFRZX1JBTkdFO1xuICAgICAgICB9XG4gICAgICAgIEVNUFRZX1JBTkdFID0gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBSYW5nZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICdSYW5nZSBbXSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ1JhbmdlIFsgJyArXG4gICAgICAgIHRoaXMuX3N0YXJ0ICsgJy4uLicgKyB0aGlzLl9lbmQgK1xuICAgICAgICAodGhpcy5fc3RlcCA+IDEgPyAnIGJ5ICcgKyB0aGlzLl9zdGVwIDogJycpICtcbiAgICAgICcgXSc7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyhpbmRleCkgP1xuICAgICAgICB0aGlzLl9zdGFydCArIHdyYXBJbmRleCh0aGlzLCBpbmRleCkgKiB0aGlzLl9zdGVwIDpcbiAgICAgICAgbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICB2YXIgcG9zc2libGVJbmRleCA9IChzZWFyY2hWYWx1ZSAtIHRoaXMuX3N0YXJ0KSAvIHRoaXMuX3N0ZXA7XG4gICAgICByZXR1cm4gcG9zc2libGVJbmRleCA+PSAwICYmXG4gICAgICAgIHBvc3NpYmxlSW5kZXggPCB0aGlzLnNpemUgJiZcbiAgICAgICAgcG9zc2libGVJbmRleCA9PT0gTWF0aC5mbG9vcihwb3NzaWJsZUluZGV4KTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgdGhpcy5zaXplKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCB0aGlzLnNpemUpO1xuICAgICAgZW5kID0gcmVzb2x2ZUVuZChlbmQsIHRoaXMuc2l6ZSk7XG4gICAgICBpZiAoZW5kIDw9IGJlZ2luKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UoMCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuZ2V0KGJlZ2luLCB0aGlzLl9lbmQpLCB0aGlzLmdldChlbmQsIHRoaXMuX2VuZCksIHRoaXMuX3N0ZXApO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICB2YXIgb2Zmc2V0VmFsdWUgPSBzZWFyY2hWYWx1ZSAtIHRoaXMuX3N0YXJ0O1xuICAgICAgaWYgKG9mZnNldFZhbHVlICUgdGhpcy5fc3RlcCA9PT0gMCkge1xuICAgICAgICB2YXIgaW5kZXggPSBvZmZzZXRWYWx1ZSAvIHRoaXMuX3N0ZXA7XG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5zaXplKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoVmFsdWUpO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHZhciBtYXhJbmRleCA9IHRoaXMuc2l6ZSAtIDE7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgICB2YXIgdmFsdWUgPSByZXZlcnNlID8gdGhpcy5fc3RhcnQgKyBtYXhJbmRleCAqIHN0ZXAgOiB0aGlzLl9zdGFydDtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgICAgaWYgKGZuKHZhbHVlLCBpaSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGlpICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSArPSByZXZlcnNlID8gLXN0ZXAgOiBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlpO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBtYXhJbmRleCA9IHRoaXMuc2l6ZSAtIDE7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgICB2YXIgdmFsdWUgPSByZXZlcnNlID8gdGhpcy5fc3RhcnQgKyBtYXhJbmRleCAqIHN0ZXAgOiB0aGlzLl9zdGFydDtcbiAgICAgIHZhciBpaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgdiA9IHZhbHVlO1xuICAgICAgICB2YWx1ZSArPSByZXZlcnNlID8gLXN0ZXAgOiBzdGVwO1xuICAgICAgICByZXR1cm4gaWkgPiBtYXhJbmRleCA/IGl0ZXJhdG9yRG9uZSgpIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpaSsrLCB2KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFJhbmdlID9cbiAgICAgICAgdGhpcy5fc3RhcnQgPT09IG90aGVyLl9zdGFydCAmJlxuICAgICAgICB0aGlzLl9lbmQgPT09IG90aGVyLl9lbmQgJiZcbiAgICAgICAgdGhpcy5fc3RlcCA9PT0gb3RoZXIuX3N0ZXAgOlxuICAgICAgICBkZWVwRXF1YWwodGhpcywgb3RoZXIpO1xuICAgIH07XG5cblxuICB2YXIgRU1QVFlfUkFOR0U7XG5cbiAgY3JlYXRlQ2xhc3MoUmVwZWF0LCBJbmRleGVkU2VxKTtcblxuICAgIGZ1bmN0aW9uIFJlcGVhdCh2YWx1ZSwgdGltZXMpIHtcbiAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXBlYXQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVwZWF0KHZhbHVlLCB0aW1lcyk7XG4gICAgICB9XG4gICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5zaXplID0gdGltZXMgPT09IHVuZGVmaW5lZCA/IEluZmluaXR5IDogTWF0aC5tYXgoMCwgdGltZXMpO1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBpZiAoRU1QVFlfUkVQRUFUKSB7XG4gICAgICAgICAgcmV0dXJuIEVNUFRZX1JFUEVBVDtcbiAgICAgICAgfVxuICAgICAgICBFTVBUWV9SRVBFQVQgPSB0aGlzO1xuICAgICAgfVxuICAgIH1cblxuICAgIFJlcGVhdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICdSZXBlYXQgW10nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdSZXBlYXQgWyAnICsgdGhpcy5fdmFsdWUgKyAnICcgKyB0aGlzLnNpemUgKyAnIHRpbWVzIF0nO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzKGluZGV4KSA/IHRoaXMuX3ZhbHVlIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSk7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XG4gICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpID8gdGhpcyA6XG4gICAgICAgIG5ldyBSZXBlYXQodGhpcy5fdmFsdWUsIHJlc29sdmVFbmQoZW5kLCBzaXplKSAtIHJlc29sdmVCZWdpbihiZWdpbiwgc2l6ZSkpO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgaWYgKGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgaWYgKGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHRoaXMuc2l6ZTsgaWkrKykge1xuICAgICAgICBpZiAoZm4odGhpcy5fdmFsdWUsIGlpLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaWkgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaWk7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSBcbiAgICAgICAge3JldHVybiBpaSA8IHRoaXMkMC5zaXplID8gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpaSsrLCB0aGlzJDAuX3ZhbHVlKSA6IGl0ZXJhdG9yRG9uZSgpfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgUmVwZWF0ID9cbiAgICAgICAgaXModGhpcy5fdmFsdWUsIG90aGVyLl92YWx1ZSkgOlxuICAgICAgICBkZWVwRXF1YWwob3RoZXIpO1xuICAgIH07XG5cblxuICB2YXIgRU1QVFlfUkVQRUFUO1xuXG4gIC8qKlxuICAgKiBDb250cmlidXRlcyBhZGRpdGlvbmFsIG1ldGhvZHMgdG8gYSBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZnVuY3Rpb24gbWl4aW4oY3RvciwgbWV0aG9kcykge1xuICAgIHZhciBrZXlDb3BpZXIgPSBmdW5jdGlvbihrZXkgKSB7IGN0b3IucHJvdG90eXBlW2tleV0gPSBtZXRob2RzW2tleV07IH07XG4gICAgT2JqZWN0LmtleXMobWV0aG9kcykuZm9yRWFjaChrZXlDb3BpZXIpO1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiZcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobWV0aG9kcykuZm9yRWFjaChrZXlDb3BpZXIpO1xuICAgIHJldHVybiBjdG9yO1xuICB9XG5cbiAgSXRlcmFibGUuSXRlcmF0b3IgPSBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yO1xuXG4gIG1peGluKEl0ZXJhYmxlLCB7XG5cbiAgICAvLyAjIyMgQ29udmVyc2lvbiB0byBvdGhlciB0eXBlc1xuXG4gICAgdG9BcnJheTogZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHRoaXMuc2l6ZSB8fCAwKTtcbiAgICAgIHRoaXMudmFsdWVTZXEoKS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaSkgIHsgYXJyYXlbaV0gPSB2OyB9KTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9LFxuXG4gICAgdG9JbmRleGVkU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgVG9JbmRleGVkU2VxdWVuY2UodGhpcyk7XG4gICAgfSxcblxuICAgIHRvSlM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5tYXAoXG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudG9KUyA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnRvSlMoKSA6IHZhbHVlfVxuICAgICAgKS5fX3RvSlMoKTtcbiAgICB9LFxuXG4gICAgdG9KU09OOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkubWFwKFxuICAgICAgICBmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnRvSlNPTigpIDogdmFsdWV9XG4gICAgICApLl9fdG9KUygpO1xuICAgIH0sXG5cbiAgICB0b0tleWVkU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgVG9LZXllZFNlcXVlbmNlKHRoaXMsIHRydWUpO1xuICAgIH0sXG5cbiAgICB0b01hcDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gc3JjX01hcF9fTWFwKHRoaXMudG9LZXllZFNlcSgpKTtcbiAgICB9LFxuXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7IG9iamVjdFtrXSA9IHY7IH0pO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgdG9PcmRlcmVkTWFwOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBPcmRlcmVkTWFwKHRoaXMudG9LZXllZFNlcSgpKTtcbiAgICB9LFxuXG4gICAgdG9PcmRlcmVkU2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBPcmRlcmVkU2V0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgICB9LFxuXG4gICAgdG9TZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIHNyY19TZXRfX1NldChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gICAgfSxcblxuICAgIHRvU2V0U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgVG9TZXRTZXF1ZW5jZSh0aGlzKTtcbiAgICB9LFxuXG4gICAgdG9TZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGlzSW5kZXhlZCh0aGlzKSA/IHRoaXMudG9JbmRleGVkU2VxKCkgOlxuICAgICAgICBpc0tleWVkKHRoaXMpID8gdGhpcy50b0tleWVkU2VxKCkgOlxuICAgICAgICB0aGlzLnRvU2V0U2VxKCk7XG4gICAgfSxcblxuICAgIHRvU3RhY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIFN0YWNrKGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgICB9LFxuXG4gICAgdG9MaXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBMaXN0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgQ29tbW9uIEphdmFTY3JpcHQgbWV0aG9kcyBhbmQgcHJvcGVydGllc1xuXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICdbSXRlcmFibGVdJztcbiAgICB9LFxuXG4gICAgX190b1N0cmluZzogZnVuY3Rpb24oaGVhZCwgdGFpbCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaGVhZCArIHRhaWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGVhZCArICcgJyArIHRoaXMudG9TZXEoKS5tYXAodGhpcy5fX3RvU3RyaW5nTWFwcGVyKS5qb2luKCcsICcpICsgJyAnICsgdGFpbDtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgRVM2IENvbGxlY3Rpb24gbWV0aG9kcyAoRVM2IEFycmF5IGFuZCBNYXApXG5cbiAgICBjb25jYXQ6IGZ1bmN0aW9uKCkge3ZhciB2YWx1ZXMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBjb25jYXRGYWN0b3J5KHRoaXMsIHZhbHVlcykpO1xuICAgIH0sXG5cbiAgICBjb250YWluczogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmluY2x1ZGVzKHNlYXJjaFZhbHVlKTtcbiAgICB9LFxuXG4gICAgaW5jbHVkZXM6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zb21lKGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpfSk7XG4gICAgfSxcblxuICAgIGVudHJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMpO1xuICAgIH0sXG5cbiAgICBldmVyeTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgdmFyIHJldHVyblZhbHVlID0gdHJ1ZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmICghcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfSxcblxuICAgIGZpbHRlcjogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmlsdGVyRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIHRydWUpKTtcbiAgICB9LFxuXG4gICAgZmluZDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBlbnRyeSA/IGVudHJ5WzFdIDogbm90U2V0VmFsdWU7XG4gICAgfSxcblxuICAgIGZpbmRFbnRyeTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZm91bmQ7XG4gICAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICBmb3VuZCA9IFtrLCB2XTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH0sXG5cbiAgICBmaW5kTGFzdEVudHJ5OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBmb3JFYWNoOiBmdW5jdGlvbihzaWRlRWZmZWN0LCBjb250ZXh0KSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRlKGNvbnRleHQgPyBzaWRlRWZmZWN0LmJpbmQoY29udGV4dCkgOiBzaWRlRWZmZWN0KTtcbiAgICB9LFxuXG4gICAgam9pbjogZnVuY3Rpb24oc2VwYXJhdG9yKSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgc2VwYXJhdG9yID0gc2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyAnJyArIHNlcGFyYXRvciA6ICcsJztcbiAgICAgIHZhciBqb2luZWQgPSAnJztcbiAgICAgIHZhciBpc0ZpcnN0ID0gdHJ1ZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYgKSB7XG4gICAgICAgIGlzRmlyc3QgPyAoaXNGaXJzdCA9IGZhbHNlKSA6IChqb2luZWQgKz0gc2VwYXJhdG9yKTtcbiAgICAgICAgam9pbmVkICs9IHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkID8gdi50b1N0cmluZygpIDogJyc7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBqb2luZWQ7XG4gICAgfSxcblxuICAgIGtleXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0tFWVMpO1xuICAgIH0sXG5cbiAgICBtYXA6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIG1hcEZhY3RvcnkodGhpcywgbWFwcGVyLCBjb250ZXh0KSk7XG4gICAgfSxcblxuICAgIHJlZHVjZTogZnVuY3Rpb24ocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHZhciByZWR1Y3Rpb247XG4gICAgICB2YXIgdXNlRmlyc3Q7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgdXNlRmlyc3QgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVkdWN0aW9uID0gaW5pdGlhbFJlZHVjdGlvbjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmICh1c2VGaXJzdCkge1xuICAgICAgICAgIHVzZUZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgcmVkdWN0aW9uID0gdjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWR1Y3Rpb24gPSByZWR1Y2VyLmNhbGwoY29udGV4dCwgcmVkdWN0aW9uLCB2LCBrLCBjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVkdWN0aW9uO1xuICAgIH0sXG5cbiAgICByZWR1Y2VSaWdodDogZnVuY3Rpb24ocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgICAgdmFyIHJldmVyc2VkID0gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpO1xuICAgICAgcmV0dXJuIHJldmVyc2VkLnJlZHVjZS5hcHBseShyZXZlcnNlZCwgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgcmV2ZXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgcmV2ZXJzZUZhY3RvcnkodGhpcywgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBzbGljZTogZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNsaWNlRmFjdG9yeSh0aGlzLCBiZWdpbiwgZW5kLCB0cnVlKSk7XG4gICAgfSxcblxuICAgIHNvbWU6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuICF0aGlzLmV2ZXJ5KG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgc29ydDogZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgICB9LFxuXG4gICAgdmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gICAgYnV0TGFzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgwLCAtMSk7XG4gICAgfSxcblxuICAgIGlzRW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkID8gdGhpcy5zaXplID09PSAwIDogIXRoaXMuc29tZShmdW5jdGlvbigpICB7cmV0dXJuIHRydWV9KTtcbiAgICB9LFxuXG4gICAgY291bnQ6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIGVuc3VyZVNpemUoXG4gICAgICAgIHByZWRpY2F0ZSA/IHRoaXMudG9TZXEoKS5maWx0ZXIocHJlZGljYXRlLCBjb250ZXh0KSA6IHRoaXNcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGNvdW50Qnk6IGZ1bmN0aW9uKGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb3VudEJ5RmFjdG9yeSh0aGlzLCBncm91cGVyLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIGRlZXBFcXVhbCh0aGlzLCBvdGhlcik7XG4gICAgfSxcblxuICAgIGVudHJ5U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpdGVyYWJsZSA9IHRoaXM7XG4gICAgICBpZiAoaXRlcmFibGUuX2NhY2hlKSB7XG4gICAgICAgIC8vIFdlIGNhY2hlIGFzIGFuIGVudHJpZXMgYXJyYXksIHNvIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgY2FjaGUhXG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlTZXEoaXRlcmFibGUuX2NhY2hlKTtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyaWVzU2VxdWVuY2UgPSBpdGVyYWJsZS50b1NlcSgpLm1hcChlbnRyeU1hcHBlcikudG9JbmRleGVkU2VxKCk7XG4gICAgICBlbnRyaWVzU2VxdWVuY2UuZnJvbUVudHJ5U2VxID0gZnVuY3Rpb24oKSAge3JldHVybiBpdGVyYWJsZS50b1NlcSgpfTtcbiAgICAgIHJldHVybiBlbnRyaWVzU2VxdWVuY2U7XG4gICAgfSxcblxuICAgIGZpbHRlck5vdDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBmaW5kTGFzdDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKS5maW5kKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpO1xuICAgIH0sXG5cbiAgICBmaXJzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kKHJldHVyblRydWUpO1xuICAgIH0sXG5cbiAgICBmbGF0TWFwOiBmdW5jdGlvbihtYXBwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0TWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpKTtcbiAgICB9LFxuXG4gICAgZmxhdHRlbjogZnVuY3Rpb24oZGVwdGgpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0dGVuRmFjdG9yeSh0aGlzLCBkZXB0aCwgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBmcm9tRW50cnlTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBGcm9tRW50cmllc1NlcXVlbmNlKHRoaXMpO1xuICAgIH0sXG5cbiAgICBnZXQ6IGZ1bmN0aW9uKHNlYXJjaEtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmQoZnVuY3Rpb24oXywga2V5KSAge3JldHVybiBpcyhrZXksIHNlYXJjaEtleSl9LCB1bmRlZmluZWQsIG5vdFNldFZhbHVlKTtcbiAgICB9LFxuXG4gICAgZ2V0SW46IGZ1bmN0aW9uKHNlYXJjaEtleVBhdGgsIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgbmVzdGVkID0gdGhpcztcbiAgICAgIC8vIE5vdGU6IGluIGFuIEVTNiBlbnZpcm9ubWVudCwgd2Ugd291bGQgcHJlZmVyOlxuICAgICAgLy8gZm9yICh2YXIga2V5IG9mIHNlYXJjaEtleVBhdGgpIHtcbiAgICAgIHZhciBpdGVyID0gZm9yY2VJdGVyYXRvcihzZWFyY2hLZXlQYXRoKTtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXIubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIHZhciBrZXkgPSBzdGVwLnZhbHVlO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWQgJiYgbmVzdGVkLmdldCA/IG5lc3RlZC5nZXQoa2V5LCBOT1RfU0VUKSA6IE5PVF9TRVQ7XG4gICAgICAgIGlmIChuZXN0ZWQgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXN0ZWQ7XG4gICAgfSxcblxuICAgIGdyb3VwQnk6IGZ1bmN0aW9uKGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBncm91cEJ5RmFjdG9yeSh0aGlzLCBncm91cGVyLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgaGFzOiBmdW5jdGlvbihzZWFyY2hLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChzZWFyY2hLZXksIE5PVF9TRVQpICE9PSBOT1RfU0VUO1xuICAgIH0sXG5cbiAgICBoYXNJbjogZnVuY3Rpb24oc2VhcmNoS2V5UGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW4oc2VhcmNoS2V5UGF0aCwgTk9UX1NFVCkgIT09IE5PVF9TRVQ7XG4gICAgfSxcblxuICAgIGlzU3Vic2V0OiBmdW5jdGlvbihpdGVyKSB7XG4gICAgICBpdGVyID0gdHlwZW9mIGl0ZXIuaW5jbHVkZXMgPT09ICdmdW5jdGlvbicgPyBpdGVyIDogSXRlcmFibGUoaXRlcik7XG4gICAgICByZXR1cm4gdGhpcy5ldmVyeShmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSl9KTtcbiAgICB9LFxuXG4gICAgaXNTdXBlcnNldDogZnVuY3Rpb24oaXRlcikge1xuICAgICAgaXRlciA9IHR5cGVvZiBpdGVyLmlzU3Vic2V0ID09PSAnZnVuY3Rpb24nID8gaXRlciA6IEl0ZXJhYmxlKGl0ZXIpO1xuICAgICAgcmV0dXJuIGl0ZXIuaXNTdWJzZXQodGhpcyk7XG4gICAgfSxcblxuICAgIGtleVNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcChrZXlNYXBwZXIpLnRvSW5kZXhlZFNlcSgpO1xuICAgIH0sXG5cbiAgICBsYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpcnN0KCk7XG4gICAgfSxcblxuICAgIG1heDogZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvcik7XG4gICAgfSxcblxuICAgIG1heEJ5OiBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcik7XG4gICAgfSxcblxuICAgIG1pbjogZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvciA/IG5lZyhjb21wYXJhdG9yKSA6IGRlZmF1bHROZWdDb21wYXJhdG9yKTtcbiAgICB9LFxuXG4gICAgbWluQnk6IGZ1bmN0aW9uKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvciA/IG5lZyhjb21wYXJhdG9yKSA6IGRlZmF1bHROZWdDb21wYXJhdG9yLCBtYXBwZXIpO1xuICAgIH0sXG5cbiAgICByZXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNsaWNlKDEpO1xuICAgIH0sXG5cbiAgICBza2lwOiBmdW5jdGlvbihhbW91bnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnNsaWNlKE1hdGgubWF4KDAsIGFtb3VudCkpO1xuICAgIH0sXG5cbiAgICBza2lwTGFzdDogZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgdGhpcy50b1NlcSgpLnJldmVyc2UoKS5za2lwKGFtb3VudCkucmV2ZXJzZSgpKTtcbiAgICB9LFxuXG4gICAgc2tpcFdoaWxlOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBza2lwV2hpbGVGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBza2lwVW50aWw6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2tpcFdoaWxlKG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgc29ydEJ5OiBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgICB9LFxuXG4gICAgdGFrZTogZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgwLCBNYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgICB9LFxuXG4gICAgdGFrZUxhc3Q6IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkudGFrZShhbW91bnQpLnJldmVyc2UoKSk7XG4gICAgfSxcblxuICAgIHRha2VXaGlsZTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgdGFrZVdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQpKTtcbiAgICB9LFxuXG4gICAgdGFrZVVudGlsOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2VXaGlsZShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIHZhbHVlU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvSW5kZXhlZFNlcSgpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBIYXNoYWJsZSBPYmplY3RcblxuICAgIGhhc2hDb2RlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faGFzaCB8fCAodGhpcy5fX2hhc2ggPSBoYXNoSXRlcmFibGUodGhpcykpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBJbnRlcm5hbFxuXG4gICAgLy8gYWJzdHJhY3QgX19pdGVyYXRlKGZuLCByZXZlcnNlKVxuXG4gICAgLy8gYWJzdHJhY3QgX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKVxuICB9KTtcblxuICAvLyB2YXIgSVNfSVRFUkFCTEVfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9JVEVSQUJMRV9fQEAnO1xuICAvLyB2YXIgSVNfS0VZRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9LRVlFRF9fQEAnO1xuICAvLyB2YXIgSVNfSU5ERVhFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lOREVYRURfX0BAJztcbiAgLy8gdmFyIElTX09SREVSRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCc7XG5cbiAgdmFyIEl0ZXJhYmxlUHJvdG90eXBlID0gSXRlcmFibGUucHJvdG90eXBlO1xuICBJdGVyYWJsZVByb3RvdHlwZVtJU19JVEVSQUJMRV9TRU5USU5FTF0gPSB0cnVlO1xuICBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gSXRlcmFibGVQcm90b3R5cGUudmFsdWVzO1xuICBJdGVyYWJsZVByb3RvdHlwZS5fX3RvSlMgPSBJdGVyYWJsZVByb3RvdHlwZS50b0FycmF5O1xuICBJdGVyYWJsZVByb3RvdHlwZS5fX3RvU3RyaW5nTWFwcGVyID0gcXVvdGVTdHJpbmc7XG4gIEl0ZXJhYmxlUHJvdG90eXBlLmluc3BlY3QgPVxuICBJdGVyYWJsZVByb3RvdHlwZS50b1NvdXJjZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy50b1N0cmluZygpOyB9O1xuICBJdGVyYWJsZVByb3RvdHlwZS5jaGFpbiA9IEl0ZXJhYmxlUHJvdG90eXBlLmZsYXRNYXA7XG5cbiAgLy8gVGVtcG9yYXJ5IHdhcm5pbmcgYWJvdXQgdXNpbmcgbGVuZ3RoXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJdGVyYWJsZVByb3RvdHlwZSwgJ2xlbmd0aCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFJdGVyYWJsZS5ub0xlbmd0aFdhcm5pbmcpIHtcbiAgICAgICAgICAgIHZhciBzdGFjaztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFjay5pbmRleE9mKCdfd3JhcE9iamVjdCcpID09PSAtMSkge1xuICAgICAgICAgICAgICBjb25zb2xlICYmIGNvbnNvbGUud2FybiAmJiBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgJ2l0ZXJhYmxlLmxlbmd0aCBoYXMgYmVlbiBkZXByZWNhdGVkLCAnK1xuICAgICAgICAgICAgICAgICd1c2UgaXRlcmFibGUuc2l6ZSBvciBpdGVyYWJsZS5jb3VudCgpLiAnK1xuICAgICAgICAgICAgICAgICdUaGlzIHdhcm5pbmcgd2lsbCBiZWNvbWUgYSBzaWxlbnQgZXJyb3IgaW4gYSBmdXR1cmUgdmVyc2lvbi4gJyArXG4gICAgICAgICAgICAgICAgc3RhY2tcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0pKCk7XG5cblxuXG4gIG1peGluKEtleWVkSXRlcmFibGUsIHtcblxuICAgIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gICAgZmxpcDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmxpcEZhY3RvcnkodGhpcykpO1xuICAgIH0sXG5cbiAgICBmaW5kS2V5OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMF07XG4gICAgfSxcblxuICAgIGZpbmRMYXN0S2V5OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpbmRLZXkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAga2V5T2Y6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kS2V5KGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpfSk7XG4gICAgfSxcblxuICAgIGxhc3RLZXlPZjogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmRMYXN0S2V5KGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpfSk7XG4gICAgfSxcblxuICAgIG1hcEVudHJpZXM6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsXG4gICAgICAgIHRoaXMudG9TZXEoKS5tYXAoXG4gICAgICAgICAgZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gbWFwcGVyLmNhbGwoY29udGV4dCwgW2ssIHZdLCBpdGVyYXRpb25zKyssIHRoaXMkMCl9XG4gICAgICAgICkuZnJvbUVudHJ5U2VxKClcbiAgICAgICk7XG4gICAgfSxcblxuICAgIG1hcEtleXM6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsXG4gICAgICAgIHRoaXMudG9TZXEoKS5mbGlwKCkubWFwKFxuICAgICAgICAgIGZ1bmN0aW9uKGssIHYpICB7cmV0dXJuIG1hcHBlci5jYWxsKGNvbnRleHQsIGssIHYsIHRoaXMkMCl9XG4gICAgICAgICkuZmxpcCgpXG4gICAgICApO1xuICAgIH0sXG5cbiAgfSk7XG5cbiAgdmFyIEtleWVkSXRlcmFibGVQcm90b3R5cGUgPSBLZXllZEl0ZXJhYmxlLnByb3RvdHlwZTtcbiAgS2V5ZWRJdGVyYWJsZVByb3RvdHlwZVtJU19LRVlFRF9TRU5USU5FTF0gPSB0cnVlO1xuICBLZXllZEl0ZXJhYmxlUHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBJdGVyYWJsZVByb3RvdHlwZS5lbnRyaWVzO1xuICBLZXllZEl0ZXJhYmxlUHJvdG90eXBlLl9fdG9KUyA9IEl0ZXJhYmxlUHJvdG90eXBlLnRvT2JqZWN0O1xuICBLZXllZEl0ZXJhYmxlUHJvdG90eXBlLl9fdG9TdHJpbmdNYXBwZXIgPSBmdW5jdGlvbih2LCBrKSAge3JldHVybiBKU09OLnN0cmluZ2lmeShrKSArICc6ICcgKyBxdW90ZVN0cmluZyh2KX07XG5cblxuXG4gIG1peGluKEluZGV4ZWRJdGVyYWJsZSwge1xuXG4gICAgLy8gIyMjIENvbnZlcnNpb24gdG8gb3RoZXIgdHlwZXNcblxuICAgIHRvS2V5ZWRTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBUb0tleWVkU2VxdWVuY2UodGhpcywgZmFsc2UpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICAgIGZpbHRlcjogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmlsdGVyRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIGZpbmRJbmRleDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGVudHJ5ID8gZW50cnlbMF0gOiAtMTtcbiAgICB9LFxuXG4gICAgaW5kZXhPZjogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLnRvS2V5ZWRTZXEoKS5rZXlPZihzZWFyY2hWYWx1ZSk7XG4gICAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgPyAtMSA6IGtleTtcbiAgICB9LFxuXG4gICAgbGFzdEluZGV4T2Y6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLnJldmVyc2UoKS5pbmRleE9mKHNlYXJjaFZhbHVlKTtcbiAgICB9LFxuXG4gICAgcmV2ZXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgcmV2ZXJzZUZhY3RvcnkodGhpcywgZmFsc2UpKTtcbiAgICB9LFxuXG4gICAgc2xpY2U6IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBzbGljZUZhY3RvcnkodGhpcywgYmVnaW4sIGVuZCwgZmFsc2UpKTtcbiAgICB9LFxuXG4gICAgc3BsaWNlOiBmdW5jdGlvbihpbmRleCwgcmVtb3ZlTnVtIC8qLCAuLi52YWx1ZXMqLykge1xuICAgICAgdmFyIG51bUFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgcmVtb3ZlTnVtID0gTWF0aC5tYXgocmVtb3ZlTnVtIHwgMCwgMCk7XG4gICAgICBpZiAobnVtQXJncyA9PT0gMCB8fCAobnVtQXJncyA9PT0gMiAmJiAhcmVtb3ZlTnVtKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGluZGV4ID0gcmVzb2x2ZUJlZ2luKGluZGV4LCB0aGlzLnNpemUpO1xuICAgICAgdmFyIHNwbGljZWQgPSB0aGlzLnNsaWNlKDAsIGluZGV4KTtcbiAgICAgIHJldHVybiByZWlmeShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgbnVtQXJncyA9PT0gMSA/XG4gICAgICAgICAgc3BsaWNlZCA6XG4gICAgICAgICAgc3BsaWNlZC5jb25jYXQoYXJyQ29weShhcmd1bWVudHMsIDIpLCB0aGlzLnNsaWNlKGluZGV4ICsgcmVtb3ZlTnVtKSlcbiAgICAgICk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIE1vcmUgY29sbGVjdGlvbiBtZXRob2RzXG5cbiAgICBmaW5kTGFzdEluZGV4OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLnRvS2V5ZWRTZXEoKS5maW5kTGFzdEtleShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gLTEgOiBrZXk7XG4gICAgfSxcblxuICAgIGZpcnN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgwKTtcbiAgICB9LFxuXG4gICAgZmxhdHRlbjogZnVuY3Rpb24oZGVwdGgpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0dGVuRmFjdG9yeSh0aGlzLCBkZXB0aCwgZmFsc2UpKTtcbiAgICB9LFxuXG4gICAgZ2V0OiBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICAgIHJldHVybiAoaW5kZXggPCAwIHx8ICh0aGlzLnNpemUgPT09IEluZmluaXR5IHx8XG4gICAgICAgICAgKHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGluZGV4ID4gdGhpcy5zaXplKSkpID9cbiAgICAgICAgbm90U2V0VmFsdWUgOlxuICAgICAgICB0aGlzLmZpbmQoZnVuY3Rpb24oXywga2V5KSAge3JldHVybiBrZXkgPT09IGluZGV4fSwgdW5kZWZpbmVkLCBub3RTZXRWYWx1ZSk7XG4gICAgfSxcblxuICAgIGhhczogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICAgIHJldHVybiBpbmRleCA+PSAwICYmICh0aGlzLnNpemUgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgIHRoaXMuc2l6ZSA9PT0gSW5maW5pdHkgfHwgaW5kZXggPCB0aGlzLnNpemUgOlxuICAgICAgICB0aGlzLmluZGV4T2YoaW5kZXgpICE9PSAtMVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgaW50ZXJwb3NlOiBmdW5jdGlvbihzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBpbnRlcnBvc2VGYWN0b3J5KHRoaXMsIHNlcGFyYXRvcikpO1xuICAgIH0sXG5cbiAgICBpbnRlcmxlYXZlOiBmdW5jdGlvbigvKi4uLml0ZXJhYmxlcyovKSB7XG4gICAgICB2YXIgaXRlcmFibGVzID0gW3RoaXNdLmNvbmNhdChhcnJDb3B5KGFyZ3VtZW50cykpO1xuICAgICAgdmFyIHppcHBlZCA9IHppcFdpdGhGYWN0b3J5KHRoaXMudG9TZXEoKSwgSW5kZXhlZFNlcS5vZiwgaXRlcmFibGVzKTtcbiAgICAgIHZhciBpbnRlcmxlYXZlZCA9IHppcHBlZC5mbGF0dGVuKHRydWUpO1xuICAgICAgaWYgKHppcHBlZC5zaXplKSB7XG4gICAgICAgIGludGVybGVhdmVkLnNpemUgPSB6aXBwZWQuc2l6ZSAqIGl0ZXJhYmxlcy5sZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgaW50ZXJsZWF2ZWQpO1xuICAgIH0sXG5cbiAgICBsYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgtMSk7XG4gICAgfSxcblxuICAgIHNraXBXaGlsZTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc2tpcFdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIHppcDogZnVuY3Rpb24oLyosIC4uLml0ZXJhYmxlcyAqLykge1xuICAgICAgdmFyIGl0ZXJhYmxlcyA9IFt0aGlzXS5jb25jYXQoYXJyQ29weShhcmd1bWVudHMpKTtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCB6aXBXaXRoRmFjdG9yeSh0aGlzLCBkZWZhdWx0WmlwcGVyLCBpdGVyYWJsZXMpKTtcbiAgICB9LFxuXG4gICAgemlwV2l0aDogZnVuY3Rpb24oemlwcGVyLyosIC4uLml0ZXJhYmxlcyAqLykge1xuICAgICAgdmFyIGl0ZXJhYmxlcyA9IGFyckNvcHkoYXJndW1lbnRzKTtcbiAgICAgIGl0ZXJhYmxlc1swXSA9IHRoaXM7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgemlwV2l0aEZhY3RvcnkodGhpcywgemlwcGVyLCBpdGVyYWJsZXMpKTtcbiAgICB9LFxuXG4gIH0pO1xuXG4gIEluZGV4ZWRJdGVyYWJsZS5wcm90b3R5cGVbSVNfSU5ERVhFRF9TRU5USU5FTF0gPSB0cnVlO1xuICBJbmRleGVkSXRlcmFibGUucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxuXG5cbiAgbWl4aW4oU2V0SXRlcmFibGUsIHtcblxuICAgIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICAgIGdldDogZnVuY3Rpb24odmFsdWUsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXModmFsdWUpID8gdmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgICB9LFxuXG4gICAgaW5jbHVkZXM6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXModmFsdWUpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gICAga2V5U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlU2VxKCk7XG4gICAgfSxcblxuICB9KTtcblxuICBTZXRJdGVyYWJsZS5wcm90b3R5cGUuaGFzID0gSXRlcmFibGVQcm90b3R5cGUuaW5jbHVkZXM7XG5cblxuICAvLyBNaXhpbiBzdWJjbGFzc2VzXG5cbiAgbWl4aW4oS2V5ZWRTZXEsIEtleWVkSXRlcmFibGUucHJvdG90eXBlKTtcbiAgbWl4aW4oSW5kZXhlZFNlcSwgSW5kZXhlZEl0ZXJhYmxlLnByb3RvdHlwZSk7XG4gIG1peGluKFNldFNlcSwgU2V0SXRlcmFibGUucHJvdG90eXBlKTtcblxuICBtaXhpbihLZXllZENvbGxlY3Rpb24sIEtleWVkSXRlcmFibGUucHJvdG90eXBlKTtcbiAgbWl4aW4oSW5kZXhlZENvbGxlY3Rpb24sIEluZGV4ZWRJdGVyYWJsZS5wcm90b3R5cGUpO1xuICBtaXhpbihTZXRDb2xsZWN0aW9uLCBTZXRJdGVyYWJsZS5wcm90b3R5cGUpO1xuXG5cbiAgLy8gI3ByYWdtYSBIZWxwZXIgZnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24ga2V5TWFwcGVyKHYsIGspIHtcbiAgICByZXR1cm4gaztcbiAgfVxuXG4gIGZ1bmN0aW9uIGVudHJ5TWFwcGVyKHYsIGspIHtcbiAgICByZXR1cm4gW2ssIHZdO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90KHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbmVnKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAtcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcXVvdGVTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdFppcHBlcigpIHtcbiAgICByZXR1cm4gYXJyQ29weShhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdE5lZ0NvbXBhcmF0b3IoYSwgYikge1xuICAgIHJldHVybiBhIDwgYiA/IDEgOiBhID4gYiA/IC0xIDogMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc2hJdGVyYWJsZShpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZS5zaXplID09PSBJbmZpbml0eSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBvcmRlcmVkID0gaXNPcmRlcmVkKGl0ZXJhYmxlKTtcbiAgICB2YXIga2V5ZWQgPSBpc0tleWVkKGl0ZXJhYmxlKTtcbiAgICB2YXIgaCA9IG9yZGVyZWQgPyAxIDogMDtcbiAgICB2YXIgc2l6ZSA9IGl0ZXJhYmxlLl9faXRlcmF0ZShcbiAgICAgIGtleWVkID9cbiAgICAgICAgb3JkZXJlZCA/XG4gICAgICAgICAgZnVuY3Rpb24odiwgaykgIHsgaCA9IDMxICogaCArIGhhc2hNZXJnZShoYXNoKHYpLCBoYXNoKGspKSB8IDA7IH0gOlxuICAgICAgICAgIGZ1bmN0aW9uKHYsIGspICB7IGggPSBoICsgaGFzaE1lcmdlKGhhc2godiksIGhhc2goaykpIHwgMDsgfSA6XG4gICAgICAgIG9yZGVyZWQgP1xuICAgICAgICAgIGZ1bmN0aW9uKHYgKSB7IGggPSAzMSAqIGggKyBoYXNoKHYpIHwgMDsgfSA6XG4gICAgICAgICAgZnVuY3Rpb24odiApIHsgaCA9IGggKyBoYXNoKHYpIHwgMDsgfVxuICAgICk7XG4gICAgcmV0dXJuIG11cm11ckhhc2hPZlNpemUoc2l6ZSwgaCk7XG4gIH1cblxuICBmdW5jdGlvbiBtdXJtdXJIYXNoT2ZTaXplKHNpemUsIGgpIHtcbiAgICBoID0gc3JjX01hdGhfX2ltdWwoaCwgMHhDQzlFMkQ1MSk7XG4gICAgaCA9IHNyY19NYXRoX19pbXVsKGggPDwgMTUgfCBoID4+PiAtMTUsIDB4MUI4NzM1OTMpO1xuICAgIGggPSBzcmNfTWF0aF9faW11bChoIDw8IDEzIHwgaCA+Pj4gLTEzLCA1KTtcbiAgICBoID0gKGggKyAweEU2NTQ2QjY0IHwgMCkgXiBzaXplO1xuICAgIGggPSBzcmNfTWF0aF9faW11bChoIF4gaCA+Pj4gMTYsIDB4ODVFQkNBNkIpO1xuICAgIGggPSBzcmNfTWF0aF9faW11bChoIF4gaCA+Pj4gMTMsIDB4QzJCMkFFMzUpO1xuICAgIGggPSBzbWkoaCBeIGggPj4+IDE2KTtcbiAgICByZXR1cm4gaDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc2hNZXJnZShhLCBiKSB7XG4gICAgcmV0dXJuIGEgXiBiICsgMHg5RTM3NzlCOSArIChhIDw8IDYpICsgKGEgPj4gMikgfCAwOyAvLyBpbnRcbiAgfVxuXG4gIHZhciBJbW11dGFibGUgPSB7XG5cbiAgICBJdGVyYWJsZTogSXRlcmFibGUsXG5cbiAgICBTZXE6IFNlcSxcbiAgICBDb2xsZWN0aW9uOiBDb2xsZWN0aW9uLFxuICAgIE1hcDogc3JjX01hcF9fTWFwLFxuICAgIE9yZGVyZWRNYXA6IE9yZGVyZWRNYXAsXG4gICAgTGlzdDogTGlzdCxcbiAgICBTdGFjazogU3RhY2ssXG4gICAgU2V0OiBzcmNfU2V0X19TZXQsXG4gICAgT3JkZXJlZFNldDogT3JkZXJlZFNldCxcblxuICAgIFJlY29yZDogUmVjb3JkLFxuICAgIFJhbmdlOiBSYW5nZSxcbiAgICBSZXBlYXQ6IFJlcGVhdCxcblxuICAgIGlzOiBpcyxcbiAgICBmcm9tSlM6IGZyb21KUyxcblxuICB9O1xuXG4gIHJldHVybiBJbW11dGFibGU7XG5cbn0pKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5c1wiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2xcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgXCJkZWZhdWx0XCI6IG9ialxuICB9O1xufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqO1xufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pc0l0ZXJhYmxlID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9pcy1pdGVyYWJsZVwiKVtcImRlZmF1bHRcIl07XG5cbnZhciBfZ2V0SXRlcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvclwiKVtcImRlZmF1bHRcIl07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGFyciwgaSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgcmV0dXJuIGFycjtcbiAgfSBlbHNlIGlmIChfaXNJdGVyYWJsZShPYmplY3QoYXJyKSkpIHtcbiAgICB2YXIgX2FyciA9IFtdO1xuICAgIHZhciBfbiA9IHRydWU7XG4gICAgdmFyIF9kID0gZmFsc2U7XG4gICAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pID0gX2dldEl0ZXJhdG9yKGFyciksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSB0cnVlO1xuICAgICAgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfYXJyO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xuICB9XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX0FycmF5JGZyb20gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb21cIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKSA/IGFyciA6IF9BcnJheSRmcm9tKGFycik7XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX0FycmF5JGZyb20gPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb21cIilbXCJkZWZhdWx0XCJdO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX0FycmF5JGZyb20oYXJyKTtcbiAgfVxufTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZyb20nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kJykuY29yZS5BcnJheS5mcm9tOyIsInJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2NvcmUuaXRlci1oZWxwZXJzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvJCcpLmNvcmUuZ2V0SXRlcmF0b3I7IiwicmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvY29yZS5pdGVyLWhlbHBlcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy8kJykuY29yZS5pc0l0ZXJhYmxlOyIsInZhciAkID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZShQLCBEKXtcbiAgcmV0dXJuICQuY3JlYXRlKFAsIEQpO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc3RhdGljcy1hY2NlcHQtcHJpbWl0aXZlcycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKS5jb3JlLk9iamVjdC5rZXlzOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKS5jb3JlLlN5bWJvbDsiLCJ2YXIgJCA9IHJlcXVpcmUoJy4vJCcpO1xuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbXNnMSwgbXNnMil7XG4gIGlmKCFjb25kaXRpb24pdGhyb3cgVHlwZUVycm9yKG1zZzIgPyBtc2cxICsgbXNnMiA6IG1zZzEpO1xufVxuYXNzZXJ0LmRlZiA9ICQuYXNzZXJ0RGVmaW5lZDtcbmFzc2VydC5mbiA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoISQuaXNGdW5jdGlvbihpdCkpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbmFzc2VydC5vYmogPSBmdW5jdGlvbihpdCl7XG4gIGlmKCEkLmlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG5hc3NlcnQuaW5zdCA9IGZ1bmN0aW9uKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSl7XG4gIGlmKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgVHlwZUVycm9yKG5hbWUgKyBcIjogdXNlIHRoZSAnbmV3JyBvcGVyYXRvciFcIik7XG4gIHJldHVybiBpdDtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGFzc2VydDsiLCJ2YXIgJCAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIFRBRyAgICAgID0gcmVxdWlyZSgnLi8kLndrcycpKCd0b1N0cmluZ1RhZycpXG4gICwgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcbmZ1bmN0aW9uIGNvZihpdCl7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59XG5jb2YuY2xhc3NvZiA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIE8sIFQ7XG4gIHJldHVybiBpdCA9PSB1bmRlZmluZWQgPyBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiAnTnVsbCdcbiAgICA6IHR5cGVvZiAoVCA9IChPID0gT2JqZWN0KGl0KSlbVEFHXSkgPT0gJ3N0cmluZycgPyBUIDogY29mKE8pO1xufTtcbmNvZi5zZXQgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcbiAgaWYoaXQgJiYgISQuaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKSQuaGlkZShpdCwgVEFHLCB0YWcpO1xufTtcbm1vZHVsZS5leHBvcnRzID0gY29mOyIsIi8vIE9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFzc2VydEZ1bmN0aW9uID0gcmVxdWlyZSgnLi8kLmFzc2VydCcpLmZuO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcbiAgYXNzZXJ0RnVuY3Rpb24oZm4pO1xuICBpZih+bGVuZ3RoICYmIHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG4gIHN3aXRjaChsZW5ndGgpe1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9IHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgIH07XG59OyIsInZhciAkICAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCBnbG9iYWwgICAgID0gJC5nXG4gICwgY29yZSAgICAgICA9ICQuY29yZVxuICAsIGlzRnVuY3Rpb24gPSAkLmlzRnVuY3Rpb247XG5mdW5jdGlvbiBjdHgoZm4sIHRoYXQpe1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cbi8vIHR5cGUgYml0bWFwXG4kZGVmLkYgPSAxOyAgLy8gZm9yY2VkXG4kZGVmLkcgPSAyOyAgLy8gZ2xvYmFsXG4kZGVmLlMgPSA0OyAgLy8gc3RhdGljXG4kZGVmLlAgPSA4OyAgLy8gcHJvdG9cbiRkZWYuQiA9IDE2OyAvLyBiaW5kXG4kZGVmLlcgPSAzMjsgLy8gd3JhcFxuZnVuY3Rpb24gJGRlZih0eXBlLCBuYW1lLCBzb3VyY2Upe1xuICB2YXIga2V5LCBvd24sIG91dCwgZXhwXG4gICAgLCBpc0dsb2JhbCA9IHR5cGUgJiAkZGVmLkdcbiAgICAsIGlzUHJvdG8gID0gdHlwZSAmICRkZWYuUFxuICAgICwgdGFyZ2V0ICAgPSBpc0dsb2JhbCA/IGdsb2JhbCA6IHR5cGUgJiAkZGVmLlNcbiAgICAgICAgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KS5wcm90b3R5cGVcbiAgICAsIGV4cG9ydHMgID0gaXNHbG9iYWwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgaWYoaXNHbG9iYWwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICEodHlwZSAmICRkZWYuRikgJiYgdGFyZ2V0ICYmIGtleSBpbiB0YXJnZXQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBpZihpc0dsb2JhbCAmJiAhaXNGdW5jdGlvbih0YXJnZXRba2V5XSkpZXhwID0gc291cmNlW2tleV07XG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICBlbHNlIGlmKHR5cGUgJiAkZGVmLkIgJiYgb3duKWV4cCA9IGN0eChvdXQsIGdsb2JhbCk7XG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICBlbHNlIGlmKHR5cGUgJiAkZGVmLlcgJiYgdGFyZ2V0W2tleV0gPT0gb3V0KSFmdW5jdGlvbihDKXtcbiAgICAgIGV4cCA9IGZ1bmN0aW9uKHBhcmFtKXtcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBDID8gbmV3IEMocGFyYW0pIDogQyhwYXJhbSk7XG4gICAgICB9O1xuICAgICAgZXhwLnByb3RvdHlwZSA9IEMucHJvdG90eXBlO1xuICAgIH0ob3V0KTtcbiAgICBlbHNlIGV4cCA9IGlzUHJvdG8gJiYgaXNGdW5jdGlvbihvdXQpID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0XG4gICAgZXhwb3J0c1trZXldID0gZXhwO1xuICAgIGlmKGlzUHJvdG8pKGV4cG9ydHMucHJvdG90eXBlIHx8IChleHBvcnRzLnByb3RvdHlwZSA9IHt9KSlba2V5XSA9IG91dDtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSAkZGVmOyIsInZhciAkID0gcmVxdWlyZSgnLi8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIGtleXMgICAgICAgPSAkLmdldEtleXMoaXQpXG4gICAgLCBnZXREZXNjICAgID0gJC5nZXREZXNjXG4gICAgLCBnZXRTeW1ib2xzID0gJC5nZXRTeW1ib2xzO1xuICBpZihnZXRTeW1ib2xzKSQuZWFjaC5jYWxsKGdldFN5bWJvbHMoaXQpLCBmdW5jdGlvbihrZXkpe1xuICAgIGlmKGdldERlc2MoaXQsIGtleSkuZW51bWVyYWJsZSlrZXlzLnB1c2goa2V5KTtcbiAgfSk7XG4gIHJldHVybiBrZXlzO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCQpe1xuICAkLkZXICAgPSBmYWxzZTtcbiAgJC5wYXRoID0gJC5jb3JlO1xuICByZXR1cm4gJDtcbn07IiwiLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xyXG52YXIgJCA9IHJlcXVpcmUoJy4vJCcpXHJcbiAgLCB0b1N0cmluZyA9IHt9LnRvU3RyaW5nXHJcbiAgLCBnZXROYW1lcyA9ICQuZ2V0TmFtZXM7XHJcblxyXG52YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXHJcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XHJcblxyXG5mdW5jdGlvbiBnZXRXaW5kb3dOYW1lcyhpdCl7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBnZXROYW1lcyhpdCk7XHJcbiAgfSBjYXRjaChlKXtcclxuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XHJcbiAgaWYod2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScpcmV0dXJuIGdldFdpbmRvd05hbWVzKGl0KTtcclxuICByZXR1cm4gZ2V0TmFtZXMoJC50b09iamVjdChpdCkpO1xyXG59OyIsInZhciBhc3NlcnRPYmplY3QgPSByZXF1aXJlKCcuLyQuYXNzZXJ0Jykub2JqO1xuZnVuY3Rpb24gY2xvc2UoaXRlcmF0b3Ipe1xuICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICBpZihyZXQgIT09IHVuZGVmaW5lZClhc3NlcnRPYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbn1cbmZ1bmN0aW9uIGNhbGwoaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhc3NlcnRPYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIH0gY2F0Y2goZSl7XG4gICAgY2xvc2UoaXRlcmF0b3IpO1xuICAgIHRocm93IGU7XG4gIH1cbn1cbmNhbGwuY2xvc2UgPSBjbG9zZTtcbm1vZHVsZS5leHBvcnRzID0gY2FsbDsiLCJ2YXIgJGRlZiAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgJHJlZGVmICAgICAgICAgID0gcmVxdWlyZSgnLi8kLnJlZGVmJylcbiAgLCAkICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIGNvZiAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5jb2YnKVxuICAsICRpdGVyICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5pdGVyJylcbiAgLCBTWU1CT0xfSVRFUkFUT1IgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBGRl9JVEVSQVRPUiAgICAgPSAnQEBpdGVyYXRvcidcbiAgLCBLRVlTICAgICAgICAgICAgPSAna2V5cydcbiAgLCBWQUxVRVMgICAgICAgICAgPSAndmFsdWVzJ1xuICAsIEl0ZXJhdG9ycyAgICAgICA9ICRpdGVyLkl0ZXJhdG9ycztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0Upe1xuICAkaXRlci5jcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICBmdW5jdGlvbiBjcmVhdGVNZXRob2Qoa2luZCl7XG4gICAgZnVuY3Rpb24gJCQodGhhdCl7XG4gICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoYXQsIGtpbmQpO1xuICAgIH1cbiAgICBzd2l0Y2goa2luZCl7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCl7IHJldHVybiAkJCh0aGlzKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiAkJCh0aGlzKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiAkJCh0aGlzKTsgfTtcbiAgfVxuICB2YXIgVEFHICAgICAgPSBOQU1FICsgJyBJdGVyYXRvcidcbiAgICAsIHByb3RvICAgID0gQmFzZS5wcm90b3R5cGVcbiAgICAsIF9uYXRpdmUgID0gcHJvdG9bU1lNQk9MX0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXVxuICAgICwgX2RlZmF1bHQgPSBfbmF0aXZlIHx8IGNyZWF0ZU1ldGhvZChERUZBVUxUKVxuICAgICwgbWV0aG9kcywga2V5O1xuICAvLyBGaXggbmF0aXZlXG4gIGlmKF9uYXRpdmUpe1xuICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9ICQuZ2V0UHJvdG8oX2RlZmF1bHQuY2FsbChuZXcgQmFzZSkpO1xuICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICBjb2Yuc2V0KEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgIC8vIEZGIGZpeFxuICAgIGlmKCQuRlcgJiYgJC5oYXMocHJvdG8sIEZGX0lURVJBVE9SKSkkaXRlci5zZXQoSXRlcmF0b3JQcm90b3R5cGUsICQudGhhdCk7XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmKCQuRlcgfHwgRk9SQ0UpJGl0ZXIuc2V0KHByb3RvLCBfZGVmYXVsdCk7XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gX2RlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddICA9ICQudGhhdDtcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIGtleXM6ICAgIElTX1NFVCAgICAgICAgICAgID8gX2RlZmF1bHQgOiBjcmVhdGVNZXRob2QoS0VZUyksXG4gICAgICB2YWx1ZXM6ICBERUZBVUxUID09IFZBTFVFUyA/IF9kZWZhdWx0IDogY3JlYXRlTWV0aG9kKFZBTFVFUyksXG4gICAgICBlbnRyaWVzOiBERUZBVUxUICE9IFZBTFVFUyA/IF9kZWZhdWx0IDogY3JlYXRlTWV0aG9kKCdlbnRyaWVzJylcbiAgICB9O1xuICAgIGlmKEZPUkNFKWZvcihrZXkgaW4gbWV0aG9kcyl7XG4gICAgICBpZighKGtleSBpbiBwcm90bykpJHJlZGVmKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRkZWYoJGRlZi5QICsgJGRlZi5GICogJGl0ZXIuQlVHR1ksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG59OyIsInZhciBTWU1CT0xfSVRFUkFUT1IgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBTQUZFX0NMT1NJTkcgICAgPSBmYWxzZTtcbnRyeSB7XG4gIHZhciByaXRlciA9IFs3XVtTWU1CT0xfSVRFUkFUT1JdKCk7XG4gIHJpdGVyWydyZXR1cm4nXSA9IGZ1bmN0aW9uKCl7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uKCl7IHRocm93IDI7IH0pO1xufSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjKXtcbiAgaWYoIVNBRkVfQ0xPU0lORylyZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciAgPSBbN11cbiAgICAgICwgaXRlciA9IGFycltTWU1CT0xfSVRFUkFUT1JdKCk7XG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKXsgc2FmZSA9IHRydWU7IH07XG4gICAgYXJyW1NZTUJPTF9JVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciAkICAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgY29mICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuY29mJylcbiAgLCBjbGFzc29mICAgICAgICAgICA9IGNvZi5jbGFzc29mXG4gICwgYXNzZXJ0ICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuYXNzZXJ0JylcbiAgLCBhc3NlcnRPYmplY3QgICAgICA9IGFzc2VydC5vYmpcbiAgLCBTWU1CT0xfSVRFUkFUT1IgICA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKVxuICAsIEZGX0lURVJBVE9SICAgICAgID0gJ0BAaXRlcmF0b3InXG4gICwgSXRlcmF0b3JzICAgICAgICAgPSByZXF1aXJlKCcuLyQuc2hhcmVkJykoJ2l0ZXJhdG9ycycpXG4gICwgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5zZXRJdGVyYXRvcihJdGVyYXRvclByb3RvdHlwZSwgJC50aGF0KTtcbmZ1bmN0aW9uIHNldEl0ZXJhdG9yKE8sIHZhbHVlKXtcbiAgJC5oaWRlKE8sIFNZTUJPTF9JVEVSQVRPUiwgdmFsdWUpO1xuICAvLyBBZGQgaXRlcmF0b3IgZm9yIEZGIGl0ZXJhdG9yIHByb3RvY29sXG4gIGlmKEZGX0lURVJBVE9SIGluIFtdKSQuaGlkZShPLCBGRl9JVEVSQVRPUiwgdmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICBCVUdHWTogJ2tleXMnIGluIFtdICYmICEoJ25leHQnIGluIFtdLmtleXMoKSksXG4gIEl0ZXJhdG9yczogSXRlcmF0b3JzLFxuICBzdGVwOiBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG4gICAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG4gIH0sXG4gIGlzOiBmdW5jdGlvbihpdCl7XG4gICAgdmFyIE8gICAgICA9IE9iamVjdChpdClcbiAgICAgICwgU3ltYm9sID0gJC5nLlN5bWJvbDtcbiAgICByZXR1cm4gKFN5bWJvbCAmJiBTeW1ib2wuaXRlcmF0b3IgfHwgRkZfSVRFUkFUT1IpIGluIE9cbiAgICAgIHx8IFNZTUJPTF9JVEVSQVRPUiBpbiBPXG4gICAgICB8fCAkLmhhcyhJdGVyYXRvcnMsIGNsYXNzb2YoTykpO1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uKGl0KXtcbiAgICB2YXIgU3ltYm9sID0gJC5nLlN5bWJvbFxuICAgICAgLCBnZXRJdGVyO1xuICAgIGlmKGl0ICE9IHVuZGVmaW5lZCl7XG4gICAgICBnZXRJdGVyID0gaXRbU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvciB8fCBGRl9JVEVSQVRPUl1cbiAgICAgICAgfHwgaXRbU1lNQk9MX0lURVJBVE9SXVxuICAgICAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xuICAgIH1cbiAgICBhc3NlcnQoJC5pc0Z1bmN0aW9uKGdldEl0ZXIpLCBpdCwgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gICAgcmV0dXJuIGFzc2VydE9iamVjdChnZXRJdGVyLmNhbGwoaXQpKTtcbiAgfSxcbiAgc2V0OiBzZXRJdGVyYXRvcixcbiAgY3JlYXRlOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCwgcHJvdG8pe1xuICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9ICQuY3JlYXRlKHByb3RvIHx8IEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogJC5kZXNjKDEsIG5leHQpfSk7XG4gICAgY29mLnNldChDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbiAgfVxufTsiLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKVxuICAsIGNvcmUgICA9IHt9XG4gICwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAgLCBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5XG4gICwgY2VpbCAgPSBNYXRoLmNlaWxcbiAgLCBmbG9vciA9IE1hdGguZmxvb3JcbiAgLCBtYXggICA9IE1hdGgubWF4XG4gICwgbWluICAgPSBNYXRoLm1pbjtcbi8vIFRoZSBlbmdpbmUgd29ya3MgZmluZSB3aXRoIGRlc2NyaXB0b3JzPyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5LlxudmFyIERFU0MgPSAhIWZ1bmN0aW9uKCl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiAyOyB9fSkuYSA9PSAyO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG59KCk7XG52YXIgaGlkZSA9IGNyZWF0ZURlZmluZXIoMSk7XG4vLyA3LjEuNCBUb0ludGVnZXJcbmZ1bmN0aW9uIHRvSW50ZWdlcihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufVxuZnVuY3Rpb24gZGVzYyhiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59XG5mdW5jdGlvbiBzaW1wbGVTZXQob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlZmluZXIoYml0bWFwKXtcbiAgcmV0dXJuIERFU0MgPyBmdW5jdGlvbihvYmplY3QsIGtleSwgdmFsdWUpe1xuICAgIHJldHVybiAkLnNldERlc2Mob2JqZWN0LCBrZXksIGRlc2MoYml0bWFwLCB2YWx1ZSkpO1xuICB9IDogc2ltcGxlU2V0O1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChpdCl7XG4gIHJldHVybiBpdCAhPT0gbnVsbCAmJiAodHlwZW9mIGl0ID09ICdvYmplY3QnIHx8IHR5cGVvZiBpdCA9PSAnZnVuY3Rpb24nKTtcbn1cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBhc3NlcnREZWZpbmVkKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufVxuXG52YXIgJCA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kLmZ3Jykoe1xuICBnOiBnbG9iYWwsXG4gIGNvcmU6IGNvcmUsXG4gIGh0bWw6IGdsb2JhbC5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2NvcmUtanMtaXNvYmplY3RcbiAgaXNPYmplY3Q6ICAgaXNPYmplY3QsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIHRoYXQ6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIC8vIDcuMS40IFRvSW50ZWdlclxuICB0b0ludGVnZXI6IHRvSW50ZWdlcixcbiAgLy8gNy4xLjE1IFRvTGVuZ3RoXG4gIHRvTGVuZ3RoOiBmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbiAgfSxcbiAgdG9JbmRleDogZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gICAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICAgIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xuICB9LFxuICBoYXM6IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xuICB9LFxuICBjcmVhdGU6ICAgICBPYmplY3QuY3JlYXRlLFxuICBnZXRQcm90bzogICBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gIERFU0M6ICAgICAgIERFU0MsXG4gIGRlc2M6ICAgICAgIGRlc2MsXG4gIGdldERlc2M6ICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIHNldERlc2M6ICAgIGRlZmluZVByb3BlcnR5LFxuICBzZXREZXNjczogICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyxcbiAgZ2V0S2V5czogICAgT2JqZWN0LmtleXMsXG4gIGdldE5hbWVzOiAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICBnZXRTeW1ib2xzOiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICBhc3NlcnREZWZpbmVkOiBhc3NlcnREZWZpbmVkLFxuICAvLyBEdW1teSwgZml4IGZvciBub3QgYXJyYXktbGlrZSBFUzMgc3RyaW5nIGluIGVzNSBtb2R1bGVcbiAgRVM1T2JqZWN0OiBPYmplY3QsXG4gIHRvT2JqZWN0OiBmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuICQuRVM1T2JqZWN0KGFzc2VydERlZmluZWQoaXQpKTtcbiAgfSxcbiAgaGlkZTogaGlkZSxcbiAgZGVmOiBjcmVhdGVEZWZpbmVyKDApLFxuICBzZXQ6IGdsb2JhbC5TeW1ib2wgPyBzaW1wbGVTZXQgOiBoaWRlLFxuICBlYWNoOiBbXS5mb3JFYWNoXG59KTtcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5pZih0eXBlb2YgX19lICE9ICd1bmRlZmluZWQnKV9fZSA9IGNvcmU7XG5pZih0eXBlb2YgX19nICE9ICd1bmRlZmluZWQnKV9fZyA9IGdsb2JhbDsiLCJ2YXIgJCA9IHJlcXVpcmUoJy4vJCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmplY3QsIGVsKXtcbiAgdmFyIE8gICAgICA9ICQudG9PYmplY3Qob2JqZWN0KVxuICAgICwga2V5cyAgID0gJC5nZXRLZXlzKE8pXG4gICAgLCBsZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICwgaW5kZXggID0gMFxuICAgICwga2V5O1xuICB3aGlsZShsZW5ndGggPiBpbmRleClpZihPW2tleSA9IGtleXNbaW5kZXgrK11dID09PSBlbClyZXR1cm4ga2V5O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vJCcpLmhpZGU7IiwidmFyICQgICAgICA9IHJlcXVpcmUoJy4vJCcpXHJcbiAgLCBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJ1xyXG4gICwgc3RvcmUgID0gJC5nW1NIQVJFRF0gfHwgKCQuZ1tTSEFSRURdID0ge30pO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XHJcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XHJcbn07IiwiLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbnZhciAkID0gcmVxdWlyZSgnLi8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKFRPX1NUUklORyl7XG4gIHJldHVybiBmdW5jdGlvbih0aGF0LCBwb3Mpe1xuICAgIHZhciBzID0gU3RyaW5nKCQuYXNzZXJ0RGVmaW5lZCh0aGF0KSlcbiAgICAgICwgaSA9ICQudG9JbnRlZ2VyKHBvcylcbiAgICAgICwgbCA9IHMubGVuZ3RoXG4gICAgICAsIGEsIGI7XG4gICAgaWYoaSA8IDAgfHwgaSA+PSBsKXJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGxcbiAgICAgIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07IiwidmFyIHNpZCA9IDA7XG5mdW5jdGlvbiB1aWQoa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsrc2lkICsgTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpKTtcbn1cbnVpZC5zYWZlID0gcmVxdWlyZSgnLi8kJykuZy5TeW1ib2wgfHwgdWlkO1xubW9kdWxlLmV4cG9ydHMgPSB1aWQ7IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9OyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLyQnKS5nXG4gICwgc3RvcmUgID0gcmVxdWlyZSgnLi8kLnNoYXJlZCcpKCd3a3MnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIGdsb2JhbC5TeW1ib2wgJiYgZ2xvYmFsLlN5bWJvbFtuYW1lXSB8fCByZXF1aXJlKCcuLyQudWlkJykuc2FmZSgnU3ltYm9sLicgKyBuYW1lKSk7XG59OyIsInZhciBjb3JlICA9IHJlcXVpcmUoJy4vJCcpLmNvcmVcbiAgLCAkaXRlciA9IHJlcXVpcmUoJy4vJC5pdGVyJyk7XG5jb3JlLmlzSXRlcmFibGUgID0gJGl0ZXIuaXM7XG5jb3JlLmdldEl0ZXJhdG9yID0gJGl0ZXIuZ2V0OyIsInZhciAkICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgY3R4ICAgPSByZXF1aXJlKCcuLyQuY3R4JylcbiAgLCAkZGVmICA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAsICRpdGVyID0gcmVxdWlyZSgnLi8kLml0ZXInKVxuICAsIGNhbGwgID0gcmVxdWlyZSgnLi8kLml0ZXItY2FsbCcpO1xuJGRlZigkZGVmLlMgKyAkZGVmLkYgKiAhcmVxdWlyZSgnLi8kLml0ZXItZGV0ZWN0JykoZnVuY3Rpb24oaXRlcil7IEFycmF5LmZyb20oaXRlcik7IH0pLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZClcbiAgZnJvbTogZnVuY3Rpb24gZnJvbShhcnJheUxpa2UvKiwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQqLyl7XG4gICAgdmFyIE8gICAgICAgPSBPYmplY3QoJC5hc3NlcnREZWZpbmVkKGFycmF5TGlrZSkpXG4gICAgICAsIG1hcGZuICAgPSBhcmd1bWVudHNbMV1cbiAgICAgICwgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWRcbiAgICAgICwgZiAgICAgICA9IG1hcHBpbmcgPyBjdHgobWFwZm4sIGFyZ3VtZW50c1syXSwgMikgOiB1bmRlZmluZWRcbiAgICAgICwgaW5kZXggICA9IDBcbiAgICAgICwgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yO1xuICAgIGlmKCRpdGVyLmlzKE8pKXtcbiAgICAgIGl0ZXJhdG9yID0gJGl0ZXIuZ2V0KE8pO1xuICAgICAgLy8gc3RyYW5nZSBJRSBxdWlya3MgbW9kZSBidWcgLT4gdXNlIHR5cGVvZiBpbnN0ZWFkIG9mIGlzRnVuY3Rpb25cbiAgICAgIHJlc3VsdCAgID0gbmV3ICh0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5KTtcbiAgICAgIGZvcig7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKyl7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgZiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzdHJhbmdlIElFIHF1aXJrcyBtb2RlIGJ1ZyAtPiB1c2UgdHlwZW9mIGluc3RlYWQgb2YgaXNGdW5jdGlvblxuICAgICAgcmVzdWx0ID0gbmV3ICh0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5KShsZW5ndGggPSAkLnRvTGVuZ3RoKE8ubGVuZ3RoKSk7XG4gICAgICBmb3IoOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBtYXBwaW5nID8gZihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF07XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTsiLCJ2YXIgJCAgICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgc2V0VW5zY29wZSA9IHJlcXVpcmUoJy4vJC51bnNjb3BlJylcbiAgLCBJVEVSICAgICAgID0gcmVxdWlyZSgnLi8kLnVpZCcpLnNhZmUoJ2l0ZXInKVxuICAsICRpdGVyICAgICAgPSByZXF1aXJlKCcuLyQuaXRlcicpXG4gICwgc3RlcCAgICAgICA9ICRpdGVyLnN0ZXBcbiAgLCBJdGVyYXRvcnMgID0gJGl0ZXIuSXRlcmF0b3JzO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuLyQuaXRlci1kZWZpbmUnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24oaXRlcmF0ZWQsIGtpbmQpe1xuICAkLnNldCh0aGlzLCBJVEVSLCB7bzogJC50b09iamVjdChpdGVyYXRlZCksIGk6IDAsIGs6IGtpbmR9KTtcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIGl0ZXIgID0gdGhpc1tJVEVSXVxuICAgICwgTyAgICAgPSBpdGVyLm9cbiAgICAsIGtpbmQgID0gaXRlci5rXG4gICAgLCBpbmRleCA9IGl0ZXIuaSsrO1xuICBpZighTyB8fCBpbmRleCA+PSBPLmxlbmd0aCl7XG4gICAgaXRlci5vID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGVwKDEpO1xuICB9XG4gIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5zZXRVbnNjb3BlKCdrZXlzJyk7XG5zZXRVbnNjb3BlKCd2YWx1ZXMnKTtcbnNldFVuc2NvcGUoJ2VudHJpZXMnKTsiLCJ2YXIgJCAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsICRkZWYgICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgaXNPYmplY3QgPSAkLmlzT2JqZWN0XG4gICwgdG9PYmplY3QgPSAkLnRvT2JqZWN0O1xuJC5lYWNoLmNhbGwoKCdmcmVlemUsc2VhbCxwcmV2ZW50RXh0ZW5zaW9ucyxpc0Zyb3plbixpc1NlYWxlZCxpc0V4dGVuc2libGUsJyArXG4gICdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsZ2V0UHJvdG90eXBlT2Ysa2V5cyxnZXRPd25Qcm9wZXJ0eU5hbWVzJykuc3BsaXQoJywnKVxuLCBmdW5jdGlvbihLRVksIElEKXtcbiAgdmFyIGZuICAgICA9ICgkLmNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldXG4gICAgLCBmb3JjZWQgPSAwXG4gICAgLCBtZXRob2QgPSB7fTtcbiAgbWV0aG9kW0tFWV0gPSBJRCA9PSAwID8gZnVuY3Rpb24gZnJlZXplKGl0KXtcbiAgICByZXR1cm4gaXNPYmplY3QoaXQpID8gZm4oaXQpIDogaXQ7XG4gIH0gOiBJRCA9PSAxID8gZnVuY3Rpb24gc2VhbChpdCl7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGl0KSA/IGZuKGl0KSA6IGl0O1xuICB9IDogSUQgPT0gMiA/IGZ1bmN0aW9uIHByZXZlbnRFeHRlbnNpb25zKGl0KXtcbiAgICByZXR1cm4gaXNPYmplY3QoaXQpID8gZm4oaXQpIDogaXQ7XG4gIH0gOiBJRCA9PSAzID8gZnVuY3Rpb24gaXNGcm96ZW4oaXQpe1xuICAgIHJldHVybiBpc09iamVjdChpdCkgPyBmbihpdCkgOiB0cnVlO1xuICB9IDogSUQgPT0gNCA/IGZ1bmN0aW9uIGlzU2VhbGVkKGl0KXtcbiAgICByZXR1cm4gaXNPYmplY3QoaXQpID8gZm4oaXQpIDogdHJ1ZTtcbiAgfSA6IElEID09IDUgPyBmdW5jdGlvbiBpc0V4dGVuc2libGUoaXQpe1xuICAgIHJldHVybiBpc09iamVjdChpdCkgPyBmbihpdCkgOiBmYWxzZTtcbiAgfSA6IElEID09IDYgPyBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gICAgcmV0dXJuIGZuKHRvT2JqZWN0KGl0KSwga2V5KTtcbiAgfSA6IElEID09IDcgPyBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCl7XG4gICAgcmV0dXJuIGZuKE9iamVjdCgkLmFzc2VydERlZmluZWQoaXQpKSk7XG4gIH0gOiBJRCA9PSA4ID8gZnVuY3Rpb24ga2V5cyhpdCl7XG4gICAgcmV0dXJuIGZuKHRvT2JqZWN0KGl0KSk7XG4gIH0gOiByZXF1aXJlKCcuLyQuZ2V0LW5hbWVzJykuZ2V0O1xuICB0cnkge1xuICAgIGZuKCd6Jyk7XG4gIH0gY2F0Y2goZSl7XG4gICAgZm9yY2VkID0gMTtcbiAgfVxuICAkZGVmKCRkZWYuUyArICRkZWYuRiAqIGZvcmNlZCwgJ09iamVjdCcsIG1ldGhvZCk7XG59KTsiLCJ2YXIgc2V0ICAgPSByZXF1aXJlKCcuLyQnKS5zZXRcbiAgLCAkYXQgICA9IHJlcXVpcmUoJy4vJC5zdHJpbmctYXQnKSh0cnVlKVxuICAsIElURVIgID0gcmVxdWlyZSgnLi8kLnVpZCcpLnNhZmUoJ2l0ZXInKVxuICAsICRpdGVyID0gcmVxdWlyZSgnLi8kLml0ZXInKVxuICAsIHN0ZXAgID0gJGl0ZXIuc3RlcDtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi8kLml0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuICBzZXQodGhpcywgSVRFUiwge286IFN0cmluZyhpdGVyYXRlZCksIGk6IDB9KTtcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBpdGVyICA9IHRoaXNbSVRFUl1cbiAgICAsIE8gICAgID0gaXRlci5vXG4gICAgLCBpbmRleCA9IGl0ZXIuaVxuICAgICwgcG9pbnQ7XG4gIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiBzdGVwKDEpO1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIGl0ZXIuaSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiBzdGVwKDAsIHBvaW50KTtcbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciAkICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgc2V0VGFnICAgPSByZXF1aXJlKCcuLyQuY29mJykuc2V0XG4gICwgdWlkICAgICAgPSByZXF1aXJlKCcuLyQudWlkJylcbiAgLCBzaGFyZWQgICA9IHJlcXVpcmUoJy4vJC5zaGFyZWQnKVxuICAsICRkZWYgICAgID0gcmVxdWlyZSgnLi8kLmRlZicpXG4gICwgJHJlZGVmICAgPSByZXF1aXJlKCcuLyQucmVkZWYnKVxuICAsIGtleU9mICAgID0gcmVxdWlyZSgnLi8kLmtleW9mJylcbiAgLCBlbnVtS2V5cyA9IHJlcXVpcmUoJy4vJC5lbnVtLWtleXMnKVxuICAsIGFzc2VydE9iamVjdCA9IHJlcXVpcmUoJy4vJC5hc3NlcnQnKS5vYmpcbiAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGVcbiAgLCBERVNDICAgICA9ICQuREVTQ1xuICAsIGhhcyAgICAgID0gJC5oYXNcbiAgLCAkY3JlYXRlICA9ICQuY3JlYXRlXG4gICwgZ2V0RGVzYyAgPSAkLmdldERlc2NcbiAgLCBzZXREZXNjICA9ICQuc2V0RGVzY1xuICAsIGRlc2MgICAgID0gJC5kZXNjXG4gICwgJG5hbWVzICAgPSByZXF1aXJlKCcuLyQuZ2V0LW5hbWVzJylcbiAgLCBnZXROYW1lcyA9ICRuYW1lcy5nZXRcbiAgLCB0b09iamVjdCA9ICQudG9PYmplY3RcbiAgLCAkU3ltYm9sICA9ICQuZy5TeW1ib2xcbiAgLCBzZXR0ZXIgICA9IGZhbHNlXG4gICwgVEFHICAgICAgPSB1aWQoJ3RhZycpXG4gICwgSElEREVOICAgPSB1aWQoJ2hpZGRlbicpXG4gICwgX3Byb3BlcnR5SXNFbnVtZXJhYmxlID0ge30ucHJvcGVydHlJc0VudW1lcmFibGVcbiAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5JylcbiAgLCBBbGxTeW1ib2xzID0gc2hhcmVkKCdzeW1ib2xzJylcbiAgLCB1c2VOYXRpdmUgPSAkLmlzRnVuY3Rpb24oJFN5bWJvbCk7XG5cbnZhciBzZXRTeW1ib2xEZXNjID0gREVTQyA/IGZ1bmN0aW9uKCl7IC8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZFxuICB0cnkge1xuICAgIHJldHVybiAkY3JlYXRlKHNldERlc2Moe30sIEhJRERFTiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gc2V0RGVzYyh0aGlzLCBISURERU4sIHt2YWx1ZTogZmFsc2V9KVtISURERU5dO1xuICAgICAgfVxuICAgIH0pKVtISURERU5dIHx8IHNldERlc2M7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuICAgICAgdmFyIHByb3RvRGVzYyA9IGdldERlc2MoT2JqZWN0UHJvdG8sIGtleSk7XG4gICAgICBpZihwcm90b0Rlc2MpZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gICAgICBzZXREZXNjKGl0LCBrZXksIEQpO1xuICAgICAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylzZXREZXNjKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG4gICAgfTtcbiAgfVxufSgpIDogc2V0RGVzYztcblxuZnVuY3Rpb24gd3JhcCh0YWcpe1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gJC5zZXQoJGNyZWF0ZSgkU3ltYm9sLnByb3RvdHlwZSksIFRBRywgdGFnKTtcbiAgREVTQyAmJiBzZXR0ZXIgJiYgc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgaWYoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSl0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGRlc2MoMSwgdmFsdWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc3ltO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKXtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSl7XG4gICAgaWYoIUQuZW51bWVyYWJsZSl7XG4gICAgICBpZighaGFzKGl0LCBISURERU4pKXNldERlc2MoaXQsIEhJRERFTiwgZGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSlpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSAkY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBkZXNjKDAsIGZhbHNlKX0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIHNldERlc2MoaXQsIGtleSwgRCk7XG59XG5mdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKXtcbiAgYXNzZXJ0T2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9PYmplY3QoUCkpXG4gICAgLCBpICAgID0gMFxuICAgICwgbCA9IGtleXMubGVuZ3RoXG4gICAgLCBrZXk7XG4gIHdoaWxlKGwgPiBpKWRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZShpdCwgUCl7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyAkY3JlYXRlKGl0KSA6IGRlZmluZVByb3BlcnRpZXMoJGNyZWF0ZShpdCksIFApO1xufVxuZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KXtcbiAgdmFyIEUgPSBfcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0aGlzLCBrZXkpO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldXG4gICAgPyBFIDogdHJ1ZTtcbn1cbmZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgdmFyIEQgPSBnZXREZXNjKGl0ID0gdG9PYmplY3QoaXQpLCBrZXkpO1xuICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59XG5mdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgdmFyIG5hbWVzICA9IGdldE5hbWVzKHRvT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOKXJlc3VsdC5wdXNoKGtleSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpe1xuICB2YXIgbmFtZXMgID0gZ2V0TmFtZXModG9PYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZihoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkpcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZighdXNlTmF0aXZlKXtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpe1xuICAgIGlmKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKXRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG4gICAgcmV0dXJuIHdyYXAodWlkKGFyZ3VtZW50c1swXSkpO1xuICB9O1xuICAkcmVkZWYoJFN5bWJvbC5wcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXNbVEFHXTtcbiAgfSk7XG5cbiAgJC5jcmVhdGUgICAgID0gY3JlYXRlO1xuICAkLnNldERlc2MgICAgPSBkZWZpbmVQcm9wZXJ0eTtcbiAgJC5nZXREZXNjICAgID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkLnNldERlc2NzICAgPSBkZWZpbmVQcm9wZXJ0aWVzO1xuICAkLmdldE5hbWVzICAgPSAkbmFtZXMuZ2V0ID0gZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgJC5nZXRTeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmKCQuREVTQyAmJiAkLkZXKSRyZWRlZihPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xufVxuXG52YXIgc3ltYm9sU3RhdGljcyA9IHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbihrZXkpe1xuICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcbiAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuICAgICAgOiBTeW1ib2xSZWdpc3RyeVtrZXldID0gJFN5bWJvbChrZXkpO1xuICB9LFxuICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioa2V5KXtcbiAgICByZXR1cm4ga2V5T2YoU3ltYm9sUmVnaXN0cnksIGtleSk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxufTtcbi8vIDE5LjQuMi4yIFN5bWJvbC5oYXNJbnN0YW5jZVxuLy8gMTkuNC4yLjMgU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZVxuLy8gMTkuNC4yLjQgU3ltYm9sLml0ZXJhdG9yXG4vLyAxOS40LjIuNiBTeW1ib2wubWF0Y2hcbi8vIDE5LjQuMi44IFN5bWJvbC5yZXBsYWNlXG4vLyAxOS40LjIuOSBTeW1ib2wuc2VhcmNoXG4vLyAxOS40LjIuMTAgU3ltYm9sLnNwZWNpZXNcbi8vIDE5LjQuMi4xMSBTeW1ib2wuc3BsaXRcbi8vIDE5LjQuMi4xMiBTeW1ib2wudG9QcmltaXRpdmVcbi8vIDE5LjQuMi4xMyBTeW1ib2wudG9TdHJpbmdUYWdcbi8vIDE5LjQuMi4xNCBTeW1ib2wudW5zY29wYWJsZXNcbiQuZWFjaC5jYWxsKChcbiAgICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLCcgK1xuICAgICdzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuICApLnNwbGl0KCcsJyksIGZ1bmN0aW9uKGl0KXtcbiAgICB2YXIgc3ltID0gcmVxdWlyZSgnLi8kLndrcycpKGl0KTtcbiAgICBzeW1ib2xTdGF0aWNzW2l0XSA9IHVzZU5hdGl2ZSA/IHN5bSA6IHdyYXAoc3ltKTtcbiAgfVxuKTtcblxuc2V0dGVyID0gdHJ1ZTtcblxuJGRlZigkZGVmLkcgKyAkZGVmLlcsIHtTeW1ib2w6ICRTeW1ib2x9KTtcblxuJGRlZigkZGVmLlMsICdTeW1ib2wnLCBzeW1ib2xTdGF0aWNzKTtcblxuJGRlZigkZGVmLlMgKyAkZGVmLkYgKiAhdXNlTmF0aXZlLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6IGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiBkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiBnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuc2V0VGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRhZygkLmcuSlNPTiwgJ0pTT04nLCB0cnVlKTsiLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyICQgICAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCBJdGVyYXRvcnMgICA9IHJlcXVpcmUoJy4vJC5pdGVyJykuSXRlcmF0b3JzXG4gICwgSVRFUkFUT1IgICAgPSByZXF1aXJlKCcuLyQud2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBBcnJheVZhbHVlcyA9IEl0ZXJhdG9ycy5BcnJheVxuICAsIE5MICAgICAgICAgID0gJC5nLk5vZGVMaXN0XG4gICwgSFRDICAgICAgICAgPSAkLmcuSFRNTENvbGxlY3Rpb25cbiAgLCBOTFByb3RvICAgICA9IE5MICYmIE5MLnByb3RvdHlwZVxuICAsIEhUQ1Byb3RvICAgID0gSFRDICYmIEhUQy5wcm90b3R5cGU7XG5pZigkLkZXKXtcbiAgaWYoTkwgJiYgIShJVEVSQVRPUiBpbiBOTFByb3RvKSkkLmhpZGUoTkxQcm90bywgSVRFUkFUT1IsIEFycmF5VmFsdWVzKTtcbiAgaWYoSFRDICYmICEoSVRFUkFUT1IgaW4gSFRDUHJvdG8pKSQuaGlkZShIVENQcm90bywgSVRFUkFUT1IsIEFycmF5VmFsdWVzKTtcbn1cbkl0ZXJhdG9ycy5Ob2RlTGlzdCA9IEl0ZXJhdG9ycy5IVE1MQ29sbGVjdGlvbiA9IEFycmF5VmFsdWVzOyIsIi8qKlxuICogIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIGdsb2JhbC5JbW11dGFibGUgPSBmYWN0b3J5KClcbn0odGhpcywgZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7dmFyIFNMSUNFJDAgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2xhc3MoY3Rvciwgc3VwZXJDbGFzcykge1xuICAgIGlmIChzdXBlckNsYXNzKSB7XG4gICAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3I7XG4gIH1cblxuICAvLyBVc2VkIGZvciBzZXR0aW5nIHByb3RvdHlwZSBtZXRob2RzIHRoYXQgSUU4IGNob2tlcyBvbi5cbiAgdmFyIERFTEVURSA9ICdkZWxldGUnO1xuXG4gIC8vIENvbnN0YW50cyBkZXNjcmliaW5nIHRoZSBzaXplIG9mIHRyaWUgbm9kZXMuXG4gIHZhciBTSElGVCA9IDU7IC8vIFJlc3VsdGVkIGluIGJlc3QgcGVyZm9ybWFuY2UgYWZ0ZXIgX19fX19fP1xuICB2YXIgU0laRSA9IDEgPDwgU0hJRlQ7XG4gIHZhciBNQVNLID0gU0laRSAtIDE7XG5cbiAgLy8gQSBjb25zaXN0ZW50IHNoYXJlZCB2YWx1ZSByZXByZXNlbnRpbmcgXCJub3Qgc2V0XCIgd2hpY2ggZXF1YWxzIG5vdGhpbmcgb3RoZXJcbiAgLy8gdGhhbiBpdHNlbGYsIGFuZCBub3RoaW5nIHRoYXQgY291bGQgYmUgcHJvdmlkZWQgZXh0ZXJuYWxseS5cbiAgdmFyIE5PVF9TRVQgPSB7fTtcblxuICAvLyBCb29sZWFuIHJlZmVyZW5jZXMsIFJvdWdoIGVxdWl2YWxlbnQgb2YgYGJvb2wgJmAuXG4gIHZhciBDSEFOR0VfTEVOR1RIID0geyB2YWx1ZTogZmFsc2UgfTtcbiAgdmFyIERJRF9BTFRFUiA9IHsgdmFsdWU6IGZhbHNlIH07XG5cbiAgZnVuY3Rpb24gTWFrZVJlZihyZWYpIHtcbiAgICByZWYudmFsdWUgPSBmYWxzZTtcbiAgICByZXR1cm4gcmVmO1xuICB9XG5cbiAgZnVuY3Rpb24gU2V0UmVmKHJlZikge1xuICAgIHJlZiAmJiAocmVmLnZhbHVlID0gdHJ1ZSk7XG4gIH1cblxuICAvLyBBIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSB2YWx1ZSByZXByZXNlbnRpbmcgYW4gXCJvd25lclwiIGZvciB0cmFuc2llbnQgd3JpdGVzXG4gIC8vIHRvIHRyaWVzLiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgb25seSBldmVyIGVxdWFsIGl0c2VsZiwgYW5kIHdpbGwgbm90IGVxdWFsXG4gIC8vIHRoZSByZXR1cm4gb2YgYW55IHN1YnNlcXVlbnQgY2FsbCBvZiB0aGlzIGZ1bmN0aW9uLlxuICBmdW5jdGlvbiBPd25lcklEKCkge31cblxuICAvLyBodHRwOi8vanNwZXJmLmNvbS9jb3B5LWFycmF5LWlubGluZVxuICBmdW5jdGlvbiBhcnJDb3B5KGFyciwgb2Zmc2V0KSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgdmFyIGxlbiA9IE1hdGgubWF4KDAsIGFyci5sZW5ndGggLSBvZmZzZXQpO1xuICAgIHZhciBuZXdBcnIgPSBuZXcgQXJyYXkobGVuKTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgICBuZXdBcnJbaWldID0gYXJyW2lpICsgb2Zmc2V0XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0FycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuc3VyZVNpemUoaXRlcikge1xuICAgIGlmIChpdGVyLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaXRlci5zaXplID0gaXRlci5fX2l0ZXJhdGUocmV0dXJuVHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVyLnNpemU7XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwSW5kZXgoaXRlciwgaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggPj0gMCA/ICgraW5kZXgpIDogZW5zdXJlU2l6ZShpdGVyKSArICgraW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSkge1xuICAgIHJldHVybiAoYmVnaW4gPT09IDAgfHwgKHNpemUgIT09IHVuZGVmaW5lZCAmJiBiZWdpbiA8PSAtc2l6ZSkpICYmXG4gICAgICAoZW5kID09PSB1bmRlZmluZWQgfHwgKHNpemUgIT09IHVuZGVmaW5lZCAmJiBlbmQgPj0gc2l6ZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUJlZ2luKGJlZ2luLCBzaXplKSB7XG4gICAgcmV0dXJuIHJlc29sdmVJbmRleChiZWdpbiwgc2l6ZSwgMCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNvbHZlRW5kKGVuZCwgc2l6ZSkge1xuICAgIHJldHVybiByZXNvbHZlSW5kZXgoZW5kLCBzaXplLCBzaXplKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVJbmRleChpbmRleCwgc2l6ZSwgZGVmYXVsdEluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4ID09PSB1bmRlZmluZWQgP1xuICAgICAgZGVmYXVsdEluZGV4IDpcbiAgICAgIGluZGV4IDwgMCA/XG4gICAgICAgIE1hdGgubWF4KDAsIHNpemUgKyBpbmRleCkgOlxuICAgICAgICBzaXplID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgIGluZGV4IDpcbiAgICAgICAgICBNYXRoLm1pbihzaXplLCBpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSXRlcmFibGUodmFsdWUpID8gdmFsdWUgOiBTZXEodmFsdWUpO1xuICAgIH1cblxuXG4gIGNyZWF0ZUNsYXNzKEtleWVkSXRlcmFibGUsIEl0ZXJhYmxlKTtcbiAgICBmdW5jdGlvbiBLZXllZEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZSA6IEtleWVkU2VxKHZhbHVlKTtcbiAgICB9XG5cblxuICBjcmVhdGVDbGFzcyhJbmRleGVkSXRlcmFibGUsIEl0ZXJhYmxlKTtcbiAgICBmdW5jdGlvbiBJbmRleGVkSXRlcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0luZGV4ZWQodmFsdWUpID8gdmFsdWUgOiBJbmRleGVkU2VxKHZhbHVlKTtcbiAgICB9XG5cblxuICBjcmVhdGVDbGFzcyhTZXRJdGVyYWJsZSwgSXRlcmFibGUpO1xuICAgIGZ1bmN0aW9uIFNldEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJdGVyYWJsZSh2YWx1ZSkgJiYgIWlzQXNzb2NpYXRpdmUodmFsdWUpID8gdmFsdWUgOiBTZXRTZXEodmFsdWUpO1xuICAgIH1cblxuXG5cbiAgZnVuY3Rpb24gaXNJdGVyYWJsZShtYXliZUl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuICEhKG1heWJlSXRlcmFibGUgJiYgbWF5YmVJdGVyYWJsZVtJU19JVEVSQUJMRV9TRU5USU5FTF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNLZXllZChtYXliZUtleWVkKSB7XG4gICAgcmV0dXJuICEhKG1heWJlS2V5ZWQgJiYgbWF5YmVLZXllZFtJU19LRVlFRF9TRU5USU5FTF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNJbmRleGVkKG1heWJlSW5kZXhlZCkge1xuICAgIHJldHVybiAhIShtYXliZUluZGV4ZWQgJiYgbWF5YmVJbmRleGVkW0lTX0lOREVYRURfU0VOVElORUxdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQXNzb2NpYXRpdmUobWF5YmVBc3NvY2lhdGl2ZSkge1xuICAgIHJldHVybiBpc0tleWVkKG1heWJlQXNzb2NpYXRpdmUpIHx8IGlzSW5kZXhlZChtYXliZUFzc29jaWF0aXZlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzT3JkZXJlZChtYXliZU9yZGVyZWQpIHtcbiAgICByZXR1cm4gISEobWF5YmVPcmRlcmVkICYmIG1heWJlT3JkZXJlZFtJU19PUkRFUkVEX1NFTlRJTkVMXSk7XG4gIH1cblxuICBJdGVyYWJsZS5pc0l0ZXJhYmxlID0gaXNJdGVyYWJsZTtcbiAgSXRlcmFibGUuaXNLZXllZCA9IGlzS2V5ZWQ7XG4gIEl0ZXJhYmxlLmlzSW5kZXhlZCA9IGlzSW5kZXhlZDtcbiAgSXRlcmFibGUuaXNBc3NvY2lhdGl2ZSA9IGlzQXNzb2NpYXRpdmU7XG4gIEl0ZXJhYmxlLmlzT3JkZXJlZCA9IGlzT3JkZXJlZDtcblxuICBJdGVyYWJsZS5LZXllZCA9IEtleWVkSXRlcmFibGU7XG4gIEl0ZXJhYmxlLkluZGV4ZWQgPSBJbmRleGVkSXRlcmFibGU7XG4gIEl0ZXJhYmxlLlNldCA9IFNldEl0ZXJhYmxlO1xuXG5cbiAgdmFyIElTX0lURVJBQkxFX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfSVRFUkFCTEVfX0BAJztcbiAgdmFyIElTX0tFWUVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfS0VZRURfX0BAJztcbiAgdmFyIElTX0lOREVYRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9JTkRFWEVEX19AQCc7XG4gIHZhciBJU19PUkRFUkVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfT1JERVJFRF9fQEAnO1xuXG4gIC8qIGdsb2JhbCBTeW1ib2wgKi9cblxuICB2YXIgSVRFUkFURV9LRVlTID0gMDtcbiAgdmFyIElURVJBVEVfVkFMVUVTID0gMTtcbiAgdmFyIElURVJBVEVfRU5UUklFUyA9IDI7XG5cbiAgdmFyIFJFQUxfSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG4gIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcblxuICB2YXIgSVRFUkFUT1JfU1lNQk9MID0gUkVBTF9JVEVSQVRPUl9TWU1CT0wgfHwgRkFVWF9JVEVSQVRPUl9TWU1CT0w7XG5cblxuICBmdW5jdGlvbiBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKG5leHQpIHtcbiAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgfVxuXG4gICAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnW0l0ZXJhdG9yXSc7XG4gICAgfTtcblxuXG4gIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IuS0VZUyA9IElURVJBVEVfS0VZUztcbiAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5WQUxVRVMgPSBJVEVSQVRFX1ZBTFVFUztcbiAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5FTlRSSUVTID0gSVRFUkFURV9FTlRSSUVTO1xuXG4gIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IucHJvdG90eXBlLmluc3BlY3QgPVxuICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLnByb3RvdHlwZS50b1NvdXJjZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsgfVxuICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLnByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG5cbiAgZnVuY3Rpb24gaXRlcmF0b3JWYWx1ZSh0eXBlLCBrLCB2LCBpdGVyYXRvclJlc3VsdCkge1xuICAgIHZhciB2YWx1ZSA9IHR5cGUgPT09IDAgPyBrIDogdHlwZSA9PT0gMSA/IHYgOiBbaywgdl07XG4gICAgaXRlcmF0b3JSZXN1bHQgPyAoaXRlcmF0b3JSZXN1bHQudmFsdWUgPSB2YWx1ZSkgOiAoaXRlcmF0b3JSZXN1bHQgPSB7XG4gICAgICB2YWx1ZTogdmFsdWUsIGRvbmU6IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yUmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gaXRlcmF0b3JEb25lKCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0l0ZXJhdG9yKG1heWJlSXRlcmFibGUpIHtcbiAgICByZXR1cm4gISFnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNJdGVyYXRvcihtYXliZUl0ZXJhdG9yKSB7XG4gICAgcmV0dXJuIG1heWJlSXRlcmF0b3IgJiYgdHlwZW9mIG1heWJlSXRlcmF0b3IubmV4dCA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEl0ZXJhdG9yKGl0ZXJhYmxlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKGl0ZXJhYmxlKTtcbiAgICByZXR1cm4gaXRlcmF0b3JGbiAmJiBpdGVyYXRvckZuLmNhbGwoaXRlcmFibGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihpdGVyYWJsZSkge1xuICAgIHZhciBpdGVyYXRvckZuID0gaXRlcmFibGUgJiYgKFxuICAgICAgKFJFQUxfSVRFUkFUT1JfU1lNQk9MICYmIGl0ZXJhYmxlW1JFQUxfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgIGl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXVxuICAgICk7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3JGbjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFNlcSwgSXRlcmFibGUpO1xuICAgIGZ1bmN0aW9uIFNlcSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eVNlcXVlbmNlKCkgOlxuICAgICAgICBpc0l0ZXJhYmxlKHZhbHVlKSA/IHZhbHVlLnRvU2VxKCkgOiBzZXFGcm9tVmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIFNlcS5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiBTZXEoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU2VxLnByb3RvdHlwZS50b1NlcSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFNlcS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1NlcSB7JywgJ30nKTtcbiAgICB9O1xuXG4gICAgU2VxLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLl9jYWNoZSAmJiB0aGlzLl9faXRlcmF0ZVVuY2FjaGVkKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlID0gdGhpcy5lbnRyeVNlcSgpLnRvQXJyYXkoKTtcbiAgICAgICAgdGhpcy5zaXplID0gdGhpcy5fY2FjaGUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8vIGFic3RyYWN0IF9faXRlcmF0ZVVuY2FjaGVkKGZuLCByZXZlcnNlKVxuXG4gICAgU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHNlcUl0ZXJhdGUodGhpcywgZm4sIHJldmVyc2UsIHRydWUpO1xuICAgIH07XG5cbiAgICAvLyBhYnN0cmFjdCBfX2l0ZXJhdG9yVW5jYWNoZWQodHlwZSwgcmV2ZXJzZSlcblxuICAgIFNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBzZXFJdGVyYXRvcih0aGlzLCB0eXBlLCByZXZlcnNlLCB0cnVlKTtcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhLZXllZFNlcSwgU2VxKTtcbiAgICBmdW5jdGlvbiBLZXllZFNlcSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgP1xuICAgICAgICBlbXB0eVNlcXVlbmNlKCkudG9LZXllZFNlcSgpIDpcbiAgICAgICAgaXNJdGVyYWJsZSh2YWx1ZSkgP1xuICAgICAgICAgIChpc0tleWVkKHZhbHVlKSA/IHZhbHVlLnRvU2VxKCkgOiB2YWx1ZS5mcm9tRW50cnlTZXEoKSkgOlxuICAgICAgICAgIGtleWVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBLZXllZFNlcS5wcm90b3R5cGUudG9LZXllZFNlcSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoSW5kZXhlZFNlcSwgU2VxKTtcbiAgICBmdW5jdGlvbiBJbmRleGVkU2VxKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5U2VxdWVuY2UoKSA6XG4gICAgICAgICFpc0l0ZXJhYmxlKHZhbHVlKSA/IGluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIDpcbiAgICAgICAgaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZS5lbnRyeVNlcSgpIDogdmFsdWUudG9JbmRleGVkU2VxKCk7XG4gICAgfVxuXG4gICAgSW5kZXhlZFNlcS5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiBJbmRleGVkU2VxKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIEluZGV4ZWRTZXEucHJvdG90eXBlLnRvSW5kZXhlZFNlcSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEluZGV4ZWRTZXEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXEgWycsICddJyk7XG4gICAgfTtcblxuICAgIEluZGV4ZWRTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gc2VxSXRlcmF0ZSh0aGlzLCBmbiwgcmV2ZXJzZSwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBJbmRleGVkU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHNlcUl0ZXJhdG9yKHRoaXMsIHR5cGUsIHJldmVyc2UsIGZhbHNlKTtcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhTZXRTZXEsIFNlcSk7XG4gICAgZnVuY3Rpb24gU2V0U2VxKHZhbHVlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTZXF1ZW5jZSgpIDpcbiAgICAgICAgIWlzSXRlcmFibGUodmFsdWUpID8gaW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkgOlxuICAgICAgICBpc0tleWVkKHZhbHVlKSA/IHZhbHVlLmVudHJ5U2VxKCkgOiB2YWx1ZVxuICAgICAgKS50b1NldFNlcSgpO1xuICAgIH1cblxuICAgIFNldFNlcS5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiBTZXRTZXEoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU2V0U2VxLnByb3RvdHlwZS50b1NldFNlcSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuXG5cbiAgU2VxLmlzU2VxID0gaXNTZXE7XG4gIFNlcS5LZXllZCA9IEtleWVkU2VxO1xuICBTZXEuU2V0ID0gU2V0U2VxO1xuICBTZXEuSW5kZXhlZCA9IEluZGV4ZWRTZXE7XG5cbiAgdmFyIElTX1NFUV9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NFUV9fQEAnO1xuXG4gIFNlcS5wcm90b3R5cGVbSVNfU0VRX1NFTlRJTkVMXSA9IHRydWU7XG5cblxuXG4gIC8vICNwcmFnbWEgUm9vdCBTZXF1ZW5jZXNcblxuICBjcmVhdGVDbGFzcyhBcnJheVNlcSwgSW5kZXhlZFNlcSk7XG4gICAgZnVuY3Rpb24gQXJyYXlTZXEoYXJyYXkpIHtcbiAgICAgIHRoaXMuX2FycmF5ID0gYXJyYXk7XG4gICAgICB0aGlzLnNpemUgPSBhcnJheS5sZW5ndGg7XG4gICAgfVxuXG4gICAgQXJyYXlTZXEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzKGluZGV4KSA/IHRoaXMuX2FycmF5W3dyYXBJbmRleCh0aGlzLCBpbmRleCldIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEFycmF5U2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fYXJyYXk7XG4gICAgICB2YXIgbWF4SW5kZXggPSBhcnJheS5sZW5ndGggLSAxO1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgICBpZiAoZm4oYXJyYXlbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV0sIGlpLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaWkgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaWk7XG4gICAgfTtcblxuICAgIEFycmF5U2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fYXJyYXk7XG4gICAgICB2YXIgbWF4SW5kZXggPSBhcnJheS5sZW5ndGggLSAxO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpIFxuICAgICAgICB7cmV0dXJuIGlpID4gbWF4SW5kZXggP1xuICAgICAgICAgIGl0ZXJhdG9yRG9uZSgpIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGlpLCBhcnJheVtyZXZlcnNlID8gbWF4SW5kZXggLSBpaSsrIDogaWkrK10pfVxuICAgICAgKTtcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhPYmplY3RTZXEsIEtleWVkU2VxKTtcbiAgICBmdW5jdGlvbiBPYmplY3RTZXEob2JqZWN0KSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG4gICAgICB0aGlzLl9vYmplY3QgPSBvYmplY3Q7XG4gICAgICB0aGlzLl9rZXlzID0ga2V5cztcbiAgICAgIHRoaXMuc2l6ZSA9IGtleXMubGVuZ3RoO1xuICAgIH1cblxuICAgIE9iamVjdFNlcS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKG5vdFNldFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIXRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX29iamVjdFtrZXldO1xuICAgIH07XG5cbiAgICBPYmplY3RTZXEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX29iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgIH07XG5cbiAgICBPYmplY3RTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gdGhpcy5fb2JqZWN0O1xuICAgICAgdmFyIGtleXMgPSB0aGlzLl9rZXlzO1xuICAgICAgdmFyIG1heEluZGV4ID0ga2V5cy5sZW5ndGggLSAxO1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICAgICAgaWYgKGZuKG9iamVjdFtrZXldLCBrZXksIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9O1xuXG4gICAgT2JqZWN0U2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIG9iamVjdCA9IHRoaXMuX29iamVjdDtcbiAgICAgIHZhciBrZXlzID0gdGhpcy5fa2V5cztcbiAgICAgIHZhciBtYXhJbmRleCA9IGtleXMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBpaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICAgICAgcmV0dXJuIGlpKysgPiBtYXhJbmRleCA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwga2V5LCBvYmplY3Rba2V5XSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gIE9iamVjdFNlcS5wcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuXG5cbiAgY3JlYXRlQ2xhc3MoSXRlcmFibGVTZXEsIEluZGV4ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIEl0ZXJhYmxlU2VxKGl0ZXJhYmxlKSB7XG4gICAgICB0aGlzLl9pdGVyYWJsZSA9IGl0ZXJhYmxlO1xuICAgICAgdGhpcy5zaXplID0gaXRlcmFibGUubGVuZ3RoIHx8IGl0ZXJhYmxlLnNpemU7XG4gICAgfVxuXG4gICAgSXRlcmFibGVTZXEucHJvdG90eXBlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYWJsZSA9IHRoaXMuX2l0ZXJhYmxlO1xuICAgICAgdmFyIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IoaXRlcmFibGUpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaWYgKGlzSXRlcmF0b3IoaXRlcmF0b3IpKSB7XG4gICAgICAgIHZhciBzdGVwO1xuICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgaWYgKGZuKHN0ZXAudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBJdGVyYWJsZVNlcS5wcm90b3R5cGUuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhYmxlID0gdGhpcy5faXRlcmFibGU7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihpdGVyYWJsZSk7XG4gICAgICBpZiAoIWlzSXRlcmF0b3IoaXRlcmF0b3IpKSB7XG4gICAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihpdGVyYXRvckRvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBzdGVwLmRvbmUgPyBzdGVwIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWUpO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoSXRlcmF0b3JTZXEsIEluZGV4ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIEl0ZXJhdG9yU2VxKGl0ZXJhdG9yKSB7XG4gICAgICB0aGlzLl9pdGVyYXRvciA9IGl0ZXJhdG9yO1xuICAgICAgdGhpcy5faXRlcmF0b3JDYWNoZSA9IFtdO1xuICAgIH1cblxuICAgIEl0ZXJhdG9yU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyYXRvcjtcbiAgICAgIHZhciBjYWNoZSA9IHRoaXMuX2l0ZXJhdG9yQ2FjaGU7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB3aGlsZSAoaXRlcmF0aW9ucyA8IGNhY2hlLmxlbmd0aCkge1xuICAgICAgICBpZiAoZm4oY2FjaGVbaXRlcmF0aW9uc10sIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBzdGVwO1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICB2YXIgdmFsID0gc3RlcC52YWx1ZTtcbiAgICAgICAgY2FjaGVbaXRlcmF0aW9uc10gPSB2YWw7XG4gICAgICAgIGlmIChmbih2YWwsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBJdGVyYXRvclNlcS5wcm90b3R5cGUuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlcmF0b3I7XG4gICAgICB2YXIgY2FjaGUgPSB0aGlzLl9pdGVyYXRvckNhY2hlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgaWYgKGl0ZXJhdGlvbnMgPj0gY2FjaGUubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhY2hlW2l0ZXJhdGlvbnNdID0gc3RlcC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zLCBjYWNoZVtpdGVyYXRpb25zKytdKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG5cbiAgLy8gIyBwcmFnbWEgSGVscGVyIGZ1bmN0aW9uc1xuXG4gIGZ1bmN0aW9uIGlzU2VxKG1heWJlU2VxKSB7XG4gICAgcmV0dXJuICEhKG1heWJlU2VxICYmIG1heWJlU2VxW0lTX1NFUV9TRU5USU5FTF0pO1xuICB9XG5cbiAgdmFyIEVNUFRZX1NFUTtcblxuICBmdW5jdGlvbiBlbXB0eVNlcXVlbmNlKCkge1xuICAgIHJldHVybiBFTVBUWV9TRVEgfHwgKEVNUFRZX1NFUSA9IG5ldyBBcnJheVNlcShbXSkpO1xuICB9XG5cbiAgZnVuY3Rpb24ga2V5ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgICB2YXIgc2VxID1cbiAgICAgIEFycmF5LmlzQXJyYXkodmFsdWUpID8gbmV3IEFycmF5U2VxKHZhbHVlKS5mcm9tRW50cnlTZXEoKSA6XG4gICAgICBpc0l0ZXJhdG9yKHZhbHVlKSA/IG5ldyBJdGVyYXRvclNlcSh2YWx1ZSkuZnJvbUVudHJ5U2VxKCkgOlxuICAgICAgaGFzSXRlcmF0b3IodmFsdWUpID8gbmV3IEl0ZXJhYmxlU2VxKHZhbHVlKS5mcm9tRW50cnlTZXEoKSA6XG4gICAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gbmV3IE9iamVjdFNlcSh2YWx1ZSkgOlxuICAgICAgdW5kZWZpbmVkO1xuICAgIGlmICghc2VxKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnRXhwZWN0ZWQgQXJyYXkgb3IgaXRlcmFibGUgb2JqZWN0IG9mIFtrLCB2XSBlbnRyaWVzLCAnK1xuICAgICAgICAnb3Iga2V5ZWQgb2JqZWN0OiAnICsgdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBzZXE7XG4gIH1cblxuICBmdW5jdGlvbiBpbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIHNlcSA9IG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gICAgaWYgKCFzZXEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdFeHBlY3RlZCBBcnJheSBvciBpdGVyYWJsZSBvYmplY3Qgb2YgdmFsdWVzOiAnICsgdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBzZXE7XG4gIH1cblxuICBmdW5jdGlvbiBzZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgICB2YXIgc2VxID0gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSB8fFxuICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgbmV3IE9iamVjdFNlcSh2YWx1ZSkpO1xuICAgIGlmICghc2VxKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnRXhwZWN0ZWQgQXJyYXkgb3IgaXRlcmFibGUgb2JqZWN0IG9mIHZhbHVlcywgb3Iga2V5ZWQgb2JqZWN0OiAnICsgdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBzZXE7XG4gIH1cblxuICBmdW5jdGlvbiBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNBcnJheUxpa2UodmFsdWUpID8gbmV3IEFycmF5U2VxKHZhbHVlKSA6XG4gICAgICBpc0l0ZXJhdG9yKHZhbHVlKSA/IG5ldyBJdGVyYXRvclNlcSh2YWx1ZSkgOlxuICAgICAgaGFzSXRlcmF0b3IodmFsdWUpID8gbmV3IEl0ZXJhYmxlU2VxKHZhbHVlKSA6XG4gICAgICB1bmRlZmluZWRcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VxSXRlcmF0ZShzZXEsIGZuLCByZXZlcnNlLCB1c2VLZXlzKSB7XG4gICAgdmFyIGNhY2hlID0gc2VxLl9jYWNoZTtcbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHZhciBtYXhJbmRleCA9IGNhY2hlLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGNhY2hlW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgICBpZiAoZm4oZW50cnlbMV0sIHVzZUtleXMgPyBlbnRyeVswXSA6IGlpLCBzZXEpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcS5fX2l0ZXJhdGVVbmNhY2hlZChmbiwgcmV2ZXJzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXFJdGVyYXRvcihzZXEsIHR5cGUsIHJldmVyc2UsIHVzZUtleXMpIHtcbiAgICB2YXIgY2FjaGUgPSBzZXEuX2NhY2hlO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgdmFyIG1heEluZGV4ID0gY2FjaGUubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBpaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgZW50cnkgPSBjYWNoZVtyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICAgICAgcmV0dXJuIGlpKysgPiBtYXhJbmRleCA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgdXNlS2V5cyA/IGVudHJ5WzBdIDogaWkgLSAxLCBlbnRyeVsxXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcS5fX2l0ZXJhdG9yVW5jYWNoZWQodHlwZSwgcmV2ZXJzZSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhDb2xsZWN0aW9uLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gQ29sbGVjdGlvbigpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignQWJzdHJhY3QnKTtcbiAgICB9XG5cblxuICBjcmVhdGVDbGFzcyhLZXllZENvbGxlY3Rpb24sIENvbGxlY3Rpb24pO2Z1bmN0aW9uIEtleWVkQ29sbGVjdGlvbigpIHt9XG5cbiAgY3JlYXRlQ2xhc3MoSW5kZXhlZENvbGxlY3Rpb24sIENvbGxlY3Rpb24pO2Z1bmN0aW9uIEluZGV4ZWRDb2xsZWN0aW9uKCkge31cblxuICBjcmVhdGVDbGFzcyhTZXRDb2xsZWN0aW9uLCBDb2xsZWN0aW9uKTtmdW5jdGlvbiBTZXRDb2xsZWN0aW9uKCkge31cblxuXG4gIENvbGxlY3Rpb24uS2V5ZWQgPSBLZXllZENvbGxlY3Rpb247XG4gIENvbGxlY3Rpb24uSW5kZXhlZCA9IEluZGV4ZWRDb2xsZWN0aW9uO1xuICBDb2xsZWN0aW9uLlNldCA9IFNldENvbGxlY3Rpb247XG5cbiAgLyoqXG4gICAqIEFuIGV4dGVuc2lvbiBvZiB0aGUgXCJzYW1lLXZhbHVlXCIgYWxnb3JpdGhtIGFzIFtkZXNjcmliZWQgZm9yIHVzZSBieSBFUzYgTWFwXG4gICAqIGFuZCBTZXRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hcCNLZXlfZXF1YWxpdHkpXG4gICAqXG4gICAqIE5hTiBpcyBjb25zaWRlcmVkIHRoZSBzYW1lIGFzIE5hTiwgaG93ZXZlciAtMCBhbmQgMCBhcmUgY29uc2lkZXJlZCB0aGUgc2FtZVxuICAgKiB2YWx1ZSwgd2hpY2ggaXMgZGlmZmVyZW50IGZyb20gdGhlIGFsZ29yaXRobSBkZXNjcmliZWQgYnlcbiAgICogW2BPYmplY3QuaXNgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXMpLlxuICAgKlxuICAgKiBUaGlzIGlzIGV4dGVuZGVkIGZ1cnRoZXIgdG8gYWxsb3cgT2JqZWN0cyB0byBkZXNjcmliZSB0aGUgdmFsdWVzIHRoZXlcbiAgICogcmVwcmVzZW50LCBieSB3YXkgb2YgYHZhbHVlT2ZgIG9yIGBlcXVhbHNgIChhbmQgYGhhc2hDb2RlYCkuXG4gICAqXG4gICAqIE5vdGU6IGJlY2F1c2Ugb2YgdGhpcyBleHRlbnNpb24sIHRoZSBrZXkgZXF1YWxpdHkgb2YgSW1tdXRhYmxlLk1hcCBhbmQgdGhlXG4gICAqIHZhbHVlIGVxdWFsaXR5IG9mIEltbXV0YWJsZS5TZXQgd2lsbCBkaWZmZXIgZnJvbSBFUzYgTWFwIGFuZCBTZXQuXG4gICAqXG4gICAqICMjIyBEZWZpbmluZyBjdXN0b20gdmFsdWVzXG4gICAqXG4gICAqIFRoZSBlYXNpZXN0IHdheSB0byBkZXNjcmliZSB0aGUgdmFsdWUgYW4gb2JqZWN0IHJlcHJlc2VudHMgaXMgYnkgaW1wbGVtZW50aW5nXG4gICAqIGB2YWx1ZU9mYC4gRm9yIGV4YW1wbGUsIGBEYXRlYCByZXByZXNlbnRzIGEgdmFsdWUgYnkgcmV0dXJuaW5nIGEgdW5peFxuICAgKiB0aW1lc3RhbXAgZm9yIGB2YWx1ZU9mYDpcbiAgICpcbiAgICogICAgIHZhciBkYXRlMSA9IG5ldyBEYXRlKDEyMzQ1Njc4OTAwMDApOyAvLyBGcmkgRmViIDEzIDIwMDkgLi4uXG4gICAqICAgICB2YXIgZGF0ZTIgPSBuZXcgRGF0ZSgxMjM0NTY3ODkwMDAwKTtcbiAgICogICAgIGRhdGUxLnZhbHVlT2YoKTsgLy8gMTIzNDU2Nzg5MDAwMFxuICAgKiAgICAgYXNzZXJ0KCBkYXRlMSAhPT0gZGF0ZTIgKTtcbiAgICogICAgIGFzc2VydCggSW1tdXRhYmxlLmlzKCBkYXRlMSwgZGF0ZTIgKSApO1xuICAgKlxuICAgKiBOb3RlOiBvdmVycmlkaW5nIGB2YWx1ZU9mYCBtYXkgaGF2ZSBvdGhlciBpbXBsaWNhdGlvbnMgaWYgeW91IHVzZSB0aGlzIG9iamVjdFxuICAgKiB3aGVyZSBKYXZhU2NyaXB0IGV4cGVjdHMgYSBwcmltaXRpdmUsIHN1Y2ggYXMgaW1wbGljaXQgc3RyaW5nIGNvZXJjaW9uLlxuICAgKlxuICAgKiBGb3IgbW9yZSBjb21wbGV4IHR5cGVzLCBlc3BlY2lhbGx5IGNvbGxlY3Rpb25zLCBpbXBsZW1lbnRpbmcgYHZhbHVlT2ZgIG1heVxuICAgKiBub3QgYmUgcGVyZm9ybWFudC4gQW4gYWx0ZXJuYXRpdmUgaXMgdG8gaW1wbGVtZW50IGBlcXVhbHNgIGFuZCBgaGFzaENvZGVgLlxuICAgKlxuICAgKiBgZXF1YWxzYCB0YWtlcyBhbm90aGVyIG9iamVjdCwgcHJlc3VtYWJseSBvZiBzaW1pbGFyIHR5cGUsIGFuZCByZXR1cm5zIHRydWVcbiAgICogaWYgdGhlIGl0IGlzIGVxdWFsLiBFcXVhbGl0eSBpcyBzeW1tZXRyaWNhbCwgc28gdGhlIHNhbWUgcmVzdWx0IHNob3VsZCBiZVxuICAgKiByZXR1cm5lZCBpZiB0aGlzIGFuZCB0aGUgYXJndW1lbnQgYXJlIGZsaXBwZWQuXG4gICAqXG4gICAqICAgICBhc3NlcnQoIGEuZXF1YWxzKGIpID09PSBiLmVxdWFscyhhKSApO1xuICAgKlxuICAgKiBgaGFzaENvZGVgIHJldHVybnMgYSAzMmJpdCBpbnRlZ2VyIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9iamVjdCB3aGljaCB3aWxsXG4gICAqIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGhvdyB0byBzdG9yZSB0aGUgdmFsdWUgb2JqZWN0IGluIGEgTWFwIG9yIFNldC4gWW91IG11c3RcbiAgICogcHJvdmlkZSBib3RoIG9yIG5laXRoZXIgbWV0aG9kcywgb25lIG11c3Qgbm90IGV4aXN0IHdpdGhvdXQgdGhlIG90aGVyLlxuICAgKlxuICAgKiBBbHNvLCBhbiBpbXBvcnRhbnQgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlc2UgbWV0aG9kcyBtdXN0IGJlIHVwaGVsZDogaWYgdHdvXG4gICAqIHZhbHVlcyBhcmUgZXF1YWwsIHRoZXkgKm11c3QqIHJldHVybiB0aGUgc2FtZSBoYXNoQ29kZS4gSWYgdGhlIHZhbHVlcyBhcmUgbm90XG4gICAqIGVxdWFsLCB0aGV5IG1pZ2h0IGhhdmUgdGhlIHNhbWUgaGFzaENvZGU7IHRoaXMgaXMgY2FsbGVkIGEgaGFzaCBjb2xsaXNpb24sXG4gICAqIGFuZCB3aGlsZSB1bmRlc2lyYWJsZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgaXQgaXMgYWNjZXB0YWJsZS5cbiAgICpcbiAgICogICAgIGlmIChhLmVxdWFscyhiKSkge1xuICAgKiAgICAgICBhc3NlcnQoIGEuaGFzaENvZGUoKSA9PT0gYi5oYXNoQ29kZSgpICk7XG4gICAqICAgICB9XG4gICAqXG4gICAqIEFsbCBJbW11dGFibGUgY29sbGVjdGlvbnMgaW1wbGVtZW50IGBlcXVhbHNgIGFuZCBgaGFzaENvZGVgLlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gaXModmFsdWVBLCB2YWx1ZUIpIHtcbiAgICBpZiAodmFsdWVBID09PSB2YWx1ZUIgfHwgKHZhbHVlQSAhPT0gdmFsdWVBICYmIHZhbHVlQiAhPT0gdmFsdWVCKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghdmFsdWVBIHx8ICF2YWx1ZUIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZUEudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICB0eXBlb2YgdmFsdWVCLnZhbHVlT2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhbHVlQSA9IHZhbHVlQS52YWx1ZU9mKCk7XG4gICAgICB2YWx1ZUIgPSB2YWx1ZUIudmFsdWVPZigpO1xuICAgICAgaWYgKHZhbHVlQSA9PT0gdmFsdWVCIHx8ICh2YWx1ZUEgIT09IHZhbHVlQSAmJiB2YWx1ZUIgIT09IHZhbHVlQikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoIXZhbHVlQSB8fCAhdmFsdWVCKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZUEuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHR5cGVvZiB2YWx1ZUIuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHZhbHVlQS5lcXVhbHModmFsdWVCKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZyb21KUyhqc29uLCBjb252ZXJ0ZXIpIHtcbiAgICByZXR1cm4gY29udmVydGVyID9cbiAgICAgIGZyb21KU1dpdGgoY29udmVydGVyLCBqc29uLCAnJywgeycnOiBqc29ufSkgOlxuICAgICAgZnJvbUpTRGVmYXVsdChqc29uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZyb21KU1dpdGgoY29udmVydGVyLCBqc29uLCBrZXksIHBhcmVudEpTT04pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgcmV0dXJuIGNvbnZlcnRlci5jYWxsKHBhcmVudEpTT04sIGtleSwgSW5kZXhlZFNlcShqc29uKS5tYXAoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZnJvbUpTV2l0aChjb252ZXJ0ZXIsIHYsIGssIGpzb24pfSkpO1xuICAgIH1cbiAgICBpZiAoaXNQbGFpbk9iaihqc29uKSkge1xuICAgICAgcmV0dXJuIGNvbnZlcnRlci5jYWxsKHBhcmVudEpTT04sIGtleSwgS2V5ZWRTZXEoanNvbikubWFwKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIGZyb21KU1dpdGgoY29udmVydGVyLCB2LCBrLCBqc29uKX0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICBmdW5jdGlvbiBmcm9tSlNEZWZhdWx0KGpzb24pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgcmV0dXJuIEluZGV4ZWRTZXEoanNvbikubWFwKGZyb21KU0RlZmF1bHQpLnRvTGlzdCgpO1xuICAgIH1cbiAgICBpZiAoaXNQbGFpbk9iaihqc29uKSkge1xuICAgICAgcmV0dXJuIEtleWVkU2VxKGpzb24pLm1hcChmcm9tSlNEZWZhdWx0KS50b01hcCgpO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUGxhaW5PYmoodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgKHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QgfHwgdmFsdWUuY29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCk7XG4gIH1cblxuICB2YXIgc3JjX01hdGhfX2ltdWwgPVxuICAgIHR5cGVvZiBNYXRoLmltdWwgPT09ICdmdW5jdGlvbicgJiYgTWF0aC5pbXVsKDB4ZmZmZmZmZmYsIDIpID09PSAtMiA/XG4gICAgTWF0aC5pbXVsIDpcbiAgICBmdW5jdGlvbiBzcmNfTWF0aF9faW11bChhLCBiKSB7XG4gICAgICBhID0gYSB8IDA7IC8vIGludFxuICAgICAgYiA9IGIgfCAwOyAvLyBpbnRcbiAgICAgIHZhciBjID0gYSAmIDB4ZmZmZjtcbiAgICAgIHZhciBkID0gYiAmIDB4ZmZmZjtcbiAgICAgIC8vIFNoaWZ0IGJ5IDAgZml4ZXMgdGhlIHNpZ24gb24gdGhlIGhpZ2ggcGFydC5cbiAgICAgIHJldHVybiAoYyAqIGQpICsgKCgoKGEgPj4+IDE2KSAqIGQgKyBjICogKGIgPj4+IDE2KSkgPDwgMTYpID4+PiAwKSB8IDA7IC8vIGludFxuICAgIH07XG5cbiAgLy8gdjggaGFzIGFuIG9wdGltaXphdGlvbiBmb3Igc3RvcmluZyAzMS1iaXQgc2lnbmVkIG51bWJlcnMuXG4gIC8vIFZhbHVlcyB3aGljaCBoYXZlIGVpdGhlciAwMCBvciAxMSBhcyB0aGUgaGlnaCBvcmRlciBiaXRzIHF1YWxpZnkuXG4gIC8vIFRoaXMgZnVuY3Rpb24gZHJvcHMgdGhlIGhpZ2hlc3Qgb3JkZXIgYml0IGluIGEgc2lnbmVkIG51bWJlciwgbWFpbnRhaW5pbmdcbiAgLy8gdGhlIHNpZ24gYml0LlxuICBmdW5jdGlvbiBzbWkoaTMyKSB7XG4gICAgcmV0dXJuICgoaTMyID4+PiAxKSAmIDB4NDAwMDAwMDApIHwgKGkzMiAmIDB4QkZGRkZGRkYpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzaChvKSB7XG4gICAgaWYgKG8gPT09IGZhbHNlIHx8IG8gPT09IG51bGwgfHwgbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvLnZhbHVlT2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG8gPSBvLnZhbHVlT2YoKTtcbiAgICAgIGlmIChvID09PSBmYWxzZSB8fCBvID09PSBudWxsIHx8IG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG8gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBvO1xuICAgIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgdmFyIGggPSBvIHwgMDtcbiAgICAgIGlmIChoICE9PSBvKSB7XG4gICAgICAgIGggXj0gbyAqIDB4RkZGRkZGRkY7XG4gICAgICB9XG4gICAgICB3aGlsZSAobyA+IDB4RkZGRkZGRkYpIHtcbiAgICAgICAgbyAvPSAweEZGRkZGRkZGO1xuICAgICAgICBoIF49IG87XG4gICAgICB9XG4gICAgICByZXR1cm4gc21pKGgpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBvLmxlbmd0aCA+IFNUUklOR19IQVNIX0NBQ0hFX01JTl9TVFJMRU4gPyBjYWNoZWRIYXNoU3RyaW5nKG8pIDogaGFzaFN0cmluZyhvKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvLmhhc2hDb2RlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gby5oYXNoQ29kZSgpO1xuICAgIH1cbiAgICByZXR1cm4gaGFzaEpTT2JqKG8pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FjaGVkSGFzaFN0cmluZyhzdHJpbmcpIHtcbiAgICB2YXIgaGFzaCA9IHN0cmluZ0hhc2hDYWNoZVtzdHJpbmddO1xuICAgIGlmIChoYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGhhc2ggPSBoYXNoU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSA9PT0gU1RSSU5HX0hBU0hfQ0FDSEVfTUFYX1NJWkUpIHtcbiAgICAgICAgU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSA9IDA7XG4gICAgICAgIHN0cmluZ0hhc2hDYWNoZSA9IHt9O1xuICAgICAgfVxuICAgICAgU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSsrO1xuICAgICAgc3RyaW5nSGFzaENhY2hlW3N0cmluZ10gPSBoYXNoO1xuICAgIH1cbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuXG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2hhc2hpbmctc3RyaW5nc1xuICBmdW5jdGlvbiBoYXNoU3RyaW5nKHN0cmluZykge1xuICAgIC8vIFRoaXMgaXMgdGhlIGhhc2ggZnJvbSBKVk1cbiAgICAvLyBUaGUgaGFzaCBjb2RlIGZvciBhIHN0cmluZyBpcyBjb21wdXRlZCBhc1xuICAgIC8vIHNbMF0gKiAzMSBeIChuIC0gMSkgKyBzWzFdICogMzEgXiAobiAtIDIpICsgLi4uICsgc1tuIC0gMV0sXG4gICAgLy8gd2hlcmUgc1tpXSBpcyB0aGUgaXRoIGNoYXJhY3RlciBvZiB0aGUgc3RyaW5nIGFuZCBuIGlzIHRoZSBsZW5ndGggb2ZcbiAgICAvLyB0aGUgc3RyaW5nLiBXZSBcIm1vZFwiIHRoZSByZXN1bHQgdG8gbWFrZSBpdCBiZXR3ZWVuIDAgKGluY2x1c2l2ZSkgYW5kIDJeMzFcbiAgICAvLyAoZXhjbHVzaXZlKSBieSBkcm9wcGluZyBoaWdoIGJpdHMuXG4gICAgdmFyIGhhc2ggPSAwO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBzdHJpbmcubGVuZ3RoOyBpaSsrKSB7XG4gICAgICBoYXNoID0gMzEgKiBoYXNoICsgc3RyaW5nLmNoYXJDb2RlQXQoaWkpIHwgMDtcbiAgICB9XG4gICAgcmV0dXJuIHNtaShoYXNoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc2hKU09iaihvYmopIHtcbiAgICB2YXIgaGFzaDtcbiAgICBpZiAodXNpbmdXZWFrTWFwKSB7XG4gICAgICBoYXNoID0gd2Vha01hcC5nZXQob2JqKTtcbiAgICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGFzaCA9IG9ialtVSURfSEFTSF9LRVldO1xuICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cblxuICAgIGlmICghY2FuRGVmaW5lUHJvcGVydHkpIHtcbiAgICAgIGhhc2ggPSBvYmoucHJvcGVydHlJc0VudW1lcmFibGUgJiYgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlW1VJRF9IQVNIX0tFWV07XG4gICAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgICAgfVxuXG4gICAgICBoYXNoID0gZ2V0SUVOb2RlSGFzaChvYmopO1xuICAgICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNoID0gKytvYmpIYXNoVUlEO1xuICAgIGlmIChvYmpIYXNoVUlEICYgMHg0MDAwMDAwMCkge1xuICAgICAgb2JqSGFzaFVJRCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKHVzaW5nV2Vha01hcCkge1xuICAgICAgd2Vha01hcC5zZXQob2JqLCBoYXNoKTtcbiAgICB9IGVsc2UgaWYgKGlzRXh0ZW5zaWJsZSAhPT0gdW5kZWZpbmVkICYmIGlzRXh0ZW5zaWJsZShvYmopID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb24tZXh0ZW5zaWJsZSBvYmplY3RzIGFyZSBub3QgYWxsb3dlZCBhcyBrZXlzLicpO1xuICAgIH0gZWxzZSBpZiAoY2FuRGVmaW5lUHJvcGVydHkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFVJRF9IQVNIX0tFWSwge1xuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAnY29uZmlndXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd3cml0YWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBoYXNoXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGUgPT09IG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUpIHtcbiAgICAgIC8vIFNpbmNlIHdlIGNhbid0IGRlZmluZSBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG9uIHRoZSBvYmplY3RcbiAgICAgIC8vIHdlJ2xsIGhpamFjayBvbmUgb2YgdGhlIGxlc3MtdXNlZCBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIHRvXG4gICAgICAvLyBzYXZlIG91ciBoYXNoIG9uIGl0LiBTaW5jZSB0aGlzIGlzIGEgZnVuY3Rpb24gaXQgd2lsbCBub3Qgc2hvdyB1cCBpblxuICAgICAgLy8gYEpTT04uc3RyaW5naWZ5YCB3aGljaCBpcyB3aGF0IHdlIHdhbnQuXG4gICAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlW1VJRF9IQVNIX0tFWV0gPSBoYXNoO1xuICAgIH0gZWxzZSBpZiAob2JqLm5vZGVUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEF0IHRoaXMgcG9pbnQgd2UgY291bGRuJ3QgZ2V0IHRoZSBJRSBgdW5pcXVlSURgIHRvIHVzZSBhcyBhIGhhc2hcbiAgICAgIC8vIGFuZCB3ZSBjb3VsZG4ndCB1c2UgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSB0byBleHBsb2l0IHRoZVxuICAgICAgLy8gZG9udEVudW0gYnVnIHNvIHdlIHNpbXBseSBhZGQgdGhlIGBVSURfSEFTSF9LRVlgIG9uIHRoZSBub2RlXG4gICAgICAvLyBpdHNlbGYuXG4gICAgICBvYmpbVUlEX0hBU0hfS0VZXSA9IGhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG9uIG9iamVjdC4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuXG4gIC8vIEdldCByZWZlcmVuY2VzIHRvIEVTNSBvYmplY3QgbWV0aG9kcy5cbiAgdmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGU7XG5cbiAgLy8gVHJ1ZSBpZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgd29ya3MgYXMgZXhwZWN0ZWQuIElFOCBmYWlscyB0aGlzIHRlc3QuXG4gIHZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnQCcsIHt9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0oKSk7XG5cbiAgLy8gSUUgaGFzIGEgYHVuaXF1ZUlEYCBwcm9wZXJ0eSBvbiBET00gbm9kZXMuIFdlIGNhbiBjb25zdHJ1Y3QgdGhlIGhhc2ggZnJvbSBpdFxuICAvLyBhbmQgYXZvaWQgbWVtb3J5IGxlYWtzIGZyb20gdGhlIElFIGNsb25lTm9kZSBidWcuXG4gIGZ1bmN0aW9uIGdldElFTm9kZUhhc2gobm9kZSkge1xuICAgIGlmIChub2RlICYmIG5vZGUubm9kZVR5cGUgPiAwKSB7XG4gICAgICBzd2l0Y2ggKG5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgY2FzZSAxOiAvLyBFbGVtZW50XG4gICAgICAgICAgcmV0dXJuIG5vZGUudW5pcXVlSUQ7XG4gICAgICAgIGNhc2UgOTogLy8gRG9jdW1lbnRcbiAgICAgICAgICByZXR1cm4gbm9kZS5kb2N1bWVudEVsZW1lbnQgJiYgbm9kZS5kb2N1bWVudEVsZW1lbnQudW5pcXVlSUQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgcG9zc2libGUsIHVzZSBhIFdlYWtNYXAuXG4gIHZhciB1c2luZ1dlYWtNYXAgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJztcbiAgdmFyIHdlYWtNYXA7XG4gIGlmICh1c2luZ1dlYWtNYXApIHtcbiAgICB3ZWFrTWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgfVxuXG4gIHZhciBvYmpIYXNoVUlEID0gMDtcblxuICB2YXIgVUlEX0hBU0hfS0VZID0gJ19faW1tdXRhYmxlaGFzaF9fJztcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcbiAgICBVSURfSEFTSF9LRVkgPSBTeW1ib2woVUlEX0hBU0hfS0VZKTtcbiAgfVxuXG4gIHZhciBTVFJJTkdfSEFTSF9DQUNIRV9NSU5fU1RSTEVOID0gMTY7XG4gIHZhciBTVFJJTkdfSEFTSF9DQUNIRV9NQVhfU0laRSA9IDI1NTtcbiAgdmFyIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUgPSAwO1xuICB2YXIgc3RyaW5nSGFzaENhY2hlID0ge307XG5cbiAgZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZXJyb3IpIHtcbiAgICBpZiAoIWNvbmRpdGlvbikgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFzc2VydE5vdEluZmluaXRlKHNpemUpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBzaXplICE9PSBJbmZpbml0eSxcbiAgICAgICdDYW5ub3QgcGVyZm9ybSB0aGlzIGFjdGlvbiB3aXRoIGFuIGluZmluaXRlIHNpemUuJ1xuICAgICk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhUb0tleWVkU2VxdWVuY2UsIEtleWVkU2VxKTtcbiAgICBmdW5jdGlvbiBUb0tleWVkU2VxdWVuY2UoaW5kZXhlZCwgdXNlS2V5cykge1xuICAgICAgdGhpcy5faXRlciA9IGluZGV4ZWQ7XG4gICAgICB0aGlzLl91c2VLZXlzID0gdXNlS2V5cztcbiAgICAgIHRoaXMuc2l6ZSA9IGluZGV4ZWQuc2l6ZTtcbiAgICB9XG5cbiAgICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLmdldChrZXksIG5vdFNldFZhbHVlKTtcbiAgICB9O1xuXG4gICAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLmhhcyhrZXkpO1xuICAgIH07XG5cbiAgICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLnZhbHVlU2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci52YWx1ZVNlcSgpO1xuICAgIH07XG5cbiAgICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbigpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gcmV2ZXJzZUZhY3RvcnkodGhpcywgdHJ1ZSk7XG4gICAgICBpZiAoIXRoaXMuX3VzZUtleXMpIHtcbiAgICAgICAgcmV2ZXJzZWRTZXF1ZW5jZS52YWx1ZVNlcSA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gdGhpcyQwLl9pdGVyLnRvU2VxKCkucmV2ZXJzZSgpfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXZlcnNlZFNlcXVlbmNlO1xuICAgIH07XG5cbiAgICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIG1hcHBlZFNlcXVlbmNlID0gbWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpO1xuICAgICAgaWYgKCF0aGlzLl91c2VLZXlzKSB7XG4gICAgICAgIG1hcHBlZFNlcXVlbmNlLnZhbHVlU2VxID0gZnVuY3Rpb24oKSAge3JldHVybiB0aGlzJDAuX2l0ZXIudG9TZXEoKS5tYXAobWFwcGVyLCBjb250ZXh0KX07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFwcGVkU2VxdWVuY2U7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpaTtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShcbiAgICAgICAgdGhpcy5fdXNlS2V5cyA/XG4gICAgICAgICAgZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZm4odiwgaywgdGhpcyQwKX0gOlxuICAgICAgICAgICgoaWkgPSByZXZlcnNlID8gcmVzb2x2ZVNpemUodGhpcykgOiAwKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHYgKSB7cmV0dXJuIGZuKHYsIHJldmVyc2UgPyAtLWlpIDogaWkrKywgdGhpcyQwKX0pLFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH07XG5cbiAgICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICBpZiAodGhpcy5fdXNlS2V5cykge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBpaSA9IHJldmVyc2UgPyByZXNvbHZlU2l6ZSh0aGlzKSA6IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHN0ZXAuZG9uZSA/IHN0ZXAgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgcmV2ZXJzZSA/IC0taWkgOiBpaSsrLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cblxuICBjcmVhdGVDbGFzcyhUb0luZGV4ZWRTZXF1ZW5jZSwgSW5kZXhlZFNlcSk7XG4gICAgZnVuY3Rpb24gVG9JbmRleGVkU2VxdWVuY2UoaXRlcikge1xuICAgICAgdGhpcy5faXRlciA9IGl0ZXI7XG4gICAgICB0aGlzLnNpemUgPSBpdGVyLnNpemU7XG4gICAgfVxuXG4gICAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24odiApIHtyZXR1cm4gZm4odiwgaXRlcmF0aW9ucysrLCB0aGlzJDApfSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWUsIHN0ZXApXG4gICAgICB9KTtcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhUb1NldFNlcXVlbmNlLCBTZXRTZXEpO1xuICAgIGZ1bmN0aW9uIFRvU2V0U2VxdWVuY2UoaXRlcikge1xuICAgICAgdGhpcy5faXRlciA9IGl0ZXI7XG4gICAgICB0aGlzLnNpemUgPSBpdGVyLnNpemU7XG4gICAgfVxuXG4gICAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5pbmNsdWRlcyhrZXkpO1xuICAgIH07XG5cbiAgICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIGZuKHYsIHYsIHRoaXMkMCl9LCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXIuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHN0ZXAuZG9uZSA/IHN0ZXAgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgc3RlcC52YWx1ZSwgc3RlcC52YWx1ZSwgc3RlcCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhGcm9tRW50cmllc1NlcXVlbmNlLCBLZXllZFNlcSk7XG4gICAgZnVuY3Rpb24gRnJvbUVudHJpZXNTZXF1ZW5jZShlbnRyaWVzKSB7XG4gICAgICB0aGlzLl9pdGVyID0gZW50cmllcztcbiAgICAgIHRoaXMuc2l6ZSA9IGVudHJpZXMuc2l6ZTtcbiAgICB9XG5cbiAgICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5lbnRyeVNlcSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIudG9TZXEoKTtcbiAgICB9O1xuXG4gICAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbihlbnRyeSApIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZW50cnkgZXhpc3RzIGZpcnN0IHNvIGFycmF5IGFjY2VzcyBkb2Vzbid0IHRocm93IGZvciBob2xlc1xuICAgICAgICAvLyBpbiB0aGUgcGFyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgdmFsaWRhdGVFbnRyeShlbnRyeSk7XG4gICAgICAgICAgdmFyIGluZGV4ZWRJdGVyYWJsZSA9IGlzSXRlcmFibGUoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBmbihcbiAgICAgICAgICAgIGluZGV4ZWRJdGVyYWJsZSA/IGVudHJ5LmdldCgxKSA6IGVudHJ5WzFdLFxuICAgICAgICAgICAgaW5kZXhlZEl0ZXJhYmxlID8gZW50cnkuZ2V0KDApIDogZW50cnlbMF0sXG4gICAgICAgICAgICB0aGlzJDBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXIuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgIC8vIENoZWNrIGlmIGVudHJ5IGV4aXN0cyBmaXJzdCBzbyBhcnJheSBhY2Nlc3MgZG9lc24ndCB0aHJvdyBmb3IgaG9sZXNcbiAgICAgICAgICAvLyBpbiB0aGUgcGFyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlRW50cnkoZW50cnkpO1xuICAgICAgICAgICAgdmFyIGluZGV4ZWRJdGVyYWJsZSA9IGlzSXRlcmFibGUoZW50cnkpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGluZGV4ZWRJdGVyYWJsZSA/IGVudHJ5LmdldCgwKSA6IGVudHJ5WzBdLFxuICAgICAgICAgICAgICBpbmRleGVkSXRlcmFibGUgPyBlbnRyeS5nZXQoMSkgOiBlbnRyeVsxXSxcbiAgICAgICAgICAgICAgc3RlcFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cblxuICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID1cbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gICAgY2FjaGVSZXN1bHRUaHJvdWdoO1xuXG5cbiAgZnVuY3Rpb24gZmxpcEZhY3RvcnkoaXRlcmFibGUpIHtcbiAgICB2YXIgZmxpcFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBmbGlwU2VxdWVuY2UuX2l0ZXIgPSBpdGVyYWJsZTtcbiAgICBmbGlwU2VxdWVuY2Uuc2l6ZSA9IGl0ZXJhYmxlLnNpemU7XG4gICAgZmxpcFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbigpICB7cmV0dXJuIGl0ZXJhYmxlfTtcbiAgICBmbGlwU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gaXRlcmFibGUucmV2ZXJzZS5hcHBseSh0aGlzKTsgLy8gc3VwZXIucmV2ZXJzZSgpXG4gICAgICByZXZlcnNlZFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbigpICB7cmV0dXJuIGl0ZXJhYmxlLnJldmVyc2UoKX07XG4gICAgICByZXR1cm4gcmV2ZXJzZWRTZXF1ZW5jZTtcbiAgICB9O1xuICAgIGZsaXBTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbihrZXkgKSB7cmV0dXJuIGl0ZXJhYmxlLmluY2x1ZGVzKGtleSl9O1xuICAgIGZsaXBTZXF1ZW5jZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKGtleSApIHtyZXR1cm4gaXRlcmFibGUuaGFzKGtleSl9O1xuICAgIGZsaXBTZXF1ZW5jZS5jYWNoZVJlc3VsdCA9IGNhY2hlUmVzdWx0VGhyb3VnaDtcbiAgICBmbGlwU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZm4oaywgdiwgdGhpcyQwKSAhPT0gZmFsc2V9LCByZXZlcnNlKTtcbiAgICB9XG4gICAgZmxpcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoIXN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgdmFyIGsgPSBzdGVwLnZhbHVlWzBdO1xuICAgICAgICAgICAgc3RlcC52YWx1ZVswXSA9IHN0ZXAudmFsdWVbMV07XG4gICAgICAgICAgICBzdGVwLnZhbHVlWzFdID0gaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhYmxlLl9faXRlcmF0b3IoXG4gICAgICAgIHR5cGUgPT09IElURVJBVEVfVkFMVUVTID8gSVRFUkFURV9LRVlTIDogSVRFUkFURV9WQUxVRVMsXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBmbGlwU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG1hcEZhY3RvcnkoaXRlcmFibGUsIG1hcHBlciwgY29udGV4dCkge1xuICAgIHZhciBtYXBwZWRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgbWFwcGVkU2VxdWVuY2Uuc2l6ZSA9IGl0ZXJhYmxlLnNpemU7XG4gICAgbWFwcGVkU2VxdWVuY2UuaGFzID0gZnVuY3Rpb24oa2V5ICkge3JldHVybiBpdGVyYWJsZS5oYXMoa2V5KX07XG4gICAgbWFwcGVkU2VxdWVuY2UuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkgIHtcbiAgICAgIHZhciB2ID0gaXRlcmFibGUuZ2V0KGtleSwgTk9UX1NFVCk7XG4gICAgICByZXR1cm4gdiA9PT0gTk9UX1NFVCA/XG4gICAgICAgIG5vdFNldFZhbHVlIDpcbiAgICAgICAgbWFwcGVyLmNhbGwoY29udGV4dCwgdiwga2V5LCBpdGVyYWJsZSk7XG4gICAgfTtcbiAgICBtYXBwZWRTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlLl9faXRlcmF0ZShcbiAgICAgICAgZnVuY3Rpb24odiwgaywgYykgIHtyZXR1cm4gZm4obWFwcGVyLmNhbGwoY29udGV4dCwgdiwgaywgYyksIGssIHRoaXMkMCkgIT09IGZhbHNlfSxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICB9XG4gICAgbWFwcGVkU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgdmFyIGtleSA9IGVudHJ5WzBdO1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICBtYXBwZXIuY2FsbChjb250ZXh0LCBlbnRyeVsxXSwga2V5LCBpdGVyYWJsZSksXG4gICAgICAgICAgc3RlcFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBtYXBwZWRTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gcmV2ZXJzZUZhY3RvcnkoaXRlcmFibGUsIHVzZUtleXMpIHtcbiAgICB2YXIgcmV2ZXJzZWRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5faXRlciA9IGl0ZXJhYmxlO1xuICAgIHJldmVyc2VkU2VxdWVuY2Uuc2l6ZSA9IGl0ZXJhYmxlLnNpemU7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24oKSAge3JldHVybiBpdGVyYWJsZX07XG4gICAgaWYgKGl0ZXJhYmxlLmZsaXApIHtcbiAgICAgIHJldmVyc2VkU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZsaXBTZXF1ZW5jZSA9IGZsaXBGYWN0b3J5KGl0ZXJhYmxlKTtcbiAgICAgICAgZmxpcFNlcXVlbmNlLnJldmVyc2UgPSBmdW5jdGlvbigpICB7cmV0dXJuIGl0ZXJhYmxlLmZsaXAoKX07XG4gICAgICAgIHJldHVybiBmbGlwU2VxdWVuY2U7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXZlcnNlZFNlcXVlbmNlLmdldCA9IGZ1bmN0aW9uKGtleSwgbm90U2V0VmFsdWUpIFxuICAgICAge3JldHVybiBpdGVyYWJsZS5nZXQodXNlS2V5cyA/IGtleSA6IC0xIC0ga2V5LCBub3RTZXRWYWx1ZSl9O1xuICAgIHJldmVyc2VkU2VxdWVuY2UuaGFzID0gZnVuY3Rpb24oa2V5IClcbiAgICAgIHtyZXR1cm4gaXRlcmFibGUuaGFzKHVzZUtleXMgPyBrZXkgOiAtMSAtIGtleSl9O1xuICAgIHJldmVyc2VkU2VxdWVuY2UuaW5jbHVkZXMgPSBmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gaXRlcmFibGUuaW5jbHVkZXModmFsdWUpfTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLmNhY2hlUmVzdWx0ID0gY2FjaGVSZXN1bHRUaHJvdWdoO1xuICAgIHJldmVyc2VkU2VxdWVuY2UuX19pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIGZuKHYsIGssIHRoaXMkMCl9LCAhcmV2ZXJzZSk7XG4gICAgfTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLl9faXRlcmF0b3IgPVxuICAgICAgZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkgIHtyZXR1cm4gaXRlcmFibGUuX19pdGVyYXRvcih0eXBlLCAhcmV2ZXJzZSl9O1xuICAgIHJldHVybiByZXZlcnNlZFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBmaWx0ZXJGYWN0b3J5KGl0ZXJhYmxlLCBwcmVkaWNhdGUsIGNvbnRleHQsIHVzZUtleXMpIHtcbiAgICB2YXIgZmlsdGVyU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIGlmICh1c2VLZXlzKSB7XG4gICAgICBmaWx0ZXJTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbihrZXkgKSB7XG4gICAgICAgIHZhciB2ID0gaXRlcmFibGUuZ2V0KGtleSwgTk9UX1NFVCk7XG4gICAgICAgIHJldHVybiB2ICE9PSBOT1RfU0VUICYmICEhcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwga2V5LCBpdGVyYWJsZSk7XG4gICAgICB9O1xuICAgICAgZmlsdGVyU2VxdWVuY2UuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkgIHtcbiAgICAgICAgdmFyIHYgPSBpdGVyYWJsZS5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgICAgcmV0dXJuIHYgIT09IE5PVF9TRVQgJiYgcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwga2V5LCBpdGVyYWJsZSkgP1xuICAgICAgICAgIHYgOiBub3RTZXRWYWx1ZTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZpbHRlclNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaywgYykgIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSB7XG4gICAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICAgIHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMgLSAxLCB0aGlzJDApO1xuICAgICAgICB9XG4gICAgICB9LCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG4gICAgZmlsdGVyU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgdmFyIGtleSA9IGVudHJ5WzBdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5WzFdO1xuICAgICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2YWx1ZSwga2V5LCBpdGVyYWJsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIHVzZUtleXMgPyBrZXkgOiBpdGVyYXRpb25zKyssIHZhbHVlLCBzdGVwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZmlsdGVyU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNvdW50QnlGYWN0b3J5KGl0ZXJhYmxlLCBncm91cGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIGdyb3VwcyA9IHNyY19NYXBfX01hcCgpLmFzTXV0YWJsZSgpO1xuICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgZ3JvdXBzLnVwZGF0ZShcbiAgICAgICAgZ3JvdXBlci5jYWxsKGNvbnRleHQsIHYsIGssIGl0ZXJhYmxlKSxcbiAgICAgICAgMCxcbiAgICAgICAgZnVuY3Rpb24oYSApIHtyZXR1cm4gYSArIDF9XG4gICAgICApO1xuICAgIH0pO1xuICAgIHJldHVybiBncm91cHMuYXNJbW11dGFibGUoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gZ3JvdXBCeUZhY3RvcnkoaXRlcmFibGUsIGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgaXNLZXllZEl0ZXIgPSBpc0tleWVkKGl0ZXJhYmxlKTtcbiAgICB2YXIgZ3JvdXBzID0gKGlzT3JkZXJlZChpdGVyYWJsZSkgPyBPcmRlcmVkTWFwKCkgOiBzcmNfTWFwX19NYXAoKSkuYXNNdXRhYmxlKCk7XG4gICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICBncm91cHMudXBkYXRlKFxuICAgICAgICBncm91cGVyLmNhbGwoY29udGV4dCwgdiwgaywgaXRlcmFibGUpLFxuICAgICAgICBmdW5jdGlvbihhICkge3JldHVybiAoYSA9IGEgfHwgW10sIGEucHVzaChpc0tleWVkSXRlciA/IFtrLCB2XSA6IHYpLCBhKX1cbiAgICAgICk7XG4gICAgfSk7XG4gICAgdmFyIGNvZXJjZSA9IGl0ZXJhYmxlQ2xhc3MoaXRlcmFibGUpO1xuICAgIHJldHVybiBncm91cHMubWFwKGZ1bmN0aW9uKGFyciApIHtyZXR1cm4gcmVpZnkoaXRlcmFibGUsIGNvZXJjZShhcnIpKX0pO1xuICB9XG5cblxuICBmdW5jdGlvbiBzbGljZUZhY3RvcnkoaXRlcmFibGUsIGJlZ2luLCBlbmQsIHVzZUtleXMpIHtcbiAgICB2YXIgb3JpZ2luYWxTaXplID0gaXRlcmFibGUuc2l6ZTtcblxuICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIG9yaWdpbmFsU2l6ZSkpIHtcbiAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICB9XG5cbiAgICB2YXIgcmVzb2x2ZWRCZWdpbiA9IHJlc29sdmVCZWdpbihiZWdpbiwgb3JpZ2luYWxTaXplKTtcbiAgICB2YXIgcmVzb2x2ZWRFbmQgPSByZXNvbHZlRW5kKGVuZCwgb3JpZ2luYWxTaXplKTtcblxuICAgIC8vIGJlZ2luIG9yIGVuZCB3aWxsIGJlIE5hTiBpZiB0aGV5IHdlcmUgcHJvdmlkZWQgYXMgbmVnYXRpdmUgbnVtYmVycyBhbmRcbiAgICAvLyB0aGlzIGl0ZXJhYmxlJ3Mgc2l6ZSBpcyB1bmtub3duLiBJbiB0aGF0IGNhc2UsIGNhY2hlIGZpcnN0IHNvIHRoZXJlIGlzXG4gICAgLy8gYSBrbm93biBzaXplIGFuZCB0aGVzZSBkbyBub3QgcmVzb2x2ZSB0byBOYU4uXG4gICAgaWYgKHJlc29sdmVkQmVnaW4gIT09IHJlc29sdmVkQmVnaW4gfHwgcmVzb2x2ZWRFbmQgIT09IHJlc29sdmVkRW5kKSB7XG4gICAgICByZXR1cm4gc2xpY2VGYWN0b3J5KGl0ZXJhYmxlLnRvU2VxKCkuY2FjaGVSZXN1bHQoKSwgYmVnaW4sIGVuZCwgdXNlS2V5cyk7XG4gICAgfVxuXG4gICAgLy8gTm90ZTogcmVzb2x2ZWRFbmQgaXMgdW5kZWZpbmVkIHdoZW4gdGhlIG9yaWdpbmFsIHNlcXVlbmNlJ3MgbGVuZ3RoIGlzXG4gICAgLy8gdW5rbm93biBhbmQgdGhpcyBzbGljZSBkaWQgbm90IHN1cHBseSBhbiBlbmQgYW5kIHNob3VsZCBjb250YWluIGFsbFxuICAgIC8vIGVsZW1lbnRzIGFmdGVyIHJlc29sdmVkQmVnaW4uXG4gICAgLy8gSW4gdGhhdCBjYXNlLCByZXNvbHZlZFNpemUgd2lsbCBiZSBOYU4gYW5kIHNsaWNlU2l6ZSB3aWxsIHJlbWFpbiB1bmRlZmluZWQuXG4gICAgdmFyIHJlc29sdmVkU2l6ZSA9IHJlc29sdmVkRW5kIC0gcmVzb2x2ZWRCZWdpbjtcbiAgICB2YXIgc2xpY2VTaXplO1xuICAgIGlmIChyZXNvbHZlZFNpemUgPT09IHJlc29sdmVkU2l6ZSkge1xuICAgICAgc2xpY2VTaXplID0gcmVzb2x2ZWRTaXplIDwgMCA/IDAgOiByZXNvbHZlZFNpemU7XG4gICAgfVxuXG4gICAgdmFyIHNsaWNlU2VxID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcblxuICAgIHNsaWNlU2VxLnNpemUgPSBzbGljZVNpemU7XG5cbiAgICBpZiAoIXVzZUtleXMgJiYgaXNTZXEoaXRlcmFibGUpICYmIHNsaWNlU2l6ZSA+PSAwKSB7XG4gICAgICBzbGljZVNlcS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCBzbGljZVNpemUgP1xuICAgICAgICAgIGl0ZXJhYmxlLmdldChpbmRleCArIHJlc29sdmVkQmVnaW4sIG5vdFNldFZhbHVlKSA6XG4gICAgICAgICAgbm90U2V0VmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2xpY2VTZXEuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgaWYgKHNsaWNlU2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBza2lwcGVkID0gMDtcbiAgICAgIHZhciBpc1NraXBwaW5nID0gdHJ1ZTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgICBpZiAoIShpc1NraXBwaW5nICYmIChpc1NraXBwaW5nID0gc2tpcHBlZCsrIDwgcmVzb2x2ZWRCZWdpbikpKSB7XG4gICAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICAgIHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMgLSAxLCB0aGlzJDApICE9PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICBpdGVyYXRpb25zICE9PSBzbGljZVNpemU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcblxuICAgIHNsaWNlU2VxLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmIChzbGljZVNpemUgIT09IDAgJiYgcmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICAvLyBEb24ndCBib3RoZXIgaW5zdGFudGlhdGluZyBwYXJlbnQgaXRlcmF0b3IgaWYgdGFraW5nIDAuXG4gICAgICB2YXIgaXRlcmF0b3IgPSBzbGljZVNpemUgIT09IDAgJiYgaXRlcmFibGUuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIHZhciBza2lwcGVkID0gMDtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHdoaWxlIChza2lwcGVkKysgPCByZXNvbHZlZEJlZ2luKSB7XG4gICAgICAgICAgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgrK2l0ZXJhdGlvbnMgPiBzbGljZVNpemUpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmICh1c2VLZXlzIHx8IHR5cGUgPT09IElURVJBVEVfVkFMVUVTKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gSVRFUkFURV9LRVlTKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucyAtIDEsIHVuZGVmaW5lZCwgc3RlcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucyAtIDEsIHN0ZXAudmFsdWVbMV0sIHN0ZXApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2xpY2VTZXE7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHRha2VXaGlsZUZhY3RvcnkoaXRlcmFibGUsIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciB0YWtlU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIHRha2VTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaywgYykgXG4gICAgICAgIHtyZXR1cm4gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykgJiYgKytpdGVyYXRpb25zICYmIGZuKHYsIGssIHRoaXMkMCl9XG4gICAgICApO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICB0YWtlU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGluZyA9IHRydWU7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICBpZiAoIWl0ZXJhdGluZykge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIHZhciBrID0gZW50cnlbMF07XG4gICAgICAgIHZhciB2ID0gZW50cnlbMV07XG4gICAgICAgIGlmICghcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgdGhpcyQwKSkge1xuICAgICAgICAgIGl0ZXJhdGluZyA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTID8gc3RlcCA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBrLCB2LCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIHRha2VTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gc2tpcFdoaWxlRmFjdG9yeShpdGVyYWJsZSwgcHJlZGljYXRlLCBjb250ZXh0LCB1c2VLZXlzKSB7XG4gICAgdmFyIHNraXBTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgc2tpcFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXNTa2lwcGluZyA9IHRydWU7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaywgYykgIHtcbiAgICAgICAgaWYgKCEoaXNTa2lwcGluZyAmJiAoaXNTa2lwcGluZyA9IHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSkpIHtcbiAgICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICBza2lwU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIHNraXBwaW5nID0gdHJ1ZTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwLCBrLCB2O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgICBpZiAodXNlS2V5cyB8fCB0eXBlID09PSBJVEVSQVRFX1ZBTFVFUykge1xuICAgICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gSVRFUkFURV9LRVlTKSB7XG4gICAgICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgdW5kZWZpbmVkLCBzdGVwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZVsxXSwgc3RlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgayA9IGVudHJ5WzBdO1xuICAgICAgICAgIHYgPSBlbnRyeVsxXTtcbiAgICAgICAgICBza2lwcGluZyAmJiAoc2tpcHBpbmcgPSBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCB0aGlzJDApKTtcbiAgICAgICAgfSB3aGlsZSAoc2tpcHBpbmcpO1xuICAgICAgICByZXR1cm4gdHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTID8gc3RlcCA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBrLCB2LCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIHNraXBTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY29uY2F0RmFjdG9yeShpdGVyYWJsZSwgdmFsdWVzKSB7XG4gICAgdmFyIGlzS2V5ZWRJdGVyYWJsZSA9IGlzS2V5ZWQoaXRlcmFibGUpO1xuICAgIHZhciBpdGVycyA9IFtpdGVyYWJsZV0uY29uY2F0KHZhbHVlcykubWFwKGZ1bmN0aW9uKHYgKSB7XG4gICAgICBpZiAoIWlzSXRlcmFibGUodikpIHtcbiAgICAgICAgdiA9IGlzS2V5ZWRJdGVyYWJsZSA/XG4gICAgICAgICAga2V5ZWRTZXFGcm9tVmFsdWUodikgOlxuICAgICAgICAgIGluZGV4ZWRTZXFGcm9tVmFsdWUoQXJyYXkuaXNBcnJheSh2KSA/IHYgOiBbdl0pO1xuICAgICAgfSBlbHNlIGlmIChpc0tleWVkSXRlcmFibGUpIHtcbiAgICAgICAgdiA9IEtleWVkSXRlcmFibGUodik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdjtcbiAgICB9KS5maWx0ZXIoZnVuY3Rpb24odiApIHtyZXR1cm4gdi5zaXplICE9PSAwfSk7XG5cbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgfVxuXG4gICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIHNpbmdsZXRvbiA9IGl0ZXJzWzBdO1xuICAgICAgaWYgKHNpbmdsZXRvbiA9PT0gaXRlcmFibGUgfHxcbiAgICAgICAgICBpc0tleWVkSXRlcmFibGUgJiYgaXNLZXllZChzaW5nbGV0b24pIHx8XG4gICAgICAgICAgaXNJbmRleGVkKGl0ZXJhYmxlKSAmJiBpc0luZGV4ZWQoc2luZ2xldG9uKSkge1xuICAgICAgICByZXR1cm4gc2luZ2xldG9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjb25jYXRTZXEgPSBuZXcgQXJyYXlTZXEoaXRlcnMpO1xuICAgIGlmIChpc0tleWVkSXRlcmFibGUpIHtcbiAgICAgIGNvbmNhdFNlcSA9IGNvbmNhdFNlcS50b0tleWVkU2VxKCk7XG4gICAgfSBlbHNlIGlmICghaXNJbmRleGVkKGl0ZXJhYmxlKSkge1xuICAgICAgY29uY2F0U2VxID0gY29uY2F0U2VxLnRvU2V0U2VxKCk7XG4gICAgfVxuICAgIGNvbmNhdFNlcSA9IGNvbmNhdFNlcS5mbGF0dGVuKHRydWUpO1xuICAgIGNvbmNhdFNlcS5zaXplID0gaXRlcnMucmVkdWNlKFxuICAgICAgZnVuY3Rpb24oc3VtLCBzZXEpICB7XG4gICAgICAgIGlmIChzdW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBzaXplID0gc2VxLnNpemU7XG4gICAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1bSArIHNpemU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgMFxuICAgICk7XG4gICAgcmV0dXJuIGNvbmNhdFNlcTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gZmxhdHRlbkZhY3RvcnkoaXRlcmFibGUsIGRlcHRoLCB1c2VLZXlzKSB7XG4gICAgdmFyIGZsYXRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgZmxhdFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICBmdW5jdGlvbiBmbGF0RGVlcChpdGVyLCBjdXJyZW50RGVwdGgpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgICAgaXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgICAgICBpZiAoKCFkZXB0aCB8fCBjdXJyZW50RGVwdGggPCBkZXB0aCkgJiYgaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICAgICAgZmxhdERlZXAodiwgY3VycmVudERlcHRoICsgMSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMrKywgdGhpcyQwKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gIXN0b3BwZWQ7XG4gICAgICAgIH0sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgZmxhdERlZXAoaXRlcmFibGUsIDApO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfVxuICAgIGZsYXRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgdmFyIHN0YWNrID0gW107XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB3aGlsZSAoaXRlcmF0b3IpIHtcbiAgICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgaXRlcmF0b3IgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdiA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfRU5UUklFUykge1xuICAgICAgICAgICAgdiA9IHZbMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoIWRlcHRoIHx8IHN0YWNrLmxlbmd0aCA8IGRlcHRoKSAmJiBpc0l0ZXJhYmxlKHYpKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gdi5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlS2V5cyA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgdiwgc3RlcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZmxhdFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBmbGF0TWFwRmFjdG9yeShpdGVyYWJsZSwgbWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIGNvZXJjZSA9IGl0ZXJhYmxlQ2xhc3MoaXRlcmFibGUpO1xuICAgIHJldHVybiBpdGVyYWJsZS50b1NlcSgpLm1hcChcbiAgICAgIGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIGNvZXJjZShtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBpdGVyYWJsZSkpfVxuICAgICkuZmxhdHRlbih0cnVlKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gaW50ZXJwb3NlRmFjdG9yeShpdGVyYWJsZSwgc2VwYXJhdG9yKSB7XG4gICAgdmFyIGludGVycG9zZWRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgaW50ZXJwb3NlZFNlcXVlbmNlLnNpemUgPSBpdGVyYWJsZS5zaXplICYmIGl0ZXJhYmxlLnNpemUgKiAyIC0xO1xuICAgIGludGVycG9zZWRTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgXG4gICAgICAgIHtyZXR1cm4gKCFpdGVyYXRpb25zIHx8IGZuKHNlcGFyYXRvciwgaXRlcmF0aW9ucysrLCB0aGlzJDApICE9PSBmYWxzZSkgJiZcbiAgICAgICAgZm4odiwgaXRlcmF0aW9ucysrLCB0aGlzJDApICE9PSBmYWxzZX0sXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuICAgIGludGVycG9zZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgaWYgKCFzdGVwIHx8IGl0ZXJhdGlvbnMgJSAyKSB7XG4gICAgICAgICAgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZXJhdGlvbnMgJSAyID9cbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc2VwYXJhdG9yKSA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWUsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gaW50ZXJwb3NlZFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBzb3J0RmFjdG9yeShpdGVyYWJsZSwgY29tcGFyYXRvciwgbWFwcGVyKSB7XG4gICAgaWYgKCFjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gZGVmYXVsdENvbXBhcmF0b3I7XG4gICAgfVxuICAgIHZhciBpc0tleWVkSXRlcmFibGUgPSBpc0tleWVkKGl0ZXJhYmxlKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBlbnRyaWVzID0gaXRlcmFibGUudG9TZXEoKS5tYXAoXG4gICAgICBmdW5jdGlvbih2LCBrKSAge3JldHVybiBbaywgdiwgaW5kZXgrKywgbWFwcGVyID8gbWFwcGVyKHYsIGssIGl0ZXJhYmxlKSA6IHZdfVxuICAgICkudG9BcnJheSgpO1xuICAgIGVudHJpZXMuc29ydChmdW5jdGlvbihhLCBiKSAge3JldHVybiBjb21wYXJhdG9yKGFbM10sIGJbM10pIHx8IGFbMl0gLSBiWzJdfSkuZm9yRWFjaChcbiAgICAgIGlzS2V5ZWRJdGVyYWJsZSA/XG4gICAgICBmdW5jdGlvbih2LCBpKSAgeyBlbnRyaWVzW2ldLmxlbmd0aCA9IDI7IH0gOlxuICAgICAgZnVuY3Rpb24odiwgaSkgIHsgZW50cmllc1tpXSA9IHZbMV07IH1cbiAgICApO1xuICAgIHJldHVybiBpc0tleWVkSXRlcmFibGUgPyBLZXllZFNlcShlbnRyaWVzKSA6XG4gICAgICBpc0luZGV4ZWQoaXRlcmFibGUpID8gSW5kZXhlZFNlcShlbnRyaWVzKSA6XG4gICAgICBTZXRTZXEoZW50cmllcyk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG1heEZhY3RvcnkoaXRlcmFibGUsIGNvbXBhcmF0b3IsIG1hcHBlcikge1xuICAgIGlmICghY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IGRlZmF1bHRDb21wYXJhdG9yO1xuICAgIH1cbiAgICBpZiAobWFwcGVyKSB7XG4gICAgICB2YXIgZW50cnkgPSBpdGVyYWJsZS50b1NlcSgpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gW3YsIG1hcHBlcih2LCBrLCBpdGVyYWJsZSldfSlcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbihhLCBiKSAge3JldHVybiBtYXhDb21wYXJlKGNvbXBhcmF0b3IsIGFbMV0sIGJbMV0pID8gYiA6IGF9KTtcbiAgICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlLnJlZHVjZShmdW5jdGlvbihhLCBiKSAge3JldHVybiBtYXhDb21wYXJlKGNvbXBhcmF0b3IsIGEsIGIpID8gYiA6IGF9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYXhDb21wYXJlKGNvbXBhcmF0b3IsIGEsIGIpIHtcbiAgICB2YXIgY29tcCA9IGNvbXBhcmF0b3IoYiwgYSk7XG4gICAgLy8gYiBpcyBjb25zaWRlcmVkIHRoZSBuZXcgbWF4IGlmIHRoZSBjb21wYXJhdG9yIGRlY2xhcmVzIHRoZW0gZXF1YWwsIGJ1dFxuICAgIC8vIHRoZXkgYXJlIG5vdCBlcXVhbCBhbmQgYiBpcyBpbiBmYWN0IGEgbnVsbGlzaCB2YWx1ZS5cbiAgICByZXR1cm4gKGNvbXAgPT09IDAgJiYgYiAhPT0gYSAmJiAoYiA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IG51bGwgfHwgYiAhPT0gYikpIHx8IGNvbXAgPiAwO1xuICB9XG5cblxuICBmdW5jdGlvbiB6aXBXaXRoRmFjdG9yeShrZXlJdGVyLCB6aXBwZXIsIGl0ZXJzKSB7XG4gICAgdmFyIHppcFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGtleUl0ZXIpO1xuICAgIHppcFNlcXVlbmNlLnNpemUgPSBuZXcgQXJyYXlTZXEoaXRlcnMpLm1hcChmdW5jdGlvbihpICkge3JldHVybiBpLnNpemV9KS5taW4oKTtcbiAgICAvLyBOb3RlOiB0aGlzIGEgZ2VuZXJpYyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIF9faXRlcmF0ZSBpbiB0ZXJtcyBvZlxuICAgIC8vIF9faXRlcmF0b3Igd2hpY2ggbWF5IGJlIG1vcmUgZ2VuZXJpY2FsbHkgdXNlZnVsIGluIHRoZSBmdXR1cmUuXG4gICAgemlwU2VxdWVuY2UuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIC8qIGdlbmVyaWM6XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgIGlmIChmbihzdGVwLnZhbHVlWzFdLCBzdGVwLnZhbHVlWzBdLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgICAqL1xuICAgICAgLy8gaW5kZXhlZDpcbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgaWYgKGZuKHN0ZXAudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG4gICAgemlwU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9ycyA9IGl0ZXJzLm1hcChmdW5jdGlvbihpIClcbiAgICAgICAge3JldHVybiAoaSA9IEl0ZXJhYmxlKGkpLCBnZXRJdGVyYXRvcihyZXZlcnNlID8gaS5yZXZlcnNlKCkgOiBpKSl9XG4gICAgICApO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIGlzRG9uZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXBzO1xuICAgICAgICBpZiAoIWlzRG9uZSkge1xuICAgICAgICAgIHN0ZXBzID0gaXRlcmF0b3JzLm1hcChmdW5jdGlvbihpICkge3JldHVybiBpLm5leHQoKX0pO1xuICAgICAgICAgIGlzRG9uZSA9IHN0ZXBzLnNvbWUoZnVuY3Rpb24ocyApIHtyZXR1cm4gcy5kb25lfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRG9uZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGl0ZXJhdGlvbnMrKyxcbiAgICAgICAgICB6aXBwZXIuYXBwbHkobnVsbCwgc3RlcHMubWFwKGZ1bmN0aW9uKHMgKSB7cmV0dXJuIHMudmFsdWV9KSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIHppcFNlcXVlbmNlXG4gIH1cblxuXG4gIC8vICNwcmFnbWEgSGVscGVyIEZ1bmN0aW9uc1xuXG4gIGZ1bmN0aW9uIHJlaWZ5KGl0ZXIsIHNlcSkge1xuICAgIHJldHVybiBpc1NlcShpdGVyKSA/IHNlcSA6IGl0ZXIuY29uc3RydWN0b3Ioc2VxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZhbGlkYXRlRW50cnkoZW50cnkpIHtcbiAgICBpZiAoZW50cnkgIT09IE9iamVjdChlbnRyeSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFtLLCBWXSB0dXBsZTogJyArIGVudHJ5KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNvbHZlU2l6ZShpdGVyKSB7XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICByZXR1cm4gZW5zdXJlU2l6ZShpdGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGl0ZXJhYmxlQ2xhc3MoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gaXNLZXllZChpdGVyYWJsZSkgPyBLZXllZEl0ZXJhYmxlIDpcbiAgICAgIGlzSW5kZXhlZChpdGVyYWJsZSkgPyBJbmRleGVkSXRlcmFibGUgOlxuICAgICAgU2V0SXRlcmFibGU7XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlU2VxdWVuY2UoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShcbiAgICAgIChcbiAgICAgICAgaXNLZXllZChpdGVyYWJsZSkgPyBLZXllZFNlcSA6XG4gICAgICAgIGlzSW5kZXhlZChpdGVyYWJsZSkgPyBJbmRleGVkU2VxIDpcbiAgICAgICAgU2V0U2VxXG4gICAgICApLnByb3RvdHlwZVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBjYWNoZVJlc3VsdFRocm91Z2goKSB7XG4gICAgaWYgKHRoaXMuX2l0ZXIuY2FjaGVSZXN1bHQpIHtcbiAgICAgIHRoaXMuX2l0ZXIuY2FjaGVSZXN1bHQoKTtcbiAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuX2l0ZXIuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU2VxLnByb3RvdHlwZS5jYWNoZVJlc3VsdC5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmF1bHRDb21wYXJhdG9yKGEsIGIpIHtcbiAgICByZXR1cm4gYSA+IGIgPyAxIDogYSA8IGIgPyAtMSA6IDA7XG4gIH1cblxuICBmdW5jdGlvbiBmb3JjZUl0ZXJhdG9yKGtleVBhdGgpIHtcbiAgICB2YXIgaXRlciA9IGdldEl0ZXJhdG9yKGtleVBhdGgpO1xuICAgIGlmICghaXRlcikge1xuICAgICAgLy8gQXJyYXkgbWlnaHQgbm90IGJlIGl0ZXJhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQsIHNvIHdlIG5lZWQgYSBmYWxsYmFja1xuICAgICAgLy8gdG8gb3VyIHdyYXBwZWQgdHlwZS5cbiAgICAgIGlmICghaXNBcnJheUxpa2Uoa2V5UGF0aCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgaXRlcmFibGUgb3IgYXJyYXktbGlrZTogJyArIGtleVBhdGgpO1xuICAgICAgfVxuICAgICAgaXRlciA9IGdldEl0ZXJhdG9yKEl0ZXJhYmxlKGtleVBhdGgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZXI7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhzcmNfTWFwX19NYXAsIEtleWVkQ29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gc3JjX01hcF9fTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5TWFwKCkgOlxuICAgICAgICBpc01hcCh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5TWFwKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihtYXAgKSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBLZXllZEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbih2LCBrKSAge3JldHVybiBtYXAuc2V0KGssIHYpfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ01hcCB7JywgJ30nKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaywgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb290ID9cbiAgICAgICAgdGhpcy5fcm9vdC5nZXQoMCwgdW5kZWZpbmVkLCBrLCBub3RTZXRWYWx1ZSkgOlxuICAgICAgICBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oaywgdikge1xuICAgICAgcmV0dXJuIHVwZGF0ZU1hcCh0aGlzLCBrLCB2KTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5zZXRJbiA9IGZ1bmN0aW9uKGtleVBhdGgsIHYpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKGtleVBhdGgsIE5PVF9TRVQsIGZ1bmN0aW9uKCkgIHtyZXR1cm4gdn0pO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGspIHtcbiAgICAgIHJldHVybiB1cGRhdGVNYXAodGhpcywgaywgTk9UX1NFVCk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuZGVsZXRlSW4gPSBmdW5jdGlvbihrZXlQYXRoKSB7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVJbihrZXlQYXRoLCBmdW5jdGlvbigpICB7cmV0dXJuIE5PVF9TRVR9KTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihrLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgP1xuICAgICAgICBrKHRoaXMpIDpcbiAgICAgICAgdGhpcy51cGRhdGVJbihba10sIG5vdFNldFZhbHVlLCB1cGRhdGVyKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS51cGRhdGVJbiA9IGZ1bmN0aW9uKGtleVBhdGgsIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gICAgICBpZiAoIXVwZGF0ZXIpIHtcbiAgICAgICAgdXBkYXRlciA9IG5vdFNldFZhbHVlO1xuICAgICAgICBub3RTZXRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciB1cGRhdGVkVmFsdWUgPSB1cGRhdGVJbkRlZXBNYXAoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGZvcmNlSXRlcmF0b3Ioa2V5UGF0aCksXG4gICAgICAgIG5vdFNldFZhbHVlLFxuICAgICAgICB1cGRhdGVyXG4gICAgICApO1xuICAgICAgcmV0dXJuIHVwZGF0ZWRWYWx1ZSA9PT0gTk9UX1NFVCA/IHVuZGVmaW5lZCA6IHVwZGF0ZWRWYWx1ZTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLl9yb290ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlNYXAoKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBDb21wb3NpdGlvblxuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uKC8qLi4uaXRlcnMqLykge1xuICAgICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgdW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlV2l0aCA9IGZ1bmN0aW9uKG1lcmdlcikge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgbWVyZ2VyLCBpdGVycyk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2VJbiA9IGZ1bmN0aW9uKGtleVBhdGgpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKFxuICAgICAgICBrZXlQYXRoLFxuICAgICAgICBlbXB0eU1hcCgpLFxuICAgICAgICBmdW5jdGlvbihtICkge3JldHVybiB0eXBlb2YgbS5tZXJnZSA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgbS5tZXJnZS5hcHBseShtLCBpdGVycykgOlxuICAgICAgICAgIGl0ZXJzW2l0ZXJzLmxlbmd0aCAtIDFdfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5tZXJnZURlZXAgPSBmdW5jdGlvbigvKi4uLml0ZXJzKi8pIHtcbiAgICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIGRlZXBNZXJnZXIodW5kZWZpbmVkKSwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gZnVuY3Rpb24obWVyZ2VyKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCBkZWVwTWVyZ2VyKG1lcmdlciksIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5tZXJnZURlZXBJbiA9IGZ1bmN0aW9uKGtleVBhdGgpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKFxuICAgICAgICBrZXlQYXRoLFxuICAgICAgICBlbXB0eU1hcCgpLFxuICAgICAgICBmdW5jdGlvbihtICkge3JldHVybiB0eXBlb2YgbS5tZXJnZURlZXAgPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgIG0ubWVyZ2VEZWVwLmFwcGx5KG0sIGl0ZXJzKSA6XG4gICAgICAgICAgaXRlcnNbaXRlcnMubGVuZ3RoIC0gMV19XG4gICAgICApO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbihjb21wYXJhdG9yKSB7XG4gICAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICAgIHJldHVybiBPcmRlcmVkTWFwKHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5zb3J0QnkgPSBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIC8vIExhdGUgYmluZGluZ1xuICAgICAgcmV0dXJuIE9yZGVyZWRNYXAoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTXV0YWJpbGl0eVxuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgIHZhciBtdXRhYmxlID0gdGhpcy5hc011dGFibGUoKTtcbiAgICAgIGZuKG11dGFibGUpO1xuICAgICAgcmV0dXJuIG11dGFibGUud2FzQWx0ZXJlZCgpID8gbXV0YWJsZS5fX2Vuc3VyZU93bmVyKHRoaXMuX19vd25lcklEKSA6IHRoaXM7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuYXNNdXRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX293bmVySUQgPyB0aGlzIDogdGhpcy5fX2Vuc3VyZU93bmVyKG5ldyBPd25lcklEKCkpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLmFzSW1tdXRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2Vuc3VyZU93bmVyKCk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19hbHRlcmVkO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMsIHR5cGUsIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB0aGlzLl9yb290ICYmIHRoaXMuX3Jvb3QuaXRlcmF0ZShmdW5jdGlvbihlbnRyeSApIHtcbiAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICByZXR1cm4gZm4oZW50cnlbMV0sIGVudHJ5WzBdLCB0aGlzJDApO1xuICAgICAgfSwgcmV2ZXJzZSk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24ob3duZXJJRCkge1xuICAgICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKCFvd25lcklEKSB7XG4gICAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZU1hcCh0aGlzLnNpemUsIHRoaXMuX3Jvb3QsIG93bmVySUQsIHRoaXMuX19oYXNoKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNNYXAobWF5YmVNYXApIHtcbiAgICByZXR1cm4gISEobWF5YmVNYXAgJiYgbWF5YmVNYXBbSVNfTUFQX1NFTlRJTkVMXSk7XG4gIH1cblxuICBzcmNfTWFwX19NYXAuaXNNYXAgPSBpc01hcDtcblxuICB2YXIgSVNfTUFQX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfTUFQX19AQCc7XG5cbiAgdmFyIE1hcFByb3RvdHlwZSA9IHNyY19NYXBfX01hcC5wcm90b3R5cGU7XG4gIE1hcFByb3RvdHlwZVtJU19NQVBfU0VOVElORUxdID0gdHJ1ZTtcbiAgTWFwUHJvdG90eXBlW0RFTEVURV0gPSBNYXBQcm90b3R5cGUucmVtb3ZlO1xuICBNYXBQcm90b3R5cGUucmVtb3ZlSW4gPSBNYXBQcm90b3R5cGUuZGVsZXRlSW47XG5cblxuICAvLyAjcHJhZ21hIFRyaWUgTm9kZXNcblxuXG5cbiAgICBmdW5jdGlvbiBBcnJheU1hcE5vZGUob3duZXJJRCwgZW50cmllcykge1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuZW50cmllcyA9IGVudHJpZXM7XG4gICAgfVxuXG4gICAgQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgICBmb3IgKHZhciBpaSA9IDAsIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpaSA8IGxlbjsgaWkrKykge1xuICAgICAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lpXVswXSkpIHtcbiAgICAgICAgICByZXR1cm4gZW50cmllc1tpaV1bMV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgQXJyYXlNYXBOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICAgIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG5cbiAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICBmb3IgKHZhciBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWR4IDwgbGVuOyBpZHgrKykge1xuICAgICAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lkeF1bMF0pKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBleGlzdHMgPSBpZHggPCBsZW47XG5cbiAgICAgIGlmIChleGlzdHMgPyBlbnRyaWVzW2lkeF1bMV0gPT09IHZhbHVlIDogcmVtb3ZlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICAgIChyZW1vdmVkIHx8ICFleGlzdHMpICYmIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcblxuICAgICAgaWYgKHJlbW92ZWQgJiYgZW50cmllcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgICAgIH1cblxuICAgICAgaWYgKCFleGlzdHMgJiYgIXJlbW92ZWQgJiYgZW50cmllcy5sZW5ndGggPj0gTUFYX0FSUkFZX01BUF9TSVpFKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVOb2Rlcyhvd25lcklELCBlbnRyaWVzLCBrZXksIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgICAgIHZhciBuZXdFbnRyaWVzID0gaXNFZGl0YWJsZSA/IGVudHJpZXMgOiBhcnJDb3B5KGVudHJpZXMpO1xuXG4gICAgICBpZiAoZXhpc3RzKSB7XG4gICAgICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICAgICAgaWR4ID09PSBsZW4gLSAxID8gbmV3RW50cmllcy5wb3AoKSA6IChuZXdFbnRyaWVzW2lkeF0gPSBuZXdFbnRyaWVzLnBvcCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdFbnRyaWVzW2lkeF0gPSBba2V5LCB2YWx1ZV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0VudHJpZXMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICB0aGlzLmVudHJpZXMgPSBuZXdFbnRyaWVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBBcnJheU1hcE5vZGUob3duZXJJRCwgbmV3RW50cmllcyk7XG4gICAgfTtcblxuXG5cblxuICAgIGZ1bmN0aW9uIEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIGJpdG1hcCwgbm9kZXMpIHtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLmJpdG1hcCA9IGJpdG1hcDtcbiAgICAgIHRoaXMubm9kZXMgPSBub2RlcztcbiAgICB9XG5cbiAgICBCaXRtYXBJbmRleGVkTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgICAgIH1cbiAgICAgIHZhciBiaXQgPSAoMSA8PCAoKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0spKTtcbiAgICAgIHZhciBiaXRtYXAgPSB0aGlzLmJpdG1hcDtcbiAgICAgIHJldHVybiAoYml0bWFwICYgYml0KSA9PT0gMCA/IG5vdFNldFZhbHVlIDpcbiAgICAgICAgdGhpcy5ub2Rlc1twb3BDb3VudChiaXRtYXAgJiAoYml0IC0gMSkpXS5nZXQoc2hpZnQgKyBTSElGVCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSk7XG4gICAgfTtcblxuICAgIEJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICAgIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgICAgIH1cbiAgICAgIHZhciBrZXlIYXNoRnJhZyA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICAgICAgdmFyIGJpdCA9IDEgPDwga2V5SGFzaEZyYWc7XG4gICAgICB2YXIgYml0bWFwID0gdGhpcy5iaXRtYXA7XG4gICAgICB2YXIgZXhpc3RzID0gKGJpdG1hcCAmIGJpdCkgIT09IDA7XG5cbiAgICAgIGlmICghZXhpc3RzICYmIHZhbHVlID09PSBOT1RfU0VUKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgaWR4ID0gcG9wQ291bnQoYml0bWFwICYgKGJpdCAtIDEpKTtcbiAgICAgIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gICAgICB2YXIgbm9kZSA9IGV4aXN0cyA/IG5vZGVzW2lkeF0gOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgbmV3Tm9kZSA9IHVwZGF0ZU5vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQgKyBTSElGVCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpO1xuXG4gICAgICBpZiAobmV3Tm9kZSA9PT0gbm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKCFleGlzdHMgJiYgbmV3Tm9kZSAmJiBub2Rlcy5sZW5ndGggPj0gTUFYX0JJVE1BUF9JTkRFWEVEX1NJWkUpIHtcbiAgICAgICAgcmV0dXJuIGV4cGFuZE5vZGVzKG93bmVySUQsIG5vZGVzLCBiaXRtYXAsIGtleUhhc2hGcmFnLCBuZXdOb2RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV4aXN0cyAmJiAhbmV3Tm9kZSAmJiBub2Rlcy5sZW5ndGggPT09IDIgJiYgaXNMZWFmTm9kZShub2Rlc1tpZHggXiAxXSkpIHtcbiAgICAgICAgcmV0dXJuIG5vZGVzW2lkeCBeIDFdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXhpc3RzICYmIG5ld05vZGUgJiYgbm9kZXMubGVuZ3RoID09PSAxICYmIGlzTGVhZk5vZGUobmV3Tm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIG5ld05vZGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gICAgICB2YXIgbmV3Qml0bWFwID0gZXhpc3RzID8gbmV3Tm9kZSA/IGJpdG1hcCA6IGJpdG1hcCBeIGJpdCA6IGJpdG1hcCB8IGJpdDtcbiAgICAgIHZhciBuZXdOb2RlcyA9IGV4aXN0cyA/IG5ld05vZGUgP1xuICAgICAgICBzZXRJbihub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKSA6XG4gICAgICAgIHNwbGljZU91dChub2RlcywgaWR4LCBpc0VkaXRhYmxlKSA6XG4gICAgICAgIHNwbGljZUluKG5vZGVzLCBpZHgsIG5ld05vZGUsIGlzRWRpdGFibGUpO1xuXG4gICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICB0aGlzLmJpdG1hcCA9IG5ld0JpdG1hcDtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG5ld05vZGVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCBuZXdCaXRtYXAsIG5ld05vZGVzKTtcbiAgICB9O1xuXG5cblxuXG4gICAgZnVuY3Rpb24gSGFzaEFycmF5TWFwTm9kZShvd25lcklELCBjb3VudCwgbm9kZXMpIHtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgICB0aGlzLm5vZGVzID0gbm9kZXM7XG4gICAgfVxuXG4gICAgSGFzaEFycmF5TWFwTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgICAgIH1cbiAgICAgIHZhciBpZHggPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgICAgIHZhciBub2RlID0gdGhpcy5ub2Rlc1tpZHhdO1xuICAgICAgcmV0dXJuIG5vZGUgPyBub2RlLmdldChzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBIYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICAgIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgICAgIH1cbiAgICAgIHZhciBpZHggPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgICAgIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG4gICAgICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzO1xuICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpZHhdO1xuXG4gICAgICBpZiAocmVtb3ZlZCAmJiAhbm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld05vZGUgPSB1cGRhdGVOb2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKTtcbiAgICAgIGlmIChuZXdOb2RlID09PSBub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3Q291bnQgPSB0aGlzLmNvdW50O1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIG5ld0NvdW50Kys7XG4gICAgICB9IGVsc2UgaWYgKCFuZXdOb2RlKSB7XG4gICAgICAgIG5ld0NvdW50LS07XG4gICAgICAgIGlmIChuZXdDb3VudCA8IE1JTl9IQVNIX0FSUkFZX01BUF9TSVpFKSB7XG4gICAgICAgICAgcmV0dXJuIHBhY2tOb2Rlcyhvd25lcklELCBub2RlcywgbmV3Q291bnQsIGlkeCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgICAgIHZhciBuZXdOb2RlcyA9IHNldEluKG5vZGVzLCBpZHgsIG5ld05vZGUsIGlzRWRpdGFibGUpO1xuXG4gICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICB0aGlzLmNvdW50ID0gbmV3Q291bnQ7XG4gICAgICAgIHRoaXMubm9kZXMgPSBuZXdOb2RlcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgSGFzaEFycmF5TWFwTm9kZShvd25lcklELCBuZXdDb3VudCwgbmV3Tm9kZXMpO1xuICAgIH07XG5cblxuXG5cbiAgICBmdW5jdGlvbiBIYXNoQ29sbGlzaW9uTm9kZShvd25lcklELCBrZXlIYXNoLCBlbnRyaWVzKSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5rZXlIYXNoID0ga2V5SGFzaDtcbiAgICAgIHRoaXMuZW50cmllcyA9IGVudHJpZXM7XG4gICAgfVxuXG4gICAgSGFzaENvbGxpc2lvbk5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICAgIGZvciAodmFyIGlpID0gMCwgbGVuID0gZW50cmllcy5sZW5ndGg7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWldWzBdKSkge1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzW2lpXVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBIYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24ob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gICAgICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG5cbiAgICAgIGlmIChrZXlIYXNoICE9PSB0aGlzLmtleUhhc2gpIHtcbiAgICAgICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgICAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgICAgIHJldHVybiBtZXJnZUludG9Ob2RlKHRoaXMsIG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBba2V5LCB2YWx1ZV0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICAgIHZhciBpZHggPSAwO1xuICAgICAgZm9yICh2YXIgbGVuID0gZW50cmllcy5sZW5ndGg7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICAgICAgaWYgKGlzKGtleSwgZW50cmllc1tpZHhdWzBdKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgZXhpc3RzID0gaWR4IDwgbGVuO1xuXG4gICAgICBpZiAoZXhpc3RzID8gZW50cmllc1tpZHhdWzFdID09PSB2YWx1ZSA6IHJlbW92ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgICAocmVtb3ZlZCB8fCAhZXhpc3RzKSAmJiBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG5cbiAgICAgIGlmIChyZW1vdmVkICYmIGxlbiA9PT0gMikge1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlTm9kZShvd25lcklELCB0aGlzLmtleUhhc2gsIGVudHJpZXNbaWR4IF4gMV0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICAgICAgdmFyIG5ld0VudHJpZXMgPSBpc0VkaXRhYmxlID8gZW50cmllcyA6IGFyckNvcHkoZW50cmllcyk7XG5cbiAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgICAgICBpZHggPT09IGxlbiAtIDEgPyBuZXdFbnRyaWVzLnBvcCgpIDogKG5ld0VudHJpZXNbaWR4XSA9IG5ld0VudHJpZXMucG9wKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0VudHJpZXNbaWR4XSA9IFtrZXksIHZhbHVlXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgbmV3RW50cmllcyk7XG4gICAgfTtcblxuXG5cblxuICAgIGZ1bmN0aW9uIFZhbHVlTm9kZShvd25lcklELCBrZXlIYXNoLCBlbnRyeSkge1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMua2V5SGFzaCA9IGtleUhhc2g7XG4gICAgICB0aGlzLmVudHJ5ID0gZW50cnk7XG4gICAgfVxuXG4gICAgVmFsdWVOb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGlzKGtleSwgdGhpcy5lbnRyeVswXSkgPyB0aGlzLmVudHJ5WzFdIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIFZhbHVlTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24ob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gICAgICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuICAgICAgdmFyIGtleU1hdGNoID0gaXMoa2V5LCB0aGlzLmVudHJ5WzBdKTtcbiAgICAgIGlmIChrZXlNYXRjaCA/IHZhbHVlID09PSB0aGlzLmVudHJ5WzFdIDogcmVtb3ZlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgU2V0UmVmKGRpZEFsdGVyKTtcblxuICAgICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgICAgICByZXR1cm47IC8vIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICBpZiAoa2V5TWF0Y2gpIHtcbiAgICAgICAgaWYgKG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEKSB7XG4gICAgICAgICAgdGhpcy5lbnRyeVsxXSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgICAgIH1cblxuICAgICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgICAgcmV0dXJuIG1lcmdlSW50b05vZGUodGhpcywgb3duZXJJRCwgc2hpZnQsIGhhc2goa2V5KSwgW2tleSwgdmFsdWVdKTtcbiAgICB9O1xuXG5cblxuICAvLyAjcHJhZ21hIEl0ZXJhdG9yc1xuXG4gIEFycmF5TWFwTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9XG4gIEhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgZm9yICh2YXIgaWkgPSAwLCBtYXhJbmRleCA9IGVudHJpZXMubGVuZ3RoIC0gMTsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgIGlmIChmbihlbnRyaWVzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS5pdGVyYXRlID1cbiAgSGFzaEFycmF5TWFwTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gICAgZm9yICh2YXIgaWkgPSAwLCBtYXhJbmRleCA9IG5vZGVzLmxlbmd0aCAtIDE7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICB2YXIgbm9kZSA9IG5vZGVzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgaWYgKG5vZGUgJiYgbm9kZS5pdGVyYXRlKGZuLCByZXZlcnNlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIFZhbHVlTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICAgIHJldHVybiBmbih0aGlzLmVudHJ5KTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKE1hcEl0ZXJhdG9yLCBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKTtcblxuICAgIGZ1bmN0aW9uIE1hcEl0ZXJhdG9yKG1hcCwgdHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICB0aGlzLl9yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICAgIHRoaXMuX3N0YWNrID0gbWFwLl9yb290ICYmIG1hcEl0ZXJhdG9yRnJhbWUobWFwLl9yb290KTtcbiAgICB9XG5cbiAgICBNYXBJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHR5cGUgPSB0aGlzLl90eXBlO1xuICAgICAgdmFyIHN0YWNrID0gdGhpcy5fc3RhY2s7XG4gICAgICB3aGlsZSAoc3RhY2spIHtcbiAgICAgICAgdmFyIG5vZGUgPSBzdGFjay5ub2RlO1xuICAgICAgICB2YXIgaW5kZXggPSBzdGFjay5pbmRleCsrO1xuICAgICAgICB2YXIgbWF4SW5kZXg7XG4gICAgICAgIGlmIChub2RlLmVudHJ5KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBub2RlLmVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgbWF4SW5kZXggPSBub2RlLmVudHJpZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpZiAoaW5kZXggPD0gbWF4SW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIG5vZGUuZW50cmllc1t0aGlzLl9yZXZlcnNlID8gbWF4SW5kZXggLSBpbmRleCA6IGluZGV4XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1heEluZGV4ID0gbm9kZS5ub2Rlcy5sZW5ndGggLSAxO1xuICAgICAgICAgIGlmIChpbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgICAgICAgdmFyIHN1Yk5vZGUgPSBub2RlLm5vZGVzW3RoaXMuX3JldmVyc2UgPyBtYXhJbmRleCAtIGluZGV4IDogaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHN1Yk5vZGUpIHtcbiAgICAgICAgICAgICAgaWYgKHN1Yk5vZGUuZW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBzdWJOb2RlLmVudHJ5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdGFjayA9IHRoaXMuX3N0YWNrID0gbWFwSXRlcmF0b3JGcmFtZShzdWJOb2RlLCBzdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sgPSB0aGlzLl9zdGFjayA9IHRoaXMuX3N0YWNrLl9fcHJldjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBlbnRyeSkge1xuICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cblxuICBmdW5jdGlvbiBtYXBJdGVyYXRvckZyYW1lKG5vZGUsIHByZXYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZTogbm9kZSxcbiAgICAgIGluZGV4OiAwLFxuICAgICAgX19wcmV2OiBwcmV2XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VNYXAoc2l6ZSwgcm9vdCwgb3duZXJJRCwgaGFzaCkge1xuICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKE1hcFByb3RvdHlwZSk7XG4gICAgbWFwLnNpemUgPSBzaXplO1xuICAgIG1hcC5fcm9vdCA9IHJvb3Q7XG4gICAgbWFwLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgbWFwLl9faGFzaCA9IGhhc2g7XG4gICAgbWFwLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgIHJldHVybiBtYXA7XG4gIH1cblxuICB2YXIgRU1QVFlfTUFQO1xuICBmdW5jdGlvbiBlbXB0eU1hcCgpIHtcbiAgICByZXR1cm4gRU1QVFlfTUFQIHx8IChFTVBUWV9NQVAgPSBtYWtlTWFwKDApKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1hcChtYXAsIGssIHYpIHtcbiAgICB2YXIgbmV3Um9vdDtcbiAgICB2YXIgbmV3U2l6ZTtcbiAgICBpZiAoIW1hcC5fcm9vdCkge1xuICAgICAgaWYgKHYgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgIH1cbiAgICAgIG5ld1NpemUgPSAxO1xuICAgICAgbmV3Um9vdCA9IG5ldyBBcnJheU1hcE5vZGUobWFwLl9fb3duZXJJRCwgW1trLCB2XV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZGlkQ2hhbmdlU2l6ZSA9IE1ha2VSZWYoQ0hBTkdFX0xFTkdUSCk7XG4gICAgICB2YXIgZGlkQWx0ZXIgPSBNYWtlUmVmKERJRF9BTFRFUik7XG4gICAgICBuZXdSb290ID0gdXBkYXRlTm9kZShtYXAuX3Jvb3QsIG1hcC5fX293bmVySUQsIDAsIHVuZGVmaW5lZCwgaywgdiwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpO1xuICAgICAgaWYgKCFkaWRBbHRlci52YWx1ZSkge1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgfVxuICAgICAgbmV3U2l6ZSA9IG1hcC5zaXplICsgKGRpZENoYW5nZVNpemUudmFsdWUgPyB2ID09PSBOT1RfU0VUID8gLTEgOiAxIDogMCk7XG4gICAgfVxuICAgIGlmIChtYXAuX19vd25lcklEKSB7XG4gICAgICBtYXAuc2l6ZSA9IG5ld1NpemU7XG4gICAgICBtYXAuX3Jvb3QgPSBuZXdSb290O1xuICAgICAgbWFwLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIG1hcC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1Jvb3QgPyBtYWtlTWFwKG5ld1NpemUsIG5ld1Jvb3QpIDogZW1wdHlNYXAoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU5vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICBpZiAodmFsdWUgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG4gICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUudXBkYXRlKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcik7XG4gIH1cblxuICBmdW5jdGlvbiBpc0xlYWZOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5jb25zdHJ1Y3RvciA9PT0gVmFsdWVOb2RlIHx8IG5vZGUuY29uc3RydWN0b3IgPT09IEhhc2hDb2xsaXNpb25Ob2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvTm9kZShub2RlLCBvd25lcklELCBzaGlmdCwga2V5SGFzaCwgZW50cnkpIHtcbiAgICBpZiAobm9kZS5rZXlIYXNoID09PSBrZXlIYXNoKSB7XG4gICAgICByZXR1cm4gbmV3IEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIGtleUhhc2gsIFtub2RlLmVudHJ5LCBlbnRyeV0pO1xuICAgIH1cblxuICAgIHZhciBpZHgxID0gKHNoaWZ0ID09PSAwID8gbm9kZS5rZXlIYXNoIDogbm9kZS5rZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICAgIHZhciBpZHgyID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG5cbiAgICB2YXIgbmV3Tm9kZTtcbiAgICB2YXIgbm9kZXMgPSBpZHgxID09PSBpZHgyID9cbiAgICAgIFttZXJnZUludG9Ob2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGVudHJ5KV0gOlxuICAgICAgKChuZXdOb2RlID0gbmV3IFZhbHVlTm9kZShvd25lcklELCBrZXlIYXNoLCBlbnRyeSkpLCBpZHgxIDwgaWR4MiA/IFtub2RlLCBuZXdOb2RlXSA6IFtuZXdOb2RlLCBub2RlXSk7XG5cbiAgICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsICgxIDw8IGlkeDEpIHwgKDEgPDwgaWR4MiksIG5vZGVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5vZGVzKG93bmVySUQsIGVudHJpZXMsIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIG93bmVySUQgPSBuZXcgT3duZXJJRCgpO1xuICAgIH1cbiAgICB2YXIgbm9kZSA9IG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgaGFzaChrZXkpLCBba2V5LCB2YWx1ZV0pO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBlbnRyaWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpaV07XG4gICAgICBub2RlID0gbm9kZS51cGRhdGUob3duZXJJRCwgMCwgdW5kZWZpbmVkLCBlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhY2tOb2Rlcyhvd25lcklELCBub2RlcywgY291bnQsIGV4Y2x1ZGluZykge1xuICAgIHZhciBiaXRtYXAgPSAwO1xuICAgIHZhciBwYWNrZWRJSSA9IDA7XG4gICAgdmFyIHBhY2tlZE5vZGVzID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICBmb3IgKHZhciBpaSA9IDAsIGJpdCA9IDEsIGxlbiA9IG5vZGVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyssIGJpdCA8PD0gMSkge1xuICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpaV07XG4gICAgICBpZiAobm9kZSAhPT0gdW5kZWZpbmVkICYmIGlpICE9PSBleGNsdWRpbmcpIHtcbiAgICAgICAgYml0bWFwIHw9IGJpdDtcbiAgICAgICAgcGFja2VkTm9kZXNbcGFja2VkSUkrK10gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIGJpdG1hcCwgcGFja2VkTm9kZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwYW5kTm9kZXMob3duZXJJRCwgbm9kZXMsIGJpdG1hcCwgaW5jbHVkaW5nLCBub2RlKSB7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICB2YXIgZXhwYW5kZWROb2RlcyA9IG5ldyBBcnJheShTSVpFKTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGJpdG1hcCAhPT0gMDsgaWkrKywgYml0bWFwID4+Pj0gMSkge1xuICAgICAgZXhwYW5kZWROb2Rlc1tpaV0gPSBiaXRtYXAgJiAxID8gbm9kZXNbY291bnQrK10gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGV4cGFuZGVkTm9kZXNbaW5jbHVkaW5nXSA9IG5vZGU7XG4gICAgcmV0dXJuIG5ldyBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIGNvdW50ICsgMSwgZXhwYW5kZWROb2Rlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBtZXJnZUludG9NYXBXaXRoKG1hcCwgbWVyZ2VyLCBpdGVyYWJsZXMpIHtcbiAgICB2YXIgaXRlcnMgPSBbXTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcmFibGVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaXRlcmFibGVzW2lpXTtcbiAgICAgIHZhciBpdGVyID0gS2V5ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICBpZiAoIWlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgIGl0ZXIgPSBpdGVyLm1hcChmdW5jdGlvbih2ICkge3JldHVybiBmcm9tSlModil9KTtcbiAgICAgIH1cbiAgICAgIGl0ZXJzLnB1c2goaXRlcik7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZUludG9Db2xsZWN0aW9uV2l0aChtYXAsIG1lcmdlciwgaXRlcnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVlcE1lcmdlcihtZXJnZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZXhpc3RpbmcsIHZhbHVlLCBrZXkpIFxuICAgICAge3JldHVybiBleGlzdGluZyAmJiBleGlzdGluZy5tZXJnZURlZXBXaXRoICYmIGlzSXRlcmFibGUodmFsdWUpID9cbiAgICAgICAgZXhpc3RpbmcubWVyZ2VEZWVwV2l0aChtZXJnZXIsIHZhbHVlKSA6XG4gICAgICAgIG1lcmdlciA/IG1lcmdlcihleGlzdGluZywgdmFsdWUsIGtleSkgOiB2YWx1ZX07XG4gIH1cblxuICBmdW5jdGlvbiBtZXJnZUludG9Db2xsZWN0aW9uV2l0aChjb2xsZWN0aW9uLCBtZXJnZXIsIGl0ZXJzKSB7XG4gICAgaXRlcnMgPSBpdGVycy5maWx0ZXIoZnVuY3Rpb24oeCApIHtyZXR1cm4geC5zaXplICE9PSAwfSk7XG4gICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgfVxuICAgIGlmIChjb2xsZWN0aW9uLnNpemUgPT09IDAgJiYgIWNvbGxlY3Rpb24uX19vd25lcklEICYmIGl0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uY29uc3RydWN0b3IoaXRlcnNbMF0pO1xuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdGlvbi53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKGNvbGxlY3Rpb24gKSB7XG4gICAgICB2YXIgbWVyZ2VJbnRvTWFwID0gbWVyZ2VyID9cbiAgICAgICAgZnVuY3Rpb24odmFsdWUsIGtleSkgIHtcbiAgICAgICAgICBjb2xsZWN0aW9uLnVwZGF0ZShrZXksIE5PVF9TRVQsIGZ1bmN0aW9uKGV4aXN0aW5nIClcbiAgICAgICAgICAgIHtyZXR1cm4gZXhpc3RpbmcgPT09IE5PVF9TRVQgPyB2YWx1ZSA6IG1lcmdlcihleGlzdGluZywgdmFsdWUsIGtleSl9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSA6XG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlLCBrZXkpICB7XG4gICAgICAgICAgY29sbGVjdGlvbi5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVycy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgaXRlcnNbaWldLmZvckVhY2gobWVyZ2VJbnRvTWFwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUluRGVlcE1hcChleGlzdGluZywga2V5UGF0aEl0ZXIsIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gICAgdmFyIGlzTm90U2V0ID0gZXhpc3RpbmcgPT09IE5PVF9TRVQ7XG4gICAgdmFyIHN0ZXAgPSBrZXlQYXRoSXRlci5uZXh0KCk7XG4gICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgdmFyIGV4aXN0aW5nVmFsdWUgPSBpc05vdFNldCA/IG5vdFNldFZhbHVlIDogZXhpc3Rpbmc7XG4gICAgICB2YXIgbmV3VmFsdWUgPSB1cGRhdGVyKGV4aXN0aW5nVmFsdWUpO1xuICAgICAgcmV0dXJuIG5ld1ZhbHVlID09PSBleGlzdGluZ1ZhbHVlID8gZXhpc3RpbmcgOiBuZXdWYWx1ZTtcbiAgICB9XG4gICAgaW52YXJpYW50KFxuICAgICAgaXNOb3RTZXQgfHwgKGV4aXN0aW5nICYmIGV4aXN0aW5nLnNldCksXG4gICAgICAnaW52YWxpZCBrZXlQYXRoJ1xuICAgICk7XG4gICAgdmFyIGtleSA9IHN0ZXAudmFsdWU7XG4gICAgdmFyIG5leHRFeGlzdGluZyA9IGlzTm90U2V0ID8gTk9UX1NFVCA6IGV4aXN0aW5nLmdldChrZXksIE5PVF9TRVQpO1xuICAgIHZhciBuZXh0VXBkYXRlZCA9IHVwZGF0ZUluRGVlcE1hcChcbiAgICAgIG5leHRFeGlzdGluZyxcbiAgICAgIGtleVBhdGhJdGVyLFxuICAgICAgbm90U2V0VmFsdWUsXG4gICAgICB1cGRhdGVyXG4gICAgKTtcbiAgICByZXR1cm4gbmV4dFVwZGF0ZWQgPT09IG5leHRFeGlzdGluZyA/IGV4aXN0aW5nIDpcbiAgICAgIG5leHRVcGRhdGVkID09PSBOT1RfU0VUID8gZXhpc3RpbmcucmVtb3ZlKGtleSkgOlxuICAgICAgKGlzTm90U2V0ID8gZW1wdHlNYXAoKSA6IGV4aXN0aW5nKS5zZXQoa2V5LCBuZXh0VXBkYXRlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BDb3VudCh4KSB7XG4gICAgeCA9IHggLSAoKHggPj4gMSkgJiAweDU1NTU1NTU1KTtcbiAgICB4ID0gKHggJiAweDMzMzMzMzMzKSArICgoeCA+PiAyKSAmIDB4MzMzMzMzMzMpO1xuICAgIHggPSAoeCArICh4ID4+IDQpKSAmIDB4MGYwZjBmMGY7XG4gICAgeCA9IHggKyAoeCA+PiA4KTtcbiAgICB4ID0geCArICh4ID4+IDE2KTtcbiAgICByZXR1cm4geCAmIDB4N2Y7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRJbihhcnJheSwgaWR4LCB2YWwsIGNhbkVkaXQpIHtcbiAgICB2YXIgbmV3QXJyYXkgPSBjYW5FZGl0ID8gYXJyYXkgOiBhcnJDb3B5KGFycmF5KTtcbiAgICBuZXdBcnJheVtpZHhdID0gdmFsO1xuICAgIHJldHVybiBuZXdBcnJheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGljZUluKGFycmF5LCBpZHgsIHZhbCwgY2FuRWRpdCkge1xuICAgIHZhciBuZXdMZW4gPSBhcnJheS5sZW5ndGggKyAxO1xuICAgIGlmIChjYW5FZGl0ICYmIGlkeCArIDEgPT09IG5ld0xlbikge1xuICAgICAgYXJyYXlbaWR4XSA9IHZhbDtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgdmFyIG5ld0FycmF5ID0gbmV3IEFycmF5KG5ld0xlbik7XG4gICAgdmFyIGFmdGVyID0gMDtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbmV3TGVuOyBpaSsrKSB7XG4gICAgICBpZiAoaWkgPT09IGlkeCkge1xuICAgICAgICBuZXdBcnJheVtpaV0gPSB2YWw7XG4gICAgICAgIGFmdGVyID0gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdBcnJheVtpaV0gPSBhcnJheVtpaSArIGFmdGVyXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld0FycmF5O1xuICB9XG5cbiAgZnVuY3Rpb24gc3BsaWNlT3V0KGFycmF5LCBpZHgsIGNhbkVkaXQpIHtcbiAgICB2YXIgbmV3TGVuID0gYXJyYXkubGVuZ3RoIC0gMTtcbiAgICBpZiAoY2FuRWRpdCAmJiBpZHggPT09IG5ld0xlbikge1xuICAgICAgYXJyYXkucG9wKCk7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuICAgIHZhciBuZXdBcnJheSA9IG5ldyBBcnJheShuZXdMZW4pO1xuICAgIHZhciBhZnRlciA9IDA7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG5ld0xlbjsgaWkrKykge1xuICAgICAgaWYgKGlpID09PSBpZHgpIHtcbiAgICAgICAgYWZ0ZXIgPSAxO1xuICAgICAgfVxuICAgICAgbmV3QXJyYXlbaWldID0gYXJyYXlbaWkgKyBhZnRlcl07XG4gICAgfVxuICAgIHJldHVybiBuZXdBcnJheTtcbiAgfVxuXG4gIHZhciBNQVhfQVJSQVlfTUFQX1NJWkUgPSBTSVpFIC8gNDtcbiAgdmFyIE1BWF9CSVRNQVBfSU5ERVhFRF9TSVpFID0gU0laRSAvIDI7XG4gIHZhciBNSU5fSEFTSF9BUlJBWV9NQVBfU0laRSA9IFNJWkUgLyA0O1xuXG4gIGNyZWF0ZUNsYXNzKExpc3QsIEluZGV4ZWRDb2xsZWN0aW9uKTtcblxuICAgIC8vIEBwcmFnbWEgQ29uc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBMaXN0KHZhbHVlKSB7XG4gICAgICB2YXIgZW1wdHkgPSBlbXB0eUxpc3QoKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0xpc3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyID0gSW5kZXhlZEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgIHZhciBzaXplID0gaXRlci5zaXplO1xuICAgICAgaWYgKHNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgICAgfVxuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoc2l6ZSk7XG4gICAgICBpZiAoc2l6ZSA+IDAgJiYgc2l6ZSA8IFNJWkUpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VMaXN0KDAsIHNpemUsIFNISUZULCBudWxsLCBuZXcgVk5vZGUoaXRlci50b0FycmF5KCkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbXB0eS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKGxpc3QgKSB7XG4gICAgICAgIGxpc3Quc2V0U2l6ZShzaXplKTtcbiAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uKHYsIGkpICB7cmV0dXJuIGxpc3Quc2V0KGksIHYpfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBMaXN0Lm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ0xpc3QgWycsICddJyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBMaXN0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5zaXplKSB7XG4gICAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGluZGV4ICs9IHRoaXMuX29yaWdpbjtcbiAgICAgIHZhciBub2RlID0gbGlzdE5vZGVGb3IodGhpcywgaW5kZXgpO1xuICAgICAgcmV0dXJuIG5vZGUgJiYgbm9kZS5hcnJheVtpbmRleCAmIE1BU0tdO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gICAgTGlzdC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdXBkYXRlTGlzdCh0aGlzLCBpbmRleCwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgcmV0dXJuICF0aGlzLmhhcyhpbmRleCkgPyB0aGlzIDpcbiAgICAgICAgaW5kZXggPT09IDAgPyB0aGlzLnNoaWZ0KCkgOlxuICAgICAgICBpbmRleCA9PT0gdGhpcy5zaXplIC0gMSA/IHRoaXMucG9wKCkgOlxuICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuX29yaWdpbiA9IHRoaXMuX2NhcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5fbGV2ZWwgPSBTSElGVDtcbiAgICAgICAgdGhpcy5fcm9vdCA9IHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbXB0eUxpc3QoKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgb2xkU2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obGlzdCApIHtcbiAgICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCAwLCBvbGRTaXplICsgdmFsdWVzLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB2YWx1ZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgbGlzdC5zZXQob2xkU2l6ZSArIGlpLCB2YWx1ZXNbaWldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMCwgLTEpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgdmFyIHZhbHVlcyA9IGFyZ3VtZW50cztcbiAgICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obGlzdCApIHtcbiAgICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCAtdmFsdWVzLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB2YWx1ZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgbGlzdC5zZXQoaWksIHZhbHVlc1tpaV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKHRoaXMsIDEpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgICBMaXN0LnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uKC8qLi4uaXRlcnMqLykge1xuICAgICAgcmV0dXJuIG1lcmdlSW50b0xpc3RXaXRoKHRoaXMsIHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUubWVyZ2VXaXRoID0gZnVuY3Rpb24obWVyZ2VyKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgbWVyZ2VyLCBpdGVycyk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLm1lcmdlRGVlcCA9IGZ1bmN0aW9uKC8qLi4uaXRlcnMqLykge1xuICAgICAgcmV0dXJuIG1lcmdlSW50b0xpc3RXaXRoKHRoaXMsIGRlZXBNZXJnZXIodW5kZWZpbmVkKSwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IGZ1bmN0aW9uKG1lcmdlcikge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIG1lcmdlSW50b0xpc3RXaXRoKHRoaXMsIGRlZXBNZXJnZXIobWVyZ2VyKSwgaXRlcnMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24oc2l6ZSkge1xuICAgICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMCwgc2l6ZSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgSXRlcmF0aW9uXG5cbiAgICBMaXN0LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcbiAgICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyhcbiAgICAgICAgdGhpcyxcbiAgICAgICAgcmVzb2x2ZUJlZ2luKGJlZ2luLCBzaXplKSxcbiAgICAgICAgcmVzb2x2ZUVuZChlbmQsIHNpemUpXG4gICAgICApO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHZhciB2YWx1ZXMgPSBpdGVyYXRlTGlzdCh0aGlzLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlcygpO1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IERPTkUgP1xuICAgICAgICAgIGl0ZXJhdG9yRG9uZSgpIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGluZGV4KyssIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHZhciB2YWx1ZXMgPSBpdGVyYXRlTGlzdCh0aGlzLCByZXZlcnNlKTtcbiAgICAgIHZhciB2YWx1ZTtcbiAgICAgIHdoaWxlICgodmFsdWUgPSB2YWx1ZXMoKSkgIT09IERPTkUpIHtcbiAgICAgICAgaWYgKGZuKHZhbHVlLCBpbmRleCsrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24ob3duZXJJRCkge1xuICAgICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKCFvd25lcklEKSB7XG4gICAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZUxpc3QodGhpcy5fb3JpZ2luLCB0aGlzLl9jYXBhY2l0eSwgdGhpcy5fbGV2ZWwsIHRoaXMuX3Jvb3QsIHRoaXMuX3RhaWwsIG93bmVySUQsIHRoaXMuX19oYXNoKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNMaXN0KG1heWJlTGlzdCkge1xuICAgIHJldHVybiAhIShtYXliZUxpc3QgJiYgbWF5YmVMaXN0W0lTX0xJU1RfU0VOVElORUxdKTtcbiAgfVxuXG4gIExpc3QuaXNMaXN0ID0gaXNMaXN0O1xuXG4gIHZhciBJU19MSVNUX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfTElTVF9fQEAnO1xuXG4gIHZhciBMaXN0UHJvdG90eXBlID0gTGlzdC5wcm90b3R5cGU7XG4gIExpc3RQcm90b3R5cGVbSVNfTElTVF9TRU5USU5FTF0gPSB0cnVlO1xuICBMaXN0UHJvdG90eXBlW0RFTEVURV0gPSBMaXN0UHJvdG90eXBlLnJlbW92ZTtcbiAgTGlzdFByb3RvdHlwZS5zZXRJbiA9IE1hcFByb3RvdHlwZS5zZXRJbjtcbiAgTGlzdFByb3RvdHlwZS5kZWxldGVJbiA9XG4gIExpc3RQcm90b3R5cGUucmVtb3ZlSW4gPSBNYXBQcm90b3R5cGUucmVtb3ZlSW47XG4gIExpc3RQcm90b3R5cGUudXBkYXRlID0gTWFwUHJvdG90eXBlLnVwZGF0ZTtcbiAgTGlzdFByb3RvdHlwZS51cGRhdGVJbiA9IE1hcFByb3RvdHlwZS51cGRhdGVJbjtcbiAgTGlzdFByb3RvdHlwZS5tZXJnZUluID0gTWFwUHJvdG90eXBlLm1lcmdlSW47XG4gIExpc3RQcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwSW47XG4gIExpc3RQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuICBMaXN0UHJvdG90eXBlLmFzTXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc011dGFibGU7XG4gIExpc3RQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG4gIExpc3RQcm90b3R5cGUud2FzQWx0ZXJlZCA9IE1hcFByb3RvdHlwZS53YXNBbHRlcmVkO1xuXG5cblxuICAgIGZ1bmN0aW9uIFZOb2RlKGFycmF5LCBvd25lcklEKSB7XG4gICAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgIH1cblxuICAgIC8vIFRPRE86IHNlZW1zIGxpa2UgdGhlc2UgbWV0aG9kcyBhcmUgdmVyeSBzaW1pbGFyXG5cbiAgICBWTm9kZS5wcm90b3R5cGUucmVtb3ZlQmVmb3JlID0gZnVuY3Rpb24ob3duZXJJRCwgbGV2ZWwsIGluZGV4KSB7XG4gICAgICBpZiAoaW5kZXggPT09IGxldmVsID8gMSA8PCBsZXZlbCA6IDAgfHwgdGhpcy5hcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgb3JpZ2luSW5kZXggPSAoaW5kZXggPj4+IGxldmVsKSAmIE1BU0s7XG4gICAgICBpZiAob3JpZ2luSW5kZXggPj0gdGhpcy5hcnJheS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWTm9kZShbXSwgb3duZXJJRCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVtb3ZpbmdGaXJzdCA9IG9yaWdpbkluZGV4ID09PSAwO1xuICAgICAgdmFyIG5ld0NoaWxkO1xuICAgICAgaWYgKGxldmVsID4gMCkge1xuICAgICAgICB2YXIgb2xkQ2hpbGQgPSB0aGlzLmFycmF5W29yaWdpbkluZGV4XTtcbiAgICAgICAgbmV3Q2hpbGQgPSBvbGRDaGlsZCAmJiBvbGRDaGlsZC5yZW1vdmVCZWZvcmUob3duZXJJRCwgbGV2ZWwgLSBTSElGVCwgaW5kZXgpO1xuICAgICAgICBpZiAobmV3Q2hpbGQgPT09IG9sZENoaWxkICYmIHJlbW92aW5nRmlyc3QpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlbW92aW5nRmlyc3QgJiYgIW5ld0NoaWxkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIGVkaXRhYmxlID0gZWRpdGFibGVWTm9kZSh0aGlzLCBvd25lcklEKTtcbiAgICAgIGlmICghcmVtb3ZpbmdGaXJzdCkge1xuICAgICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgb3JpZ2luSW5kZXg7IGlpKyspIHtcbiAgICAgICAgICBlZGl0YWJsZS5hcnJheVtpaV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChuZXdDaGlsZCkge1xuICAgICAgICBlZGl0YWJsZS5hcnJheVtvcmlnaW5JbmRleF0gPSBuZXdDaGlsZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlZGl0YWJsZTtcbiAgICB9O1xuXG4gICAgVk5vZGUucHJvdG90eXBlLnJlbW92ZUFmdGVyID0gZnVuY3Rpb24ob3duZXJJRCwgbGV2ZWwsIGluZGV4KSB7XG4gICAgICBpZiAoaW5kZXggPT09IGxldmVsID8gMSA8PCBsZXZlbCA6IDAgfHwgdGhpcy5hcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgc2l6ZUluZGV4ID0gKChpbmRleCAtIDEpID4+PiBsZXZlbCkgJiBNQVNLO1xuICAgICAgaWYgKHNpemVJbmRleCA+PSB0aGlzLmFycmF5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciByZW1vdmluZ0xhc3QgPSBzaXplSW5kZXggPT09IHRoaXMuYXJyYXkubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBuZXdDaGlsZDtcbiAgICAgIGlmIChsZXZlbCA+IDApIHtcbiAgICAgICAgdmFyIG9sZENoaWxkID0gdGhpcy5hcnJheVtzaXplSW5kZXhdO1xuICAgICAgICBuZXdDaGlsZCA9IG9sZENoaWxkICYmIG9sZENoaWxkLnJlbW92ZUFmdGVyKG93bmVySUQsIGxldmVsIC0gU0hJRlQsIGluZGV4KTtcbiAgICAgICAgaWYgKG5ld0NoaWxkID09PSBvbGRDaGlsZCAmJiByZW1vdmluZ0xhc3QpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlbW92aW5nTGFzdCAmJiAhbmV3Q2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgZWRpdGFibGUgPSBlZGl0YWJsZVZOb2RlKHRoaXMsIG93bmVySUQpO1xuICAgICAgaWYgKCFyZW1vdmluZ0xhc3QpIHtcbiAgICAgICAgZWRpdGFibGUuYXJyYXkucG9wKCk7XG4gICAgICB9XG4gICAgICBpZiAobmV3Q2hpbGQpIHtcbiAgICAgICAgZWRpdGFibGUuYXJyYXlbc2l6ZUluZGV4XSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVkaXRhYmxlO1xuICAgIH07XG5cblxuXG4gIHZhciBET05FID0ge307XG5cbiAgZnVuY3Rpb24gaXRlcmF0ZUxpc3QobGlzdCwgcmV2ZXJzZSkge1xuICAgIHZhciBsZWZ0ID0gbGlzdC5fb3JpZ2luO1xuICAgIHZhciByaWdodCA9IGxpc3QuX2NhcGFjaXR5O1xuICAgIHZhciB0YWlsUG9zID0gZ2V0VGFpbE9mZnNldChyaWdodCk7XG4gICAgdmFyIHRhaWwgPSBsaXN0Ll90YWlsO1xuXG4gICAgcmV0dXJuIGl0ZXJhdGVOb2RlT3JMZWFmKGxpc3QuX3Jvb3QsIGxpc3QuX2xldmVsLCAwKTtcblxuICAgIGZ1bmN0aW9uIGl0ZXJhdGVOb2RlT3JMZWFmKG5vZGUsIGxldmVsLCBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBsZXZlbCA9PT0gMCA/XG4gICAgICAgIGl0ZXJhdGVMZWFmKG5vZGUsIG9mZnNldCkgOlxuICAgICAgICBpdGVyYXRlTm9kZShub2RlLCBsZXZlbCwgb2Zmc2V0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpdGVyYXRlTGVhZihub2RlLCBvZmZzZXQpIHtcbiAgICAgIHZhciBhcnJheSA9IG9mZnNldCA9PT0gdGFpbFBvcyA/IHRhaWwgJiYgdGFpbC5hcnJheSA6IG5vZGUgJiYgbm9kZS5hcnJheTtcbiAgICAgIHZhciBmcm9tID0gb2Zmc2V0ID4gbGVmdCA/IDAgOiBsZWZ0IC0gb2Zmc2V0O1xuICAgICAgdmFyIHRvID0gcmlnaHQgLSBvZmZzZXQ7XG4gICAgICBpZiAodG8gPiBTSVpFKSB7XG4gICAgICAgIHRvID0gU0laRTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpICB7XG4gICAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICAgIHJldHVybiBET05FO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZHggPSByZXZlcnNlID8gLS10byA6IGZyb20rKztcbiAgICAgICAgcmV0dXJuIGFycmF5ICYmIGFycmF5W2lkeF07XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGl0ZXJhdGVOb2RlKG5vZGUsIGxldmVsLCBvZmZzZXQpIHtcbiAgICAgIHZhciB2YWx1ZXM7XG4gICAgICB2YXIgYXJyYXkgPSBub2RlICYmIG5vZGUuYXJyYXk7XG4gICAgICB2YXIgZnJvbSA9IG9mZnNldCA+IGxlZnQgPyAwIDogKGxlZnQgLSBvZmZzZXQpID4+IGxldmVsO1xuICAgICAgdmFyIHRvID0gKChyaWdodCAtIG9mZnNldCkgPj4gbGV2ZWwpICsgMTtcbiAgICAgIGlmICh0byA+IFNJWkUpIHtcbiAgICAgICAgdG8gPSBTSVpFO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlcygpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBET05FKSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlcyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICAgICAgcmV0dXJuIERPTkU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpZHggPSByZXZlcnNlID8gLS10byA6IGZyb20rKztcbiAgICAgICAgICB2YWx1ZXMgPSBpdGVyYXRlTm9kZU9yTGVhZihcbiAgICAgICAgICAgIGFycmF5ICYmIGFycmF5W2lkeF0sIGxldmVsIC0gU0hJRlQsIG9mZnNldCArIChpZHggPDwgbGV2ZWwpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VMaXN0KG9yaWdpbiwgY2FwYWNpdHksIGxldmVsLCByb290LCB0YWlsLCBvd25lcklELCBoYXNoKSB7XG4gICAgdmFyIGxpc3QgPSBPYmplY3QuY3JlYXRlKExpc3RQcm90b3R5cGUpO1xuICAgIGxpc3Quc2l6ZSA9IGNhcGFjaXR5IC0gb3JpZ2luO1xuICAgIGxpc3QuX29yaWdpbiA9IG9yaWdpbjtcbiAgICBsaXN0Ll9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgIGxpc3QuX2xldmVsID0gbGV2ZWw7XG4gICAgbGlzdC5fcm9vdCA9IHJvb3Q7XG4gICAgbGlzdC5fdGFpbCA9IHRhaWw7XG4gICAgbGlzdC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIGxpc3QuX19oYXNoID0gaGFzaDtcbiAgICBsaXN0Ll9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgdmFyIEVNUFRZX0xJU1Q7XG4gIGZ1bmN0aW9uIGVtcHR5TGlzdCgpIHtcbiAgICByZXR1cm4gRU1QVFlfTElTVCB8fCAoRU1QVFlfTElTVCA9IG1ha2VMaXN0KDAsIDAsIFNISUZUKSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaXN0KGxpc3QsIGluZGV4LCB2YWx1ZSkge1xuICAgIGluZGV4ID0gd3JhcEluZGV4KGxpc3QsIGluZGV4KTtcblxuICAgIGlmIChpbmRleCA+PSBsaXN0LnNpemUgfHwgaW5kZXggPCAwKSB7XG4gICAgICByZXR1cm4gbGlzdC53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKGxpc3QgKSB7XG4gICAgICAgIGluZGV4IDwgMCA/XG4gICAgICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCBpbmRleCkuc2V0KDAsIHZhbHVlKSA6XG4gICAgICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCAwLCBpbmRleCArIDEpLnNldChpbmRleCwgdmFsdWUpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpbmRleCArPSBsaXN0Ll9vcmlnaW47XG5cbiAgICB2YXIgbmV3VGFpbCA9IGxpc3QuX3RhaWw7XG4gICAgdmFyIG5ld1Jvb3QgPSBsaXN0Ll9yb290O1xuICAgIHZhciBkaWRBbHRlciA9IE1ha2VSZWYoRElEX0FMVEVSKTtcbiAgICBpZiAoaW5kZXggPj0gZ2V0VGFpbE9mZnNldChsaXN0Ll9jYXBhY2l0eSkpIHtcbiAgICAgIG5ld1RhaWwgPSB1cGRhdGVWTm9kZShuZXdUYWlsLCBsaXN0Ll9fb3duZXJJRCwgMCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1Jvb3QgPSB1cGRhdGVWTm9kZShuZXdSb290LCBsaXN0Ll9fb3duZXJJRCwgbGlzdC5fbGV2ZWwsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpO1xuICAgIH1cblxuICAgIGlmICghZGlkQWx0ZXIudmFsdWUpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIGlmIChsaXN0Ll9fb3duZXJJRCkge1xuICAgICAgbGlzdC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgICBsaXN0Ll90YWlsID0gbmV3VGFpbDtcbiAgICAgIGxpc3QuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgbGlzdC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuICAgIHJldHVybiBtYWtlTGlzdChsaXN0Ll9vcmlnaW4sIGxpc3QuX2NhcGFjaXR5LCBsaXN0Ll9sZXZlbCwgbmV3Um9vdCwgbmV3VGFpbCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVWTm9kZShub2RlLCBvd25lcklELCBsZXZlbCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcikge1xuICAgIHZhciBpZHggPSAoaW5kZXggPj4+IGxldmVsKSAmIE1BU0s7XG4gICAgdmFyIG5vZGVIYXMgPSBub2RlICYmIGlkeCA8IG5vZGUuYXJyYXkubGVuZ3RoO1xuICAgIGlmICghbm9kZUhhcyAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICB2YXIgbmV3Tm9kZTtcblxuICAgIGlmIChsZXZlbCA+IDApIHtcbiAgICAgIHZhciBsb3dlck5vZGUgPSBub2RlICYmIG5vZGUuYXJyYXlbaWR4XTtcbiAgICAgIHZhciBuZXdMb3dlck5vZGUgPSB1cGRhdGVWTm9kZShsb3dlck5vZGUsIG93bmVySUQsIGxldmVsIC0gU0hJRlQsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpO1xuICAgICAgaWYgKG5ld0xvd2VyTm9kZSA9PT0gbG93ZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgICAgbmV3Tm9kZSA9IGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCk7XG4gICAgICBuZXdOb2RlLmFycmF5W2lkeF0gPSBuZXdMb3dlck5vZGU7XG4gICAgICByZXR1cm4gbmV3Tm9kZTtcbiAgICB9XG5cbiAgICBpZiAobm9kZUhhcyAmJiBub2RlLmFycmF5W2lkeF0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuXG4gICAgbmV3Tm9kZSA9IGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCk7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgaWR4ID09PSBuZXdOb2RlLmFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIG5ld05vZGUuYXJyYXkucG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld05vZGUuYXJyYXlbaWR4XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Tm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCkge1xuICAgIGlmIChvd25lcklEICYmIG5vZGUgJiYgb3duZXJJRCA9PT0gbm9kZS5vd25lcklEKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBWTm9kZShub2RlID8gbm9kZS5hcnJheS5zbGljZSgpIDogW10sIG93bmVySUQpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdE5vZGVGb3IobGlzdCwgcmF3SW5kZXgpIHtcbiAgICBpZiAocmF3SW5kZXggPj0gZ2V0VGFpbE9mZnNldChsaXN0Ll9jYXBhY2l0eSkpIHtcbiAgICAgIHJldHVybiBsaXN0Ll90YWlsO1xuICAgIH1cbiAgICBpZiAocmF3SW5kZXggPCAxIDw8IChsaXN0Ll9sZXZlbCArIFNISUZUKSkge1xuICAgICAgdmFyIG5vZGUgPSBsaXN0Ll9yb290O1xuICAgICAgdmFyIGxldmVsID0gbGlzdC5fbGV2ZWw7XG4gICAgICB3aGlsZSAobm9kZSAmJiBsZXZlbCA+IDApIHtcbiAgICAgICAgbm9kZSA9IG5vZGUuYXJyYXlbKHJhd0luZGV4ID4+PiBsZXZlbCkgJiBNQVNLXTtcbiAgICAgICAgbGV2ZWwgLT0gU0hJRlQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRMaXN0Qm91bmRzKGxpc3QsIGJlZ2luLCBlbmQpIHtcbiAgICB2YXIgb3duZXIgPSBsaXN0Ll9fb3duZXJJRCB8fCBuZXcgT3duZXJJRCgpO1xuICAgIHZhciBvbGRPcmlnaW4gPSBsaXN0Ll9vcmlnaW47XG4gICAgdmFyIG9sZENhcGFjaXR5ID0gbGlzdC5fY2FwYWNpdHk7XG4gICAgdmFyIG5ld09yaWdpbiA9IG9sZE9yaWdpbiArIGJlZ2luO1xuICAgIHZhciBuZXdDYXBhY2l0eSA9IGVuZCA9PT0gdW5kZWZpbmVkID8gb2xkQ2FwYWNpdHkgOiBlbmQgPCAwID8gb2xkQ2FwYWNpdHkgKyBlbmQgOiBvbGRPcmlnaW4gKyBlbmQ7XG4gICAgaWYgKG5ld09yaWdpbiA9PT0gb2xkT3JpZ2luICYmIG5ld0NhcGFjaXR5ID09PSBvbGRDYXBhY2l0eSkge1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgLy8gSWYgaXQncyBnb2luZyB0byBlbmQgYWZ0ZXIgaXQgc3RhcnRzLCBpdCdzIGVtcHR5LlxuICAgIGlmIChuZXdPcmlnaW4gPj0gbmV3Q2FwYWNpdHkpIHtcbiAgICAgIHJldHVybiBsaXN0LmNsZWFyKCk7XG4gICAgfVxuXG4gICAgdmFyIG5ld0xldmVsID0gbGlzdC5fbGV2ZWw7XG4gICAgdmFyIG5ld1Jvb3QgPSBsaXN0Ll9yb290O1xuXG4gICAgLy8gTmV3IG9yaWdpbiBtaWdodCBuZWVkIGNyZWF0aW5nIGEgaGlnaGVyIHJvb3QuXG4gICAgdmFyIG9mZnNldFNoaWZ0ID0gMDtcbiAgICB3aGlsZSAobmV3T3JpZ2luICsgb2Zmc2V0U2hpZnQgPCAwKSB7XG4gICAgICBuZXdSb290ID0gbmV3IFZOb2RlKG5ld1Jvb3QgJiYgbmV3Um9vdC5hcnJheS5sZW5ndGggPyBbdW5kZWZpbmVkLCBuZXdSb290XSA6IFtdLCBvd25lcik7XG4gICAgICBuZXdMZXZlbCArPSBTSElGVDtcbiAgICAgIG9mZnNldFNoaWZ0ICs9IDEgPDwgbmV3TGV2ZWw7XG4gICAgfVxuICAgIGlmIChvZmZzZXRTaGlmdCkge1xuICAgICAgbmV3T3JpZ2luICs9IG9mZnNldFNoaWZ0O1xuICAgICAgb2xkT3JpZ2luICs9IG9mZnNldFNoaWZ0O1xuICAgICAgbmV3Q2FwYWNpdHkgKz0gb2Zmc2V0U2hpZnQ7XG4gICAgICBvbGRDYXBhY2l0eSArPSBvZmZzZXRTaGlmdDtcbiAgICB9XG5cbiAgICB2YXIgb2xkVGFpbE9mZnNldCA9IGdldFRhaWxPZmZzZXQob2xkQ2FwYWNpdHkpO1xuICAgIHZhciBuZXdUYWlsT2Zmc2V0ID0gZ2V0VGFpbE9mZnNldChuZXdDYXBhY2l0eSk7XG5cbiAgICAvLyBOZXcgc2l6ZSBtaWdodCBuZWVkIGNyZWF0aW5nIGEgaGlnaGVyIHJvb3QuXG4gICAgd2hpbGUgKG5ld1RhaWxPZmZzZXQgPj0gMSA8PCAobmV3TGV2ZWwgKyBTSElGVCkpIHtcbiAgICAgIG5ld1Jvb3QgPSBuZXcgVk5vZGUobmV3Um9vdCAmJiBuZXdSb290LmFycmF5Lmxlbmd0aCA/IFtuZXdSb290XSA6IFtdLCBvd25lcik7XG4gICAgICBuZXdMZXZlbCArPSBTSElGVDtcbiAgICB9XG5cbiAgICAvLyBMb2NhdGUgb3IgY3JlYXRlIHRoZSBuZXcgdGFpbC5cbiAgICB2YXIgb2xkVGFpbCA9IGxpc3QuX3RhaWw7XG4gICAgdmFyIG5ld1RhaWwgPSBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCA/XG4gICAgICBsaXN0Tm9kZUZvcihsaXN0LCBuZXdDYXBhY2l0eSAtIDEpIDpcbiAgICAgIG5ld1RhaWxPZmZzZXQgPiBvbGRUYWlsT2Zmc2V0ID8gbmV3IFZOb2RlKFtdLCBvd25lcikgOiBvbGRUYWlsO1xuXG4gICAgLy8gTWVyZ2UgVGFpbCBpbnRvIHRyZWUuXG4gICAgaWYgKG9sZFRhaWwgJiYgbmV3VGFpbE9mZnNldCA+IG9sZFRhaWxPZmZzZXQgJiYgbmV3T3JpZ2luIDwgb2xkQ2FwYWNpdHkgJiYgb2xkVGFpbC5hcnJheS5sZW5ndGgpIHtcbiAgICAgIG5ld1Jvb3QgPSBlZGl0YWJsZVZOb2RlKG5ld1Jvb3QsIG93bmVyKTtcbiAgICAgIHZhciBub2RlID0gbmV3Um9vdDtcbiAgICAgIGZvciAodmFyIGxldmVsID0gbmV3TGV2ZWw7IGxldmVsID4gU0hJRlQ7IGxldmVsIC09IFNISUZUKSB7XG4gICAgICAgIHZhciBpZHggPSAob2xkVGFpbE9mZnNldCA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgICAgbm9kZSA9IG5vZGUuYXJyYXlbaWR4XSA9IGVkaXRhYmxlVk5vZGUobm9kZS5hcnJheVtpZHhdLCBvd25lcik7XG4gICAgICB9XG4gICAgICBub2RlLmFycmF5WyhvbGRUYWlsT2Zmc2V0ID4+PiBTSElGVCkgJiBNQVNLXSA9IG9sZFRhaWw7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNpemUgaGFzIGJlZW4gcmVkdWNlZCwgdGhlcmUncyBhIGNoYW5jZSB0aGUgdGFpbCBuZWVkcyB0byBiZSB0cmltbWVkLlxuICAgIGlmIChuZXdDYXBhY2l0eSA8IG9sZENhcGFjaXR5KSB7XG4gICAgICBuZXdUYWlsID0gbmV3VGFpbCAmJiBuZXdUYWlsLnJlbW92ZUFmdGVyKG93bmVyLCAwLCBuZXdDYXBhY2l0eSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5ldyBvcmlnaW4gaXMgd2l0aGluIHRoZSB0YWlsLCB0aGVuIHdlIGRvIG5vdCBuZWVkIGEgcm9vdC5cbiAgICBpZiAobmV3T3JpZ2luID49IG5ld1RhaWxPZmZzZXQpIHtcbiAgICAgIG5ld09yaWdpbiAtPSBuZXdUYWlsT2Zmc2V0O1xuICAgICAgbmV3Q2FwYWNpdHkgLT0gbmV3VGFpbE9mZnNldDtcbiAgICAgIG5ld0xldmVsID0gU0hJRlQ7XG4gICAgICBuZXdSb290ID0gbnVsbDtcbiAgICAgIG5ld1RhaWwgPSBuZXdUYWlsICYmIG5ld1RhaWwucmVtb3ZlQmVmb3JlKG93bmVyLCAwLCBuZXdPcmlnaW4pO1xuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiB0aGUgcm9vdCBoYXMgYmVlbiB0cmltbWVkLCBnYXJiYWdlIGNvbGxlY3QuXG4gICAgfSBlbHNlIGlmIChuZXdPcmlnaW4gPiBvbGRPcmlnaW4gfHwgbmV3VGFpbE9mZnNldCA8IG9sZFRhaWxPZmZzZXQpIHtcbiAgICAgIG9mZnNldFNoaWZ0ID0gMDtcblxuICAgICAgLy8gSWRlbnRpZnkgdGhlIG5ldyB0b3Agcm9vdCBub2RlIG9mIHRoZSBzdWJ0cmVlIG9mIHRoZSBvbGQgcm9vdC5cbiAgICAgIHdoaWxlIChuZXdSb290KSB7XG4gICAgICAgIHZhciBiZWdpbkluZGV4ID0gKG5ld09yaWdpbiA+Pj4gbmV3TGV2ZWwpICYgTUFTSztcbiAgICAgICAgaWYgKGJlZ2luSW5kZXggIT09IChuZXdUYWlsT2Zmc2V0ID4+PiBuZXdMZXZlbCkgJiBNQVNLKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJlZ2luSW5kZXgpIHtcbiAgICAgICAgICBvZmZzZXRTaGlmdCArPSAoMSA8PCBuZXdMZXZlbCkgKiBiZWdpbkluZGV4O1xuICAgICAgICB9XG4gICAgICAgIG5ld0xldmVsIC09IFNISUZUO1xuICAgICAgICBuZXdSb290ID0gbmV3Um9vdC5hcnJheVtiZWdpbkluZGV4XTtcbiAgICAgIH1cblxuICAgICAgLy8gVHJpbSB0aGUgbmV3IHNpZGVzIG9mIHRoZSBuZXcgcm9vdC5cbiAgICAgIGlmIChuZXdSb290ICYmIG5ld09yaWdpbiA+IG9sZE9yaWdpbikge1xuICAgICAgICBuZXdSb290ID0gbmV3Um9vdC5yZW1vdmVCZWZvcmUob3duZXIsIG5ld0xldmVsLCBuZXdPcmlnaW4gLSBvZmZzZXRTaGlmdCk7XG4gICAgICB9XG4gICAgICBpZiAobmV3Um9vdCAmJiBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCkge1xuICAgICAgICBuZXdSb290ID0gbmV3Um9vdC5yZW1vdmVBZnRlcihvd25lciwgbmV3TGV2ZWwsIG5ld1RhaWxPZmZzZXQgLSBvZmZzZXRTaGlmdCk7XG4gICAgICB9XG4gICAgICBpZiAob2Zmc2V0U2hpZnQpIHtcbiAgICAgICAgbmV3T3JpZ2luIC09IG9mZnNldFNoaWZ0O1xuICAgICAgICBuZXdDYXBhY2l0eSAtPSBvZmZzZXRTaGlmdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGlzdC5fX293bmVySUQpIHtcbiAgICAgIGxpc3Quc2l6ZSA9IG5ld0NhcGFjaXR5IC0gbmV3T3JpZ2luO1xuICAgICAgbGlzdC5fb3JpZ2luID0gbmV3T3JpZ2luO1xuICAgICAgbGlzdC5fY2FwYWNpdHkgPSBuZXdDYXBhY2l0eTtcbiAgICAgIGxpc3QuX2xldmVsID0gbmV3TGV2ZWw7XG4gICAgICBsaXN0Ll9yb290ID0gbmV3Um9vdDtcbiAgICAgIGxpc3QuX3RhaWwgPSBuZXdUYWlsO1xuICAgICAgbGlzdC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICBsaXN0Ll9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VMaXN0KG5ld09yaWdpbiwgbmV3Q2FwYWNpdHksIG5ld0xldmVsLCBuZXdSb290LCBuZXdUYWlsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlSW50b0xpc3RXaXRoKGxpc3QsIG1lcmdlciwgaXRlcmFibGVzKSB7XG4gICAgdmFyIGl0ZXJzID0gW107XG4gICAgdmFyIG1heFNpemUgPSAwO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVyYWJsZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVyYWJsZXNbaWldO1xuICAgICAgdmFyIGl0ZXIgPSBJbmRleGVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgaWYgKGl0ZXIuc2l6ZSA+IG1heFNpemUpIHtcbiAgICAgICAgbWF4U2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgaXRlciA9IGl0ZXIubWFwKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIGZyb21KUyh2KX0pO1xuICAgICAgfVxuICAgICAgaXRlcnMucHVzaChpdGVyKTtcbiAgICB9XG4gICAgaWYgKG1heFNpemUgPiBsaXN0LnNpemUpIHtcbiAgICAgIGxpc3QgPSBsaXN0LnNldFNpemUobWF4U2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZUludG9Db2xsZWN0aW9uV2l0aChsaXN0LCBtZXJnZXIsIGl0ZXJzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhaWxPZmZzZXQoc2l6ZSkge1xuICAgIHJldHVybiBzaXplIDwgU0laRSA/IDAgOiAoKChzaXplIC0gMSkgPj4+IFNISUZUKSA8PCBTSElGVCk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhPcmRlcmVkTWFwLCBzcmNfTWFwX19NYXApO1xuXG4gICAgLy8gQHByYWdtYSBDb25zdHJ1Y3Rpb25cblxuICAgIGZ1bmN0aW9uIE9yZGVyZWRNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlPcmRlcmVkTWFwKCkgOlxuICAgICAgICBpc09yZGVyZWRNYXAodmFsdWUpID8gdmFsdWUgOlxuICAgICAgICBlbXB0eU9yZGVyZWRNYXAoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKG1hcCApIHtcbiAgICAgICAgICB2YXIgaXRlciA9IEtleWVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIG1hcC5zZXQoaywgdil9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgT3JkZXJlZE1hcC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdPcmRlcmVkTWFwIHsnLCAnfScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaywgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBpbmRleCA9IHRoaXMuX21hcC5nZXQoayk7XG4gICAgICByZXR1cm4gaW5kZXggIT09IHVuZGVmaW5lZCA/IHRoaXMuX2xpc3QuZ2V0KGluZGV4KVsxXSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5fbWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2xpc3QuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlPcmRlcmVkTWFwKCk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgIHJldHVybiB1cGRhdGVPcmRlcmVkTWFwKHRoaXMsIGssIHYpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrKSB7XG4gICAgICByZXR1cm4gdXBkYXRlT3JkZXJlZE1hcCh0aGlzLCBrLCBOT1RfU0VUKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCkgfHwgdGhpcy5fbGlzdC53YXNBbHRlcmVkKCk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5fbGlzdC5fX2l0ZXJhdGUoXG4gICAgICAgIGZ1bmN0aW9uKGVudHJ5ICkge3JldHVybiBlbnRyeSAmJiBmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMkMCl9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xpc3QuZnJvbUVudHJ5U2VxKCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICAgIHZhciBuZXdMaXN0ID0gdGhpcy5fbGlzdC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgICAgaWYgKCFvd25lcklEKSB7XG4gICAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgICB0aGlzLl9saXN0ID0gbmV3TGlzdDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZU9yZGVyZWRNYXAobmV3TWFwLCBuZXdMaXN0LCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzT3JkZXJlZE1hcChtYXliZU9yZGVyZWRNYXApIHtcbiAgICByZXR1cm4gaXNNYXAobWF5YmVPcmRlcmVkTWFwKSAmJiBpc09yZGVyZWQobWF5YmVPcmRlcmVkTWFwKTtcbiAgfVxuXG4gIE9yZGVyZWRNYXAuaXNPcmRlcmVkTWFwID0gaXNPcmRlcmVkTWFwO1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcbiAgT3JkZXJlZE1hcC5wcm90b3R5cGVbREVMRVRFXSA9IE9yZGVyZWRNYXAucHJvdG90eXBlLnJlbW92ZTtcblxuXG5cbiAgZnVuY3Rpb24gbWFrZU9yZGVyZWRNYXAobWFwLCBsaXN0LCBvd25lcklELCBoYXNoKSB7XG4gICAgdmFyIG9tYXAgPSBPYmplY3QuY3JlYXRlKE9yZGVyZWRNYXAucHJvdG90eXBlKTtcbiAgICBvbWFwLnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gICAgb21hcC5fbWFwID0gbWFwO1xuICAgIG9tYXAuX2xpc3QgPSBsaXN0O1xuICAgIG9tYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgICBvbWFwLl9faGFzaCA9IGhhc2g7XG4gICAgcmV0dXJuIG9tYXA7XG4gIH1cblxuICB2YXIgRU1QVFlfT1JERVJFRF9NQVA7XG4gIGZ1bmN0aW9uIGVtcHR5T3JkZXJlZE1hcCgpIHtcbiAgICByZXR1cm4gRU1QVFlfT1JERVJFRF9NQVAgfHwgKEVNUFRZX09SREVSRURfTUFQID0gbWFrZU9yZGVyZWRNYXAoZW1wdHlNYXAoKSwgZW1wdHlMaXN0KCkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyZWRNYXAob21hcCwgaywgdikge1xuICAgIHZhciBtYXAgPSBvbWFwLl9tYXA7XG4gICAgdmFyIGxpc3QgPSBvbWFwLl9saXN0O1xuICAgIHZhciBpID0gbWFwLmdldChrKTtcbiAgICB2YXIgaGFzID0gaSAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBuZXdNYXA7XG4gICAgdmFyIG5ld0xpc3Q7XG4gICAgaWYgKHYgPT09IE5PVF9TRVQpIHsgLy8gcmVtb3ZlZFxuICAgICAgaWYgKCFoYXMpIHtcbiAgICAgICAgcmV0dXJuIG9tYXA7XG4gICAgICB9XG4gICAgICBpZiAobGlzdC5zaXplID49IFNJWkUgJiYgbGlzdC5zaXplID49IG1hcC5zaXplICogMikge1xuICAgICAgICBuZXdMaXN0ID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24oZW50cnksIGlkeCkgIHtyZXR1cm4gZW50cnkgIT09IHVuZGVmaW5lZCAmJiBpICE9PSBpZHh9KTtcbiAgICAgICAgbmV3TWFwID0gbmV3TGlzdC50b0tleWVkU2VxKCkubWFwKGZ1bmN0aW9uKGVudHJ5ICkge3JldHVybiBlbnRyeVswXX0pLmZsaXAoKS50b01hcCgpO1xuICAgICAgICBpZiAob21hcC5fX293bmVySUQpIHtcbiAgICAgICAgICBuZXdNYXAuX19vd25lcklEID0gbmV3TGlzdC5fX293bmVySUQgPSBvbWFwLl9fb3duZXJJRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TWFwID0gbWFwLnJlbW92ZShrKTtcbiAgICAgICAgbmV3TGlzdCA9IGkgPT09IGxpc3Quc2l6ZSAtIDEgPyBsaXN0LnBvcCgpIDogbGlzdC5zZXQoaSwgdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhcykge1xuICAgICAgICBpZiAodiA9PT0gbGlzdC5nZXQoaSlbMV0pIHtcbiAgICAgICAgICByZXR1cm4gb21hcDtcbiAgICAgICAgfVxuICAgICAgICBuZXdNYXAgPSBtYXA7XG4gICAgICAgIG5ld0xpc3QgPSBsaXN0LnNldChpLCBbaywgdl0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TWFwID0gbWFwLnNldChrLCBsaXN0LnNpemUpO1xuICAgICAgICBuZXdMaXN0ID0gbGlzdC5zZXQobGlzdC5zaXplLCBbaywgdl0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob21hcC5fX293bmVySUQpIHtcbiAgICAgIG9tYXAuc2l6ZSA9IG5ld01hcC5zaXplO1xuICAgICAgb21hcC5fbWFwID0gbmV3TWFwO1xuICAgICAgb21hcC5fbGlzdCA9IG5ld0xpc3Q7XG4gICAgICBvbWFwLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvbWFwO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZU9yZGVyZWRNYXAobmV3TWFwLCBuZXdMaXN0KTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFN0YWNrLCBJbmRleGVkQ29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gU3RhY2sodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTdGFjaygpIDpcbiAgICAgICAgaXNTdGFjayh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5U3RhY2soKS51bnNoaWZ0QWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICBTdGFjay5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU3RhY2sgWycsICddJyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICB3aGlsZSAoaGVhZCAmJiBpbmRleC0tKSB7XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGVhZCA/IGhlYWQudmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oZWFkICYmIHRoaXMuX2hlYWQudmFsdWU7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBTdGFjay5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemUgKyBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgZm9yICh2YXIgaWkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaWkgPj0gMDsgaWktLSkge1xuICAgICAgICBoZWFkID0ge1xuICAgICAgICAgIHZhbHVlOiBhcmd1bWVudHNbaWldLFxuICAgICAgICAgIG5leHQ6IGhlYWRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUucHVzaEFsbCA9IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgICAgIGl0ZXIgPSBJbmRleGVkSXRlcmFibGUoaXRlcik7XG4gICAgICBpZiAoaXRlci5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgIHZhciBuZXdTaXplID0gdGhpcy5zaXplO1xuICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgaXRlci5yZXZlcnNlKCkuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSApIHtcbiAgICAgICAgbmV3U2l6ZSsrO1xuICAgICAgICBoZWFkID0ge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBuZXh0OiBoZWFkXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgxKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcy5wdXNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS51bnNoaWZ0QWxsID0gZnVuY3Rpb24oaXRlcikge1xuICAgICAgcmV0dXJuIHRoaXMucHVzaEFsbChpdGVyKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wb3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX2hlYWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5U3RhY2soKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgdGhpcy5zaXplKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciByZXNvbHZlZEJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCB0aGlzLnNpemUpO1xuICAgICAgdmFyIHJlc29sdmVkRW5kID0gcmVzb2x2ZUVuZChlbmQsIHRoaXMuc2l6ZSk7XG4gICAgICBpZiAocmVzb2x2ZWRFbmQgIT09IHRoaXMuc2l6ZSkge1xuICAgICAgICAvLyBzdXBlci5zbGljZShiZWdpbiwgZW5kKTtcbiAgICAgICAgcmV0dXJuIEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMsIGJlZ2luLCBlbmQpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemUgLSByZXNvbHZlZEJlZ2luO1xuICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgd2hpbGUgKHJlc29sdmVkQmVnaW4tLSkge1xuICAgICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTXV0YWJpbGl0eVxuXG4gICAgU3RhY2sucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlU3RhY2sodGhpcy5zaXplLCB0aGlzLl9oZWFkLCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgSXRlcmF0aW9uXG5cbiAgICBTdGFjay5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5fX2l0ZXJhdGUoZm4pO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKGZuKG5vZGUudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5fX2l0ZXJhdG9yKHR5cGUpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBub2RlLnZhbHVlO1xuICAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzU3RhY2sobWF5YmVTdGFjaykge1xuICAgIHJldHVybiAhIShtYXliZVN0YWNrICYmIG1heWJlU3RhY2tbSVNfU1RBQ0tfU0VOVElORUxdKTtcbiAgfVxuXG4gIFN0YWNrLmlzU3RhY2sgPSBpc1N0YWNrO1xuXG4gIHZhciBJU19TVEFDS19TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NUQUNLX19AQCc7XG5cbiAgdmFyIFN0YWNrUHJvdG90eXBlID0gU3RhY2sucHJvdG90eXBlO1xuICBTdGFja1Byb3RvdHlwZVtJU19TVEFDS19TRU5USU5FTF0gPSB0cnVlO1xuICBTdGFja1Byb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG4gIFN0YWNrUHJvdG90eXBlLmFzTXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc011dGFibGU7XG4gIFN0YWNrUHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuICBTdGFja1Byb3RvdHlwZS53YXNBbHRlcmVkID0gTWFwUHJvdG90eXBlLndhc0FsdGVyZWQ7XG5cblxuICBmdW5jdGlvbiBtYWtlU3RhY2soc2l6ZSwgaGVhZCwgb3duZXJJRCwgaGFzaCkge1xuICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKFN0YWNrUHJvdG90eXBlKTtcbiAgICBtYXAuc2l6ZSA9IHNpemU7XG4gICAgbWFwLl9oZWFkID0gaGVhZDtcbiAgICBtYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgICBtYXAuX19oYXNoID0gaGFzaDtcbiAgICBtYXAuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuXG4gIHZhciBFTVBUWV9TVEFDSztcbiAgZnVuY3Rpb24gZW1wdHlTdGFjaygpIHtcbiAgICByZXR1cm4gRU1QVFlfU1RBQ0sgfHwgKEVNUFRZX1NUQUNLID0gbWFrZVN0YWNrKDApKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKHNyY19TZXRfX1NldCwgU2V0Q29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gc3JjX1NldF9fU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5U2V0KCkgOlxuICAgICAgICBpc1NldCh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5U2V0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBTZXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiApIHtyZXR1cm4gc2V0LmFkZCh2KX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzcmNfU2V0X19TZXQub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQuZnJvbUtleXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMoS2V5ZWRJdGVyYWJsZSh2YWx1ZSkua2V5U2VxKCkpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXQgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLmhhcyh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5zZXQodmFsdWUsIHRydWUpKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHVwZGF0ZVNldCh0aGlzLCB0aGlzLl9tYXAucmVtb3ZlKHZhbHVlKSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLmNsZWFyKCkpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLnVuaW9uID0gZnVuY3Rpb24oKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICBpdGVycyA9IGl0ZXJzLmZpbHRlcihmdW5jdGlvbih4ICkge3JldHVybiB4LnNpemUgIT09IDB9KTtcbiAgICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwICYmICF0aGlzLl9fb3duZXJJRCAmJiBpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IoaXRlcnNbMF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVycy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBTZXRJdGVyYWJsZShpdGVyc1tpaV0pLmZvckVhY2goZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIHNldC5hZGQodmFsdWUpfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLmludGVyc2VjdCA9IGZ1bmN0aW9uKCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGl0ZXJzID0gaXRlcnMubWFwKGZ1bmN0aW9uKGl0ZXIgKSB7cmV0dXJuIFNldEl0ZXJhYmxlKGl0ZXIpfSk7XG4gICAgICB2YXIgb3JpZ2luYWxTZXQgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgIG9yaWdpbmFsU2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUgKSB7XG4gICAgICAgICAgaWYgKCFpdGVycy5ldmVyeShmdW5jdGlvbihpdGVyICkge3JldHVybiBpdGVyLmluY2x1ZGVzKHZhbHVlKX0pKSB7XG4gICAgICAgICAgICBzZXQucmVtb3ZlKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbigpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpdGVycyA9IGl0ZXJzLm1hcChmdW5jdGlvbihpdGVyICkge3JldHVybiBTZXRJdGVyYWJsZShpdGVyKX0pO1xuICAgICAgdmFyIG9yaWdpbmFsU2V0ID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oc2V0ICkge1xuICAgICAgICBvcmlnaW5hbFNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlICkge1xuICAgICAgICAgIGlmIChpdGVycy5zb21lKGZ1bmN0aW9uKGl0ZXIgKSB7cmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpfSkpIHtcbiAgICAgICAgICAgIHNldC5yZW1vdmUodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudW5pb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiB0aGlzLnVuaW9uLmFwcGx5KHRoaXMsIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgICByZXR1cm4gT3JkZXJlZFNldChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuc29ydEJ5ID0gZnVuY3Rpb24obWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICAgIHJldHVybiBPcmRlcmVkU2V0KHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcikpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAud2FzQWx0ZXJlZCgpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLl9faXRlcmF0ZShmdW5jdGlvbihfLCBrKSAge3JldHVybiBmbihrLCBrLCB0aGlzJDApfSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAubWFwKGZ1bmN0aW9uKF8sIGspICB7cmV0dXJuIGt9KS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX19tYWtlKG5ld01hcCwgb3duZXJJRCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzU2V0KG1heWJlU2V0KSB7XG4gICAgcmV0dXJuICEhKG1heWJlU2V0ICYmIG1heWJlU2V0W0lTX1NFVF9TRU5USU5FTF0pO1xuICB9XG5cbiAgc3JjX1NldF9fU2V0LmlzU2V0ID0gaXNTZXQ7XG5cbiAgdmFyIElTX1NFVF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NFVF9fQEAnO1xuXG4gIHZhciBTZXRQcm90b3R5cGUgPSBzcmNfU2V0X19TZXQucHJvdG90eXBlO1xuICBTZXRQcm90b3R5cGVbSVNfU0VUX1NFTlRJTkVMXSA9IHRydWU7XG4gIFNldFByb3RvdHlwZVtERUxFVEVdID0gU2V0UHJvdG90eXBlLnJlbW92ZTtcbiAgU2V0UHJvdG90eXBlLm1lcmdlRGVlcCA9IFNldFByb3RvdHlwZS5tZXJnZTtcbiAgU2V0UHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBTZXRQcm90b3R5cGUubWVyZ2VXaXRoO1xuICBTZXRQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuICBTZXRQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgU2V0UHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuXG4gIFNldFByb3RvdHlwZS5fX2VtcHR5ID0gZW1wdHlTZXQ7XG4gIFNldFByb3RvdHlwZS5fX21ha2UgPSBtYWtlU2V0O1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNldChzZXQsIG5ld01hcCkge1xuICAgIGlmIChzZXQuX19vd25lcklEKSB7XG4gICAgICBzZXQuc2l6ZSA9IG5ld01hcC5zaXplO1xuICAgICAgc2V0Ll9tYXAgPSBuZXdNYXA7XG4gICAgICByZXR1cm4gc2V0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3TWFwID09PSBzZXQuX21hcCA/IHNldCA6XG4gICAgICBuZXdNYXAuc2l6ZSA9PT0gMCA/IHNldC5fX2VtcHR5KCkgOlxuICAgICAgc2V0Ll9fbWFrZShuZXdNYXApO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVNldChtYXAsIG93bmVySUQpIHtcbiAgICB2YXIgc2V0ID0gT2JqZWN0LmNyZWF0ZShTZXRQcm90b3R5cGUpO1xuICAgIHNldC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICAgIHNldC5fbWFwID0gbWFwO1xuICAgIHNldC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIHJldHVybiBzZXQ7XG4gIH1cblxuICB2YXIgRU1QVFlfU0VUO1xuICBmdW5jdGlvbiBlbXB0eVNldCgpIHtcbiAgICByZXR1cm4gRU1QVFlfU0VUIHx8IChFTVBUWV9TRVQgPSBtYWtlU2V0KGVtcHR5TWFwKCkpKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKE9yZGVyZWRTZXQsIHNyY19TZXRfX1NldCk7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gT3JkZXJlZFNldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eU9yZGVyZWRTZXQoKSA6XG4gICAgICAgIGlzT3JkZXJlZFNldCh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5T3JkZXJlZFNldCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oc2V0ICkge1xuICAgICAgICAgIHZhciBpdGVyID0gU2V0SXRlcmFibGUodmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIHNldC5hZGQodil9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgT3JkZXJlZFNldC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRTZXQuZnJvbUtleXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMoS2V5ZWRJdGVyYWJsZSh2YWx1ZSkua2V5U2VxKCkpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkU2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnT3JkZXJlZFNldCB7JywgJ30nKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNPcmRlcmVkU2V0KG1heWJlT3JkZXJlZFNldCkge1xuICAgIHJldHVybiBpc1NldChtYXliZU9yZGVyZWRTZXQpICYmIGlzT3JkZXJlZChtYXliZU9yZGVyZWRTZXQpO1xuICB9XG5cbiAgT3JkZXJlZFNldC5pc09yZGVyZWRTZXQgPSBpc09yZGVyZWRTZXQ7XG5cbiAgdmFyIE9yZGVyZWRTZXRQcm90b3R5cGUgPSBPcmRlcmVkU2V0LnByb3RvdHlwZTtcbiAgT3JkZXJlZFNldFByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cbiAgT3JkZXJlZFNldFByb3RvdHlwZS5fX2VtcHR5ID0gZW1wdHlPcmRlcmVkU2V0O1xuICBPcmRlcmVkU2V0UHJvdG90eXBlLl9fbWFrZSA9IG1ha2VPcmRlcmVkU2V0O1xuXG4gIGZ1bmN0aW9uIG1ha2VPcmRlcmVkU2V0KG1hcCwgb3duZXJJRCkge1xuICAgIHZhciBzZXQgPSBPYmplY3QuY3JlYXRlKE9yZGVyZWRTZXRQcm90b3R5cGUpO1xuICAgIHNldC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICAgIHNldC5fbWFwID0gbWFwO1xuICAgIHNldC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIHJldHVybiBzZXQ7XG4gIH1cblxuICB2YXIgRU1QVFlfT1JERVJFRF9TRVQ7XG4gIGZ1bmN0aW9uIGVtcHR5T3JkZXJlZFNldCgpIHtcbiAgICByZXR1cm4gRU1QVFlfT1JERVJFRF9TRVQgfHwgKEVNUFRZX09SREVSRURfU0VUID0gbWFrZU9yZGVyZWRTZXQoZW1wdHlPcmRlcmVkTWFwKCkpKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFJlY29yZCwgS2V5ZWRDb2xsZWN0aW9uKTtcblxuICAgIGZ1bmN0aW9uIFJlY29yZChkZWZhdWx0VmFsdWVzLCBuYW1lKSB7XG4gICAgICB2YXIgaGFzSW5pdGlhbGl6ZWQ7XG5cbiAgICAgIHZhciBSZWNvcmRUeXBlID0gZnVuY3Rpb24gUmVjb3JkKHZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgUmVjb3JkVHlwZSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlY29yZFR5cGUpKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZWNvcmRUeXBlKHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNJbml0aWFsaXplZCkge1xuICAgICAgICAgIGhhc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRlZmF1bHRWYWx1ZXMpO1xuICAgICAgICAgIHNldFByb3BzKFJlY29yZFR5cGVQcm90b3R5cGUsIGtleXMpO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuc2l6ZSA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX25hbWUgPSBuYW1lO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX2tleXMgPSBrZXlzO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX2RlZmF1bHRWYWx1ZXMgPSBkZWZhdWx0VmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcCA9IHNyY19NYXBfX01hcCh2YWx1ZXMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIFJlY29yZFR5cGVQcm90b3R5cGUgPSBSZWNvcmRUeXBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUmVjb3JkUHJvdG90eXBlKTtcbiAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZWNvcmRUeXBlO1xuXG4gICAgICByZXR1cm4gUmVjb3JkVHlwZTtcbiAgICB9XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKHJlY29yZE5hbWUodGhpcykgKyAnIHsnLCAnfScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFZhbHVlcy5oYXNPd25Qcm9wZXJ0eShrKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrLCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLmhhcyhrKSkge1xuICAgICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgZGVmYXVsdFZhbCA9IHRoaXMuX2RlZmF1bHRWYWx1ZXNba107XG4gICAgICByZXR1cm4gdGhpcy5fbWFwID8gdGhpcy5fbWFwLmdldChrLCBkZWZhdWx0VmFsKSA6IGRlZmF1bHRWYWw7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBSZWNvcmQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5fbWFwICYmIHRoaXMuX21hcC5jbGVhcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBSZWNvcmRUeXBlID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiBSZWNvcmRUeXBlLl9lbXB0eSB8fCAoUmVjb3JkVHlwZS5fZW1wdHkgPSBtYWtlUmVjb3JkKHRoaXMsIGVtcHR5TWFwKCkpKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrLCB2KSB7XG4gICAgICBpZiAoIXRoaXMuaGFzKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNldCB1bmtub3duIGtleSBcIicgKyBrICsgJ1wiIG9uICcgKyByZWNvcmROYW1lKHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAgJiYgdGhpcy5fbWFwLnNldChrLCB2KTtcbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCB8fCBuZXdNYXAgPT09IHRoaXMuX21hcCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlUmVjb3JkKHRoaXMsIG5ld01hcCk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaykge1xuICAgICAgaWYgKCF0aGlzLmhhcyhrKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAgJiYgdGhpcy5fbWFwLnJlbW92ZShrKTtcbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCB8fCBuZXdNYXAgPT09IHRoaXMuX21hcCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlUmVjb3JkKHRoaXMsIG5ld01hcCk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBLZXllZEl0ZXJhYmxlKHRoaXMuX2RlZmF1bHRWYWx1ZXMpLm1hcChmdW5jdGlvbihfLCBrKSAge3JldHVybiB0aGlzJDAuZ2V0KGspfSkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIEtleWVkSXRlcmFibGUodGhpcy5fZGVmYXVsdFZhbHVlcykubWFwKGZ1bmN0aW9uKF8sIGspICB7cmV0dXJuIHRoaXMkMC5nZXQoayl9KS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwICYmIHRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgICAgaWYgKCFvd25lcklEKSB7XG4gICAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlUmVjb3JkKHRoaXMsIG5ld01hcCwgb3duZXJJRCk7XG4gICAgfTtcblxuXG4gIHZhciBSZWNvcmRQcm90b3R5cGUgPSBSZWNvcmQucHJvdG90eXBlO1xuICBSZWNvcmRQcm90b3R5cGVbREVMRVRFXSA9IFJlY29yZFByb3RvdHlwZS5yZW1vdmU7XG4gIFJlY29yZFByb3RvdHlwZS5kZWxldGVJbiA9XG4gIFJlY29yZFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5yZW1vdmVJbjtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlID0gTWFwUHJvdG90eXBlLm1lcmdlO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2VXaXRoID0gTWFwUHJvdG90eXBlLm1lcmdlV2l0aDtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VJbjtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcCA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXA7XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcFdpdGg7XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZURlZXBJbiA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBJbjtcbiAgUmVjb3JkUHJvdG90eXBlLnNldEluID0gTWFwUHJvdG90eXBlLnNldEluO1xuICBSZWNvcmRQcm90b3R5cGUudXBkYXRlID0gTWFwUHJvdG90eXBlLnVwZGF0ZTtcbiAgUmVjb3JkUHJvdG90eXBlLnVwZGF0ZUluID0gTWFwUHJvdG90eXBlLnVwZGF0ZUluO1xuICBSZWNvcmRQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuICBSZWNvcmRQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgUmVjb3JkUHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuXG5cbiAgZnVuY3Rpb24gbWFrZVJlY29yZChsaWtlUmVjb3JkLCBtYXAsIG93bmVySUQpIHtcbiAgICB2YXIgcmVjb3JkID0gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YobGlrZVJlY29yZCkpO1xuICAgIHJlY29yZC5fbWFwID0gbWFwO1xuICAgIHJlY29yZC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIHJldHVybiByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvcmROYW1lKHJlY29yZCkge1xuICAgIHJldHVybiByZWNvcmQuX25hbWUgfHwgcmVjb3JkLmNvbnN0cnVjdG9yLm5hbWUgfHwgJ1JlY29yZCc7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRQcm9wcyhwcm90b3R5cGUsIG5hbWVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIG5hbWVzLmZvckVhY2goc2V0UHJvcC5iaW5kKHVuZGVmaW5lZCwgcHJvdG90eXBlKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBmYWlsZWQuIFByb2JhYmx5IElFOC5cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRQcm9wKHByb3RvdHlwZSwgbmFtZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChuYW1lKTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGludmFyaWFudCh0aGlzLl9fb3duZXJJRCwgJ0Nhbm5vdCBzZXQgb24gYW4gaW1tdXRhYmxlIHJlY29yZC4nKTtcbiAgICAgICAgdGhpcy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIWlzSXRlcmFibGUoYikgfHxcbiAgICAgIGEuc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGIuc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGEuc2l6ZSAhPT0gYi5zaXplIHx8XG4gICAgICBhLl9faGFzaCAhPT0gdW5kZWZpbmVkICYmIGIuX19oYXNoICE9PSB1bmRlZmluZWQgJiYgYS5fX2hhc2ggIT09IGIuX19oYXNoIHx8XG4gICAgICBpc0tleWVkKGEpICE9PSBpc0tleWVkKGIpIHx8XG4gICAgICBpc0luZGV4ZWQoYSkgIT09IGlzSW5kZXhlZChiKSB8fFxuICAgICAgaXNPcmRlcmVkKGEpICE9PSBpc09yZGVyZWQoYilcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYS5zaXplID09PSAwICYmIGIuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIG5vdEFzc29jaWF0aXZlID0gIWlzQXNzb2NpYXRpdmUoYSk7XG5cbiAgICBpZiAoaXNPcmRlcmVkKGEpKSB7XG4gICAgICB2YXIgZW50cmllcyA9IGEuZW50cmllcygpO1xuICAgICAgcmV0dXJuIGIuZXZlcnkoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllcy5uZXh0KCkudmFsdWU7XG4gICAgICAgIHJldHVybiBlbnRyeSAmJiBpcyhlbnRyeVsxXSwgdikgJiYgKG5vdEFzc29jaWF0aXZlIHx8IGlzKGVudHJ5WzBdLCBrKSk7XG4gICAgICB9KSAmJiBlbnRyaWVzLm5leHQoKS5kb25lO1xuICAgIH1cblxuICAgIHZhciBmbGlwcGVkID0gZmFsc2U7XG5cbiAgICBpZiAoYS5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChiLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIGEuY2FjaGVSZXN1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBhLmNhY2hlUmVzdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZsaXBwZWQgPSB0cnVlO1xuICAgICAgICB2YXIgXyA9IGE7XG4gICAgICAgIGEgPSBiO1xuICAgICAgICBiID0gXztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYWxsRXF1YWwgPSB0cnVlO1xuICAgIHZhciBiU2l6ZSA9IGIuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICBpZiAobm90QXNzb2NpYXRpdmUgPyAhYS5oYXModikgOlxuICAgICAgICAgIGZsaXBwZWQgPyAhaXModiwgYS5nZXQoaywgTk9UX1NFVCkpIDogIWlzKGEuZ2V0KGssIE5PVF9TRVQpLCB2KSkge1xuICAgICAgICBhbGxFcXVhbCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWxsRXF1YWwgJiYgYS5zaXplID09PSBiU2l6ZTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFJhbmdlLCBJbmRleGVkU2VxKTtcblxuICAgIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydCwgZW5kLCBzdGVwKTtcbiAgICAgIH1cbiAgICAgIGludmFyaWFudChzdGVwICE9PSAwLCAnQ2Fubm90IHN0ZXAgYSBSYW5nZSBieSAwJyk7XG4gICAgICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gSW5maW5pdHk7XG4gICAgICB9XG4gICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gMSA6IE1hdGguYWJzKHN0ZXApO1xuICAgICAgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgICAgIHN0ZXAgPSAtc3RlcDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N0YXJ0ID0gc3RhcnQ7XG4gICAgICB0aGlzLl9lbmQgPSBlbmQ7XG4gICAgICB0aGlzLl9zdGVwID0gc3RlcDtcbiAgICAgIHRoaXMuc2l6ZSA9IE1hdGgubWF4KDAsIE1hdGguY2VpbCgoZW5kIC0gc3RhcnQpIC8gc3RlcCAtIDEpICsgMSk7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIGlmIChFTVBUWV9SQU5HRSkge1xuICAgICAgICAgIHJldHVybiBFTVBUWV9SQU5HRTtcbiAgICAgICAgfVxuICAgICAgICBFTVBUWV9SQU5HRSA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgUmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnUmFuZ2UgW10nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdSYW5nZSBbICcgK1xuICAgICAgICB0aGlzLl9zdGFydCArICcuLi4nICsgdGhpcy5fZW5kICtcbiAgICAgICAgKHRoaXMuX3N0ZXAgPiAxID8gJyBieSAnICsgdGhpcy5fc3RlcCA6ICcnKSArXG4gICAgICAnIF0nO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID9cbiAgICAgICAgdGhpcy5fc3RhcnQgKyB3cmFwSW5kZXgodGhpcywgaW5kZXgpICogdGhpcy5fc3RlcCA6XG4gICAgICAgIG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgdmFyIHBvc3NpYmxlSW5kZXggPSAoc2VhcmNoVmFsdWUgLSB0aGlzLl9zdGFydCkgLyB0aGlzLl9zdGVwO1xuICAgICAgcmV0dXJuIHBvc3NpYmxlSW5kZXggPj0gMCAmJlxuICAgICAgICBwb3NzaWJsZUluZGV4IDwgdGhpcy5zaXplICYmXG4gICAgICAgIHBvc3NpYmxlSW5kZXggPT09IE1hdGguZmxvb3IocG9zc2libGVJbmRleCk7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcbiAgICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHRoaXMuc2l6ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBiZWdpbiA9IHJlc29sdmVCZWdpbihiZWdpbiwgdGhpcy5zaXplKTtcbiAgICAgIGVuZCA9IHJlc29sdmVFbmQoZW5kLCB0aGlzLnNpemUpO1xuICAgICAgaWYgKGVuZCA8PSBiZWdpbikge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKDAsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLmdldChiZWdpbiwgdGhpcy5fZW5kKSwgdGhpcy5nZXQoZW5kLCB0aGlzLl9lbmQpLCB0aGlzLl9zdGVwKTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgdmFyIG9mZnNldFZhbHVlID0gc2VhcmNoVmFsdWUgLSB0aGlzLl9zdGFydDtcbiAgICAgIGlmIChvZmZzZXRWYWx1ZSAlIHRoaXMuX3N0ZXAgPT09IDApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gb2Zmc2V0VmFsdWUgLyB0aGlzLl9zdGVwO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuc2l6ZSkge1xuICAgICAgICAgIHJldHVybiBpbmRleFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleE9mKHNlYXJjaFZhbHVlKTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLnNpemUgLSAxO1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLl9zdGVwO1xuICAgICAgdmFyIHZhbHVlID0gcmV2ZXJzZSA/IHRoaXMuX3N0YXJ0ICsgbWF4SW5kZXggKiBzdGVwIDogdGhpcy5fc3RhcnQ7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICAgIGlmIChmbih2YWx1ZSwgaWksIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgKz0gcmV2ZXJzZSA/IC1zdGVwIDogc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLnNpemUgLSAxO1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLl9zdGVwO1xuICAgICAgdmFyIHZhbHVlID0gcmV2ZXJzZSA/IHRoaXMuX3N0YXJ0ICsgbWF4SW5kZXggKiBzdGVwIDogdGhpcy5fc3RhcnQ7XG4gICAgICB2YXIgaWkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHYgPSB2YWx1ZTtcbiAgICAgICAgdmFsdWUgKz0gcmV2ZXJzZSA/IC1zdGVwIDogc3RlcDtcbiAgICAgICAgcmV0dXJuIGlpID4gbWF4SW5kZXggPyBpdGVyYXRvckRvbmUoKSA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaWkrKywgdik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBSYW5nZSA/XG4gICAgICAgIHRoaXMuX3N0YXJ0ID09PSBvdGhlci5fc3RhcnQgJiZcbiAgICAgICAgdGhpcy5fZW5kID09PSBvdGhlci5fZW5kICYmXG4gICAgICAgIHRoaXMuX3N0ZXAgPT09IG90aGVyLl9zdGVwIDpcbiAgICAgICAgZGVlcEVxdWFsKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuXG5cbiAgdmFyIEVNUFRZX1JBTkdFO1xuXG4gIGNyZWF0ZUNsYXNzKFJlcGVhdCwgSW5kZXhlZFNlcSk7XG5cbiAgICBmdW5jdGlvbiBSZXBlYXQodmFsdWUsIHRpbWVzKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVwZWF0KSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlcGVhdCh2YWx1ZSwgdGltZXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRoaXMuc2l6ZSA9IHRpbWVzID09PSB1bmRlZmluZWQgPyBJbmZpbml0eSA6IE1hdGgubWF4KDAsIHRpbWVzKTtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgaWYgKEVNUFRZX1JFUEVBVCkge1xuICAgICAgICAgIHJldHVybiBFTVBUWV9SRVBFQVQ7XG4gICAgICAgIH1cbiAgICAgICAgRU1QVFlfUkVQRUFUID0gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnUmVwZWF0IFtdJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnUmVwZWF0IFsgJyArIHRoaXMuX3ZhbHVlICsgJyAnICsgdGhpcy5zaXplICsgJyB0aW1lcyBdJztcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyhpbmRleCkgPyB0aGlzLl92YWx1ZSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiBpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgICByZXR1cm4gd2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKSA/IHRoaXMgOlxuICAgICAgICBuZXcgUmVwZWF0KHRoaXMuX3ZhbHVlLCByZXNvbHZlRW5kKGVuZCwgc2l6ZSkgLSByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpKTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIGlmIChpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIGlmIChpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB0aGlzLnNpemU7IGlpKyspIHtcbiAgICAgICAgaWYgKGZuKHRoaXMuX3ZhbHVlLCBpaSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGlpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlpO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaWkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgXG4gICAgICAgIHtyZXR1cm4gaWkgPCB0aGlzJDAuc2l6ZSA/IGl0ZXJhdG9yVmFsdWUodHlwZSwgaWkrKywgdGhpcyQwLl92YWx1ZSkgOiBpdGVyYXRvckRvbmUoKX1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFJlcGVhdCA/XG4gICAgICAgIGlzKHRoaXMuX3ZhbHVlLCBvdGhlci5fdmFsdWUpIDpcbiAgICAgICAgZGVlcEVxdWFsKG90aGVyKTtcbiAgICB9O1xuXG5cbiAgdmFyIEVNUFRZX1JFUEVBVDtcblxuICAvKipcbiAgICogQ29udHJpYnV0ZXMgYWRkaXRpb25hbCBtZXRob2RzIHRvIGEgY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIG1peGluKGN0b3IsIG1ldGhvZHMpIHtcbiAgICB2YXIga2V5Q29waWVyID0gZnVuY3Rpb24oa2V5ICkgeyBjdG9yLnByb3RvdHlwZVtrZXldID0gbWV0aG9kc1trZXldOyB9O1xuICAgIE9iamVjdC5rZXlzKG1ldGhvZHMpLmZvckVhY2goa2V5Q29waWVyKTtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmXG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG1ldGhvZHMpLmZvckVhY2goa2V5Q29waWVyKTtcbiAgICByZXR1cm4gY3RvcjtcbiAgfVxuXG4gIEl0ZXJhYmxlLkl0ZXJhdG9yID0gc3JjX0l0ZXJhdG9yX19JdGVyYXRvcjtcblxuICBtaXhpbihJdGVyYWJsZSwge1xuXG4gICAgLy8gIyMjIENvbnZlcnNpb24gdG8gb3RoZXIgdHlwZXNcblxuICAgIHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHZhciBhcnJheSA9IG5ldyBBcnJheSh0aGlzLnNpemUgfHwgMCk7XG4gICAgICB0aGlzLnZhbHVlU2VxKCkuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGkpICB7IGFycmF5W2ldID0gdjsgfSk7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSxcblxuICAgIHRvSW5kZXhlZFNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFRvSW5kZXhlZFNlcXVlbmNlKHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b0pTOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkubWFwKFxuICAgICAgICBmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRvSlMgPT09ICdmdW5jdGlvbicgPyB2YWx1ZS50b0pTKCkgOiB2YWx1ZX1cbiAgICAgICkuX190b0pTKCk7XG4gICAgfSxcblxuICAgIHRvSlNPTjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcChcbiAgICAgICAgZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50b0pTT04gPT09ICdmdW5jdGlvbicgPyB2YWx1ZS50b0pTT04oKSA6IHZhbHVlfVxuICAgICAgKS5fX3RvSlMoKTtcbiAgICB9LFxuXG4gICAgdG9LZXllZFNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFRvS2V5ZWRTZXF1ZW5jZSh0aGlzLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgdG9NYXA6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIHNyY19NYXBfX01hcCh0aGlzLnRvS2V5ZWRTZXEoKSk7XG4gICAgfSxcblxuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAgeyBvYmplY3Rba10gPSB2OyB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIHRvT3JkZXJlZE1hcDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gT3JkZXJlZE1hcCh0aGlzLnRvS2V5ZWRTZXEoKSk7XG4gICAgfSxcblxuICAgIHRvT3JkZXJlZFNldDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gT3JkZXJlZFNldChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gICAgfSxcblxuICAgIHRvU2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBzcmNfU2V0X19TZXQoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b1NldFNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFRvU2V0U2VxdWVuY2UodGhpcyk7XG4gICAgfSxcblxuICAgIHRvU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpc0luZGV4ZWQodGhpcykgPyB0aGlzLnRvSW5kZXhlZFNlcSgpIDpcbiAgICAgICAgaXNLZXllZCh0aGlzKSA/IHRoaXMudG9LZXllZFNlcSgpIDpcbiAgICAgICAgdGhpcy50b1NldFNlcSgpO1xuICAgIH0sXG5cbiAgICB0b1N0YWNrOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBTdGFjayhpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gICAgfSxcblxuICAgIHRvTGlzdDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gTGlzdChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIENvbW1vbiBKYXZhU2NyaXB0IG1ldGhvZHMgYW5kIHByb3BlcnRpZXNcblxuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnW0l0ZXJhYmxlXSc7XG4gICAgfSxcblxuICAgIF9fdG9TdHJpbmc6IGZ1bmN0aW9uKGhlYWQsIHRhaWwpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGhlYWQgKyB0YWlsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhlYWQgKyAnICcgKyB0aGlzLnRvU2VxKCkubWFwKHRoaXMuX190b1N0cmluZ01hcHBlcikuam9pbignLCAnKSArICcgJyArIHRhaWw7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gICAgY29uY2F0OiBmdW5jdGlvbigpIHt2YXIgdmFsdWVzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgY29uY2F0RmFjdG9yeSh0aGlzLCB2YWx1ZXMpKTtcbiAgICB9LFxuXG4gICAgY29udGFpbnM6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmNsdWRlcyhzZWFyY2hWYWx1ZSk7XG4gICAgfSxcblxuICAgIGluY2x1ZGVzOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc29tZShmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gaXModmFsdWUsIHNlYXJjaFZhbHVlKX0pO1xuICAgIH0sXG5cbiAgICBlbnRyaWVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTKTtcbiAgICB9LFxuXG4gICAgZXZlcnk6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHRydWU7XG4gICAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAoIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSB7XG4gICAgICAgICAgcmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH0sXG5cbiAgICBmaWx0ZXI6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZpbHRlckZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCB0cnVlKSk7XG4gICAgfSxcblxuICAgIGZpbmQ6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgICByZXR1cm4gZW50cnkgPyBlbnRyeVsxXSA6IG5vdFNldFZhbHVlO1xuICAgIH0sXG5cbiAgICBmaW5kRW50cnk6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGZvdW5kO1xuICAgICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaywgYykgIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSB7XG4gICAgICAgICAgZm91bmQgPSBbaywgdl07XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9LFxuXG4gICAgZmluZExhc3RFbnRyeTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLnJldmVyc2UoKS5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgZm9yRWFjaDogZnVuY3Rpb24oc2lkZUVmZmVjdCwgY29udGV4dCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHJldHVybiB0aGlzLl9faXRlcmF0ZShjb250ZXh0ID8gc2lkZUVmZmVjdC5iaW5kKGNvbnRleHQpIDogc2lkZUVmZmVjdCk7XG4gICAgfSxcblxuICAgIGpvaW46IGZ1bmN0aW9uKHNlcGFyYXRvcikge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHNlcGFyYXRvciA9IHNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gJycgKyBzZXBhcmF0b3IgOiAnLCc7XG4gICAgICB2YXIgam9pbmVkID0gJyc7XG4gICAgICB2YXIgaXNGaXJzdCA9IHRydWU7XG4gICAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbih2ICkge1xuICAgICAgICBpc0ZpcnN0ID8gKGlzRmlyc3QgPSBmYWxzZSkgOiAoam9pbmVkICs9IHNlcGFyYXRvcik7XG4gICAgICAgIGpvaW5lZCArPSB2ICE9PSBudWxsICYmIHYgIT09IHVuZGVmaW5lZCA/IHYudG9TdHJpbmcoKSA6ICcnO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gam9pbmVkO1xuICAgIH0sXG5cbiAgICBrZXlzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9LRVlTKTtcbiAgICB9LFxuXG4gICAgbWFwOiBmdW5jdGlvbihtYXBwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBtYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCkpO1xuICAgIH0sXG5cbiAgICByZWR1Y2U6IGZ1bmN0aW9uKHJlZHVjZXIsIGluaXRpYWxSZWR1Y3Rpb24sIGNvbnRleHQpIHtcbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgICB2YXIgcmVkdWN0aW9uO1xuICAgICAgdmFyIHVzZUZpcnN0O1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHVzZUZpcnN0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZHVjdGlvbiA9IGluaXRpYWxSZWR1Y3Rpb247XG4gICAgICB9XG4gICAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAodXNlRmlyc3QpIHtcbiAgICAgICAgICB1c2VGaXJzdCA9IGZhbHNlO1xuICAgICAgICAgIHJlZHVjdGlvbiA9IHY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVkdWN0aW9uID0gcmVkdWNlci5jYWxsKGNvbnRleHQsIHJlZHVjdGlvbiwgdiwgaywgYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlZHVjdGlvbjtcbiAgICB9LFxuXG4gICAgcmVkdWNlUmlnaHQ6IGZ1bmN0aW9uKHJlZHVjZXIsIGluaXRpYWxSZWR1Y3Rpb24sIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXZlcnNlZCA9IHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKTtcbiAgICAgIHJldHVybiByZXZlcnNlZC5yZWR1Y2UuYXBwbHkocmV2ZXJzZWQsIGFyZ3VtZW50cyk7XG4gICAgfSxcblxuICAgIHJldmVyc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHJldmVyc2VGYWN0b3J5KHRoaXMsIHRydWUpKTtcbiAgICB9LFxuXG4gICAgc2xpY2U6IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBzbGljZUZhY3RvcnkodGhpcywgYmVnaW4sIGVuZCwgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBzb21lOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiAhdGhpcy5ldmVyeShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIHNvcnQ6IGZ1bmN0aW9uKGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKSk7XG4gICAgfSxcblxuICAgIHZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgTW9yZSBzZXF1ZW50aWFsIG1ldGhvZHNcblxuICAgIGJ1dExhc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgLTEpO1xuICAgIH0sXG5cbiAgICBpc0VtcHR5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpemUgIT09IHVuZGVmaW5lZCA/IHRoaXMuc2l6ZSA9PT0gMCA6ICF0aGlzLnNvbWUoZnVuY3Rpb24oKSAge3JldHVybiB0cnVlfSk7XG4gICAgfSxcblxuICAgIGNvdW50OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBlbnN1cmVTaXplKFxuICAgICAgICBwcmVkaWNhdGUgPyB0aGlzLnRvU2VxKCkuZmlsdGVyKHByZWRpY2F0ZSwgY29udGV4dCkgOiB0aGlzXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBjb3VudEJ5OiBmdW5jdGlvbihncm91cGVyLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gY291bnRCeUZhY3RvcnkodGhpcywgZ3JvdXBlciwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIGVxdWFsczogZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgIHJldHVybiBkZWVwRXF1YWwodGhpcywgb3RoZXIpO1xuICAgIH0sXG5cbiAgICBlbnRyeVNlcTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaXRlcmFibGUgPSB0aGlzO1xuICAgICAgaWYgKGl0ZXJhYmxlLl9jYWNoZSkge1xuICAgICAgICAvLyBXZSBjYWNoZSBhcyBhbiBlbnRyaWVzIGFycmF5LCBzbyB3ZSBjYW4ganVzdCByZXR1cm4gdGhlIGNhY2hlIVxuICAgICAgICByZXR1cm4gbmV3IEFycmF5U2VxKGl0ZXJhYmxlLl9jYWNoZSk7XG4gICAgICB9XG4gICAgICB2YXIgZW50cmllc1NlcXVlbmNlID0gaXRlcmFibGUudG9TZXEoKS5tYXAoZW50cnlNYXBwZXIpLnRvSW5kZXhlZFNlcSgpO1xuICAgICAgZW50cmllc1NlcXVlbmNlLmZyb21FbnRyeVNlcSA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGUudG9TZXEoKX07XG4gICAgICByZXR1cm4gZW50cmllc1NlcXVlbmNlO1xuICAgIH0sXG5cbiAgICBmaWx0ZXJOb3Q6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgZmluZExhc3Q6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvS2V5ZWRTZXEoKS5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKTtcbiAgICB9LFxuXG4gICAgZmlyc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZChyZXR1cm5UcnVlKTtcbiAgICB9LFxuXG4gICAgZmxhdE1hcDogZnVuY3Rpb24obWFwcGVyLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmxhdE1hcEZhY3RvcnkodGhpcywgbWFwcGVyLCBjb250ZXh0KSk7XG4gICAgfSxcblxuICAgIGZsYXR0ZW46IGZ1bmN0aW9uKGRlcHRoKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmxhdHRlbkZhY3RvcnkodGhpcywgZGVwdGgsIHRydWUpKTtcbiAgICB9LFxuXG4gICAgZnJvbUVudHJ5U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRnJvbUVudHJpZXNTZXF1ZW5jZSh0aGlzKTtcbiAgICB9LFxuXG4gICAgZ2V0OiBmdW5jdGlvbihzZWFyY2hLZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kKGZ1bmN0aW9uKF8sIGtleSkgIHtyZXR1cm4gaXMoa2V5LCBzZWFyY2hLZXkpfSwgdW5kZWZpbmVkLCBub3RTZXRWYWx1ZSk7XG4gICAgfSxcblxuICAgIGdldEluOiBmdW5jdGlvbihzZWFyY2hLZXlQYXRoLCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIG5lc3RlZCA9IHRoaXM7XG4gICAgICAvLyBOb3RlOiBpbiBhbiBFUzYgZW52aXJvbm1lbnQsIHdlIHdvdWxkIHByZWZlcjpcbiAgICAgIC8vIGZvciAodmFyIGtleSBvZiBzZWFyY2hLZXlQYXRoKSB7XG4gICAgICB2YXIgaXRlciA9IGZvcmNlSXRlcmF0b3Ioc2VhcmNoS2V5UGF0aCk7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyLm5leHQoKSkuZG9uZSkge1xuICAgICAgICB2YXIga2V5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkICYmIG5lc3RlZC5nZXQgPyBuZXN0ZWQuZ2V0KGtleSwgTk9UX1NFVCkgOiBOT1RfU0VUO1xuICAgICAgICBpZiAobmVzdGVkID09PSBOT1RfU0VUKSB7XG4gICAgICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmVzdGVkO1xuICAgIH0sXG5cbiAgICBncm91cEJ5OiBmdW5jdGlvbihncm91cGVyLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gZ3JvdXBCeUZhY3RvcnkodGhpcywgZ3JvdXBlciwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIGhhczogZnVuY3Rpb24oc2VhcmNoS2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoc2VhcmNoS2V5LCBOT1RfU0VUKSAhPT0gTk9UX1NFVDtcbiAgICB9LFxuXG4gICAgaGFzSW46IGZ1bmN0aW9uKHNlYXJjaEtleVBhdGgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluKHNlYXJjaEtleVBhdGgsIE5PVF9TRVQpICE9PSBOT1RfU0VUO1xuICAgIH0sXG5cbiAgICBpc1N1YnNldDogZnVuY3Rpb24oaXRlcikge1xuICAgICAgaXRlciA9IHR5cGVvZiBpdGVyLmluY2x1ZGVzID09PSAnZnVuY3Rpb24nID8gaXRlciA6IEl0ZXJhYmxlKGl0ZXIpO1xuICAgICAgcmV0dXJuIHRoaXMuZXZlcnkoZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpfSk7XG4gICAgfSxcblxuICAgIGlzU3VwZXJzZXQ6IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgICAgIGl0ZXIgPSB0eXBlb2YgaXRlci5pc1N1YnNldCA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZXIgOiBJdGVyYWJsZShpdGVyKTtcbiAgICAgIHJldHVybiBpdGVyLmlzU3Vic2V0KHRoaXMpO1xuICAgIH0sXG5cbiAgICBrZXlTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5tYXAoa2V5TWFwcGVyKS50b0luZGV4ZWRTZXEoKTtcbiAgICB9LFxuXG4gICAgbGFzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLnJldmVyc2UoKS5maXJzdCgpO1xuICAgIH0sXG5cbiAgICBtYXg6IGZ1bmN0aW9uKGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpO1xuICAgIH0sXG5cbiAgICBtYXhCeTogZnVuY3Rpb24obWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gbWF4RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpO1xuICAgIH0sXG5cbiAgICBtaW46IGZ1bmN0aW9uKGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IgPyBuZWcoY29tcGFyYXRvcikgOiBkZWZhdWx0TmVnQ29tcGFyYXRvcik7XG4gICAgfSxcblxuICAgIG1pbkJ5OiBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IgPyBuZWcoY29tcGFyYXRvcikgOiBkZWZhdWx0TmVnQ29tcGFyYXRvciwgbWFwcGVyKTtcbiAgICB9LFxuXG4gICAgcmVzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgxKTtcbiAgICB9LFxuXG4gICAgc2tpcDogZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZShNYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgICB9LFxuXG4gICAgc2tpcExhc3Q6IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuc2tpcChhbW91bnQpLnJldmVyc2UoKSk7XG4gICAgfSxcblxuICAgIHNraXBXaGlsZTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc2tpcFdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIHRydWUpKTtcbiAgICB9LFxuXG4gICAgc2tpcFVudGlsOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnNraXBXaGlsZShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIHNvcnRCeTogZnVuY3Rpb24obWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gICAgfSxcblxuICAgIHRha2U6IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgTWF0aC5tYXgoMCwgYW1vdW50KSk7XG4gICAgfSxcblxuICAgIHRha2VMYXN0OiBmdW5jdGlvbihhbW91bnQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLnRha2UoYW1vdW50KS5yZXZlcnNlKCkpO1xuICAgIH0sXG5cbiAgICB0YWtlV2hpbGU6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHRha2VXaGlsZUZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0KSk7XG4gICAgfSxcblxuICAgIHRha2VVbnRpbDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlV2hpbGUobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICB2YWx1ZVNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b0luZGV4ZWRTZXEoKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgSGFzaGFibGUgT2JqZWN0XG5cbiAgICBoYXNoQ29kZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2hhc2ggfHwgKHRoaXMuX19oYXNoID0gaGFzaEl0ZXJhYmxlKHRoaXMpKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgSW50ZXJuYWxcblxuICAgIC8vIGFic3RyYWN0IF9faXRlcmF0ZShmbiwgcmV2ZXJzZSlcblxuICAgIC8vIGFic3RyYWN0IF9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSlcbiAgfSk7XG5cbiAgLy8gdmFyIElTX0lURVJBQkxFX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfSVRFUkFCTEVfX0BAJztcbiAgLy8gdmFyIElTX0tFWUVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfS0VZRURfX0BAJztcbiAgLy8gdmFyIElTX0lOREVYRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9JTkRFWEVEX19AQCc7XG4gIC8vIHZhciBJU19PUkRFUkVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfT1JERVJFRF9fQEAnO1xuXG4gIHZhciBJdGVyYWJsZVByb3RvdHlwZSA9IEl0ZXJhYmxlLnByb3RvdHlwZTtcbiAgSXRlcmFibGVQcm90b3R5cGVbSVNfSVRFUkFCTEVfU0VOVElORUxdID0gdHJ1ZTtcbiAgSXRlcmFibGVQcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IEl0ZXJhYmxlUHJvdG90eXBlLnZhbHVlcztcbiAgSXRlcmFibGVQcm90b3R5cGUuX190b0pTID0gSXRlcmFibGVQcm90b3R5cGUudG9BcnJheTtcbiAgSXRlcmFibGVQcm90b3R5cGUuX190b1N0cmluZ01hcHBlciA9IHF1b3RlU3RyaW5nO1xuICBJdGVyYWJsZVByb3RvdHlwZS5pbnNwZWN0ID1cbiAgSXRlcmFibGVQcm90b3R5cGUudG9Tb3VyY2UgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsgfTtcbiAgSXRlcmFibGVQcm90b3R5cGUuY2hhaW4gPSBJdGVyYWJsZVByb3RvdHlwZS5mbGF0TWFwO1xuXG4gIC8vIFRlbXBvcmFyeSB3YXJuaW5nIGFib3V0IHVzaW5nIGxlbmd0aFxuICAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSXRlcmFibGVQcm90b3R5cGUsICdsZW5ndGgnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghSXRlcmFibGUubm9MZW5ndGhXYXJuaW5nKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2s7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIHN0YWNrID0gZXJyb3Iuc3RhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhY2suaW5kZXhPZignX3dyYXBPYmplY3QnKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgY29uc29sZSAmJiBjb25zb2xlLndhcm4gJiYgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICdpdGVyYWJsZS5sZW5ndGggaGFzIGJlZW4gZGVwcmVjYXRlZCwgJytcbiAgICAgICAgICAgICAgICAndXNlIGl0ZXJhYmxlLnNpemUgb3IgaXRlcmFibGUuY291bnQoKS4gJytcbiAgICAgICAgICAgICAgICAnVGhpcyB3YXJuaW5nIHdpbGwgYmVjb21lIGEgc2lsZW50IGVycm9yIGluIGEgZnV0dXJlIHZlcnNpb24uICcgK1xuICAgICAgICAgICAgICAgIHN0YWNrXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KSgpO1xuXG5cblxuICBtaXhpbihLZXllZEl0ZXJhYmxlLCB7XG5cbiAgICAvLyAjIyMgTW9yZSBzZXF1ZW50aWFsIG1ldGhvZHNcblxuICAgIGZsaXA6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsaXBGYWN0b3J5KHRoaXMpKTtcbiAgICB9LFxuXG4gICAgZmluZEtleTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5WzBdO1xuICAgIH0sXG5cbiAgICBmaW5kTGFzdEtleTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLnJldmVyc2UoKS5maW5kS2V5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIGtleU9mOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZEtleShmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gaXModmFsdWUsIHNlYXJjaFZhbHVlKX0pO1xuICAgIH0sXG5cbiAgICBsYXN0S2V5T2Y6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kTGFzdEtleShmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gaXModmFsdWUsIHNlYXJjaFZhbHVlKX0pO1xuICAgIH0sXG5cbiAgICBtYXBFbnRyaWVzOiBmdW5jdGlvbihtYXBwZXIsIGNvbnRleHQpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLFxuICAgICAgICB0aGlzLnRvU2VxKCkubWFwKFxuICAgICAgICAgIGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIG1hcHBlci5jYWxsKGNvbnRleHQsIFtrLCB2XSwgaXRlcmF0aW9ucysrLCB0aGlzJDApfVxuICAgICAgICApLmZyb21FbnRyeVNlcSgpXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBtYXBLZXlzOiBmdW5jdGlvbihtYXBwZXIsIGNvbnRleHQpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLFxuICAgICAgICB0aGlzLnRvU2VxKCkuZmxpcCgpLm1hcChcbiAgICAgICAgICBmdW5jdGlvbihrLCB2KSAge3JldHVybiBtYXBwZXIuY2FsbChjb250ZXh0LCBrLCB2LCB0aGlzJDApfVxuICAgICAgICApLmZsaXAoKVxuICAgICAgKTtcbiAgICB9LFxuXG4gIH0pO1xuXG4gIHZhciBLZXllZEl0ZXJhYmxlUHJvdG90eXBlID0gS2V5ZWRJdGVyYWJsZS5wcm90b3R5cGU7XG4gIEtleWVkSXRlcmFibGVQcm90b3R5cGVbSVNfS0VZRURfU0VOVElORUxdID0gdHJ1ZTtcbiAgS2V5ZWRJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gSXRlcmFibGVQcm90b3R5cGUuZW50cmllcztcbiAgS2V5ZWRJdGVyYWJsZVByb3RvdHlwZS5fX3RvSlMgPSBJdGVyYWJsZVByb3RvdHlwZS50b09iamVjdDtcbiAgS2V5ZWRJdGVyYWJsZVByb3RvdHlwZS5fX3RvU3RyaW5nTWFwcGVyID0gZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoaykgKyAnOiAnICsgcXVvdGVTdHJpbmcodil9O1xuXG5cblxuICBtaXhpbihJbmRleGVkSXRlcmFibGUsIHtcblxuICAgIC8vICMjIyBDb252ZXJzaW9uIHRvIG90aGVyIHR5cGVzXG5cbiAgICB0b0tleWVkU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgVG9LZXllZFNlcXVlbmNlKHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgRVM2IENvbGxlY3Rpb24gbWV0aG9kcyAoRVM2IEFycmF5IGFuZCBNYXApXG5cbiAgICBmaWx0ZXI6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZpbHRlckZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCBmYWxzZSkpO1xuICAgIH0sXG5cbiAgICBmaW5kSW5kZXg6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBlbnRyeSA/IGVudHJ5WzBdIDogLTE7XG4gICAgfSxcblxuICAgIGluZGV4T2Y6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy50b0tleWVkU2VxKCkua2V5T2Yoc2VhcmNoVmFsdWUpO1xuICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gLTEgOiBrZXk7XG4gICAgfSxcblxuICAgIGxhc3RJbmRleE9mOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuaW5kZXhPZihzZWFyY2hWYWx1ZSk7XG4gICAgfSxcblxuICAgIHJldmVyc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHJldmVyc2VGYWN0b3J5KHRoaXMsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIHNsaWNlOiBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc2xpY2VGYWN0b3J5KHRoaXMsIGJlZ2luLCBlbmQsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIHNwbGljZTogZnVuY3Rpb24oaW5kZXgsIHJlbW92ZU51bSAvKiwgLi4udmFsdWVzKi8pIHtcbiAgICAgIHZhciBudW1BcmdzID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIHJlbW92ZU51bSA9IE1hdGgubWF4KHJlbW92ZU51bSB8IDAsIDApO1xuICAgICAgaWYgKG51bUFyZ3MgPT09IDAgfHwgKG51bUFyZ3MgPT09IDIgJiYgIXJlbW92ZU51bSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpbmRleCA9IHJlc29sdmVCZWdpbihpbmRleCwgdGhpcy5zaXplKTtcbiAgICAgIHZhciBzcGxpY2VkID0gdGhpcy5zbGljZSgwLCBpbmRleCk7XG4gICAgICByZXR1cm4gcmVpZnkoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG51bUFyZ3MgPT09IDEgP1xuICAgICAgICAgIHNwbGljZWQgOlxuICAgICAgICAgIHNwbGljZWQuY29uY2F0KGFyckNvcHkoYXJndW1lbnRzLCAyKSwgdGhpcy5zbGljZShpbmRleCArIHJlbW92ZU51bSkpXG4gICAgICApO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBNb3JlIGNvbGxlY3Rpb24gbWV0aG9kc1xuXG4gICAgZmluZExhc3RJbmRleDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy50b0tleWVkU2VxKCkuZmluZExhc3RLZXkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/IC0xIDoga2V5O1xuICAgIH0sXG5cbiAgICBmaXJzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoMCk7XG4gICAgfSxcblxuICAgIGZsYXR0ZW46IGZ1bmN0aW9uKGRlcHRoKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmxhdHRlbkZhY3RvcnkodGhpcywgZGVwdGgsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIGdldDogZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gKGluZGV4IDwgMCB8fCAodGhpcy5zaXplID09PSBJbmZpbml0eSB8fFxuICAgICAgICAgICh0aGlzLnNpemUgIT09IHVuZGVmaW5lZCAmJiBpbmRleCA+IHRoaXMuc2l6ZSkpKSA/XG4gICAgICAgIG5vdFNldFZhbHVlIDpcbiAgICAgICAgdGhpcy5maW5kKGZ1bmN0aW9uKF8sIGtleSkgIHtyZXR1cm4ga2V5ID09PSBpbmRleH0sIHVuZGVmaW5lZCwgbm90U2V0VmFsdWUpO1xuICAgIH0sXG5cbiAgICBoYXM6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gaW5kZXggPj0gMCAmJiAodGhpcy5zaXplICE9PSB1bmRlZmluZWQgP1xuICAgICAgICB0aGlzLnNpemUgPT09IEluZmluaXR5IHx8IGluZGV4IDwgdGhpcy5zaXplIDpcbiAgICAgICAgdGhpcy5pbmRleE9mKGluZGV4KSAhPT0gLTFcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGludGVycG9zZTogZnVuY3Rpb24oc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgaW50ZXJwb3NlRmFjdG9yeSh0aGlzLCBzZXBhcmF0b3IpKTtcbiAgICB9LFxuXG4gICAgaW50ZXJsZWF2ZTogZnVuY3Rpb24oLyouLi5pdGVyYWJsZXMqLykge1xuICAgICAgdmFyIGl0ZXJhYmxlcyA9IFt0aGlzXS5jb25jYXQoYXJyQ29weShhcmd1bWVudHMpKTtcbiAgICAgIHZhciB6aXBwZWQgPSB6aXBXaXRoRmFjdG9yeSh0aGlzLnRvU2VxKCksIEluZGV4ZWRTZXEub2YsIGl0ZXJhYmxlcyk7XG4gICAgICB2YXIgaW50ZXJsZWF2ZWQgPSB6aXBwZWQuZmxhdHRlbih0cnVlKTtcbiAgICAgIGlmICh6aXBwZWQuc2l6ZSkge1xuICAgICAgICBpbnRlcmxlYXZlZC5zaXplID0gemlwcGVkLnNpemUgKiBpdGVyYWJsZXMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGludGVybGVhdmVkKTtcbiAgICB9LFxuXG4gICAgbGFzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoLTEpO1xuICAgIH0sXG5cbiAgICBza2lwV2hpbGU6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNraXBXaGlsZUZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCBmYWxzZSkpO1xuICAgIH0sXG5cbiAgICB6aXA6IGZ1bmN0aW9uKC8qLCAuLi5pdGVyYWJsZXMgKi8pIHtcbiAgICAgIHZhciBpdGVyYWJsZXMgPSBbdGhpc10uY29uY2F0KGFyckNvcHkoYXJndW1lbnRzKSk7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgemlwV2l0aEZhY3RvcnkodGhpcywgZGVmYXVsdFppcHBlciwgaXRlcmFibGVzKSk7XG4gICAgfSxcblxuICAgIHppcFdpdGg6IGZ1bmN0aW9uKHppcHBlci8qLCAuLi5pdGVyYWJsZXMgKi8pIHtcbiAgICAgIHZhciBpdGVyYWJsZXMgPSBhcnJDb3B5KGFyZ3VtZW50cyk7XG4gICAgICBpdGVyYWJsZXNbMF0gPSB0aGlzO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHppcFdpdGhGYWN0b3J5KHRoaXMsIHppcHBlciwgaXRlcmFibGVzKSk7XG4gICAgfSxcblxuICB9KTtcblxuICBJbmRleGVkSXRlcmFibGUucHJvdG90eXBlW0lTX0lOREVYRURfU0VOVElORUxdID0gdHJ1ZTtcbiAgSW5kZXhlZEl0ZXJhYmxlLnByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cblxuXG4gIG1peGluKFNldEl0ZXJhYmxlLCB7XG5cbiAgICAvLyAjIyMgRVM2IENvbGxlY3Rpb24gbWV0aG9kcyAoRVM2IEFycmF5IGFuZCBNYXApXG5cbiAgICBnZXQ6IGZ1bmN0aW9uKHZhbHVlLCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzKHZhbHVlKSA/IHZhbHVlIDogbm90U2V0VmFsdWU7XG4gICAgfSxcblxuICAgIGluY2x1ZGVzOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzKHZhbHVlKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgTW9yZSBzZXF1ZW50aWFsIG1ldGhvZHNcblxuICAgIGtleVNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZVNlcSgpO1xuICAgIH0sXG5cbiAgfSk7XG5cbiAgU2V0SXRlcmFibGUucHJvdG90eXBlLmhhcyA9IEl0ZXJhYmxlUHJvdG90eXBlLmluY2x1ZGVzO1xuXG5cbiAgLy8gTWl4aW4gc3ViY2xhc3Nlc1xuXG4gIG1peGluKEtleWVkU2VxLCBLZXllZEl0ZXJhYmxlLnByb3RvdHlwZSk7XG4gIG1peGluKEluZGV4ZWRTZXEsIEluZGV4ZWRJdGVyYWJsZS5wcm90b3R5cGUpO1xuICBtaXhpbihTZXRTZXEsIFNldEl0ZXJhYmxlLnByb3RvdHlwZSk7XG5cbiAgbWl4aW4oS2V5ZWRDb2xsZWN0aW9uLCBLZXllZEl0ZXJhYmxlLnByb3RvdHlwZSk7XG4gIG1peGluKEluZGV4ZWRDb2xsZWN0aW9uLCBJbmRleGVkSXRlcmFibGUucHJvdG90eXBlKTtcbiAgbWl4aW4oU2V0Q29sbGVjdGlvbiwgU2V0SXRlcmFibGUucHJvdG90eXBlKTtcblxuXG4gIC8vICNwcmFnbWEgSGVscGVyIGZ1bmN0aW9uc1xuXG4gIGZ1bmN0aW9uIGtleU1hcHBlcih2LCBrKSB7XG4gICAgcmV0dXJuIGs7XG4gIH1cblxuICBmdW5jdGlvbiBlbnRyeU1hcHBlcih2LCBrKSB7XG4gICAgcmV0dXJuIFtrLCB2XTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdChwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5lZyhwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gLXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHF1b3RlU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmF1bHRaaXBwZXIoKSB7XG4gICAgcmV0dXJuIGFyckNvcHkoYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmF1bHROZWdDb21wYXJhdG9yKGEsIGIpIHtcbiAgICByZXR1cm4gYSA8IGIgPyAxIDogYSA+IGIgPyAtMSA6IDA7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNoSXRlcmFibGUoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUuc2l6ZSA9PT0gSW5maW5pdHkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgb3JkZXJlZCA9IGlzT3JkZXJlZChpdGVyYWJsZSk7XG4gICAgdmFyIGtleWVkID0gaXNLZXllZChpdGVyYWJsZSk7XG4gICAgdmFyIGggPSBvcmRlcmVkID8gMSA6IDA7XG4gICAgdmFyIHNpemUgPSBpdGVyYWJsZS5fX2l0ZXJhdGUoXG4gICAgICBrZXllZCA/XG4gICAgICAgIG9yZGVyZWQgP1xuICAgICAgICAgIGZ1bmN0aW9uKHYsIGspICB7IGggPSAzMSAqIGggKyBoYXNoTWVyZ2UoaGFzaCh2KSwgaGFzaChrKSkgfCAwOyB9IDpcbiAgICAgICAgICBmdW5jdGlvbih2LCBrKSAgeyBoID0gaCArIGhhc2hNZXJnZShoYXNoKHYpLCBoYXNoKGspKSB8IDA7IH0gOlxuICAgICAgICBvcmRlcmVkID9cbiAgICAgICAgICBmdW5jdGlvbih2ICkgeyBoID0gMzEgKiBoICsgaGFzaCh2KSB8IDA7IH0gOlxuICAgICAgICAgIGZ1bmN0aW9uKHYgKSB7IGggPSBoICsgaGFzaCh2KSB8IDA7IH1cbiAgICApO1xuICAgIHJldHVybiBtdXJtdXJIYXNoT2ZTaXplKHNpemUsIGgpO1xuICB9XG5cbiAgZnVuY3Rpb24gbXVybXVySGFzaE9mU2l6ZShzaXplLCBoKSB7XG4gICAgaCA9IHNyY19NYXRoX19pbXVsKGgsIDB4Q0M5RTJENTEpO1xuICAgIGggPSBzcmNfTWF0aF9faW11bChoIDw8IDE1IHwgaCA+Pj4gLTE1LCAweDFCODczNTkzKTtcbiAgICBoID0gc3JjX01hdGhfX2ltdWwoaCA8PCAxMyB8IGggPj4+IC0xMywgNSk7XG4gICAgaCA9IChoICsgMHhFNjU0NkI2NCB8IDApIF4gc2l6ZTtcbiAgICBoID0gc3JjX01hdGhfX2ltdWwoaCBeIGggPj4+IDE2LCAweDg1RUJDQTZCKTtcbiAgICBoID0gc3JjX01hdGhfX2ltdWwoaCBeIGggPj4+IDEzLCAweEMyQjJBRTM1KTtcbiAgICBoID0gc21pKGggXiBoID4+PiAxNik7XG4gICAgcmV0dXJuIGg7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNoTWVyZ2UoYSwgYikge1xuICAgIHJldHVybiBhIF4gYiArIDB4OUUzNzc5QjkgKyAoYSA8PCA2KSArIChhID4+IDIpIHwgMDsgLy8gaW50XG4gIH1cblxuICB2YXIgSW1tdXRhYmxlID0ge1xuXG4gICAgSXRlcmFibGU6IEl0ZXJhYmxlLFxuXG4gICAgU2VxOiBTZXEsXG4gICAgQ29sbGVjdGlvbjogQ29sbGVjdGlvbixcbiAgICBNYXA6IHNyY19NYXBfX01hcCxcbiAgICBPcmRlcmVkTWFwOiBPcmRlcmVkTWFwLFxuICAgIExpc3Q6IExpc3QsXG4gICAgU3RhY2s6IFN0YWNrLFxuICAgIFNldDogc3JjX1NldF9fU2V0LFxuICAgIE9yZGVyZWRTZXQ6IE9yZGVyZWRTZXQsXG5cbiAgICBSZWNvcmQ6IFJlY29yZCxcbiAgICBSYW5nZTogUmFuZ2UsXG4gICAgUmVwZWF0OiBSZXBlYXQsXG5cbiAgICBpczogaXMsXG4gICAgZnJvbUpTOiBmcm9tSlMsXG5cbiAgfTtcblxuICByZXR1cm4gSW1tdXRhYmxlO1xuXG59KSk7IiwiLyohIEtlZmlyLmpzIHYyLjYuMFxuICogIGh0dHBzOi8vZ2l0aHViLmNvbS9ycG9taW5vdi9rZWZpclxuICovXG5cbihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiS2VmaXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiS2VmaXJcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBLZWZpciA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdEtlZmlyLktlZmlyID0gS2VmaXI7XG5cblx0dmFyIE9ic2VydmFibGUgPSBLZWZpci5PYnNlcnZhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0S2VmaXIuU3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0S2VmaXIuUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG5cdC8vIENyZWF0ZSBhIHN0cmVhbVxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdC8vICgpIC0+IFN0cmVhbVxuXHRLZWZpci5uZXZlciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0Ly8gKG51bWJlciwgYW55KSAtPiBTdHJlYW1cblx0S2VmaXIubGF0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG5cdC8vIChudW1iZXIsIGFueSkgLT4gU3RyZWFtXG5cdEtlZmlyLmludGVydmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cblx0Ly8gKG51bWJlciwgQXJyYXk8YW55PikgLT4gU3RyZWFtXG5cdEtlZmlyLnNlcXVlbnRpYWxseSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXG5cdC8vIChudW1iZXIsIEZ1bmN0aW9uKSAtPiBTdHJlYW1cblx0S2VmaXIuZnJvbVBvbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxuXHQvLyAobnVtYmVyLCBGdW5jdGlvbikgLT4gU3RyZWFtXG5cdEtlZmlyLndpdGhJbnRlcnZhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG5cdC8vIChGdW5jdGlvbikgLT4gU3RyZWFtXG5cdEtlZmlyLmZyb21DYWxsYmFjayA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXG5cdC8vIChGdW5jdGlvbikgLT4gU3RyZWFtXG5cdEtlZmlyLmZyb21Ob2RlQ2FsbGJhY2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblxuXHQvLyBUYXJnZXQgPSB7YWRkRXZlbnRMaXN0ZW5lciwgcmVtb3ZlRXZlbnRMaXN0ZW5lcn18e2FkZExpc3RlbmVyLCByZW1vdmVMaXN0ZW5lcn18e29uLCBvZmZ9XG5cdC8vIChUYXJnZXQsIHN0cmluZywgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0S2VmaXIuZnJvbUV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXG5cdC8vIChGdW5jdGlvbikgLT4gU3RyZWFtXG5cdEtlZmlyLnN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXG5cdC8vIENyZWF0ZSBhIHByb3BlcnR5XG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0Ly8gKGFueSkgLT4gUHJvcGVydHlcblx0S2VmaXIuY29uc3RhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxuXHQvLyAoYW55KSAtPiBQcm9wZXJ0eVxuXHRLZWZpci5jb25zdGFudEVycm9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cblx0Ly8gKFByb21pc2UpIC0+IFByb3BlcnR5XG5cdEtlZmlyLmZyb21Qcm9taXNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cblx0Ly8gQ29udmVydCBvYnNlcnZhYmxlc1xuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdC8vIChTdHJlYW18UHJvcGVydHksIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIHRvUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9wZXJ0eSA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHJldHVybiB0b1Byb3BlcnR5KHRoaXMsIGZuKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtfFByb3BlcnR5KSAtPiBTdHJlYW1cblx0dmFyIGNoYW5nZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuY2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gY2hhbmdlcyh0aGlzKTtcblx0fTtcblxuXHQvLyBTdWJzY3JpYmUgLyBhZGQgc2lkZSBlZmZlY3RzXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0Ly8gKFN0cmVhbXxQcm9wZXJ0eSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBQcm9taXNlXG5cdHZhciB0b1Byb21pc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKFByb21pc2UpIHtcblx0ICByZXR1cm4gdG9Qcm9taXNlKHRoaXMsIFByb21pc2UpO1xuXHR9O1xuXG5cdC8vIE1vZGlmeSBhbiBvYnNlcnZhYmxlXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBtYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIG1hcCh0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBmaWx0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIGZpbHRlcih0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgbnVtYmVyKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBudW1iZXIpIC0+IFByb3BlcnR5XG5cdHZhciB0YWtlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnRha2UgPSBmdW5jdGlvbiAobikge1xuXHQgIHJldHVybiB0YWtlKHRoaXMsIG4pO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgdGFrZVdoaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnRha2VXaGlsZSA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHJldHVybiB0YWtlV2hpbGUodGhpcywgZm4pO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0pIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHkpIC0+IFByb3BlcnR5XG5cdHZhciBsYXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmxhc3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIGxhc3QodGhpcyk7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgbnVtYmVyKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBudW1iZXIpIC0+IFByb3BlcnR5XG5cdHZhciBza2lwID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNCk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnNraXAgPSBmdW5jdGlvbiAobikge1xuXHQgIHJldHVybiBza2lwKHRoaXMsIG4pO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgc2tpcFdoaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnNraXBXaGlsZSA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHJldHVybiBza2lwV2hpbGUodGhpcywgZm4pO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgc2tpcER1cGxpY2F0ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuc2tpcER1cGxpY2F0ZXMgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gc2tpcER1cGxpY2F0ZXModGhpcywgZm4pO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIEZ1bmN0aW9ufGZhbHNleSwgYW55fHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgRnVuY3Rpb258ZmFsc2V5LCBhbnl8dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgZGlmZiA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5kaWZmID0gZnVuY3Rpb24gKGZuLCBzZWVkKSB7XG5cdCAgcmV0dXJuIGRpZmYodGhpcywgZm4sIHNlZWQpO1xuXHR9O1xuXG5cdC8vIChTdHJlYW18UHJvcGVydHksIEZ1bmN0aW9uLCBhbnl8dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgc2NhbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5zY2FuID0gZnVuY3Rpb24gKGZuLCBzZWVkKSB7XG5cdCAgcmV0dXJuIHNjYW4odGhpcywgZm4sIHNlZWQpO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgZmxhdHRlbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5mbGF0dGVuID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIGZsYXR0ZW4odGhpcywgZm4pO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIG51bWJlcikgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgbnVtYmVyKSAtPiBQcm9wZXJ0eVxuXHR2YXIgZGVsYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuZGVsYXkgPSBmdW5jdGlvbiAod2FpdCkge1xuXHQgIHJldHVybiBkZWxheSh0aGlzLCB3YWl0KTtcblx0fTtcblxuXHQvLyBPcHRpb25zID0ge2xlYWRpbmc6IGJvb2xlYW58dW5kZWZpbmVkLCB0cmFpbGluZzogYm9vbGVhbnx1bmRlZmluZWR9XG5cdC8vIChTdHJlYW0sIG51bWJlciwgT3B0aW9uc3x1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIG51bWJlciwgT3B0aW9uc3x1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciB0aHJvdHRsZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS50aHJvdHRsZSA9IGZ1bmN0aW9uICh3YWl0LCBvcHRpb25zKSB7XG5cdCAgcmV0dXJuIHRocm90dGxlKHRoaXMsIHdhaXQsIG9wdGlvbnMpO1xuXHR9O1xuXG5cdC8vIE9wdGlvbnMgPSB7aW1tZWRpYXRlOiBib29sZWFufHVuZGVmaW5lZH1cblx0Ly8gKFN0cmVhbSwgbnVtYmVyLCBPcHRpb25zfHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgbnVtYmVyLCBPcHRpb25zfHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIGRlYm91bmNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmRlYm91bmNlID0gZnVuY3Rpb24gKHdhaXQsIG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZGVib3VuY2UodGhpcywgd2FpdCwgb3B0aW9ucyk7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciB2YWx1ZXNUb0Vycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS52YWx1ZXNUb0Vycm9ycyA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHJldHVybiB2YWx1ZXNUb0Vycm9ycyh0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBlcnJvcnNUb1ZhbHVlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5lcnJvcnNUb1ZhbHVlcyA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHJldHVybiBlcnJvcnNUb1ZhbHVlcyh0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBtYXBFcnJvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUubWFwRXJyb3JzID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIG1hcEVycm9ycyh0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBmaWx0ZXJFcnJvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuZmlsdGVyRXJyb3JzID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIGZpbHRlckVycm9ycyh0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSkgLT4gUHJvcGVydHlcblx0dmFyIGVuZE9uRXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuZW5kT25FcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gZW5kT25FcnJvcih0aGlzKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5KSAtPiBQcm9wZXJ0eVxuXHR2YXIgc2tpcFZhbHVlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5za2lwVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBza2lwVmFsdWVzKHRoaXMpO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0pIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHkpIC0+IFByb3BlcnR5XG5cdHZhciBza2lwRXJyb3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnNraXBFcnJvcnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHNraXBFcnJvcnModGhpcyk7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSkgLT4gUHJvcGVydHlcblx0dmFyIHNraXBFbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuc2tpcEVuZCA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gc2tpcEVuZCh0aGlzKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbikgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgRnVuY3Rpb24pIC0+IFByb3BlcnR5XG5cdHZhciBiZWZvcmVFbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuYmVmb3JlRW5kID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIGJlZm9yZUVuZCh0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgbnVtYmVyLCBudW1iZXJ8dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBudW1iZXIsIG51bWJlcnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBzbGlkaW5nV2luZG93ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnNsaWRpbmdXaW5kb3cgPSBmdW5jdGlvbiAobWF4LCBtaW4pIHtcblx0ICByZXR1cm4gc2xpZGluZ1dpbmRvdyh0aGlzLCBtYXgsIG1pbik7XG5cdH07XG5cblx0Ly8gT3B0aW9ucyA9IHtmbHVzaE9uRW5kOiBib29sZWFufHVuZGVmaW5lZH1cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258ZmFsc2V5LCBPcHRpb25zfHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgRnVuY3Rpb258ZmFsc2V5LCBPcHRpb25zfHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIGJ1ZmZlcldoaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmJ1ZmZlcldoaWxlID0gZnVuY3Rpb24gKGZuLCBvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGJ1ZmZlcldoaWxlKHRoaXMsIGZuLCBvcHRpb25zKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbikgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgRnVuY3Rpb24pIC0+IFByb3BlcnR5XG5cdHZhciB0cmFuc2R1Y2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUudHJhbnNkdWNlID0gZnVuY3Rpb24gKHRyYW5zZHVjZXIpIHtcblx0ICByZXR1cm4gdHJhbnNkdWNlKHRoaXMsIHRyYW5zZHVjZXIpO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIEZ1bmN0aW9uKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbikgLT4gUHJvcGVydHlcblx0dmFyIHdpdGhIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLndpdGhIYW5kbGVyID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIHdpdGhIYW5kbGVyKHRoaXMsIGZuKTtcblx0fTtcblxuXHQvLyBDb21iaW5lIG9ic2VydmFibGVzXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0Ly8gKEFycmF5PFN0cmVhbXxQcm9wZXJ0eT4sIEZ1bmN0aW9ufHVuZGVmaWVuZCkgLT4gU3RyZWFtXG5cdC8vIChBcnJheTxTdHJlYW18UHJvcGVydHk+LCBBcnJheTxTdHJlYW18UHJvcGVydHk+LCBGdW5jdGlvbnx1bmRlZmllbmQpIC0+IFN0cmVhbVxuXHR2YXIgY29tYmluZSA9IEtlZmlyLmNvbWJpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuY29tYmluZSA9IGZ1bmN0aW9uIChvdGhlciwgY29tYmluYXRvcikge1xuXHQgIHJldHVybiBjb21iaW5lKFt0aGlzLCBvdGhlcl0sIGNvbWJpbmF0b3IpO1xuXHR9O1xuXG5cdC8vIChBcnJheTxTdHJlYW18UHJvcGVydHk+LCBGdW5jdGlvbnx1bmRlZmllbmQpIC0+IFN0cmVhbVxuXHR2YXIgemlwID0gS2VmaXIuemlwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnppcCA9IGZ1bmN0aW9uIChvdGhlciwgY29tYmluYXRvcikge1xuXHQgIHJldHVybiB6aXAoW3RoaXMsIG90aGVyXSwgY29tYmluYXRvcik7XG5cdH07XG5cblx0Ly8gKEFycmF5PFN0cmVhbXxQcm9wZXJ0eT4pIC0+IFN0cmVhbVxuXHR2YXIgbWVyZ2UgPSBLZWZpci5tZXJnZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIChvdGhlcikge1xuXHQgIHJldHVybiBtZXJnZShbdGhpcywgb3RoZXJdKTtcblx0fTtcblxuXHQvLyAoQXJyYXk8U3RyZWFtfFByb3BlcnR5PikgLT4gU3RyZWFtXG5cdHZhciBjb25jYXQgPSBLZWZpci5jb25jYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb24gKG90aGVyKSB7XG5cdCAgcmV0dXJuIGNvbmNhdChbdGhpcywgb3RoZXJdKTtcblx0fTtcblxuXHQvLyAoKSAtPiBQb29sXG5cdHZhciBQb29sID0gS2VmaXIuUG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjMpO1xuXHRLZWZpci5wb29sID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBuZXcgUG9vbCgpO1xuXHR9O1xuXG5cdC8vIChGdW5jdGlvbikgLT4gU3RyZWFtXG5cdEtlZmlyLnJlcGVhdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXG5cdC8vIE9wdGlvbnMgPSB7Y29uY3VyTGltOiBudW1iZXJ8dW5kZWZpbmVkLCBxdWV1ZUxpbTogbnVtYmVyfHVuZGVmaW5lZCwgZHJvcDogJ29sZCd8J25ldyd8dW5kZWZpZW5kfVxuXHQvLyAoU3RyZWFtfFByb3BlcnR5LCBGdW5jdGlvbnxmYWxzZXksIE9wdGlvbnN8dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0dmFyIEZsYXRNYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuZmxhdE1hcCA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHJldHVybiBuZXcgRmxhdE1hcCh0aGlzLCBmbikuc2V0TmFtZSh0aGlzLCAnZmxhdE1hcCcpO1xuXHR9O1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5mbGF0TWFwTGF0ZXN0ID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIG5ldyBGbGF0TWFwKHRoaXMsIGZuLCB7IGNvbmN1ckxpbTogMSwgZHJvcDogJ29sZCcgfSkuc2V0TmFtZSh0aGlzLCAnZmxhdE1hcExhdGVzdCcpO1xuXHR9O1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5mbGF0TWFwRmlyc3QgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gbmV3IEZsYXRNYXAodGhpcywgZm4sIHsgY29uY3VyTGltOiAxIH0pLnNldE5hbWUodGhpcywgJ2ZsYXRNYXBGaXJzdCcpO1xuXHR9O1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5mbGF0TWFwQ29uY2F0ID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIG5ldyBGbGF0TWFwKHRoaXMsIGZuLCB7IHF1ZXVlTGltOiAtMSwgY29uY3VyTGltOiAxIH0pLnNldE5hbWUodGhpcywgJ2ZsYXRNYXBDb25jYXQnKTtcblx0fTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuZmxhdE1hcENvbmN1ckxpbWl0ID0gZnVuY3Rpb24gKGZuLCBsaW1pdCkge1xuXHQgIHJldHVybiBuZXcgRmxhdE1hcCh0aGlzLCBmbiwgeyBxdWV1ZUxpbTogLTEsIGNvbmN1ckxpbTogbGltaXQgfSkuc2V0TmFtZSh0aGlzLCAnZmxhdE1hcENvbmN1ckxpbWl0Jyk7XG5cdH07XG5cblx0Ly8gKFN0cmVhbXxQcm9wZXJ0eSwgRnVuY3Rpb258ZmFsc2V5KSAtPiBTdHJlYW1cblx0dmFyIEZsYXRNYXBFcnJvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuZmxhdE1hcEVycm9ycyA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHJldHVybiBuZXcgRmxhdE1hcEVycm9ycyh0aGlzLCBmbikuc2V0TmFtZSh0aGlzLCAnZmxhdE1hcEVycm9ycycpO1xuXHR9O1xuXG5cdC8vIENvbWJpbmUgdHdvIG9ic2VydmFibGVzXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0Ly8gKFN0cmVhbSwgU3RyZWFtfFByb3BlcnR5KSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBTdHJlYW18UHJvcGVydHkpIC0+IFByb3BlcnR5XG5cdHZhciBmaWx0ZXJCeSA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5maWx0ZXJCeSA9IGZ1bmN0aW9uIChvdGhlcikge1xuXHQgIHJldHVybiBmaWx0ZXJCeSh0aGlzLCBvdGhlcik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgU3RyZWFtfFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmllbmQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIFN0cmVhbXxQcm9wZXJ0eSwgRnVuY3Rpb258dW5kZWZpZW5kKSAtPiBQcm9wZXJ0eVxuXHR2YXIgc2FtcGxlZEJ5Mml0ZW1zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnNhbXBsZWRCeSA9IGZ1bmN0aW9uIChvdGhlciwgY29tYmluYXRvcikge1xuXHQgIHJldHVybiBzYW1wbGVkQnkyaXRlbXModGhpcywgb3RoZXIsIGNvbWJpbmF0b3IpO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIFN0cmVhbXxQcm9wZXJ0eSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgU3RyZWFtfFByb3BlcnR5KSAtPiBQcm9wZXJ0eVxuXHR2YXIgc2tpcFVudGlsQnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuc2tpcFVudGlsQnkgPSBmdW5jdGlvbiAob3RoZXIpIHtcblx0ICByZXR1cm4gc2tpcFVudGlsQnkodGhpcywgb3RoZXIpO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIFN0cmVhbXxQcm9wZXJ0eSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgU3RyZWFtfFByb3BlcnR5KSAtPiBQcm9wZXJ0eVxuXHR2YXIgdGFrZVVudGlsQnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUudGFrZVVudGlsQnkgPSBmdW5jdGlvbiAob3RoZXIpIHtcblx0ICByZXR1cm4gdGFrZVVudGlsQnkodGhpcywgb3RoZXIpO1xuXHR9O1xuXG5cdC8vIE9wdGlvbnMgPSB7Zmx1c2hPbkVuZDogYm9vbGVhbnx1bmRlZmluZWR9XG5cdC8vIChTdHJlYW0sIFN0cmVhbXxQcm9wZXJ0eSwgT3B0aW9uc3x1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIFN0cmVhbXxQcm9wZXJ0eSwgT3B0aW9uc3x1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBidWZmZXJCeSA9IF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5idWZmZXJCeSA9IGZ1bmN0aW9uIChvdGhlciwgb3B0aW9ucykge1xuXHQgIHJldHVybiBidWZmZXJCeSh0aGlzLCBvdGhlciwgb3B0aW9ucyk7XG5cdH07XG5cblx0Ly8gT3B0aW9ucyA9IHtmbHVzaE9uRW5kOiBib29sZWFufHVuZGVmaW5lZH1cblx0Ly8gKFN0cmVhbSwgU3RyZWFtfFByb3BlcnR5LCBPcHRpb25zfHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgU3RyZWFtfFByb3BlcnR5LCBPcHRpb25zfHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIGJ1ZmZlcldoaWxlQnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuYnVmZmVyV2hpbGVCeSA9IGZ1bmN0aW9uIChvdGhlciwgb3B0aW9ucykge1xuXHQgIHJldHVybiBidWZmZXJXaGlsZUJ5KHRoaXMsIG90aGVyLCBvcHRpb25zKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtfFByb3BlcnR5LCBTdHJlYW18UHJvcGVydHkpIC0+IFByb3BlcnR5XG5cdHZhciBhd2FpdGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5hd2FpdGluZyA9IGZ1bmN0aW9uIChvdGhlcikge1xuXHQgIHJldHVybiBhd2FpdGluZyh0aGlzLCBvdGhlcik7XG5cdH07XG5cblx0Ly8gRGVwcmVjYXRlZFxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdEtlZmlyLkRFUFJFQ0FUSU9OX1dBUk5JTkdTID0gdHJ1ZTtcblx0ZnVuY3Rpb24gZGVwcmVjYXRlZChuYW1lLCBhbHQsIGZuKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmIChLZWZpci5ERVBSRUNBVElPTl9XQVJOSU5HUyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS5sb2cpIHtcblxuXHQgICAgICB2YXIgbWVzc2FnZSA9ICdNZXRob2QgYCcgKyBuYW1lICsgJ2AgaXMgZGVwcmVjYXRlZCwgYW5kIHRvIGJlIHJlbW92ZWQgaW4gdjMuMC4wLlxcblVzZSBgJyArIGFsdCArICdgIGluc3RlYWQuXFxuVG8gZGlzYWJsZSBhbGwgd2FybmluZ3MgbGlrZSB0aGlzIHNldCBgS2VmaXIuREVQUkVDQVRJT05fV0FSTklOR1MgPSBmYWxzZWAuJztcblxuXHQgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH1cblxuXHQvLyAoKSAtPiBFbWl0dGVyXG5cdHZhciBFbWl0dGVyID0gS2VmaXIuRW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpO1xuXHRLZWZpci5lbWl0dGVyID0gZGVwcmVjYXRlZCgnS2VmaXIuZW1pdHRlcigpJywgJ0tlZmlyLnN0cmVhbSgpJywgZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBuZXcgRW1pdHRlcigpO1xuXHR9KTtcblxuXHQvLyAoKSAtPiBCdXNcblx0dmFyIEJ1cyA9IEtlZmlyLkJ1cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzUpO1xuXHRLZWZpci5idXMgPSBkZXByZWNhdGVkKCdLZWZpci5idXMoKScsICdLZWZpci5wb29sKCkgb3IgS2VmaXIuc3RyZWFtKCknLCBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIG5ldyBCdXMoKTtcblx0fSk7XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb24sIGFueXx1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIEZ1bmN0aW9uLCBhbnl8dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgcmVkdWNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnJlZHVjZSA9IGRlcHJlY2F0ZWQoJy5yZWR1Y2UoZm4sIHNlZWQpJywgJy5zY2FuKGZuLCBzZWVkKS5sYXN0KCknLCBmdW5jdGlvbiAoZm4sIHNlZWQpIHtcblx0ICByZXR1cm4gcmVkdWNlKHRoaXMsIGZuLCBzZWVkKTtcblx0fSk7XG5cblx0Ly8gKEFycmF5PFN0cmVhbXxQcm9wZXJ0eT4sIEFycmF5PFN0cmVhbXxQcm9wZXJ0eT4sIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdHZhciBzYW1wbGVkQnlNYW55SXRlbXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcblx0S2VmaXIuc2FtcGxlZEJ5ID0gZGVwcmVjYXRlZCgnS2VmaXIuc2FtcGxlZEJ5KCknLCAnS2VmaXIuY29tYmluZSgpJywgc2FtcGxlZEJ5TWFueUl0ZW1zKTtcblxuXHQvLyAobnVtYmVyLCBBcnJheTxhbnk+KSAtPiBTdHJlYW1cblx0dmFyIHJlcGVhdGVkbHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KTtcblx0S2VmaXIucmVwZWF0ZWRseSA9IGRlcHJlY2F0ZWQoJ0tlZmlyLnJlcGVhdGVkbHkoKScsICdLZWZpci5yZXBlYXQoKCkgPT4gS2VmaXIuc2VxdWVudGlhbGx5KC4uLil9KScsIHJlcGVhdGVkbHkpO1xuXG5cdC8vIChTdHJlYW0sIGFueSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgYW55KSAtPiBQcm9wZXJ0eVxuXHR2YXIgbWFwVG8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUubWFwVG8gPSBkZXByZWNhdGVkKCcubWFwVG8oKScsICcubWFwKCgpID0+IHZhbHVlKScsIGZ1bmN0aW9uICh4KSB7XG5cdCAgcmV0dXJuIG1hcFRvKHRoaXMsIHgpO1xuXHR9KTtcblxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbikgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgRnVuY3Rpb24pIC0+IFByb3BlcnR5XG5cdHZhciB0YXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUudGFwID0gZGVwcmVjYXRlZCgnLnRhcCgpJywgJy5tYXAoKHYpID0+IHtmbih2KTsgcmV0dXJuIHZ9KScsIGZ1bmN0aW9uIChmbikge1xuXHQgIHJldHVybiB0YXAodGhpcywgZm4pO1xuXHR9KTtcblxuXHQvLyAoU3RyZWFtLCBzdHJpbmcpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIHN0cmluZykgLT4gUHJvcGVydHlcblx0dmFyIHBsdWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnBsdWNrID0gZGVwcmVjYXRlZCgnLnBsdWNrKCknLCAnLm1hcCgoeCkgPT4geC5mb28pJywgZnVuY3Rpb24gKHByb3BOYW1lKSB7XG5cdCAgcmV0dXJuIHBsdWNrKHRoaXMsIHByb3BOYW1lKTtcblx0fSk7XG5cblx0Ly8gKFN0cmVhbSwgc3RyaW5nLCBBcnJheSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgc3RyaW5nLCBBcnJheSkgLT4gUHJvcGVydHlcblx0dmFyIGludm9rZSA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5pbnZva2UgPSBkZXByZWNhdGVkKCcuaW52b2tlKCknLCAnLm1hcCgoeCkgPT4geC5mb28oKSknLCBmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xuXHQgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgfVxuXG5cdCAgcmV0dXJuIGludm9rZSh0aGlzLCBtZXRob2ROYW1lLCBhcmdzKTtcblx0fSk7XG5cblx0Ly8gKFN0cmVhbSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSkgLT4gUHJvcGVydHlcblx0dmFyIHRpbWVzdGFtcCA9IF9fd2VicGFja19yZXF1aXJlX18oODMpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS50aW1lc3RhbXAgPSBkZXByZWNhdGVkKCcudGltZXN0YW1wKCknLCAnLm1hcCgoeCkgPT4ge3ZhbHVlOiB4LCB0aW1lOiBEYXRlLm5vdygpfSknLCBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHRpbWVzdGFtcCh0aGlzKTtcblx0fSk7XG5cblx0Ly8gKEFycmF5PFN0cmVhbXxQcm9wZXJ0eT4pIC0+IFN0cmVhbVxuXHR2YXIgYW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdEtlZmlyLmFuZCA9IGRlcHJlY2F0ZWQoJ0tlZmlyLmFuZCgpJywgJ0tlZmlyLmNvbWJpbmUoW2EsIGJdLCAoYSwgYikgPT4gYSAmJiBiKScsIGFuZCk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmFuZCA9IGRlcHJlY2F0ZWQoJy5hbmQoKScsICcuY29tYmluZShvdGhlciwgKGEsIGIpID0+IGEgJiYgYiknLCBmdW5jdGlvbiAob3RoZXIpIHtcblx0ICByZXR1cm4gYW5kKFt0aGlzLCBvdGhlcl0pO1xuXHR9KTtcblxuXHQvLyAoQXJyYXk8U3RyZWFtfFByb3BlcnR5PikgLT4gU3RyZWFtXG5cdHZhciBvciA9IF9fd2VicGFja19yZXF1aXJlX18oODUpO1xuXHRLZWZpci5vciA9IGRlcHJlY2F0ZWQoJ0tlZmlyLm9yKCknLCAnS2VmaXIuY29tYmluZShbYSwgYl0sIChhLCBiKSA9PiBhIHx8IGIpJywgb3IpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5vciA9IGRlcHJlY2F0ZWQoJy5vcigpJywgJy5jb21iaW5lKG90aGVyLCAoYSwgYikgPT4gYSB8fCBiKScsIGZ1bmN0aW9uIChvdGhlcikge1xuXHQgIHJldHVybiBvcihbdGhpcywgb3RoZXJdKTtcblx0fSk7XG5cblx0Ly8gKFN0cmVhbSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSkgLT4gUHJvcGVydHlcblx0dmFyIG5vdCA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5ub3QgPSBkZXByZWNhdGVkKCcubm90KCknLCAnLm1hcCgoeCkgPT4gIXgpJywgZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBub3QodGhpcyk7XG5cdH0pO1xuXG5cdC8vIChGdW5jdGlvbiwgRnVuY3Rpb24sIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdHZhciBmcm9tU3ViVW5zdWIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0S2VmaXIuZnJvbVN1YlVuc3ViID0gZGVwcmVjYXRlZCgnLmZyb21TdWJVbnN1YigpJywgJ0tlZmlyLnN0cmVhbSgpJywgZnJvbVN1YlVuc3ViKTtcblxuXHQvLyAoU3RyZWFtLCBTdHJlYW18UHJvcGVydHkpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIFN0cmVhbXxQcm9wZXJ0eSkgLT4gUHJvcGVydHlcblx0dmFyIHRha2VXaGlsZUJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nyk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnRha2VXaGlsZUJ5ID0gZGVwcmVjYXRlZCgnLnRha2VXaGlsZUJ5KGZvbyknLCAnLnNraXBVbnRpbEJ5KGZvby5maWx0ZXIoKHgpID0+ICF4KSknLCBmdW5jdGlvbiAob3RoZXIpIHtcblx0ICByZXR1cm4gdGFrZVdoaWxlQnkodGhpcywgb3RoZXIpO1xuXHR9KTtcblxuXHQvLyAoU3RyZWFtLCBTdHJlYW18UHJvcGVydHkpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIFN0cmVhbXxQcm9wZXJ0eSkgLT4gUHJvcGVydHlcblx0dmFyIHNraXBXaGlsZUJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnNraXBXaGlsZUJ5ID0gZGVwcmVjYXRlZCgnLnNraXBXaGlsZUJ5KGZvbyknLCAnLnRha2VVbnRpbEJ5KGZvby5maWx0ZXIoKHgpID0+ICF4KSknLCBmdW5jdGlvbiAob3RoZXIpIHtcblx0ICByZXR1cm4gc2tpcFdoaWxlQnkodGhpcywgb3RoZXIpO1xuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBleHRlbmQgPSBfcmVxdWlyZS5leHRlbmQ7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIFZBTFVFID0gX3JlcXVpcmUyLlZBTFVFO1xuXHR2YXIgRVJST1IgPSBfcmVxdWlyZTIuRVJST1I7XG5cdHZhciBBTlkgPSBfcmVxdWlyZTIuQU5ZO1xuXHR2YXIgRU5EID0gX3JlcXVpcmUyLkVORDtcblxuXHR2YXIgX3JlcXVpcmUzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHR2YXIgRGlzcGF0Y2hlciA9IF9yZXF1aXJlMy5EaXNwYXRjaGVyO1xuXHR2YXIgY2FsbFN1YnNjcmliZXIgPSBfcmVxdWlyZTMuY2FsbFN1YnNjcmliZXI7XG5cblx0dmFyIF9yZXF1aXJlNCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0dmFyIGZpbmRCeVByZWQgPSBfcmVxdWlyZTQuZmluZEJ5UHJlZDtcblxuXHRmdW5jdGlvbiBPYnNlcnZhYmxlKCkge1xuXHQgIHRoaXMuX2Rpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcigpO1xuXHQgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuXHQgIHRoaXMuX2FsaXZlID0gdHJ1ZTtcblx0ICB0aGlzLl9hY3RpdmF0aW5nID0gZmFsc2U7XG5cdCAgdGhpcy5fbG9nSGFuZGxlcnMgPSBudWxsO1xuXHR9XG5cblx0ZXh0ZW5kKE9ic2VydmFibGUucHJvdG90eXBlLCB7XG5cblx0ICBfbmFtZTogJ29ic2VydmFibGUnLFxuXG5cdCAgX29uQWN0aXZhdGlvbjogZnVuY3Rpb24gX29uQWN0aXZhdGlvbigpIHt9LFxuXHQgIF9vbkRlYWN0aXZhdGlvbjogZnVuY3Rpb24gX29uRGVhY3RpdmF0aW9uKCkge30sXG5cblx0ICBfc2V0QWN0aXZlOiBmdW5jdGlvbiBfc2V0QWN0aXZlKGFjdGl2ZSkge1xuXHQgICAgaWYgKHRoaXMuX2FjdGl2ZSAhPT0gYWN0aXZlKSB7XG5cdCAgICAgIHRoaXMuX2FjdGl2ZSA9IGFjdGl2ZTtcblx0ICAgICAgaWYgKGFjdGl2ZSkge1xuXHQgICAgICAgIHRoaXMuX2FjdGl2YXRpbmcgPSB0cnVlO1xuXHQgICAgICAgIHRoaXMuX29uQWN0aXZhdGlvbigpO1xuXHQgICAgICAgIHRoaXMuX2FjdGl2YXRpbmcgPSBmYWxzZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9vbkRlYWN0aXZhdGlvbigpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9jbGVhcjogZnVuY3Rpb24gX2NsZWFyKCkge1xuXHQgICAgdGhpcy5fc2V0QWN0aXZlKGZhbHNlKTtcblx0ICAgIHRoaXMuX2FsaXZlID0gZmFsc2U7XG5cdCAgICB0aGlzLl9kaXNwYXRjaGVyID0gbnVsbDtcblx0ICAgIHRoaXMuX2xvZ0hhbmRsZXJzID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2VtaXQ6IGZ1bmN0aW9uIF9lbWl0KHR5cGUsIHgpIHtcblx0ICAgIHN3aXRjaCAodHlwZSkge1xuXHQgICAgICBjYXNlIFZBTFVFOlxuXHQgICAgICAgIHJldHVybiB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICAgIGNhc2UgRVJST1I6XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXRFcnJvcih4KTtcblx0ICAgICAgY2FzZSBFTkQ6XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2VtaXRWYWx1ZTogZnVuY3Rpb24gX2VtaXRWYWx1ZSh2YWx1ZSkge1xuXHQgICAgaWYgKHRoaXMuX2FsaXZlKSB7XG5cdCAgICAgIHRoaXMuX2Rpc3BhdGNoZXIuZGlzcGF0Y2goeyB0eXBlOiBWQUxVRSwgdmFsdWU6IHZhbHVlLCBjdXJyZW50OiB0aGlzLl9hY3RpdmF0aW5nIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfZW1pdEVycm9yOiBmdW5jdGlvbiBfZW1pdEVycm9yKHZhbHVlKSB7XG5cdCAgICBpZiAodGhpcy5fYWxpdmUpIHtcblx0ICAgICAgdGhpcy5fZGlzcGF0Y2hlci5kaXNwYXRjaCh7IHR5cGU6IEVSUk9SLCB2YWx1ZTogdmFsdWUsIGN1cnJlbnQ6IHRoaXMuX2FjdGl2YXRpbmcgfSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9lbWl0RW5kOiBmdW5jdGlvbiBfZW1pdEVuZCgpIHtcblx0ICAgIGlmICh0aGlzLl9hbGl2ZSkge1xuXHQgICAgICB0aGlzLl9kaXNwYXRjaGVyLmRpc3BhdGNoKHsgdHlwZTogRU5ELCBjdXJyZW50OiB0aGlzLl9hY3RpdmF0aW5nIH0pO1xuXHQgICAgICB0aGlzLl9jbGVhcigpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfb246IGZ1bmN0aW9uIF9vbih0eXBlLCBmbikge1xuXHQgICAgaWYgKHRoaXMuX2FsaXZlKSB7XG5cdCAgICAgIHRoaXMuX2Rpc3BhdGNoZXIuYWRkKHR5cGUsIGZuKTtcblx0ICAgICAgdGhpcy5fc2V0QWN0aXZlKHRydWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgY2FsbFN1YnNjcmliZXIodHlwZSwgZm4sIHsgdHlwZTogRU5ELCBjdXJyZW50OiB0cnVlIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblxuXHQgIF9vZmY6IGZ1bmN0aW9uIF9vZmYodHlwZSwgZm4pIHtcblx0ICAgIGlmICh0aGlzLl9hbGl2ZSkge1xuXHQgICAgICB2YXIgY291bnQgPSB0aGlzLl9kaXNwYXRjaGVyLnJlbW92ZSh0eXBlLCBmbik7XG5cdCAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuXHQgICAgICAgIHRoaXMuX3NldEFjdGl2ZShmYWxzZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cblx0ICBvblZhbHVlOiBmdW5jdGlvbiBvblZhbHVlKGZuKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fb24oVkFMVUUsIGZuKTtcblx0ICB9LFxuXHQgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoZm4pIHtcblx0ICAgIHJldHVybiB0aGlzLl9vbihFUlJPUiwgZm4pO1xuXHQgIH0sXG5cdCAgb25FbmQ6IGZ1bmN0aW9uIG9uRW5kKGZuKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fb24oRU5ELCBmbik7XG5cdCAgfSxcblx0ICBvbkFueTogZnVuY3Rpb24gb25BbnkoZm4pIHtcblx0ICAgIHJldHVybiB0aGlzLl9vbihBTlksIGZuKTtcblx0ICB9LFxuXG5cdCAgb2ZmVmFsdWU6IGZ1bmN0aW9uIG9mZlZhbHVlKGZuKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fb2ZmKFZBTFVFLCBmbik7XG5cdCAgfSxcblx0ICBvZmZFcnJvcjogZnVuY3Rpb24gb2ZmRXJyb3IoZm4pIHtcblx0ICAgIHJldHVybiB0aGlzLl9vZmYoRVJST1IsIGZuKTtcblx0ICB9LFxuXHQgIG9mZkVuZDogZnVuY3Rpb24gb2ZmRW5kKGZuKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fb2ZmKEVORCwgZm4pO1xuXHQgIH0sXG5cdCAgb2ZmQW55OiBmdW5jdGlvbiBvZmZBbnkoZm4pIHtcblx0ICAgIHJldHVybiB0aGlzLl9vZmYoQU5ZLCBmbik7XG5cdCAgfSxcblxuXHQgIC8vIEEgYW5kIEIgbXVzdCBiZSBzdWJjbGFzc2VzIG9mIFN0cmVhbSBhbmQgUHJvcGVydHkgKG9yZGVyIGRvZXNuJ3QgbWF0dGVyKVxuXHQgIF9vZlNhbWVUeXBlOiBmdW5jdGlvbiBfb2ZTYW1lVHlwZShBLCBCKSB7XG5cdCAgICByZXR1cm4gQS5wcm90b3R5cGUuZ2V0VHlwZSgpID09PSB0aGlzLmdldFR5cGUoKSA/IEEgOiBCO1xuXHQgIH0sXG5cblx0ICBzZXROYW1lOiBmdW5jdGlvbiBzZXROYW1lKHNvdXJjZU9icywgLyogb3B0aW9uYWwgKi9zZWxmTmFtZSkge1xuXHQgICAgdGhpcy5fbmFtZSA9IHNlbGZOYW1lID8gJycgKyBzb3VyY2VPYnMuX25hbWUgKyAnLicgKyBzZWxmTmFtZSA6IHNvdXJjZU9icztcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cblx0ICBsb2c6IGZ1bmN0aW9uIGxvZygpIHtcblx0ICAgIHZhciBuYW1lID0gYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB0aGlzLnRvU3RyaW5nKCkgOiBhcmd1bWVudHNbMF07XG5cblx0ICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcihldmVudCkge1xuXHQgICAgICB2YXIgdHlwZSA9ICc8JyArIGV2ZW50LnR5cGUgKyAnJyArIChldmVudC5jdXJyZW50ID8gJzpjdXJyZW50JyA6ICcnKSArICc+Jztcblx0ICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IEVORCkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKG5hbWUsIHR5cGUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKG5hbWUsIHR5cGUsIGV2ZW50LnZhbHVlKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblxuXHQgICAgaWYgKHRoaXMuX2FsaXZlKSB7XG5cdCAgICAgIGlmICghdGhpcy5fbG9nSGFuZGxlcnMpIHtcblx0ICAgICAgICB0aGlzLl9sb2dIYW5kbGVycyA9IFtdO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuX2xvZ0hhbmRsZXJzLnB1c2goeyBuYW1lOiBuYW1lLCBoYW5kbGVyOiBoYW5kbGVyIH0pO1xuXHQgICAgfVxuXG5cdCAgICB0aGlzLm9uQW55KGhhbmRsZXIpO1xuXG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXG5cdCAgb2ZmTG9nOiBmdW5jdGlvbiBvZmZMb2coKSB7XG5cdCAgICB2YXIgbmFtZSA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdGhpcy50b1N0cmluZygpIDogYXJndW1lbnRzWzBdO1xuXG5cdCAgICBpZiAodGhpcy5fbG9nSGFuZGxlcnMpIHtcblx0ICAgICAgdmFyIGhhbmRsZXJJbmRleCA9IGZpbmRCeVByZWQodGhpcy5fbG9nSGFuZGxlcnMsIGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICByZXR1cm4gb2JqLm5hbWUgPT09IG5hbWU7XG5cdCAgICAgIH0pO1xuXHQgICAgICBpZiAoaGFuZGxlckluZGV4ICE9PSAtMSkge1xuXHQgICAgICAgIHRoaXMub2ZmQW55KHRoaXMuX2xvZ0hhbmRsZXJzW2hhbmRsZXJJbmRleF0uaGFuZGxlcik7XG5cdCAgICAgICAgdGhpcy5fbG9nSGFuZGxlcnMuc3BsaWNlKGhhbmRsZXJJbmRleCwgMSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdC8vIGV4dGVuZCgpIGNhbid0IGhhbmRsZSBgdG9TdHJpbmdgIGluIElFOFxuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gJ1snICsgdGhpcy5fbmFtZSArICddJztcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IE9ic2VydmFibGU7XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRmdW5jdGlvbiBjcmVhdGVPYmoocHJvdG8pIHtcblx0ICB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTtcblx0ICBGLnByb3RvdHlwZSA9IHByb3RvO1xuXHQgIHJldHVybiBuZXcgRigpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCAvKiwgbWl4aW4xLCBtaXhpbjIuLi4qLykge1xuXHQgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICBpID0gdW5kZWZpbmVkLFxuXHQgICAgICBwcm9wID0gdW5kZWZpbmVkO1xuXHQgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgZm9yIChwcm9wIGluIGFyZ3VtZW50c1tpXSkge1xuXHQgICAgICB0YXJnZXRbcHJvcF0gPSBhcmd1bWVudHNbaV1bcHJvcF07XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0YXJnZXQ7XG5cdH1cblxuXHRmdW5jdGlvbiBpbmhlcml0KENoaWxkLCBQYXJlbnQgLyosIG1peGluMSwgbWl4aW4yLi4uKi8pIHtcblx0ICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgaSA9IHVuZGVmaW5lZDtcblx0ICBDaGlsZC5wcm90b3R5cGUgPSBjcmVhdGVPYmooUGFyZW50LnByb3RvdHlwZSk7XG5cdCAgQ2hpbGQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2hpbGQ7XG5cdCAgZm9yIChpID0gMjsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICBleHRlbmQoQ2hpbGQucHJvdG90eXBlLCBhcmd1bWVudHNbaV0pO1xuXHQgIH1cblx0ICByZXR1cm4gQ2hpbGQ7XG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgZXh0ZW5kOiBleHRlbmQsIGluaGVyaXQ6IGluaGVyaXQgfTtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRleHBvcnRzLk5PVEhJTkcgPSBbJzxub3RoaW5nPiddO1xuXHRleHBvcnRzLkVORCA9ICdlbmQnO1xuXHRleHBvcnRzLlZBTFVFID0gJ3ZhbHVlJztcblx0ZXhwb3J0cy5FUlJPUiA9ICdlcnJvcic7XG5cdGV4cG9ydHMuQU5ZID0gJ2FueSc7XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgZXh0ZW5kID0gX3JlcXVpcmUuZXh0ZW5kO1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdHZhciBWQUxVRSA9IF9yZXF1aXJlMi5WQUxVRTtcblx0dmFyIEVSUk9SID0gX3JlcXVpcmUyLkVSUk9SO1xuXHR2YXIgQU5ZID0gX3JlcXVpcmUyLkFOWTtcblxuXHR2YXIgX3JlcXVpcmUzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgY29uY2F0ID0gX3JlcXVpcmUzLmNvbmNhdDtcblx0dmFyIHJlbW92ZUJ5UHJlZCA9IF9yZXF1aXJlMy5yZW1vdmVCeVByZWQ7XG5cblx0ZnVuY3Rpb24gY2FsbFN1YnNjcmliZXIodHlwZSwgZm4sIGV2ZW50KSB7XG5cdCAgaWYgKHR5cGUgPT09IEFOWSkge1xuXHQgICAgZm4oZXZlbnQpO1xuXHQgIH0gZWxzZSBpZiAodHlwZSA9PT0gZXZlbnQudHlwZSkge1xuXHQgICAgaWYgKHR5cGUgPT09IFZBTFVFIHx8IHR5cGUgPT09IEVSUk9SKSB7XG5cdCAgICAgIGZuKGV2ZW50LnZhbHVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGZuKCk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gRGlzcGF0Y2hlcigpIHtcblx0ICB0aGlzLl9pdGVtcyA9IFtdO1xuXHR9XG5cblx0ZXh0ZW5kKERpc3BhdGNoZXIucHJvdG90eXBlLCB7XG5cblx0ICBhZGQ6IGZ1bmN0aW9uIGFkZCh0eXBlLCBmbikge1xuXHQgICAgdGhpcy5faXRlbXMgPSBjb25jYXQodGhpcy5faXRlbXMsIFt7IHR5cGU6IHR5cGUsIGZuOiBmbiB9XSk7XG5cdCAgICByZXR1cm4gdGhpcy5faXRlbXMubGVuZ3RoO1xuXHQgIH0sXG5cblx0ICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSh0eXBlLCBmbikge1xuXHQgICAgdGhpcy5faXRlbXMgPSByZW1vdmVCeVByZWQodGhpcy5faXRlbXMsIGZ1bmN0aW9uICh4KSB7XG5cdCAgICAgIHJldHVybiB4LnR5cGUgPT09IHR5cGUgJiYgeC5mbiA9PT0gZm47XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiB0aGlzLl9pdGVtcy5sZW5ndGg7XG5cdCAgfSxcblxuXHQgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaChldmVudCkge1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGl0ZW1zID0gdGhpcy5faXRlbXM7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBjYWxsU3Vic2NyaWJlcihpdGVtc1tpXS50eXBlLCBpdGVtc1tpXS5mbiwgZXZlbnQpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgY2FsbFN1YnNjcmliZXI6IGNhbGxTdWJzY3JpYmVyLCBEaXNwYXRjaGVyOiBEaXNwYXRjaGVyIH07XG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRmdW5jdGlvbiBjb25jYXQoYSwgYikge1xuXHQgIHZhciByZXN1bHQgPSB1bmRlZmluZWQsXG5cdCAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZCxcblx0ICAgICAgaSA9IHVuZGVmaW5lZCxcblx0ICAgICAgaiA9IHVuZGVmaW5lZDtcblx0ICBpZiAoYS5sZW5ndGggPT09IDApIHtcblx0ICAgIHJldHVybiBiO1xuXHQgIH1cblx0ICBpZiAoYi5sZW5ndGggPT09IDApIHtcblx0ICAgIHJldHVybiBhO1xuXHQgIH1cblx0ICBqID0gMDtcblx0ICByZXN1bHQgPSBuZXcgQXJyYXkoYS5sZW5ndGggKyBiLmxlbmd0aCk7XG5cdCAgbGVuZ3RoID0gYS5sZW5ndGg7XG5cdCAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrLCBqKyspIHtcblx0ICAgIHJlc3VsdFtqXSA9IGFbaV07XG5cdCAgfVxuXHQgIGxlbmd0aCA9IGIubGVuZ3RoO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKywgaisrKSB7XG5cdCAgICByZXN1bHRbal0gPSBiW2ldO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2lyY2xlU2hpZnQoYXJyLCBkaXN0YW5jZSkge1xuXHQgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoLFxuXHQgICAgICByZXN1bHQgPSBuZXcgQXJyYXkobGVuZ3RoKSxcblx0ICAgICAgaSA9IHVuZGVmaW5lZDtcblx0ICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgIHJlc3VsdFsoaSArIGRpc3RhbmNlKSAlIGxlbmd0aF0gPSBhcnJbaV07XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBmaW5kKGFyciwgdmFsdWUpIHtcblx0ICB2YXIgbGVuZ3RoID0gYXJyLmxlbmd0aCxcblx0ICAgICAgaSA9IHVuZGVmaW5lZDtcblx0ICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmIChhcnJbaV0gPT09IHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gLTE7XG5cdH1cblxuXHRmdW5jdGlvbiBmaW5kQnlQcmVkKGFyciwgcHJlZCkge1xuXHQgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoLFxuXHQgICAgICBpID0gdW5kZWZpbmVkO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgaWYgKHByZWQoYXJyW2ldKSkge1xuXHQgICAgICByZXR1cm4gaTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIC0xO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2xvbmVBcnJheShpbnB1dCkge1xuXHQgIHZhciBsZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdCAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShsZW5ndGgpLFxuXHQgICAgICBpID0gdW5kZWZpbmVkO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgcmVzdWx0W2ldID0gaW5wdXRbaV07XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmUoaW5wdXQsIGluZGV4KSB7XG5cdCAgdmFyIGxlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0ICAgICAgcmVzdWx0ID0gdW5kZWZpbmVkLFxuXHQgICAgICBpID0gdW5kZWZpbmVkLFxuXHQgICAgICBqID0gdW5kZWZpbmVkO1xuXHQgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICBpZiAobGVuZ3RoID09PSAxKSB7XG5cdCAgICAgIHJldHVybiBbXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShsZW5ndGggLSAxKTtcblx0ICAgICAgZm9yIChpID0gMCwgaiA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChpICE9PSBpbmRleCkge1xuXHQgICAgICAgICAgcmVzdWx0W2pdID0gaW5wdXRbaV07XG5cdCAgICAgICAgICBqKys7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBpbnB1dDtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVCeVByZWQoaW5wdXQsIHByZWQpIHtcblx0ICByZXR1cm4gcmVtb3ZlKGlucHV0LCBmaW5kQnlQcmVkKGlucHV0LCBwcmVkKSk7XG5cdH1cblxuXHRmdW5jdGlvbiBtYXAoaW5wdXQsIGZuKSB7XG5cdCAgdmFyIGxlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0ICAgICAgcmVzdWx0ID0gbmV3IEFycmF5KGxlbmd0aCksXG5cdCAgICAgIGkgPSB1bmRlZmluZWQ7XG5cdCAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICByZXN1bHRbaV0gPSBmbihpbnB1dFtpXSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBmb3JFYWNoKGFyciwgZm4pIHtcblx0ICB2YXIgbGVuZ3RoID0gYXJyLmxlbmd0aCxcblx0ICAgICAgaSA9IHVuZGVmaW5lZDtcblx0ICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgIGZuKGFycltpXSk7XG5cdCAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gZmlsbEFycmF5KGFyciwgdmFsdWUpIHtcblx0ICB2YXIgbGVuZ3RoID0gYXJyLmxlbmd0aCxcblx0ICAgICAgaSA9IHVuZGVmaW5lZDtcblx0ICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgIGFycltpXSA9IHZhbHVlO1xuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIGNvbnRhaW5zKGFyciwgdmFsdWUpIHtcblx0ICByZXR1cm4gZmluZChhcnIsIHZhbHVlKSAhPT0gLTE7XG5cdH1cblxuXHRmdW5jdGlvbiBzbGlkZShjdXIsIG5leHQsIG1heCkge1xuXHQgIHZhciBsZW5ndGggPSBNYXRoLm1pbihtYXgsIGN1ci5sZW5ndGggKyAxKSxcblx0ICAgICAgb2Zmc2V0ID0gY3VyLmxlbmd0aCAtIGxlbmd0aCArIDEsXG5cdCAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShsZW5ndGgpLFxuXHQgICAgICBpID0gdW5kZWZpbmVkO1xuXHQgIGZvciAoaSA9IG9mZnNldDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICByZXN1bHRbaSAtIG9mZnNldF0gPSBjdXJbaV07XG5cdCAgfVxuXHQgIHJlc3VsdFtsZW5ndGggLSAxXSA9IG5leHQ7XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGNvbmNhdDogY29uY2F0LFxuXHQgIGNpcmNsZVNoaWZ0OiBjaXJjbGVTaGlmdCxcblx0ICBmaW5kOiBmaW5kLFxuXHQgIGZpbmRCeVByZWQ6IGZpbmRCeVByZWQsXG5cdCAgY2xvbmVBcnJheTogY2xvbmVBcnJheSxcblx0ICByZW1vdmU6IHJlbW92ZSxcblx0ICByZW1vdmVCeVByZWQ6IHJlbW92ZUJ5UHJlZCxcblx0ICBtYXA6IG1hcCxcblx0ICBmb3JFYWNoOiBmb3JFYWNoLFxuXHQgIGZpbGxBcnJheTogZmlsbEFycmF5LFxuXHQgIGNvbnRhaW5zOiBjb250YWlucyxcblx0ICBzbGlkZTogc2xpZGVcblx0fTtcblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUuaW5oZXJpdDtcblxuXHR2YXIgT2JzZXJ2YWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblx0ZnVuY3Rpb24gU3RyZWFtKCkge1xuXHQgIE9ic2VydmFibGUuY2FsbCh0aGlzKTtcblx0fVxuXG5cdGluaGVyaXQoU3RyZWFtLCBPYnNlcnZhYmxlLCB7XG5cblx0ICBfbmFtZTogJ3N0cmVhbScsXG5cblx0ICBnZXRUeXBlOiBmdW5jdGlvbiBnZXRUeXBlKCkge1xuXHQgICAgcmV0dXJuICdzdHJlYW0nO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFN0cmVhbTtcblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUuaW5oZXJpdDtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgVkFMVUUgPSBfcmVxdWlyZTIuVkFMVUU7XG5cdHZhciBFUlJPUiA9IF9yZXF1aXJlMi5FUlJPUjtcblx0dmFyIEVORCA9IF9yZXF1aXJlMi5FTkQ7XG5cblx0dmFyIF9yZXF1aXJlMyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cblx0dmFyIGNhbGxTdWJzY3JpYmVyID0gX3JlcXVpcmUzLmNhbGxTdWJzY3JpYmVyO1xuXG5cdHZhciBPYnNlcnZhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXHRmdW5jdGlvbiBQcm9wZXJ0eSgpIHtcblx0ICBPYnNlcnZhYmxlLmNhbGwodGhpcyk7XG5cdCAgdGhpcy5fY3VycmVudEV2ZW50ID0gbnVsbDtcblx0fVxuXG5cdGluaGVyaXQoUHJvcGVydHksIE9ic2VydmFibGUsIHtcblxuXHQgIF9uYW1lOiAncHJvcGVydHknLFxuXG5cdCAgX2VtaXRWYWx1ZTogZnVuY3Rpb24gX2VtaXRWYWx1ZSh2YWx1ZSkge1xuXHQgICAgaWYgKHRoaXMuX2FsaXZlKSB7XG5cdCAgICAgIGlmICghdGhpcy5fYWN0aXZhdGluZykge1xuXHQgICAgICAgIHRoaXMuX2Rpc3BhdGNoZXIuZGlzcGF0Y2goeyB0eXBlOiBWQUxVRSwgdmFsdWU6IHZhbHVlLCBjdXJyZW50OiB0aGlzLl9hY3RpdmF0aW5nIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuX2N1cnJlbnRFdmVudCA9IHsgdHlwZTogVkFMVUUsIHZhbHVlOiB2YWx1ZSwgY3VycmVudDogdHJ1ZSB9O1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfZW1pdEVycm9yOiBmdW5jdGlvbiBfZW1pdEVycm9yKHZhbHVlKSB7XG5cdCAgICBpZiAodGhpcy5fYWxpdmUpIHtcblx0ICAgICAgaWYgKCF0aGlzLl9hY3RpdmF0aW5nKSB7XG5cdCAgICAgICAgdGhpcy5fZGlzcGF0Y2hlci5kaXNwYXRjaCh7IHR5cGU6IEVSUk9SLCB2YWx1ZTogdmFsdWUsIGN1cnJlbnQ6IHRoaXMuX2FjdGl2YXRpbmcgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5fY3VycmVudEV2ZW50ID0geyB0eXBlOiBFUlJPUiwgdmFsdWU6IHZhbHVlLCBjdXJyZW50OiB0cnVlIH07XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9lbWl0RW5kOiBmdW5jdGlvbiBfZW1pdEVuZCgpIHtcblx0ICAgIGlmICh0aGlzLl9hbGl2ZSkge1xuXHQgICAgICBpZiAoIXRoaXMuX2FjdGl2YXRpbmcpIHtcblx0ICAgICAgICB0aGlzLl9kaXNwYXRjaGVyLmRpc3BhdGNoKHsgdHlwZTogRU5ELCBjdXJyZW50OiB0aGlzLl9hY3RpdmF0aW5nIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuX2NsZWFyKCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9vbjogZnVuY3Rpb24gX29uKHR5cGUsIGZuKSB7XG5cdCAgICBpZiAodGhpcy5fYWxpdmUpIHtcblx0ICAgICAgdGhpcy5fZGlzcGF0Y2hlci5hZGQodHlwZSwgZm4pO1xuXHQgICAgICB0aGlzLl9zZXRBY3RpdmUodHJ1ZSk7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5fY3VycmVudEV2ZW50ICE9PSBudWxsKSB7XG5cdCAgICAgIGNhbGxTdWJzY3JpYmVyKHR5cGUsIGZuLCB0aGlzLl9jdXJyZW50RXZlbnQpO1xuXHQgICAgfVxuXHQgICAgaWYgKCF0aGlzLl9hbGl2ZSkge1xuXHQgICAgICBjYWxsU3Vic2NyaWJlcih0eXBlLCBmbiwgeyB0eXBlOiBFTkQsIGN1cnJlbnQ6IHRydWUgfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXG5cdCAgZ2V0VHlwZTogZnVuY3Rpb24gZ2V0VHlwZSgpIHtcblx0ICAgIHJldHVybiAncHJvcGVydHknO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFByb3BlcnR5O1xuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBTdHJlYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciBuZXZlclMgPSBuZXcgU3RyZWFtKCk7XG5cdG5ldmVyUy5fZW1pdEVuZCgpO1xuXHRuZXZlclMuX25hbWUgPSAnbmV2ZXInO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbmV2ZXIoKSB7XG5cdCAgcmV0dXJuIG5ldmVyUztcblx0fTtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgdGltZUJhc2VkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cblx0dmFyIFMgPSB0aW1lQmFzZWQoe1xuXG5cdCAgX25hbWU6ICdsYXRlcicsXG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIHggPSBfcmVmLng7XG5cblx0ICAgIHRoaXMuX3ggPSB4O1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl94ID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX29uVGljazogZnVuY3Rpb24gX29uVGljaygpIHtcblx0ICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl94KTtcblx0ICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICB9XG5cblx0fSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBsYXRlcih3YWl0LCB4KSB7XG5cdCAgcmV0dXJuIG5ldyBTKHdhaXQsIHsgeDogeCB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlLmluaGVyaXQ7XG5cblx0dmFyIFN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0aW1lQmFzZWQobWl4aW4pIHtcblxuXHQgIGZ1bmN0aW9uIEFub255bW91c1N0cmVhbSh3YWl0LCBvcHRpb25zKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdCAgICBTdHJlYW0uY2FsbCh0aGlzKTtcblx0ICAgIHRoaXMuX3dhaXQgPSB3YWl0O1xuXHQgICAgdGhpcy5faW50ZXJ2YWxJZCA9IG51bGw7XG5cdCAgICB0aGlzLl8kb25UaWNrID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMuX29uVGljaygpO1xuXHQgICAgfTtcblx0ICAgIHRoaXMuX2luaXQob3B0aW9ucyk7XG5cdCAgfVxuXG5cdCAgaW5oZXJpdChBbm9ueW1vdXNTdHJlYW0sIFN0cmVhbSwge1xuXG5cdCAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQob3B0aW9ucykge30sXG5cdCAgICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7fSxcblxuXHQgICAgX29uVGljazogZnVuY3Rpb24gX29uVGljaygpIHt9LFxuXG5cdCAgICBfb25BY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25BY3RpdmF0aW9uKCkge1xuXHQgICAgICB0aGlzLl9pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodGhpcy5fJG9uVGljaywgdGhpcy5fd2FpdCk7XG5cdCAgICB9LFxuXG5cdCAgICBfb25EZWFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkRlYWN0aXZhdGlvbigpIHtcblx0ICAgICAgaWYgKHRoaXMuX2ludGVydmFsSWQgIT09IG51bGwpIHtcblx0ICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsSWQpO1xuXHQgICAgICAgIHRoaXMuX2ludGVydmFsSWQgPSBudWxsO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBfY2xlYXI6IGZ1bmN0aW9uIF9jbGVhcigpIHtcblx0ICAgICAgU3RyZWFtLnByb3RvdHlwZS5fY2xlYXIuY2FsbCh0aGlzKTtcblx0ICAgICAgdGhpcy5fJG9uVGljayA9IG51bGw7XG5cdCAgICAgIHRoaXMuX2ZyZWUoKTtcblx0ICAgIH1cblxuXHQgIH0sIG1peGluKTtcblxuXHQgIHJldHVybiBBbm9ueW1vdXNTdHJlYW07XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciB0aW1lQmFzZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuXHR2YXIgUyA9IHRpbWVCYXNlZCh7XG5cblx0ICBfbmFtZTogJ2ludGVydmFsJyxcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgeCA9IF9yZWYueDtcblxuXHQgICAgdGhpcy5feCA9IHg7XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX3ggPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfb25UaWNrOiBmdW5jdGlvbiBfb25UaWNrKCkge1xuXHQgICAgdGhpcy5fZW1pdFZhbHVlKHRoaXMuX3gpO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGludGVydmFsKHdhaXQsIHgpIHtcblx0ICByZXR1cm4gbmV3IFMod2FpdCwgeyB4OiB4IH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgdGltZUJhc2VkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgY2xvbmVBcnJheSA9IF9yZXF1aXJlLmNsb25lQXJyYXk7XG5cblx0dmFyIG5ldmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgUyA9IHRpbWVCYXNlZCh7XG5cblx0ICBfbmFtZTogJ3NlcXVlbnRpYWxseScsXG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIHhzID0gX3JlZi54cztcblxuXHQgICAgdGhpcy5feHMgPSBjbG9uZUFycmF5KHhzKTtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5feHMgPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfb25UaWNrOiBmdW5jdGlvbiBfb25UaWNrKCkge1xuXHQgICAgaWYgKHRoaXMuX3hzLmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUodGhpcy5feHNbMF0pO1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUodGhpcy5feHMuc2hpZnQoKSk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2VxdWVudGlhbGx5KHdhaXQsIHhzKSB7XG5cdCAgcmV0dXJuIHhzLmxlbmd0aCA9PT0gMCA/IG5ldmVyKCkgOiBuZXcgUyh3YWl0LCB7IHhzOiB4cyB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHRpbWVCYXNlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG5cdHZhciBTID0gdGltZUJhc2VkKHtcblxuXHQgIF9uYW1lOiAnZnJvbVBvbGwnLFxuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cblx0ICAgIHRoaXMuX2ZuID0gZm47XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX29uVGljazogZnVuY3Rpb24gX29uVGljaygpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgdGhpcy5fZW1pdFZhbHVlKGZuKCkpO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZyb21Qb2xsKHdhaXQsIGZuKSB7XG5cdCAgcmV0dXJuIG5ldyBTKHdhaXQsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgdGltZUJhc2VkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdHZhciBlbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cblx0dmFyIFMgPSB0aW1lQmFzZWQoe1xuXG5cdCAgX25hbWU6ICd3aXRoSW50ZXJ2YWwnLFxuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cblx0ICAgIHRoaXMuX2ZuID0gZm47XG5cdCAgICB0aGlzLl9lbWl0dGVyID0gZW1pdHRlcih0aGlzKTtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9vblRpY2s6IGZ1bmN0aW9uIF9vblRpY2soKSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIGZuKHRoaXMuX2VtaXR0ZXIpO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdpdGhJbnRlcnZhbCh3YWl0LCBmbikge1xuXHQgIHJldHVybiBuZXcgUyh3YWl0LCB7IGZuOiBmbiB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVtaXR0ZXIob2JzKSB7XG5cblx0ICBmdW5jdGlvbiB2YWx1ZSh4KSB7XG5cdCAgICBvYnMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIHJldHVybiBvYnMuX2FjdGl2ZTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBlcnJvcih4KSB7XG5cdCAgICBvYnMuX2VtaXRFcnJvcih4KTtcblx0ICAgIHJldHVybiBvYnMuX2FjdGl2ZTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBlbmQoKSB7XG5cdCAgICBvYnMuX2VtaXRFbmQoKTtcblx0ICAgIHJldHVybiBvYnMuX2FjdGl2ZTtcblx0ICB9XG5cblx0ICBmdW5jdGlvbiBldmVudChlKSB7XG5cdCAgICBvYnMuX2VtaXQoZS50eXBlLCBlLnZhbHVlKTtcblx0ICAgIHJldHVybiBvYnMuX2FjdGl2ZTtcblx0ICB9XG5cblx0ICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGVycm9yOiBlcnJvciwgZW5kOiBlbmQsIGV2ZW50OiBldmVudCwgZW1pdDogdmFsdWUsIGVtaXRFdmVudDogZXZlbnQgfTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZnJvbUNhbGxiYWNrKGNhbGxiYWNrQ29uc3VtZXIpIHtcblxuXHQgIHZhciBjYWxsZWQgPSBmYWxzZTtcblxuXHQgIHJldHVybiBzdHJlYW0oZnVuY3Rpb24gKGVtaXR0ZXIpIHtcblxuXHQgICAgaWYgKCFjYWxsZWQpIHtcblx0ICAgICAgY2FsbGJhY2tDb25zdW1lcihmdW5jdGlvbiAoeCkge1xuXHQgICAgICAgIGVtaXR0ZXIuZW1pdCh4KTtcblx0ICAgICAgICBlbWl0dGVyLmVuZCgpO1xuXHQgICAgICB9KTtcblx0ICAgICAgY2FsbGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9KS5zZXROYW1lKCdmcm9tQ2FsbGJhY2snKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlLmluaGVyaXQ7XG5cblx0dmFyIFN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdHZhciBlbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cblx0ZnVuY3Rpb24gUyhmbikge1xuXHQgIFN0cmVhbS5jYWxsKHRoaXMpO1xuXHQgIHRoaXMuX2ZuID0gZm47XG5cdCAgdGhpcy5fdW5zdWJzY3JpYmUgPSBudWxsO1xuXHR9XG5cblx0aW5oZXJpdChTLCBTdHJlYW0sIHtcblxuXHQgIF9uYW1lOiAnc3RyZWFtJyxcblxuXHQgIF9vbkFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkFjdGl2YXRpb24oKSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIHZhciB1bnN1YnNjcmliZSA9IGZuKGVtaXR0ZXIodGhpcykpO1xuXHQgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSB0eXBlb2YgdW5zdWJzY3JpYmUgPT09ICdmdW5jdGlvbicgPyB1bnN1YnNjcmliZSA6IG51bGw7XG5cblx0ICAgIC8vIGZpeCBodHRwczovL2dpdGh1Yi5jb20vcnBvbWlub3Yva2VmaXIvaXNzdWVzLzM1XG5cdCAgICBpZiAoIXRoaXMuX2FjdGl2ZSkge1xuXHQgICAgICB0aGlzLl9jYWxsVW5zdWJzY3JpYmUoKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2NhbGxVbnN1YnNjcmliZTogZnVuY3Rpb24gX2NhbGxVbnN1YnNjcmliZSgpIHtcblx0ICAgIGlmICh0aGlzLl91bnN1YnNjcmliZSAhPT0gbnVsbCkge1xuXHQgICAgICB0aGlzLl91bnN1YnNjcmliZSgpO1xuXHQgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9vbkRlYWN0aXZhdGlvbjogZnVuY3Rpb24gX29uRGVhY3RpdmF0aW9uKCkge1xuXHQgICAgdGhpcy5fY2FsbFVuc3Vic2NyaWJlKCk7XG5cdCAgfSxcblxuXHQgIF9jbGVhcjogZnVuY3Rpb24gX2NsZWFyKCkge1xuXHQgICAgU3RyZWFtLnByb3RvdHlwZS5fY2xlYXIuY2FsbCh0aGlzKTtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICB9XG5cblx0fSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJlYW0oZm4pIHtcblx0ICByZXR1cm4gbmV3IFMoZm4pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgc3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmcm9tTm9kZUNhbGxiYWNrKGNhbGxiYWNrQ29uc3VtZXIpIHtcblxuXHQgIHZhciBjYWxsZWQgPSBmYWxzZTtcblxuXHQgIHJldHVybiBzdHJlYW0oZnVuY3Rpb24gKGVtaXR0ZXIpIHtcblxuXHQgICAgaWYgKCFjYWxsZWQpIHtcblx0ICAgICAgY2FsbGJhY2tDb25zdW1lcihmdW5jdGlvbiAoZXJyb3IsIHgpIHtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIGVtaXR0ZXIuZXJyb3IoZXJyb3IpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBlbWl0dGVyLmVtaXQoeCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVtaXR0ZXIuZW5kKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBjYWxsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH0pLnNldE5hbWUoJ2Zyb21Ob2RlQ2FsbGJhY2snKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGZyb21TdWJVbnN1YiA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXG5cdHZhciBwYWlycyA9IFtbJ2FkZEV2ZW50TGlzdGVuZXInLCAncmVtb3ZlRXZlbnRMaXN0ZW5lciddLCBbJ2FkZExpc3RlbmVyJywgJ3JlbW92ZUxpc3RlbmVyJ10sIFsnb24nLCAnb2ZmJ11dO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZnJvbUV2ZW50cyh0YXJnZXQsIGV2ZW50TmFtZSwgdHJhbnNmb3JtZXIpIHtcblx0ICB2YXIgc3ViID0gdW5kZWZpbmVkLFxuXHQgICAgICB1bnN1YiA9IHVuZGVmaW5lZDtcblxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmICh0eXBlb2YgdGFyZ2V0W3BhaXJzW2ldWzBdXSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdGFyZ2V0W3BhaXJzW2ldWzFdXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICBzdWIgPSBwYWlyc1tpXVswXTtcblx0ICAgICAgdW5zdWIgPSBwYWlyc1tpXVsxXTtcblx0ICAgICAgYnJlYWs7XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgaWYgKHN1YiA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3RhcmdldCBkb25cXCd0IHN1cHBvcnQgYW55IG9mICcgKyAnYWRkRXZlbnRMaXN0ZW5lci9yZW1vdmVFdmVudExpc3RlbmVyLCBhZGRMaXN0ZW5lci9yZW1vdmVMaXN0ZW5lciwgb24vb2ZmIG1ldGhvZCBwYWlyJyk7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIGZyb21TdWJVbnN1YihmdW5jdGlvbiAoaGFuZGxlcikge1xuXHQgICAgcmV0dXJuIHRhcmdldFtzdWJdKGV2ZW50TmFtZSwgaGFuZGxlcik7XG5cdCAgfSwgZnVuY3Rpb24gKGhhbmRsZXIpIHtcblx0ICAgIHJldHVybiB0YXJnZXRbdW5zdWJdKGV2ZW50TmFtZSwgaGFuZGxlcik7XG5cdCAgfSwgdHJhbnNmb3JtZXIpLnNldE5hbWUoJ2Zyb21FdmVudHMnKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG5cdHZhciBhcHBseSA9IF9yZXF1aXJlLmFwcGx5O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZnJvbVN1YlVuc3ViKHN1YiwgdW5zdWIsIHRyYW5zZm9ybWVyIC8qIEZ1bmN0aW9uIHwgZmFsc2V5ICovKSB7XG5cdCAgcmV0dXJuIHN0cmVhbShmdW5jdGlvbiAoZW1pdHRlcikge1xuXG5cdCAgICB2YXIgaGFuZGxlciA9IHRyYW5zZm9ybWVyID8gZnVuY3Rpb24gKCkge1xuXHQgICAgICBlbWl0dGVyLmVtaXQoYXBwbHkodHJhbnNmb3JtZXIsIHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfSA6IGVtaXR0ZXIuZW1pdDtcblxuXHQgICAgc3ViKGhhbmRsZXIpO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHVuc3ViKGhhbmRsZXIpO1xuXHQgICAgfTtcblx0ICB9KS5zZXROYW1lKCdmcm9tU3ViVW5zdWInKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDIxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRmdW5jdGlvbiBzcHJlYWQoZm4sIGxlbmd0aCkge1xuXHQgIHN3aXRjaCAobGVuZ3RoKSB7XG5cdCAgICBjYXNlIDA6XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgIHJldHVybiBmbigpO1xuXHQgICAgICB9O1xuXHQgICAgY2FzZSAxOlxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICByZXR1cm4gZm4oYVswXSk7XG5cdCAgICAgIH07XG5cdCAgICBjYXNlIDI6XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgIHJldHVybiBmbihhWzBdLCBhWzFdKTtcblx0ICAgICAgfTtcblx0ICAgIGNhc2UgMzpcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgcmV0dXJuIGZuKGFbMF0sIGFbMV0sIGFbMl0pO1xuXHQgICAgICB9O1xuXHQgICAgY2FzZSA0OlxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICByZXR1cm4gZm4oYVswXSwgYVsxXSwgYVsyXSwgYVszXSk7XG5cdCAgICAgIH07XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYSk7XG5cdCAgICAgIH07XG5cdCAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gYXBwbHkoZm4sIGMsIGEpIHtcblx0ICB2YXIgYUxlbmd0aCA9IGEgPyBhLmxlbmd0aCA6IDA7XG5cdCAgaWYgKGMgPT0gbnVsbCkge1xuXHQgICAgc3dpdGNoIChhTGVuZ3RoKSB7XG5cdCAgICAgIGNhc2UgMDpcblx0ICAgICAgICByZXR1cm4gZm4oKTtcblx0ICAgICAgY2FzZSAxOlxuXHQgICAgICAgIHJldHVybiBmbihhWzBdKTtcblx0ICAgICAgY2FzZSAyOlxuXHQgICAgICAgIHJldHVybiBmbihhWzBdLCBhWzFdKTtcblx0ICAgICAgY2FzZSAzOlxuXHQgICAgICAgIHJldHVybiBmbihhWzBdLCBhWzFdLCBhWzJdKTtcblx0ICAgICAgY2FzZSA0OlxuXHQgICAgICAgIHJldHVybiBmbihhWzBdLCBhWzFdLCBhWzJdLCBhWzNdKTtcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYSk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHN3aXRjaCAoYUxlbmd0aCkge1xuXHQgICAgICBjYXNlIDA6XG5cdCAgICAgICAgcmV0dXJuIGZuLmNhbGwoYyk7XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGMsIGEpO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0geyBzcHJlYWQ6IHNwcmVhZCwgYXBwbHk6IGFwcGx5IH07XG5cbi8qKiovIH0sXG4vKiAyMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZS5pbmhlcml0O1xuXG5cdHZhciBQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cblx0Ly8gSEFDSzpcblx0Ly8gICBXZSBkb24ndCBjYWxsIHBhcmVudCBDbGFzcyBjb25zdHJ1Y3RvciwgYnV0IGluc3RlYWQgcHV0dGluZyBhbGwgbmVjZXNzYXJ5XG5cdC8vICAgcHJvcGVydGllcyBpbnRvIHByb3RvdHlwZSB0byBzaW11bGF0ZSBlbmRlZCBQcm9wZXJ0eVxuXHQvLyAgIChzZWUgUHJvcHBlcnR5IGFuZCBPYnNlcnZhYmxlIGNsYXNzZXMpLlxuXG5cdGZ1bmN0aW9uIFAodmFsdWUpIHtcblx0ICB0aGlzLl9jdXJyZW50RXZlbnQgPSB7IHR5cGU6ICd2YWx1ZScsIHZhbHVlOiB2YWx1ZSwgY3VycmVudDogdHJ1ZSB9O1xuXHR9XG5cblx0aW5oZXJpdChQLCBQcm9wZXJ0eSwge1xuXHQgIF9uYW1lOiAnY29uc3RhbnQnLFxuXHQgIF9hY3RpdmU6IGZhbHNlLFxuXHQgIF9hY3RpdmF0aW5nOiBmYWxzZSxcblx0ICBfYWxpdmU6IGZhbHNlLFxuXHQgIF9kaXNwYXRjaGVyOiBudWxsLFxuXHQgIF9sb2dIYW5kbGVyczogbnVsbFxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbnN0YW50KHgpIHtcblx0ICByZXR1cm4gbmV3IFAoeCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZS5pbmhlcml0O1xuXG5cdHZhciBQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cblx0Ly8gSEFDSzpcblx0Ly8gICBXZSBkb24ndCBjYWxsIHBhcmVudCBDbGFzcyBjb25zdHJ1Y3RvciwgYnV0IGluc3RlYWQgcHV0dGluZyBhbGwgbmVjZXNzYXJ5XG5cdC8vICAgcHJvcGVydGllcyBpbnRvIHByb3RvdHlwZSB0byBzaW11bGF0ZSBlbmRlZCBQcm9wZXJ0eVxuXHQvLyAgIChzZWUgUHJvcHBlcnR5IGFuZCBPYnNlcnZhYmxlIGNsYXNzZXMpLlxuXG5cdGZ1bmN0aW9uIFAodmFsdWUpIHtcblx0ICB0aGlzLl9jdXJyZW50RXZlbnQgPSB7IHR5cGU6ICdlcnJvcicsIHZhbHVlOiB2YWx1ZSwgY3VycmVudDogdHJ1ZSB9O1xuXHR9XG5cblx0aW5oZXJpdChQLCBQcm9wZXJ0eSwge1xuXHQgIF9uYW1lOiAnY29uc3RhbnRFcnJvcicsXG5cdCAgX2FjdGl2ZTogZmFsc2UsXG5cdCAgX2FjdGl2YXRpbmc6IGZhbHNlLFxuXHQgIF9hbGl2ZTogZmFsc2UsXG5cdCAgX2Rpc3BhdGNoZXI6IG51bGwsXG5cdCAgX2xvZ0hhbmRsZXJzOiBudWxsXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29uc3RhbnRFcnJvcih4KSB7XG5cdCAgcmV0dXJuIG5ldyBQKHgpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgc3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdHZhciB0b1Byb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmcm9tUHJvbWlzZShwcm9taXNlKSB7XG5cblx0ICB2YXIgY2FsbGVkID0gZmFsc2U7XG5cblx0ICB2YXIgcmVzdWx0ID0gc3RyZWFtKGZ1bmN0aW9uIChlbWl0dGVyKSB7XG5cdCAgICBpZiAoIWNhbGxlZCkge1xuXHQgICAgICB2YXIgb25WYWx1ZSA9IGZ1bmN0aW9uIG9uVmFsdWUoeCkge1xuXHQgICAgICAgIGVtaXR0ZXIuZW1pdCh4KTtcblx0ICAgICAgICBlbWl0dGVyLmVuZCgpO1xuXHQgICAgICB9O1xuXHQgICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3IoeCkge1xuXHQgICAgICAgIGVtaXR0ZXIuZXJyb3IoeCk7XG5cdCAgICAgICAgZW1pdHRlci5lbmQoKTtcblx0ICAgICAgfTtcblx0ICAgICAgdmFyIF9wcm9taXNlID0gcHJvbWlzZS50aGVuKG9uVmFsdWUsIG9uRXJyb3IpO1xuXG5cdCAgICAgIC8vIHByZXZlbnQgbGlicmFyaWVzIGxpa2UgJ1EnIG9yICd3aGVuJyBmcm9tIHN3YWxsb3dpbmcgZXhjZXB0aW9uc1xuXHQgICAgICBpZiAoX3Byb21pc2UgJiYgdHlwZW9mIF9wcm9taXNlLmRvbmUgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICBfcHJvbWlzZS5kb25lKCk7XG5cdCAgICAgIH1cblxuXHQgICAgICBjYWxsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH0pO1xuXG5cdCAgcmV0dXJuIHRvUHJvcGVydHkocmVzdWx0LCBudWxsKS5zZXROYW1lKCdmcm9tUHJvbWlzZScpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCd0b1Byb3BlcnR5Jywge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cblx0ICAgIHRoaXMuX2dldEluaXRpYWxDdXJyZW50ID0gZm47XG5cdCAgfSxcblxuXHQgIF9vbkFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkFjdGl2YXRpb24oKSB7XG5cdCAgICBpZiAodGhpcy5fZ2V0SW5pdGlhbEN1cnJlbnQgIT09IG51bGwpIHtcblx0ICAgICAgdmFyIGdldEluaXRpYWwgPSB0aGlzLl9nZXRJbml0aWFsQ3VycmVudDtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKGdldEluaXRpYWwoKSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9zb3VyY2Uub25BbnkodGhpcy5fJGhhbmRsZUFueSk7IC8vIGNvcGllZCBmcm9tIHBhdHRlcm5zL29uZS1zb3VyY2Vcblx0ICB9XG5cblx0fSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0b1Byb3BlcnR5KG9icykge1xuXHQgIHZhciBmbiA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuXHQgIGlmIChmbiAhPT0gbnVsbCAmJiB0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignWW91IHNob3VsZCBjYWxsIHRvUHJvcGVydHkoKSB3aXRoIGEgZnVuY3Rpb24gb3Igbm8gYXJndW1lbnRzLicpO1xuXHQgIH1cblx0ICByZXR1cm4gbmV3IFAob2JzLCB7IGZuOiBmbiB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIFN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdHZhciBQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlLmluaGVyaXQ7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIFZBTFVFID0gX3JlcXVpcmUyLlZBTFVFO1xuXHR2YXIgRVJST1IgPSBfcmVxdWlyZTIuRVJST1I7XG5cdHZhciBFTkQgPSBfcmVxdWlyZTIuRU5EO1xuXG5cdGZ1bmN0aW9uIGNyZWF0ZUNvbnN0cnVjdG9yKEJhc2VDbGFzcywgbmFtZSkge1xuXHQgIHJldHVybiBmdW5jdGlvbiBBbm9ueW1vdXNPYnNlcnZhYmxlKHNvdXJjZSwgb3B0aW9ucykge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgQmFzZUNsYXNzLmNhbGwodGhpcyk7XG5cdCAgICB0aGlzLl9zb3VyY2UgPSBzb3VyY2U7XG5cdCAgICB0aGlzLl9uYW1lID0gJycgKyBzb3VyY2UuX25hbWUgKyAnLicgKyBuYW1lO1xuXHQgICAgdGhpcy5faW5pdChvcHRpb25zKTtcblx0ICAgIHRoaXMuXyRoYW5kbGVBbnkgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVBbnkoZXZlbnQpO1xuXHQgICAgfTtcblx0ICB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlQ2xhc3NNZXRob2RzKEJhc2VDbGFzcykge1xuXHQgIHJldHVybiB7XG5cblx0ICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChvcHRpb25zKSB7fSxcblx0ICAgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHt9LFxuXG5cdCAgICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH0sXG5cdCAgICBfaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIF9oYW5kbGVFcnJvcih4KSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFcnJvcih4KTtcblx0ICAgIH0sXG5cdCAgICBfaGFuZGxlRW5kOiBmdW5jdGlvbiBfaGFuZGxlRW5kKCkge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9LFxuXG5cdCAgICBfaGFuZGxlQW55OiBmdW5jdGlvbiBfaGFuZGxlQW55KGV2ZW50KSB7XG5cdCAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuXHQgICAgICAgIGNhc2UgVkFMVUU6XG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlVmFsdWUoZXZlbnQudmFsdWUpO1xuXHQgICAgICAgIGNhc2UgRVJST1I6XG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlRXJyb3IoZXZlbnQudmFsdWUpO1xuXHQgICAgICAgIGNhc2UgRU5EOlxuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZUVuZCgpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXG5cdCAgICBfb25BY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25BY3RpdmF0aW9uKCkge1xuXHQgICAgICB0aGlzLl9zb3VyY2Uub25BbnkodGhpcy5fJGhhbmRsZUFueSk7XG5cdCAgICB9LFxuXHQgICAgX29uRGVhY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25EZWFjdGl2YXRpb24oKSB7XG5cdCAgICAgIHRoaXMuX3NvdXJjZS5vZmZBbnkodGhpcy5fJGhhbmRsZUFueSk7XG5cdCAgICB9LFxuXG5cdCAgICBfY2xlYXI6IGZ1bmN0aW9uIF9jbGVhcigpIHtcblx0ICAgICAgQmFzZUNsYXNzLnByb3RvdHlwZS5fY2xlYXIuY2FsbCh0aGlzKTtcblx0ICAgICAgdGhpcy5fc291cmNlID0gbnVsbDtcblx0ICAgICAgdGhpcy5fJGhhbmRsZUFueSA9IG51bGw7XG5cdCAgICAgIHRoaXMuX2ZyZWUoKTtcblx0ICAgIH1cblxuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVTdHJlYW0obmFtZSwgbWl4aW4pIHtcblx0ICB2YXIgUyA9IGNyZWF0ZUNvbnN0cnVjdG9yKFN0cmVhbSwgbmFtZSk7XG5cdCAgaW5oZXJpdChTLCBTdHJlYW0sIGNyZWF0ZUNsYXNzTWV0aG9kcyhTdHJlYW0pLCBtaXhpbik7XG5cdCAgcmV0dXJuIFM7XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eShuYW1lLCBtaXhpbikge1xuXHQgIHZhciBQID0gY3JlYXRlQ29uc3RydWN0b3IoUHJvcGVydHksIG5hbWUpO1xuXHQgIGluaGVyaXQoUCwgUHJvcGVydHksIGNyZWF0ZUNsYXNzTWV0aG9kcyhQcm9wZXJ0eSksIG1peGluKTtcblx0ICByZXR1cm4gUDtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0geyBjcmVhdGVTdHJlYW06IGNyZWF0ZVN0cmVhbSwgY3JlYXRlUHJvcGVydHk6IGNyZWF0ZVByb3BlcnR5IH07XG5cbi8qKiovIH0sXG4vKiAyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ2NoYW5nZXMnLCB7XG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICBpZiAoIXRoaXMuX2FjdGl2YXRpbmcpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIF9oYW5kbGVFcnJvcih4KSB7XG5cdCAgICBpZiAoIXRoaXMuX2FjdGl2YXRpbmcpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVycm9yKHgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNoYW5nZXMob2JzKSB7XG5cdCAgcmV0dXJuIG5ldyBTKG9icyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGZ1bmN0aW9uIGdldEdsb2RhbFByb21pc2UoKSB7XG5cdCAgaWYgKHR5cGVvZiBQcm9taXNlID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICByZXR1cm4gUHJvbWlzZTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpc25cXCd0IGRlZmF1bHQgUHJvbWlzZSwgdXNlIHNoaW0gb3IgcGFyYW1ldGVyJyk7XG5cdCAgfVxuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JzKSB7XG5cdCAgdmFyIFByb21pc2UgPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGdldEdsb2RhbFByb21pc2UoKSA6IGFyZ3VtZW50c1sxXTtcblxuXHQgIHZhciBsYXN0ID0gbnVsbDtcblx0ICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgb2JzLm9uQW55KGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2VuZCcgJiYgbGFzdCAhPT0gbnVsbCkge1xuXHQgICAgICAgIChsYXN0LnR5cGUgPT09ICd2YWx1ZScgPyByZXNvbHZlIDogcmVqZWN0KShsYXN0LnZhbHVlKTtcblx0ICAgICAgICBsYXN0ID0gbnVsbDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBsYXN0ID0gZXZlbnQ7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIHRoaXMuX2VtaXRWYWx1ZShmbih4KSk7XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ21hcCcsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnbWFwJywgbWl4aW4pO1xuXG5cdHZhciBpZCA9IGZ1bmN0aW9uIGlkKHgpIHtcblx0ICByZXR1cm4geDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hcChvYnMpIHtcblx0ICB2YXIgZm4gPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGlkIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIGlmIChmbih4KSkge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ2ZpbHRlcicsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnZmlsdGVyJywgbWl4aW4pO1xuXG5cdHZhciBpZCA9IGZ1bmN0aW9uIGlkKHgpIHtcblx0ICByZXR1cm4geDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZpbHRlcihvYnMpIHtcblx0ICB2YXIgZm4gPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGlkIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIG4gPSBfcmVmLm47XG5cblx0ICAgIHRoaXMuX24gPSBuO1xuXHQgICAgaWYgKG4gPD0gMCkge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIHRoaXMuX24tLTtcblx0ICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIGlmICh0aGlzLl9uID09PSAwKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgndGFrZScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgndGFrZScsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRha2VXaGlsZShvYnMsIG4pIHtcblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBuOiBuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIGlmIChmbih4KSkge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3Rha2VXaGlsZScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgndGFrZVdoaWxlJywgbWl4aW4pO1xuXG5cdHZhciBpZCA9IGZ1bmN0aW9uIGlkKHgpIHtcblx0ICByZXR1cm4geDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRha2VXaGlsZShvYnMpIHtcblx0ICB2YXIgZm4gPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGlkIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgTk9USElORyA9IF9yZXF1aXJlMi5OT1RISU5HO1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblx0ICAgIHRoaXMuX2xhc3RWYWx1ZSA9IE5PVEhJTkc7XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2xhc3RWYWx1ZSA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIHRoaXMuX2xhc3RWYWx1ZSA9IHg7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVFbmQ6IGZ1bmN0aW9uIF9oYW5kbGVFbmQoKSB7XG5cdCAgICBpZiAodGhpcy5fbGFzdFZhbHVlICE9PSBOT1RISU5HKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl9sYXN0VmFsdWUpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdsYXN0JywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdsYXN0JywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbGFzdChvYnMpIHtcblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgbiA9IF9yZWYubjtcblxuXHQgICAgdGhpcy5fbiA9IE1hdGgubWF4KDAsIG4pO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICBpZiAodGhpcy5fbiA9PT0gMCkge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLl9uLS07XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3NraXAnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3NraXAnLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBza2lwKG9icywgbikge1xuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IG46IG4gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgaWYgKHRoaXMuX2ZuICE9PSBudWxsICYmICFmbih4KSkge1xuXHQgICAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5fZm4gPT09IG51bGwpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdza2lwV2hpbGUnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3NraXBXaGlsZScsIG1peGluKTtcblxuXHR2YXIgaWQgPSBmdW5jdGlvbiBpZCh4KSB7XG5cdCAgcmV0dXJuIHg7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBza2lwV2hpbGUob2JzKSB7XG5cdCAgdmFyIGZuID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBpZCA6IGFyZ3VtZW50c1sxXTtcblxuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IGZuOiBmbiB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIE5PVEhJTkcgPSBfcmVxdWlyZTIuTk9USElORztcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICAgIHRoaXMuX3ByZXYgPSBOT1RISU5HO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgICB0aGlzLl9wcmV2ID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgdmFyIGZuID0gdGhpcy5fZm47XG5cdCAgICBpZiAodGhpcy5fcHJldiA9PT0gTk9USElORyB8fCAhZm4odGhpcy5fcHJldiwgeCkpIHtcblx0ICAgICAgdGhpcy5fcHJldiA9IHg7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnc2tpcER1cGxpY2F0ZXMnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3NraXBEdXBsaWNhdGVzJywgbWl4aW4pO1xuXG5cdHZhciBlcSA9IGZ1bmN0aW9uIGVxKGEsIGIpIHtcblx0ICByZXR1cm4gYSA9PT0gYjtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNraXBEdXBsaWNhdGVzKG9icykge1xuXHQgIHZhciBmbiA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZXEgOiBhcmd1bWVudHNbMV07XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBmbjogZm4gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdHZhciBOT1RISU5HID0gX3JlcXVpcmUyLk5PVEhJTkc7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cdCAgICB2YXIgc2VlZCA9IF9yZWYuc2VlZDtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICAgIHRoaXMuX3ByZXYgPSBzZWVkO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9wcmV2ID0gbnVsbDtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgaWYgKHRoaXMuX3ByZXYgIT09IE5PVEhJTkcpIHtcblx0ICAgICAgdmFyIGZuID0gdGhpcy5fZm47XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZShmbih0aGlzLl9wcmV2LCB4KSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9wcmV2ID0geDtcblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnZGlmZicsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnZGlmZicsIG1peGluKTtcblxuXHRmdW5jdGlvbiBkZWZhdWx0Rm4oYSwgYikge1xuXHQgIHJldHVybiBbYSwgYl07XG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpZmYob2JzLCBmbikge1xuXHQgIHZhciBzZWVkID0gYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBOT1RISU5HIDogYXJndW1lbnRzWzJdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIHx8IGRlZmF1bHRGbiwgc2VlZDogc2VlZCB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIEVSUk9SID0gX3JlcXVpcmUyLkVSUk9SO1xuXHR2YXIgTk9USElORyA9IF9yZXF1aXJlMi5OT1RISU5HO1xuXG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3NjYW4nLCB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblx0ICAgIHZhciBzZWVkID0gX3JlZi5zZWVkO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgICAgaWYgKHNlZWQgIT09IE5PVEhJTkcpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHNlZWQpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIGlmICh0aGlzLl9jdXJyZW50RXZlbnQgIT09IG51bGwgJiYgdGhpcy5fY3VycmVudEV2ZW50LnR5cGUgIT09IEVSUk9SKSB7XG5cdCAgICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgICB4ID0gZm4odGhpcy5fY3VycmVudEV2ZW50LnZhbHVlLCB4KTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICB9XG5cblx0fSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzY2FuKG9icywgZm4pIHtcblx0ICB2YXIgc2VlZCA9IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gTk9USElORyA6IGFyZ3VtZW50c1syXTtcblxuXHQgIHJldHVybiBuZXcgUChvYnMsIHsgZm46IGZuLCBzZWVkOiBzZWVkIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIHZhciB4cyA9IGZuKHgpO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoeHNbaV0pO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdmbGF0dGVuJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdmbGF0dGVuJywgbWl4aW4pO1xuXG5cdHZhciBpZCA9IGZ1bmN0aW9uIGlkKHgpIHtcblx0ICByZXR1cm4geDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZsYXR0ZW4ob2JzKSB7XG5cdCAgdmFyIGZuID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBpZCA6IGFyZ3VtZW50c1sxXTtcblxuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IGZuOiBmbiB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgIHZhciB3YWl0ID0gX3JlZi53YWl0O1xuXG5cdCAgICB0aGlzLl93YWl0ID0gTWF0aC5tYXgoMCwgd2FpdCk7XG5cdCAgICB0aGlzLl9idWZmID0gW107XG5cdCAgICB0aGlzLl8kc2hpZnRCdWZmID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMuX2VtaXRWYWx1ZShfdGhpcy5fYnVmZi5zaGlmdCgpKTtcblx0ICAgIH07XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2J1ZmYgPSBudWxsO1xuXHQgICAgdGhpcy5fJHNoaWZ0QnVmZiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIGlmICh0aGlzLl9hY3RpdmF0aW5nKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX2J1ZmYucHVzaCh4KTtcblx0ICAgICAgc2V0VGltZW91dCh0aGlzLl8kc2hpZnRCdWZmLCB0aGlzLl93YWl0KTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZUVuZDogZnVuY3Rpb24gX2hhbmRsZUVuZCgpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdCAgICBpZiAodGhpcy5fYWN0aXZhdGluZykge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gX3RoaXMyLl9lbWl0RW5kKCk7XG5cdCAgICAgIH0sIHRoaXMuX3dhaXQpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdkZWxheScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnZGVsYXknLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWxheShvYnMsIHdhaXQpIHtcblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyB3YWl0OiB3YWl0IH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgIHZhciB3YWl0ID0gX3JlZi53YWl0O1xuXHQgICAgdmFyIGxlYWRpbmcgPSBfcmVmLmxlYWRpbmc7XG5cdCAgICB2YXIgdHJhaWxpbmcgPSBfcmVmLnRyYWlsaW5nO1xuXG5cdCAgICB0aGlzLl93YWl0ID0gTWF0aC5tYXgoMCwgd2FpdCk7XG5cdCAgICB0aGlzLl9sZWFkaW5nID0gbGVhZGluZztcblx0ICAgIHRoaXMuX3RyYWlsaW5nID0gdHJhaWxpbmc7XG5cdCAgICB0aGlzLl90cmFpbGluZ1ZhbHVlID0gbnVsbDtcblx0ICAgIHRoaXMuX3RpbWVvdXRJZCA9IG51bGw7XG5cdCAgICB0aGlzLl9lbmRMYXRlciA9IGZhbHNlO1xuXHQgICAgdGhpcy5fbGFzdENhbGxUaW1lID0gMDtcblx0ICAgIHRoaXMuXyR0cmFpbGluZ0NhbGwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpcy5fdHJhaWxpbmdDYWxsKCk7XG5cdCAgICB9O1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl90cmFpbGluZ1ZhbHVlID0gbnVsbDtcblx0ICAgIHRoaXMuXyR0cmFpbGluZ0NhbGwgPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICBpZiAodGhpcy5fYWN0aXZhdGluZykge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgY3VyVGltZSA9IG5vdygpO1xuXHQgICAgICBpZiAodGhpcy5fbGFzdENhbGxUaW1lID09PSAwICYmICF0aGlzLl9sZWFkaW5nKSB7XG5cdCAgICAgICAgdGhpcy5fbGFzdENhbGxUaW1lID0gY3VyVGltZTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcmVtYWluaW5nID0gdGhpcy5fd2FpdCAtIChjdXJUaW1lIC0gdGhpcy5fbGFzdENhbGxUaW1lKTtcblx0ICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG5cdCAgICAgICAgdGhpcy5fY2FuY2VsVHJhaWxpbmcoKTtcblx0ICAgICAgICB0aGlzLl9sYXN0Q2FsbFRpbWUgPSBjdXJUaW1lO1xuXHQgICAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLl90cmFpbGluZykge1xuXHQgICAgICAgIHRoaXMuX2NhbmNlbFRyYWlsaW5nKCk7XG5cdCAgICAgICAgdGhpcy5fdHJhaWxpbmdWYWx1ZSA9IHg7XG5cdCAgICAgICAgdGhpcy5fdGltZW91dElkID0gc2V0VGltZW91dCh0aGlzLl8kdHJhaWxpbmdDYWxsLCByZW1haW5pbmcpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVFbmQ6IGZ1bmN0aW9uIF9oYW5kbGVFbmQoKSB7XG5cdCAgICBpZiAodGhpcy5fYWN0aXZhdGluZykge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAodGhpcy5fdGltZW91dElkKSB7XG5cdCAgICAgICAgdGhpcy5fZW5kTGF0ZXIgPSB0cnVlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfY2FuY2VsVHJhaWxpbmc6IGZ1bmN0aW9uIF9jYW5jZWxUcmFpbGluZygpIHtcblx0ICAgIGlmICh0aGlzLl90aW1lb3V0SWQgIT09IG51bGwpIHtcblx0ICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCk7XG5cdCAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF90cmFpbGluZ0NhbGw6IGZ1bmN0aW9uIF90cmFpbGluZ0NhbGwoKSB7XG5cdCAgICB0aGlzLl9lbWl0VmFsdWUodGhpcy5fdHJhaWxpbmdWYWx1ZSk7XG5cdCAgICB0aGlzLl90aW1lb3V0SWQgPSBudWxsO1xuXHQgICAgdGhpcy5fdHJhaWxpbmdWYWx1ZSA9IG51bGw7XG5cdCAgICB0aGlzLl9sYXN0Q2FsbFRpbWUgPSAhdGhpcy5fbGVhZGluZyA/IDAgOiBub3coKTtcblx0ICAgIGlmICh0aGlzLl9lbmRMYXRlcikge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3Rocm90dGxlJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCd0aHJvdHRsZScsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRocm90dGxlKG9icywgd2FpdCkge1xuXHQgIHZhciBfcmVmMiA9IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMl07XG5cblx0ICB2YXIgX3JlZjIkbGVhZGluZyA9IF9yZWYyLmxlYWRpbmc7XG5cdCAgdmFyIGxlYWRpbmcgPSBfcmVmMiRsZWFkaW5nID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZjIkbGVhZGluZztcblx0ICB2YXIgX3JlZjIkdHJhaWxpbmcgPSBfcmVmMi50cmFpbGluZztcblx0ICB2YXIgdHJhaWxpbmcgPSBfcmVmMiR0cmFpbGluZyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYyJHRyYWlsaW5nO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgd2FpdDogd2FpdCwgbGVhZGluZzogbGVhZGluZywgdHJhaWxpbmc6IHRyYWlsaW5nIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gRGF0ZS5ub3cgPyBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIERhdGUubm93KCk7XG5cdH0gOiBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgIHZhciB3YWl0ID0gX3JlZi53YWl0O1xuXHQgICAgdmFyIGltbWVkaWF0ZSA9IF9yZWYuaW1tZWRpYXRlO1xuXG5cdCAgICB0aGlzLl93YWl0ID0gTWF0aC5tYXgoMCwgd2FpdCk7XG5cdCAgICB0aGlzLl9pbW1lZGlhdGUgPSBpbW1lZGlhdGU7XG5cdCAgICB0aGlzLl9sYXN0QXR0ZW1wdCA9IDA7XG5cdCAgICB0aGlzLl90aW1lb3V0SWQgPSBudWxsO1xuXHQgICAgdGhpcy5fbGF0ZXJWYWx1ZSA9IG51bGw7XG5cdCAgICB0aGlzLl9lbmRMYXRlciA9IGZhbHNlO1xuXHQgICAgdGhpcy5fJGxhdGVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMuX2xhdGVyKCk7XG5cdCAgICB9O1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9sYXRlclZhbHVlID0gbnVsbDtcblx0ICAgIHRoaXMuXyRsYXRlciA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIGlmICh0aGlzLl9hY3RpdmF0aW5nKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX2xhc3RBdHRlbXB0ID0gbm93KCk7XG5cdCAgICAgIGlmICh0aGlzLl9pbW1lZGlhdGUgJiYgIXRoaXMuX3RpbWVvdXRJZCkge1xuXHQgICAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoIXRoaXMuX3RpbWVvdXRJZCkge1xuXHQgICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQodGhpcy5fJGxhdGVyLCB0aGlzLl93YWl0KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoIXRoaXMuX2ltbWVkaWF0ZSkge1xuXHQgICAgICAgIHRoaXMuX2xhdGVyVmFsdWUgPSB4O1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVFbmQ6IGZ1bmN0aW9uIF9oYW5kbGVFbmQoKSB7XG5cdCAgICBpZiAodGhpcy5fYWN0aXZhdGluZykge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAodGhpcy5fdGltZW91dElkICYmICF0aGlzLl9pbW1lZGlhdGUpIHtcblx0ICAgICAgICB0aGlzLl9lbmRMYXRlciA9IHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9sYXRlcjogZnVuY3Rpb24gX2xhdGVyKCkge1xuXHQgICAgdmFyIGxhc3QgPSBub3coKSAtIHRoaXMuX2xhc3RBdHRlbXB0O1xuXHQgICAgaWYgKGxhc3QgPCB0aGlzLl93YWl0ICYmIGxhc3QgPj0gMCkge1xuXHQgICAgICB0aGlzLl90aW1lb3V0SWQgPSBzZXRUaW1lb3V0KHRoaXMuXyRsYXRlciwgdGhpcy5fd2FpdCAtIGxhc3QpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5fdGltZW91dElkID0gbnVsbDtcblx0ICAgICAgaWYgKCF0aGlzLl9pbW1lZGlhdGUpIHtcblx0ICAgICAgICB0aGlzLl9lbWl0VmFsdWUodGhpcy5fbGF0ZXJWYWx1ZSk7XG5cdCAgICAgICAgdGhpcy5fbGF0ZXJWYWx1ZSA9IG51bGw7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMuX2VuZExhdGVyKSB7XG5cdCAgICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ2RlYm91bmNlJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdkZWJvdW5jZScsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlYm91bmNlKG9icywgd2FpdCkge1xuXHQgIHZhciBfcmVmMiA9IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMl07XG5cblx0ICB2YXIgX3JlZjIkaW1tZWRpYXRlID0gX3JlZjIuaW1tZWRpYXRlO1xuXHQgIHZhciBpbW1lZGlhdGUgPSBfcmVmMiRpbW1lZGlhdGUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZjIkaW1tZWRpYXRlO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgd2FpdDogd2FpdCwgaW1tZWRpYXRlOiBpbW1lZGlhdGUgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgdmFyIHJlc3VsdCA9IGZuKHgpO1xuXHQgICAgaWYgKHJlc3VsdC5jb252ZXJ0KSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFcnJvcihyZXN1bHQuZXJyb3IpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCd2YWx1ZXNUb0Vycm9ycycsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgndmFsdWVzVG9FcnJvcnMnLCBtaXhpbik7XG5cblx0dmFyIGRlZkZuID0gZnVuY3Rpb24gZGVmRm4oeCkge1xuXHQgIHJldHVybiB7IGNvbnZlcnQ6IHRydWUsIGVycm9yOiB4IH07XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB2YWx1ZXNUb0Vycm9ycyhvYnMpIHtcblx0ICB2YXIgZm4gPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGRlZkZuIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIF9oYW5kbGVFcnJvcih4KSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIHZhciByZXN1bHQgPSBmbih4KTtcblx0ICAgIGlmIChyZXN1bHQuY29udmVydCkge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUocmVzdWx0LnZhbHVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFcnJvcih4KTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnZXJyb3JzVG9WYWx1ZXMnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ2Vycm9yc1RvVmFsdWVzJywgbWl4aW4pO1xuXG5cdHZhciBkZWZGbiA9IGZ1bmN0aW9uIGRlZkZuKHgpIHtcblx0ICByZXR1cm4geyBjb252ZXJ0OiB0cnVlLCB2YWx1ZTogeCB9O1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXJyb3JzVG9WYWx1ZXMob2JzKSB7XG5cdCAgdmFyIGZuID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBkZWZGbiA6IGFyZ3VtZW50c1sxXTtcblxuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IGZuOiBmbiB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cblx0ICAgIHRoaXMuX2ZuID0gZm47XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZUVycm9yOiBmdW5jdGlvbiBfaGFuZGxlRXJyb3IoeCkge1xuXHQgICAgdmFyIGZuID0gdGhpcy5fZm47XG5cdCAgICB0aGlzLl9lbWl0RXJyb3IoZm4oeCkpO1xuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdtYXBFcnJvcnMnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ21hcEVycm9ycycsIG1peGluKTtcblxuXHR2YXIgaWQgPSBmdW5jdGlvbiBpZCh4KSB7XG5cdCAgcmV0dXJuIHg7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXBFcnJvcnMob2JzKSB7XG5cdCAgdmFyIGZuID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBpZCA6IGFyZ3VtZW50c1sxXTtcblxuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IGZuOiBmbiB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cblx0ICAgIHRoaXMuX2ZuID0gZm47XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZUVycm9yOiBmdW5jdGlvbiBfaGFuZGxlRXJyb3IoeCkge1xuXHQgICAgdmFyIGZuID0gdGhpcy5fZm47XG5cdCAgICBpZiAoZm4oeCkpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVycm9yKHgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdmaWx0ZXJFcnJvcnMnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ2ZpbHRlckVycm9ycycsIG1peGluKTtcblxuXHR2YXIgaWQgPSBmdW5jdGlvbiBpZCh4KSB7XG5cdCAgcmV0dXJuIHg7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaWx0ZXJFcnJvcnMob2JzKSB7XG5cdCAgdmFyIGZuID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBpZCA6IGFyZ3VtZW50c1sxXTtcblxuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IGZuOiBmbiB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2hhbmRsZUVycm9yOiBmdW5jdGlvbiBfaGFuZGxlRXJyb3IoeCkge1xuXHQgICAgdGhpcy5fZW1pdEVycm9yKHgpO1xuXHQgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdlbmRPbkVycm9yJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdlbmRPbkVycm9yJywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5kT25FcnJvcihvYnMpIHtcblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSgpIHt9XG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3NraXBWYWx1ZXMnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3NraXBWYWx1ZXMnLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBza2lwVmFsdWVzKG9icykge1xuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDUwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXHQgIF9oYW5kbGVFcnJvcjogZnVuY3Rpb24gX2hhbmRsZUVycm9yKCkge31cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnc2tpcEVycm9ycycsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnc2tpcEVycm9ycycsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNraXBFcnJvcnMob2JzKSB7XG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cdCAgX2hhbmRsZUVuZDogZnVuY3Rpb24gX2hhbmRsZUVuZCgpIHt9XG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3NraXBFbmQnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3NraXBFbmQnLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBza2lwRW5kKG9icykge1xuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDUyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cblx0ICAgIHRoaXMuX2ZuID0gZm47XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZUVuZDogZnVuY3Rpb24gX2hhbmRsZUVuZCgpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgdGhpcy5fZW1pdFZhbHVlKGZuKCkpO1xuXHQgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdiZWZvcmVFbmQnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ2JlZm9yZUVuZCcsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJlZm9yZUVuZChvYnMsIGZuKSB7XG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgc2xpZGUgPSBfcmVxdWlyZTIuc2xpZGU7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBtaW4gPSBfcmVmLm1pbjtcblx0ICAgIHZhciBtYXggPSBfcmVmLm1heDtcblxuXHQgICAgdGhpcy5fbWF4ID0gbWF4O1xuXHQgICAgdGhpcy5fbWluID0gbWluO1xuXHQgICAgdGhpcy5fYnVmZiA9IFtdO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9idWZmID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgdGhpcy5fYnVmZiA9IHNsaWRlKHRoaXMuX2J1ZmYsIHgsIHRoaXMuX21heCk7XG5cdCAgICBpZiAodGhpcy5fYnVmZi5sZW5ndGggPj0gdGhpcy5fbWluKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl9idWZmKTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnc2xpZGluZ1dpbmRvdycsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnc2xpZGluZ1dpbmRvdycsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNsaWRpbmdXaW5kb3cob2JzLCBtYXgpIHtcblx0ICB2YXIgbWluID0gYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzJdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgbWluOiBtaW4sIG1heDogbWF4IH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblx0ICAgIHZhciBmbHVzaE9uRW5kID0gX3JlZi5mbHVzaE9uRW5kO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgICAgdGhpcy5fZmx1c2hPbkVuZCA9IGZsdXNoT25FbmQ7XG5cdCAgICB0aGlzLl9idWZmID0gW107XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2J1ZmYgPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfZmx1c2g6IGZ1bmN0aW9uIF9mbHVzaCgpIHtcblx0ICAgIGlmICh0aGlzLl9idWZmICE9PSBudWxsICYmIHRoaXMuX2J1ZmYubGVuZ3RoICE9PSAwKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl9idWZmKTtcblx0ICAgICAgdGhpcy5fYnVmZiA9IFtdO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICB0aGlzLl9idWZmLnB1c2goeCk7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIGlmICghZm4oeCkpIHtcblx0ICAgICAgdGhpcy5fZmx1c2goKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZUVuZDogZnVuY3Rpb24gX2hhbmRsZUVuZCgpIHtcblx0ICAgIGlmICh0aGlzLl9mbHVzaE9uRW5kKSB7XG5cdCAgICAgIHRoaXMuX2ZsdXNoKCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ2J1ZmZlcldoaWxlJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdidWZmZXJXaGlsZScsIG1peGluKTtcblxuXHR2YXIgaWQgPSBmdW5jdGlvbiBpZCh4KSB7XG5cdCAgcmV0dXJuIHg7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWZmZXJXaGlsZShvYnMsIGZuKSB7XG5cdCAgdmFyIF9yZWYyID0gYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1syXTtcblxuXHQgIHZhciBfcmVmMiRmbHVzaE9uRW5kID0gX3JlZjIuZmx1c2hPbkVuZDtcblx0ICB2YXIgZmx1c2hPbkVuZCA9IF9yZWYyJGZsdXNoT25FbmQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmMiRmbHVzaE9uRW5kO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIHx8IGlkLCBmbHVzaE9uRW5kOiBmbHVzaE9uRW5kIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiB4Zm9ybUZvck9icyhvYnMpIHtcblx0ICByZXR1cm4ge1xuXG5cdCAgICAnQEB0cmFuc2R1Y2VyL3N0ZXAnOiBmdW5jdGlvbiB0cmFuc2R1Y2VyU3RlcChyZXMsIGlucHV0KSB7XG5cdCAgICAgIG9icy5fZW1pdFZhbHVlKGlucHV0KTtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9LFxuXG5cdCAgICAnQEB0cmFuc2R1Y2VyL3Jlc3VsdCc6IGZ1bmN0aW9uIHRyYW5zZHVjZXJSZXN1bHQocmVzKSB7XG5cdCAgICAgIG9icy5fZW1pdEVuZCgpO1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblxuXHQgIH07XG5cdH1cblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIHRyYW5zZHVjZXIgPSBfcmVmLnRyYW5zZHVjZXI7XG5cblx0ICAgIHRoaXMuX3hmb3JtID0gdHJhbnNkdWNlcih4Zm9ybUZvck9icyh0aGlzKSk7XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX3hmb3JtID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgaWYgKHRoaXMuX3hmb3JtWydAQHRyYW5zZHVjZXIvc3RlcCddKG51bGwsIHgpICE9PSBudWxsKSB7XG5cdCAgICAgIHRoaXMuX3hmb3JtWydAQHRyYW5zZHVjZXIvcmVzdWx0J10obnVsbCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVFbmQ6IGZ1bmN0aW9uIF9oYW5kbGVFbmQoKSB7XG5cdCAgICB0aGlzLl94Zm9ybVsnQEB0cmFuc2R1Y2VyL3Jlc3VsdCddKG51bGwpO1xuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCd0cmFuc2R1Y2UnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3RyYW5zZHVjZScsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZHVjZShvYnMsIHRyYW5zZHVjZXIpIHtcblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyB0cmFuc2R1Y2VyOiB0cmFuc2R1Y2VyIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgZW1pdHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXG5cdCAgICB0aGlzLl9oYW5kbGVyID0gZm47XG5cdCAgICB0aGlzLl9lbWl0dGVyID0gZW1pdHRlcih0aGlzKTtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5faGFuZGxlciA9IG51bGw7XG5cdCAgICB0aGlzLl9lbWl0dGVyID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZUFueTogZnVuY3Rpb24gX2hhbmRsZUFueShldmVudCkge1xuXHQgICAgdGhpcy5faGFuZGxlcih0aGlzLl9lbWl0dGVyLCBldmVudCk7XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3dpdGhIYW5kbGVyJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCd3aXRoSGFuZGxlcicsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdpdGhIYW5kbGVyKG9icywgZm4pIHtcblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBmbjogZm4gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBTdHJlYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIFZBTFVFID0gX3JlcXVpcmUuVkFMVUU7XG5cdHZhciBFUlJPUiA9IF9yZXF1aXJlLkVSUk9SO1xuXHR2YXIgTk9USElORyA9IF9yZXF1aXJlLk5PVEhJTkc7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZTIuaW5oZXJpdDtcblxuXHR2YXIgX3JlcXVpcmUzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgY29uY2F0ID0gX3JlcXVpcmUzLmNvbmNhdDtcblx0dmFyIGZpbGxBcnJheSA9IF9yZXF1aXJlMy5maWxsQXJyYXk7XG5cblx0dmFyIF9yZXF1aXJlNCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG5cdHZhciBzcHJlYWQgPSBfcmVxdWlyZTQuc3ByZWFkO1xuXG5cdHZhciBuZXZlciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0ZnVuY3Rpb24gZGVmYXVsdEVycm9yc0NvbWJpbmF0b3IoZXJyb3JzKSB7XG5cdCAgdmFyIGxhdGVzdEVycm9yID0gdW5kZWZpbmVkO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAoZXJyb3JzW2ldICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgaWYgKGxhdGVzdEVycm9yID09PSB1bmRlZmluZWQgfHwgbGF0ZXN0RXJyb3IuaW5kZXggPCBlcnJvcnNbaV0uaW5kZXgpIHtcblx0ICAgICAgICBsYXRlc3RFcnJvciA9IGVycm9yc1tpXTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gbGF0ZXN0RXJyb3IuZXJyb3I7XG5cdH1cblxuXHRmdW5jdGlvbiBDb21iaW5lKGFjdGl2ZSwgcGFzc2l2ZSwgY29tYmluYXRvcikge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICBTdHJlYW0uY2FsbCh0aGlzKTtcblx0ICB0aGlzLl9hY3RpdmVDb3VudCA9IGFjdGl2ZS5sZW5ndGg7XG5cdCAgdGhpcy5fc291cmNlcyA9IGNvbmNhdChhY3RpdmUsIHBhc3NpdmUpO1xuXHQgIHRoaXMuX2NvbWJpbmF0b3IgPSBjb21iaW5hdG9yID8gc3ByZWFkKGNvbWJpbmF0b3IsIHRoaXMuX3NvdXJjZXMubGVuZ3RoKSA6IGZ1bmN0aW9uICh4KSB7XG5cdCAgICByZXR1cm4geDtcblx0ICB9O1xuXHQgIHRoaXMuX2FsaXZlQ291bnQgPSAwO1xuXHQgIHRoaXMuX2xhdGVzdFZhbHVlcyA9IG5ldyBBcnJheSh0aGlzLl9zb3VyY2VzLmxlbmd0aCk7XG5cdCAgdGhpcy5fbGF0ZXN0RXJyb3JzID0gbmV3IEFycmF5KHRoaXMuX3NvdXJjZXMubGVuZ3RoKTtcblx0ICBmaWxsQXJyYXkodGhpcy5fbGF0ZXN0VmFsdWVzLCBOT1RISU5HKTtcblx0ICB0aGlzLl9lbWl0QWZ0ZXJBY3RpdmF0aW9uID0gZmFsc2U7XG5cdCAgdGhpcy5fZW5kQWZ0ZXJBY3RpdmF0aW9uID0gZmFsc2U7XG5cdCAgdGhpcy5fbGF0ZXN0RXJyb3JJbmRleCA9IDA7XG5cblx0ICB0aGlzLl8kaGFuZGxlcnMgPSBbXTtcblxuXHQgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIChpKSB7XG5cdCAgICBfdGhpcy5fJGhhbmRsZXJzLnB1c2goZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIHJldHVybiBfdGhpcy5faGFuZGxlQW55KGksIGV2ZW50KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3NvdXJjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgIF9sb29wKGkpO1xuXHQgIH1cblx0fVxuXG5cdGluaGVyaXQoQ29tYmluZSwgU3RyZWFtLCB7XG5cblx0ICBfbmFtZTogJ2NvbWJpbmUnLFxuXG5cdCAgX29uQWN0aXZhdGlvbjogZnVuY3Rpb24gX29uQWN0aXZhdGlvbigpIHtcblx0ICAgIHRoaXMuX2FsaXZlQ291bnQgPSB0aGlzLl9hY3RpdmVDb3VudDtcblxuXHQgICAgLy8gd2UgbmVlZCB0byBzdXNjcmliZSB0byBfcGFzc2l2ZV8gc291cmNlcyBiZWZvcmUgX2FjdGl2ZV9cblx0ICAgIC8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL3Jwb21pbm92L2tlZmlyL2lzc3Vlcy85OClcblx0ICAgIGZvciAodmFyIGkgPSB0aGlzLl9hY3RpdmVDb3VudDsgaSA8IHRoaXMuX3NvdXJjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdGhpcy5fc291cmNlc1tpXS5vbkFueSh0aGlzLl8kaGFuZGxlcnNbaV0pO1xuXHQgICAgfVxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVDb3VudDsgaSsrKSB7XG5cdCAgICAgIHRoaXMuX3NvdXJjZXNbaV0ub25BbnkodGhpcy5fJGhhbmRsZXJzW2ldKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKHRoaXMuX2VtaXRBZnRlckFjdGl2YXRpb24pIHtcblx0ICAgICAgdGhpcy5fZW1pdEFmdGVyQWN0aXZhdGlvbiA9IGZhbHNlO1xuXHQgICAgICB0aGlzLl9lbWl0SWZGdWxsKCk7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5fZW5kQWZ0ZXJBY3RpdmF0aW9uKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX29uRGVhY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25EZWFjdGl2YXRpb24oKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gdGhpcy5fc291cmNlcy5sZW5ndGgsXG5cdCAgICAgICAgaSA9IHVuZGVmaW5lZDtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICB0aGlzLl9zb3VyY2VzW2ldLm9mZkFueSh0aGlzLl8kaGFuZGxlcnNbaV0pO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfZW1pdElmRnVsbDogZnVuY3Rpb24gX2VtaXRJZkZ1bGwoKSB7XG5cdCAgICB2YXIgaGFzQWxsVmFsdWVzID0gdHJ1ZTtcblx0ICAgIHZhciBoYXNFcnJvcnMgPSBmYWxzZTtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLl9sYXRlc3RWYWx1ZXMubGVuZ3RoO1xuXHQgICAgdmFyIHZhbHVlc0NvcHkgPSBuZXcgQXJyYXkobGVuZ3RoKTtcblx0ICAgIHZhciBlcnJvcnNDb3B5ID0gbmV3IEFycmF5KGxlbmd0aCk7O1xuXG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhbHVlc0NvcHlbaV0gPSB0aGlzLl9sYXRlc3RWYWx1ZXNbaV07XG5cdCAgICAgIGVycm9yc0NvcHlbaV0gPSB0aGlzLl9sYXRlc3RFcnJvcnNbaV07XG5cblx0ICAgICAgaWYgKHZhbHVlc0NvcHlbaV0gPT09IE5PVEhJTkcpIHtcblx0ICAgICAgICBoYXNBbGxWYWx1ZXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmIChlcnJvcnNDb3B5W2ldICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmIChoYXNBbGxWYWx1ZXMpIHtcblx0ICAgICAgdmFyIGNvbWJpbmF0b3IgPSB0aGlzLl9jb21iaW5hdG9yO1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoY29tYmluYXRvcih2YWx1ZXNDb3B5KSk7XG5cdCAgICB9XG5cdCAgICBpZiAoaGFzRXJyb3JzKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFcnJvcihkZWZhdWx0RXJyb3JzQ29tYmluYXRvcihlcnJvcnNDb3B5KSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVBbnk6IGZ1bmN0aW9uIF9oYW5kbGVBbnkoaSwgZXZlbnQpIHtcblxuXHQgICAgaWYgKGV2ZW50LnR5cGUgPT09IFZBTFVFIHx8IGV2ZW50LnR5cGUgPT09IEVSUk9SKSB7XG5cblx0ICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFZBTFVFKSB7XG5cdCAgICAgICAgdGhpcy5fbGF0ZXN0VmFsdWVzW2ldID0gZXZlbnQudmFsdWU7XG5cdCAgICAgICAgdGhpcy5fbGF0ZXN0RXJyb3JzW2ldID0gdW5kZWZpbmVkO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChldmVudC50eXBlID09PSBFUlJPUikge1xuXHQgICAgICAgIHRoaXMuX2xhdGVzdFZhbHVlc1tpXSA9IE5PVEhJTkc7XG5cdCAgICAgICAgdGhpcy5fbGF0ZXN0RXJyb3JzW2ldID0ge1xuXHQgICAgICAgICAgaW5kZXg6IHRoaXMuX2xhdGVzdEVycm9ySW5kZXgrKyxcblx0ICAgICAgICAgIGVycm9yOiBldmVudC52YWx1ZVxuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblxuXHQgICAgICBpZiAoaSA8IHRoaXMuX2FjdGl2ZUNvdW50KSB7XG5cdCAgICAgICAgaWYgKHRoaXMuX2FjdGl2YXRpbmcpIHtcblx0ICAgICAgICAgIHRoaXMuX2VtaXRBZnRlckFjdGl2YXRpb24gPSB0cnVlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0aGlzLl9lbWl0SWZGdWxsKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBFTkRcblxuXHQgICAgICBpZiAoaSA8IHRoaXMuX2FjdGl2ZUNvdW50KSB7XG5cdCAgICAgICAgdGhpcy5fYWxpdmVDb3VudC0tO1xuXHQgICAgICAgIGlmICh0aGlzLl9hbGl2ZUNvdW50ID09PSAwKSB7XG5cdCAgICAgICAgICBpZiAodGhpcy5fYWN0aXZhdGluZykge1xuXHQgICAgICAgICAgICB0aGlzLl9lbmRBZnRlckFjdGl2YXRpb24gPSB0cnVlO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfY2xlYXI6IGZ1bmN0aW9uIF9jbGVhcigpIHtcblx0ICAgIFN0cmVhbS5wcm90b3R5cGUuX2NsZWFyLmNhbGwodGhpcyk7XG5cdCAgICB0aGlzLl9zb3VyY2VzID0gbnVsbDtcblx0ICAgIHRoaXMuX2xhdGVzdFZhbHVlcyA9IG51bGw7XG5cdCAgICB0aGlzLl9sYXRlc3RFcnJvcnMgPSBudWxsO1xuXHQgICAgdGhpcy5fY29tYmluYXRvciA9IG51bGw7XG5cdCAgICB0aGlzLl8kaGFuZGxlcnMgPSBudWxsO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmUoYWN0aXZlLCBfeCwgY29tYmluYXRvcikge1xuXHQgIHZhciBwYXNzaXZlID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1sxXTtcblxuXHQgIGlmICh0eXBlb2YgcGFzc2l2ZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgY29tYmluYXRvciA9IHBhc3NpdmU7XG5cdCAgICBwYXNzaXZlID0gW107XG5cdCAgfVxuXHQgIHJldHVybiBhY3RpdmUubGVuZ3RoID09PSAwID8gbmV2ZXIoKSA6IG5ldyBDb21iaW5lKGFjdGl2ZSwgcGFzc2l2ZSwgY29tYmluYXRvcik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBTdHJlYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIFZBTFVFID0gX3JlcXVpcmUuVkFMVUU7XG5cdHZhciBFUlJPUiA9IF9yZXF1aXJlLkVSUk9SO1xuXHR2YXIgRU5EID0gX3JlcXVpcmUuRU5EO1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUyLmluaGVyaXQ7XG5cblx0dmFyIF9yZXF1aXJlMyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0dmFyIG1hcCA9IF9yZXF1aXJlMy5tYXA7XG5cdHZhciBjbG9uZUFycmF5ID0gX3JlcXVpcmUzLmNsb25lQXJyYXk7XG5cblx0dmFyIF9yZXF1aXJlNCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG5cdHZhciBzcHJlYWQgPSBfcmVxdWlyZTQuc3ByZWFkO1xuXG5cdHZhciBuZXZlciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cblx0dmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuXHQgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIFppcChzb3VyY2VzLCBjb21iaW5hdG9yKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgIFN0cmVhbS5jYWxsKHRoaXMpO1xuXG5cdCAgdGhpcy5fYnVmZmVycyA9IG1hcChzb3VyY2VzLCBmdW5jdGlvbiAoc291cmNlKSB7XG5cdCAgICByZXR1cm4gaXNBcnJheShzb3VyY2UpID8gY2xvbmVBcnJheShzb3VyY2UpIDogW107XG5cdCAgfSk7XG5cdCAgdGhpcy5fc291cmNlcyA9IG1hcChzb3VyY2VzLCBmdW5jdGlvbiAoc291cmNlKSB7XG5cdCAgICByZXR1cm4gaXNBcnJheShzb3VyY2UpID8gbmV2ZXIoKSA6IHNvdXJjZTtcblx0ICB9KTtcblxuXHQgIHRoaXMuX2NvbWJpbmF0b3IgPSBjb21iaW5hdG9yID8gc3ByZWFkKGNvbWJpbmF0b3IsIHRoaXMuX3NvdXJjZXMubGVuZ3RoKSA6IGZ1bmN0aW9uICh4KSB7XG5cdCAgICByZXR1cm4geDtcblx0ICB9O1xuXHQgIHRoaXMuX2FsaXZlQ291bnQgPSAwO1xuXG5cdCAgdGhpcy5fJGhhbmRsZXJzID0gW107XG5cblx0ICB2YXIgX2xvb3AgPSBmdW5jdGlvbiAoaSkge1xuXHQgICAgX3RoaXMuXyRoYW5kbGVycy5wdXNoKGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMuX2hhbmRsZUFueShpLCBldmVudCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9zb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBfbG9vcChpKTtcblx0ICB9XG5cdH1cblxuXHRpbmhlcml0KFppcCwgU3RyZWFtLCB7XG5cblx0ICBfbmFtZTogJ3ppcCcsXG5cblx0ICBfb25BY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25BY3RpdmF0aW9uKCkge1xuXG5cdCAgICAvLyBpZiBhbGwgc291cmNlcyBhcmUgYXJyYXlzXG5cdCAgICB3aGlsZSAodGhpcy5faXNGdWxsKCkpIHtcblx0ICAgICAgdGhpcy5fZW1pdCgpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbGVuZ3RoID0gdGhpcy5fc291cmNlcy5sZW5ndGg7XG5cdCAgICB0aGlzLl9hbGl2ZUNvdW50ID0gbGVuZ3RoO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgdGhpcy5fYWN0aXZlOyBpKyspIHtcblx0ICAgICAgdGhpcy5fc291cmNlc1tpXS5vbkFueSh0aGlzLl8kaGFuZGxlcnNbaV0pO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfb25EZWFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkRlYWN0aXZhdGlvbigpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB0aGlzLl9zb3VyY2VzW2ldLm9mZkFueSh0aGlzLl8kaGFuZGxlcnNbaV0pO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfZW1pdDogZnVuY3Rpb24gX2VtaXQoKSB7XG5cdCAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KHRoaXMuX2J1ZmZlcnMubGVuZ3RoKTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YWx1ZXNbaV0gPSB0aGlzLl9idWZmZXJzW2ldLnNoaWZ0KCk7XG5cdCAgICB9XG5cdCAgICB2YXIgY29tYmluYXRvciA9IHRoaXMuX2NvbWJpbmF0b3I7XG5cdCAgICB0aGlzLl9lbWl0VmFsdWUoY29tYmluYXRvcih2YWx1ZXMpKTtcblx0ICB9LFxuXG5cdCAgX2lzRnVsbDogZnVuY3Rpb24gX2lzRnVsbCgpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBpZiAodGhpcy5fYnVmZmVyc1tpXS5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlQW55OiBmdW5jdGlvbiBfaGFuZGxlQW55KGksIGV2ZW50KSB7XG5cdCAgICBpZiAoZXZlbnQudHlwZSA9PT0gVkFMVUUpIHtcblx0ICAgICAgdGhpcy5fYnVmZmVyc1tpXS5wdXNoKGV2ZW50LnZhbHVlKTtcblx0ICAgICAgaWYgKHRoaXMuX2lzRnVsbCgpKSB7XG5cdCAgICAgICAgdGhpcy5fZW1pdCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoZXZlbnQudHlwZSA9PT0gRVJST1IpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVycm9yKGV2ZW50LnZhbHVlKTtcblx0ICAgIH1cblx0ICAgIGlmIChldmVudC50eXBlID09PSBFTkQpIHtcblx0ICAgICAgdGhpcy5fYWxpdmVDb3VudC0tO1xuXHQgICAgICBpZiAodGhpcy5fYWxpdmVDb3VudCA9PT0gMCkge1xuXHQgICAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfY2xlYXI6IGZ1bmN0aW9uIF9jbGVhcigpIHtcblx0ICAgIFN0cmVhbS5wcm90b3R5cGUuX2NsZWFyLmNhbGwodGhpcyk7XG5cdCAgICB0aGlzLl9zb3VyY2VzID0gbnVsbDtcblx0ICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuXHQgICAgdGhpcy5fY29tYmluYXRvciA9IG51bGw7XG5cdCAgICB0aGlzLl8kaGFuZGxlcnMgPSBudWxsO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHppcChvYnNlcnZhYmxlcywgY29tYmluYXRvciAvKiBGdW5jdGlvbiB8IGZhbHNleSAqLykge1xuXHQgIHJldHVybiBvYnNlcnZhYmxlcy5sZW5ndGggPT09IDAgPyBuZXZlcigpIDogbmV3IFppcChvYnNlcnZhYmxlcywgY29tYmluYXRvcik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZS5pbmhlcml0O1xuXG5cdHZhciBBYnN0cmFjdFBvb2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblx0dmFyIG5ldmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHRmdW5jdGlvbiBNZXJnZShzb3VyY2VzKSB7XG5cdCAgQWJzdHJhY3RQb29sLmNhbGwodGhpcyk7XG5cdCAgdGhpcy5fYWRkQWxsKHNvdXJjZXMpO1xuXHQgIHRoaXMuX2luaXRpYWxpc2VkID0gdHJ1ZTtcblx0fVxuXG5cdGluaGVyaXQoTWVyZ2UsIEFic3RyYWN0UG9vbCwge1xuXG5cdCAgX25hbWU6ICdtZXJnZScsXG5cblx0ICBfb25FbXB0eTogZnVuY3Rpb24gX29uRW1wdHkoKSB7XG5cdCAgICBpZiAodGhpcy5faW5pdGlhbGlzZWQpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1lcmdlKG9ic2VydmFibGVzKSB7XG5cdCAgcmV0dXJuIG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMCA/IG5ldmVyKCkgOiBuZXcgTWVyZ2Uob2JzZXJ2YWJsZXMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgU3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdHZhciBWQUxVRSA9IF9yZXF1aXJlLlZBTFVFO1xuXHR2YXIgRVJST1IgPSBfcmVxdWlyZS5FUlJPUjtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlMi5pbmhlcml0O1xuXG5cdHZhciBfcmVxdWlyZTMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBjb25jYXQgPSBfcmVxdWlyZTMuY29uY2F0O1xuXHR2YXIgZm9yRWFjaCA9IF9yZXF1aXJlMy5mb3JFYWNoO1xuXHR2YXIgZmluZEJ5UHJlZCA9IF9yZXF1aXJlMy5maW5kQnlQcmVkO1xuXHR2YXIgZmluZCA9IF9yZXF1aXJlMy5maW5kO1xuXHR2YXIgcmVtb3ZlID0gX3JlcXVpcmUzLnJlbW92ZTtcblx0dmFyIGNsb25lQXJyYXkgPSBfcmVxdWlyZTMuY2xvbmVBcnJheTtcblxuXHR2YXIgaWQgPSBmdW5jdGlvbiBpZCh4KSB7XG5cdCAgcmV0dXJuIHg7XG5cdH07XG5cblx0ZnVuY3Rpb24gQWJzdHJhY3RQb29sKCkge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICB2YXIgX3JlZiA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cblx0ICB2YXIgX3JlZiRxdWV1ZUxpbSA9IF9yZWYucXVldWVMaW07XG5cdCAgdmFyIHF1ZXVlTGltID0gX3JlZiRxdWV1ZUxpbSA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYkcXVldWVMaW07XG5cdCAgdmFyIF9yZWYkY29uY3VyTGltID0gX3JlZi5jb25jdXJMaW07XG5cdCAgdmFyIGNvbmN1ckxpbSA9IF9yZWYkY29uY3VyTGltID09PSB1bmRlZmluZWQgPyAtMSA6IF9yZWYkY29uY3VyTGltO1xuXHQgIHZhciBfcmVmJGRyb3AgPSBfcmVmLmRyb3A7XG5cdCAgdmFyIGRyb3AgPSBfcmVmJGRyb3AgPT09IHVuZGVmaW5lZCA/ICduZXcnIDogX3JlZiRkcm9wO1xuXG5cdCAgU3RyZWFtLmNhbGwodGhpcyk7XG5cblx0ICB0aGlzLl9xdWV1ZUxpbSA9IHF1ZXVlTGltIDwgMCA/IC0xIDogcXVldWVMaW07XG5cdCAgdGhpcy5fY29uY3VyTGltID0gY29uY3VyTGltIDwgMCA/IC0xIDogY29uY3VyTGltO1xuXHQgIHRoaXMuX2Ryb3AgPSBkcm9wO1xuXHQgIHRoaXMuX3F1ZXVlID0gW107XG5cdCAgdGhpcy5fY3VyU291cmNlcyA9IFtdO1xuXHQgIHRoaXMuXyRoYW5kbGVTdWJBbnkgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgIHJldHVybiBfdGhpcy5faGFuZGxlU3ViQW55KGV2ZW50KTtcblx0ICB9O1xuXHQgIHRoaXMuXyRlbmRIYW5kbGVycyA9IFtdO1xuXHQgIHRoaXMuX2N1cnJlbnRseUFkZGluZyA9IG51bGw7XG5cblx0ICBpZiAodGhpcy5fY29uY3VyTGltID09PSAwKSB7XG5cdCAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgfVxuXHR9XG5cblx0aW5oZXJpdChBYnN0cmFjdFBvb2wsIFN0cmVhbSwge1xuXG5cdCAgX25hbWU6ICdhYnN0cmFjdFBvb2wnLFxuXG5cdCAgX2FkZDogZnVuY3Rpb24gX2FkZChvYmosIHRvT2JzIC8qIEZ1bmN0aW9uIHwgZmFsc2V5ICovKSB7XG5cdCAgICB0b09icyA9IHRvT2JzIHx8IGlkO1xuXHQgICAgaWYgKHRoaXMuX2NvbmN1ckxpbSA9PT0gLTEgfHwgdGhpcy5fY3VyU291cmNlcy5sZW5ndGggPCB0aGlzLl9jb25jdXJMaW0pIHtcblx0ICAgICAgdGhpcy5fYWRkVG9DdXIodG9PYnMob2JqKSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAodGhpcy5fcXVldWVMaW0gPT09IC0xIHx8IHRoaXMuX3F1ZXVlLmxlbmd0aCA8IHRoaXMuX3F1ZXVlTGltKSB7XG5cdCAgICAgICAgdGhpcy5fYWRkVG9RdWV1ZSh0b09icyhvYmopKTtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLl9kcm9wID09PSAnb2xkJykge1xuXHQgICAgICAgIHRoaXMuX3JlbW92ZU9sZGVzdCgpO1xuXHQgICAgICAgIHRoaXMuX2FkZChvYmosIHRvT2JzKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfYWRkQWxsOiBmdW5jdGlvbiBfYWRkQWxsKG9ic3MpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdCAgICBmb3JFYWNoKG9ic3MsIGZ1bmN0aW9uIChvYnMpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzMi5fYWRkKG9icyk7XG5cdCAgICB9KTtcblx0ICB9LFxuXG5cdCAgX3JlbW92ZTogZnVuY3Rpb24gX3JlbW92ZShvYnMpIHtcblx0ICAgIGlmICh0aGlzLl9yZW1vdmVDdXIob2JzKSA9PT0gLTEpIHtcblx0ICAgICAgdGhpcy5fcmVtb3ZlUXVldWUob2JzKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2FkZFRvUXVldWU6IGZ1bmN0aW9uIF9hZGRUb1F1ZXVlKG9icykge1xuXHQgICAgdGhpcy5fcXVldWUgPSBjb25jYXQodGhpcy5fcXVldWUsIFtvYnNdKTtcblx0ICB9LFxuXG5cdCAgX2FkZFRvQ3VyOiBmdW5jdGlvbiBfYWRkVG9DdXIob2JzKSB7XG5cdCAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG5cblx0ICAgICAgLy8gSEFDSzpcblx0ICAgICAgLy9cblx0ICAgICAgLy8gV2UgaGF2ZSB0d28gb3B0aW1pemF0aW9ucyBmb3IgY2FzZXMgd2hlbiBgb2JzYCBpcyBlbmRlZC4gV2UgZG9uJ3Qgd2FudFxuXHQgICAgICAvLyB0byBhZGQgc3VjaCBvYnNlcnZhYmxlIHRvIHRoZSBsaXN0LCBidXQgb25seSB3YW50IHRvIGVtaXQgZXZlbnRzXG5cdCAgICAgIC8vIGZyb20gaXQgKGlmIGl0IGhhcyBzb21lKS5cblx0ICAgICAgLy9cblx0ICAgICAgLy8gSW5zdGVhZCBvZiB0aGlzIGhhY2tzLCB3ZSBjb3VsZCBqdXN0IGRpZCBmb2xsb3dpbmcsXG5cdCAgICAgIC8vIGJ1dCBpdCB3b3VsZCBiZSA1LTggdGltZXMgc2xvd2VyOlxuXHQgICAgICAvL1xuXHQgICAgICAvLyAgICAgdGhpcy5fY3VyU291cmNlcyA9IGNvbmNhdCh0aGlzLl9jdXJTb3VyY2VzLCBbb2JzXSk7XG5cdCAgICAgIC8vICAgICB0aGlzLl9zdWJzY3JpYmUob2JzKTtcblx0ICAgICAgLy9cblxuXHQgICAgICAvLyAjMVxuXHQgICAgICAvLyBUaGlzIG9uZSBmb3IgY2FzZXMgd2hlbiBgb2JzYCBhbHJlYWR5IGVuZGVkXG5cdCAgICAgIC8vIGUuZy4sIEtlZmlyLmNvbnN0YW50KCkgb3IgS2VmaXIubmV2ZXIoKVxuXHQgICAgICBpZiAoIW9icy5fYWxpdmUpIHtcblx0ICAgICAgICBpZiAob2JzLl9jdXJyZW50RXZlbnQpIHtcblx0ICAgICAgICAgIHRoaXMuX2VtaXQob2JzLl9jdXJyZW50RXZlbnQudHlwZSwgb2JzLl9jdXJyZW50RXZlbnQudmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblxuXHQgICAgICAvLyAjMlxuXHQgICAgICAvLyBUaGlzIG9uZSBpcyBmb3IgY2FzZXMgd2hlbiBgb2JzYCBnb2luZyB0byBlbmQgc3luY2hyb25vdXNseSBvblxuXHQgICAgICAvLyBmaXJzdCBzdWJzY3JpYmVyIGUuZy4sIEtlZmlyLnN0cmVhbShlbSA9PiB7ZW0uZW1pdCgxKTsgZW0uZW5kKCl9KVxuXHQgICAgICB0aGlzLl9jdXJyZW50bHlBZGRpbmcgPSBvYnM7XG5cdCAgICAgIG9icy5vbkFueSh0aGlzLl8kaGFuZGxlU3ViQW55KTtcblx0ICAgICAgdGhpcy5fY3VycmVudGx5QWRkaW5nID0gbnVsbDtcblx0ICAgICAgaWYgKG9icy5fYWxpdmUpIHtcblx0ICAgICAgICB0aGlzLl9jdXJTb3VyY2VzID0gY29uY2F0KHRoaXMuX2N1clNvdXJjZXMsIFtvYnNdKTtcblx0ICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG5cdCAgICAgICAgICB0aGlzLl9zdWJUb0VuZChvYnMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5fY3VyU291cmNlcyA9IGNvbmNhdCh0aGlzLl9jdXJTb3VyY2VzLCBbb2JzXSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9zdWJUb0VuZDogZnVuY3Rpb24gX3N1YlRvRW5kKG9icykge1xuXHQgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cblx0ICAgIHZhciBvbkVuZCA9IGZ1bmN0aW9uIG9uRW5kKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMzLl9yZW1vdmVDdXIob2JzKTtcblx0ICAgIH07XG5cdCAgICB0aGlzLl8kZW5kSGFuZGxlcnMucHVzaCh7IG9iczogb2JzLCBoYW5kbGVyOiBvbkVuZCB9KTtcblx0ICAgIG9icy5vbkVuZChvbkVuZCk7XG5cdCAgfSxcblxuXHQgIF9zdWJzY3JpYmU6IGZ1bmN0aW9uIF9zdWJzY3JpYmUob2JzKSB7XG5cdCAgICBvYnMub25BbnkodGhpcy5fJGhhbmRsZVN1YkFueSk7XG5cblx0ICAgIC8vIGl0IGNhbiBiZWNvbWUgaW5hY3RpdmUgaW4gcmVzcG9uY2Ugb2Ygc3Vic2NyaWJpbmcgdG8gYG9icy5vbkFueWAgYWJvdmVcblx0ICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcblx0ICAgICAgdGhpcy5fc3ViVG9FbmQob2JzKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX3Vuc3Vic2NyaWJlOiBmdW5jdGlvbiBfdW5zdWJzY3JpYmUob2JzKSB7XG5cdCAgICBvYnMub2ZmQW55KHRoaXMuXyRoYW5kbGVTdWJBbnkpO1xuXG5cdCAgICB2YXIgb25FbmRJID0gZmluZEJ5UHJlZCh0aGlzLl8kZW5kSGFuZGxlcnMsIGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgcmV0dXJuIG9iai5vYnMgPT09IG9icztcblx0ICAgIH0pO1xuXHQgICAgaWYgKG9uRW5kSSAhPT0gLTEpIHtcblx0ICAgICAgb2JzLm9mZkVuZCh0aGlzLl8kZW5kSGFuZGxlcnNbb25FbmRJXS5oYW5kbGVyKTtcblx0ICAgICAgdGhpcy5fJGVuZEhhbmRsZXJzLnNwbGljZShvbkVuZEksIDEpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlU3ViQW55OiBmdW5jdGlvbiBfaGFuZGxlU3ViQW55KGV2ZW50KSB7XG5cdCAgICBpZiAoZXZlbnQudHlwZSA9PT0gVkFMVUUpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKGV2ZW50LnZhbHVlKTtcblx0ICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gRVJST1IpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVycm9yKGV2ZW50LnZhbHVlKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX3JlbW92ZVF1ZXVlOiBmdW5jdGlvbiBfcmVtb3ZlUXVldWUob2JzKSB7XG5cdCAgICB2YXIgaW5kZXggPSBmaW5kKHRoaXMuX3F1ZXVlLCBvYnMpO1xuXHQgICAgdGhpcy5fcXVldWUgPSByZW1vdmUodGhpcy5fcXVldWUsIGluZGV4KTtcblx0ICAgIHJldHVybiBpbmRleDtcblx0ICB9LFxuXG5cdCAgX3JlbW92ZUN1cjogZnVuY3Rpb24gX3JlbW92ZUN1cihvYnMpIHtcblx0ICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcblx0ICAgICAgdGhpcy5fdW5zdWJzY3JpYmUob2JzKTtcblx0ICAgIH1cblx0ICAgIHZhciBpbmRleCA9IGZpbmQodGhpcy5fY3VyU291cmNlcywgb2JzKTtcblx0ICAgIHRoaXMuX2N1clNvdXJjZXMgPSByZW1vdmUodGhpcy5fY3VyU291cmNlcywgaW5kZXgpO1xuXHQgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuXHQgICAgICBpZiAodGhpcy5fcXVldWUubGVuZ3RoICE9PSAwKSB7XG5cdCAgICAgICAgdGhpcy5fcHVsbFF1ZXVlKCk7XG5cdCAgICAgIH0gZWxzZSBpZiAodGhpcy5fY3VyU291cmNlcy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICB0aGlzLl9vbkVtcHR5KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBpbmRleDtcblx0ICB9LFxuXG5cdCAgX3JlbW92ZU9sZGVzdDogZnVuY3Rpb24gX3JlbW92ZU9sZGVzdCgpIHtcblx0ICAgIHRoaXMuX3JlbW92ZUN1cih0aGlzLl9jdXJTb3VyY2VzWzBdKTtcblx0ICB9LFxuXG5cdCAgX3B1bGxRdWV1ZTogZnVuY3Rpb24gX3B1bGxRdWV1ZSgpIHtcblx0ICAgIGlmICh0aGlzLl9xdWV1ZS5sZW5ndGggIT09IDApIHtcblx0ICAgICAgdGhpcy5fcXVldWUgPSBjbG9uZUFycmF5KHRoaXMuX3F1ZXVlKTtcblx0ICAgICAgdGhpcy5fYWRkVG9DdXIodGhpcy5fcXVldWUuc2hpZnQoKSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9vbkFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkFjdGl2YXRpb24oKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgc291cmNlcyA9IHRoaXMuX2N1clNvdXJjZXM7IGkgPCBzb3VyY2VzLmxlbmd0aCAmJiB0aGlzLl9hY3RpdmU7IGkrKykge1xuXHQgICAgICB0aGlzLl9zdWJzY3JpYmUoc291cmNlc1tpXSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9vbkRlYWN0aXZhdGlvbjogZnVuY3Rpb24gX29uRGVhY3RpdmF0aW9uKCkge1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIHNvdXJjZXMgPSB0aGlzLl9jdXJTb3VyY2VzOyBpIDwgc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB0aGlzLl91bnN1YnNjcmliZShzb3VyY2VzW2ldKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLl9jdXJyZW50bHlBZGRpbmcgIT09IG51bGwpIHtcblx0ICAgICAgdGhpcy5fdW5zdWJzY3JpYmUodGhpcy5fY3VycmVudGx5QWRkaW5nKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2lzRW1wdHk6IGZ1bmN0aW9uIF9pc0VtcHR5KCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2N1clNvdXJjZXMubGVuZ3RoID09PSAwO1xuXHQgIH0sXG5cblx0ICBfb25FbXB0eTogZnVuY3Rpb24gX29uRW1wdHkoKSB7fSxcblxuXHQgIF9jbGVhcjogZnVuY3Rpb24gX2NsZWFyKCkge1xuXHQgICAgU3RyZWFtLnByb3RvdHlwZS5fY2xlYXIuY2FsbCh0aGlzKTtcblx0ICAgIHRoaXMuX3F1ZXVlID0gbnVsbDtcblx0ICAgIHRoaXMuX2N1clNvdXJjZXMgPSBudWxsO1xuXHQgICAgdGhpcy5fJGhhbmRsZVN1YkFueSA9IG51bGw7XG5cdCAgICB0aGlzLl8kZW5kSGFuZGxlcnMgPSBudWxsO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IEFic3RyYWN0UG9vbDtcblxuLyoqKi8gfSxcbi8qIDYxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHJlcGVhdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29uY2F0KG9ic2VydmFibGVzKSB7XG5cdCAgcmV0dXJuIHJlcGVhdChmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgIHJldHVybiBvYnNlcnZhYmxlcy5sZW5ndGggPiBpbmRleCA/IG9ic2VydmFibGVzW2luZGV4XSA6IGZhbHNlO1xuXHQgIH0pLnNldE5hbWUoJ2NvbmNhdCcpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUuaW5oZXJpdDtcblxuXHR2YXIgU3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgRU5EID0gX3JlcXVpcmUyLkVORDtcblxuXHRmdW5jdGlvbiBTKGdlbmVyYXRvcikge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICBTdHJlYW0uY2FsbCh0aGlzKTtcblx0ICB0aGlzLl9nZW5lcmF0b3IgPSBnZW5lcmF0b3I7XG5cdCAgdGhpcy5fc291cmNlID0gbnVsbDtcblx0ICB0aGlzLl9pbkxvb3AgPSBmYWxzZTtcblx0ICB0aGlzLl9pdGVyYXRpb24gPSAwO1xuXHQgIHRoaXMuXyRoYW5kbGVBbnkgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgIHJldHVybiBfdGhpcy5faGFuZGxlQW55KGV2ZW50KTtcblx0ICB9O1xuXHR9XG5cblx0aW5oZXJpdChTLCBTdHJlYW0sIHtcblxuXHQgIF9uYW1lOiAncmVwZWF0JyxcblxuXHQgIF9oYW5kbGVBbnk6IGZ1bmN0aW9uIF9oYW5kbGVBbnkoZXZlbnQpIHtcblx0ICAgIGlmIChldmVudC50eXBlID09PSBFTkQpIHtcblx0ICAgICAgdGhpcy5fc291cmNlID0gbnVsbDtcblx0ICAgICAgdGhpcy5fZ2V0U291cmNlKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLl9lbWl0KGV2ZW50LnR5cGUsIGV2ZW50LnZhbHVlKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2dldFNvdXJjZTogZnVuY3Rpb24gX2dldFNvdXJjZSgpIHtcblx0ICAgIGlmICghdGhpcy5faW5Mb29wKSB7XG5cdCAgICAgIHRoaXMuX2luTG9vcCA9IHRydWU7XG5cdCAgICAgIHZhciBnZW5lcmF0b3IgPSB0aGlzLl9nZW5lcmF0b3I7XG5cdCAgICAgIHdoaWxlICh0aGlzLl9zb3VyY2UgPT09IG51bGwgJiYgdGhpcy5fYWxpdmUgJiYgdGhpcy5fYWN0aXZlKSB7XG5cdCAgICAgICAgdGhpcy5fc291cmNlID0gZ2VuZXJhdG9yKHRoaXMuX2l0ZXJhdGlvbisrKTtcblx0ICAgICAgICBpZiAodGhpcy5fc291cmNlKSB7XG5cdCAgICAgICAgICB0aGlzLl9zb3VyY2Uub25BbnkodGhpcy5fJGhhbmRsZUFueSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5faW5Mb29wID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9vbkFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkFjdGl2YXRpb24oKSB7XG5cdCAgICBpZiAodGhpcy5fc291cmNlKSB7XG5cdCAgICAgIHRoaXMuX3NvdXJjZS5vbkFueSh0aGlzLl8kaGFuZGxlQW55KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX2dldFNvdXJjZSgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfb25EZWFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkRlYWN0aXZhdGlvbigpIHtcblx0ICAgIGlmICh0aGlzLl9zb3VyY2UpIHtcblx0ICAgICAgdGhpcy5fc291cmNlLm9mZkFueSh0aGlzLl8kaGFuZGxlQW55KTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2NsZWFyOiBmdW5jdGlvbiBfY2xlYXIoKSB7XG5cdCAgICBTdHJlYW0ucHJvdG90eXBlLl9jbGVhci5jYWxsKHRoaXMpO1xuXHQgICAgdGhpcy5fZ2VuZXJhdG9yID0gbnVsbDtcblx0ICAgIHRoaXMuX3NvdXJjZSA9IG51bGw7XG5cdCAgICB0aGlzLl8kaGFuZGxlQW55ID0gbnVsbDtcblx0ICB9XG5cblx0fSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZ2VuZXJhdG9yKSB7XG5cdCAgcmV0dXJuIG5ldyBTKGdlbmVyYXRvcik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZS5pbmhlcml0O1xuXG5cdHZhciBBYnN0cmFjdFBvb2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblxuXHRmdW5jdGlvbiBQb29sKCkge1xuXHQgIEFic3RyYWN0UG9vbC5jYWxsKHRoaXMpO1xuXHR9XG5cblx0aW5oZXJpdChQb29sLCBBYnN0cmFjdFBvb2wsIHtcblxuXHQgIF9uYW1lOiAncG9vbCcsXG5cblx0ICBwbHVnOiBmdW5jdGlvbiBwbHVnKG9icykge1xuXHQgICAgdGhpcy5fYWRkKG9icyk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXG5cdCAgdW5wbHVnOiBmdW5jdGlvbiB1bnBsdWcob2JzKSB7XG5cdCAgICB0aGlzLl9yZW1vdmUob2JzKTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFBvb2w7XG5cbi8qKiovIH0sXG4vKiA2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIFZBTFVFID0gX3JlcXVpcmUuVkFMVUU7XG5cdHZhciBFUlJPUiA9IF9yZXF1aXJlLkVSUk9SO1xuXHR2YXIgRU5EID0gX3JlcXVpcmUuRU5EO1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUyLmluaGVyaXQ7XG5cblx0dmFyIEFic3RyYWN0UG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXG5cdGZ1bmN0aW9uIEZsYXRNYXAoc291cmNlLCBmbiwgb3B0aW9ucykge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICBBYnN0cmFjdFBvb2wuY2FsbCh0aGlzLCBvcHRpb25zKTtcblx0ICB0aGlzLl9zb3VyY2UgPSBzb3VyY2U7XG5cdCAgdGhpcy5fZm4gPSBmbjtcblx0ICB0aGlzLl9tYWluRW5kZWQgPSBmYWxzZTtcblx0ICB0aGlzLl9sYXN0Q3VycmVudCA9IG51bGw7XG5cdCAgdGhpcy5fJGhhbmRsZU1haW4gPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgIHJldHVybiBfdGhpcy5faGFuZGxlTWFpbihldmVudCk7XG5cdCAgfTtcblx0fVxuXG5cdGluaGVyaXQoRmxhdE1hcCwgQWJzdHJhY3RQb29sLCB7XG5cblx0ICBfb25BY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25BY3RpdmF0aW9uKCkge1xuXHQgICAgQWJzdHJhY3RQb29sLnByb3RvdHlwZS5fb25BY3RpdmF0aW9uLmNhbGwodGhpcyk7XG5cdCAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG5cdCAgICAgIHRoaXMuX3NvdXJjZS5vbkFueSh0aGlzLl8kaGFuZGxlTWFpbik7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9vbkRlYWN0aXZhdGlvbjogZnVuY3Rpb24gX29uRGVhY3RpdmF0aW9uKCkge1xuXHQgICAgQWJzdHJhY3RQb29sLnByb3RvdHlwZS5fb25EZWFjdGl2YXRpb24uY2FsbCh0aGlzKTtcblx0ICAgIHRoaXMuX3NvdXJjZS5vZmZBbnkodGhpcy5fJGhhbmRsZU1haW4pO1xuXHQgICAgdGhpcy5faGFkTm9FdlNpbmNlRGVhY3QgPSB0cnVlO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlTWFpbjogZnVuY3Rpb24gX2hhbmRsZU1haW4oZXZlbnQpIHtcblxuXHQgICAgaWYgKGV2ZW50LnR5cGUgPT09IFZBTFVFKSB7XG5cdCAgICAgIC8vIElzIGxhdGVzdCB2YWx1ZSBiZWZvcmUgZGVhY3RpdmF0aW9uIHN1cnZpdmVkLCBhbmQgbm93IGlzICdjdXJyZW50JyBvbiB0aGlzIGFjdGl2YXRpb24/XG5cdCAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gaGFuZGxlIHN1Y2ggdmFsdWVzLCB0byBwcmV2ZW50IHRvIGNvbnN0YW50bHkgYWRkXG5cdCAgICAgIC8vIHNhbWUgb2JzZXJ2YWxlIG9uIGVhY2ggYWN0aXZhdGlvbi9kZWFjdGl2YXRpb24gd2hlbiBvdXIgbWFpbiBzb3VyY2Vcblx0ICAgICAgLy8gaXMgYSBgS2VmaXIuY29uYXRhbnQoKWAgZm9yIGV4YW1wbGUuXG5cdCAgICAgIHZhciBzYW1lQ3VyciA9IHRoaXMuX2FjdGl2YXRpbmcgJiYgdGhpcy5faGFkTm9FdlNpbmNlRGVhY3QgJiYgdGhpcy5fbGFzdEN1cnJlbnQgPT09IGV2ZW50LnZhbHVlO1xuXHQgICAgICBpZiAoIXNhbWVDdXJyKSB7XG5cdCAgICAgICAgdGhpcy5fYWRkKGV2ZW50LnZhbHVlLCB0aGlzLl9mbik7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5fbGFzdEN1cnJlbnQgPSBldmVudC52YWx1ZTtcblx0ICAgICAgdGhpcy5faGFkTm9FdlNpbmNlRGVhY3QgPSBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGV2ZW50LnR5cGUgPT09IEVSUk9SKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFcnJvcihldmVudC52YWx1ZSk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChldmVudC50eXBlID09PSBFTkQpIHtcblx0ICAgICAgaWYgKHRoaXMuX2lzRW1wdHkoKSkge1xuXHQgICAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9tYWluRW5kZWQgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9vbkVtcHR5OiBmdW5jdGlvbiBfb25FbXB0eSgpIHtcblx0ICAgIGlmICh0aGlzLl9tYWluRW5kZWQpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfY2xlYXI6IGZ1bmN0aW9uIF9jbGVhcigpIHtcblx0ICAgIEFic3RyYWN0UG9vbC5wcm90b3R5cGUuX2NsZWFyLmNhbGwodGhpcyk7XG5cdCAgICB0aGlzLl9zb3VyY2UgPSBudWxsO1xuXHQgICAgdGhpcy5fbGFzdEN1cnJlbnQgPSBudWxsO1xuXHQgICAgdGhpcy5fJGhhbmRsZU1haW4gPSBudWxsO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IEZsYXRNYXA7XG5cbi8qKiovIH0sXG4vKiA2NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIFZBTFVFID0gX3JlcXVpcmUuVkFMVUU7XG5cdHZhciBFUlJPUiA9IF9yZXF1aXJlLkVSUk9SO1xuXHR2YXIgRU5EID0gX3JlcXVpcmUuRU5EO1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUyLmluaGVyaXQ7XG5cblx0dmFyIEZsYXRNYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtcblxuXHRmdW5jdGlvbiBGbGF0TWFwRXJyb3JzKHNvdXJjZSwgZm4pIHtcblx0ICBGbGF0TWFwLmNhbGwodGhpcywgc291cmNlLCBmbik7XG5cdH1cblxuXHRpbmhlcml0KEZsYXRNYXBFcnJvcnMsIEZsYXRNYXAsIHtcblxuXHQgIC8vIFNhbWUgYXMgaW4gRmxhdE1hcCwgb25seSBWQUxVRS9FUlJPUiBmbGlwcGVkXG5cdCAgX2hhbmRsZU1haW46IGZ1bmN0aW9uIF9oYW5kbGVNYWluKGV2ZW50KSB7XG5cblx0ICAgIGlmIChldmVudC50eXBlID09PSBFUlJPUikge1xuXHQgICAgICB2YXIgc2FtZUN1cnIgPSB0aGlzLl9hY3RpdmF0aW5nICYmIHRoaXMuX2hhZE5vRXZTaW5jZURlYWN0ICYmIHRoaXMuX2xhc3RDdXJyZW50ID09PSBldmVudC52YWx1ZTtcblx0ICAgICAgaWYgKCFzYW1lQ3Vycikge1xuXHQgICAgICAgIHRoaXMuX2FkZChldmVudC52YWx1ZSwgdGhpcy5fZm4pO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuX2xhc3RDdXJyZW50ID0gZXZlbnQudmFsdWU7XG5cdCAgICAgIHRoaXMuX2hhZE5vRXZTaW5jZURlYWN0ID0gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGlmIChldmVudC50eXBlID09PSBWQUxVRSkge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoZXZlbnQudmFsdWUpO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoZXZlbnQudHlwZSA9PT0gRU5EKSB7XG5cdCAgICAgIGlmICh0aGlzLl9pc0VtcHR5KCkpIHtcblx0ICAgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5fbWFpbkVuZGVkID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IEZsYXRNYXBFcnJvcnM7XG5cbi8qKiovIH0sXG4vKiA2NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdHZhciBOT1RISU5HID0gX3JlcXVpcmUyLk5PVEhJTkc7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2hhbmRsZVByaW1hcnlWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVByaW1hcnlWYWx1ZSh4KSB7XG5cdCAgICBpZiAodGhpcy5fbGFzdFNlY29uZGFyeSAhPT0gTk9USElORyAmJiB0aGlzLl9sYXN0U2Vjb25kYXJ5KSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZVNlY29uZGFyeUVuZDogZnVuY3Rpb24gX2hhbmRsZVNlY29uZGFyeUVuZCgpIHtcblx0ICAgIGlmICh0aGlzLl9sYXN0U2Vjb25kYXJ5ID09PSBOT1RISU5HIHx8ICF0aGlzLl9sYXN0U2Vjb25kYXJ5KSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnZmlsdGVyQnknLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ2ZpbHRlckJ5JywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmlsdGVyQnkocHJpbWFyeSwgc2Vjb25kYXJ5KSB7XG5cdCAgcmV0dXJuIG5ldyAocHJpbWFyeS5fb2ZTYW1lVHlwZShTLCBQKSkocHJpbWFyeSwgc2Vjb25kYXJ5KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDY3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIFN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdHZhciBQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlLmluaGVyaXQ7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIFZBTFVFID0gX3JlcXVpcmUyLlZBTFVFO1xuXHR2YXIgRVJST1IgPSBfcmVxdWlyZTIuRVJST1I7XG5cdHZhciBFTkQgPSBfcmVxdWlyZTIuRU5EO1xuXHR2YXIgTk9USElORyA9IF9yZXF1aXJlMi5OT1RISU5HO1xuXG5cdGZ1bmN0aW9uIGNyZWF0ZUNvbnN0cnVjdG9yKEJhc2VDbGFzcywgbmFtZSkge1xuXHQgIHJldHVybiBmdW5jdGlvbiBBbm9ueW1vdXNPYnNlcnZhYmxlKHByaW1hcnksIHNlY29uZGFyeSwgb3B0aW9ucykge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgQmFzZUNsYXNzLmNhbGwodGhpcyk7XG5cdCAgICB0aGlzLl9wcmltYXJ5ID0gcHJpbWFyeTtcblx0ICAgIHRoaXMuX3NlY29uZGFyeSA9IHNlY29uZGFyeTtcblx0ICAgIHRoaXMuX25hbWUgPSAnJyArIHByaW1hcnkuX25hbWUgKyAnLicgKyBuYW1lO1xuXHQgICAgdGhpcy5fbGFzdFNlY29uZGFyeSA9IE5PVEhJTkc7XG5cdCAgICB0aGlzLl8kaGFuZGxlU2Vjb25kYXJ5QW55ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIHJldHVybiBfdGhpcy5faGFuZGxlU2Vjb25kYXJ5QW55KGV2ZW50KTtcblx0ICAgIH07XG5cdCAgICB0aGlzLl8kaGFuZGxlUHJpbWFyeUFueSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMuX2hhbmRsZVByaW1hcnlBbnkoZXZlbnQpO1xuXHQgICAgfTtcblx0ICAgIHRoaXMuX2luaXQob3B0aW9ucyk7XG5cdCAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNyZWF0ZUNsYXNzTWV0aG9kcyhCYXNlQ2xhc3MpIHtcblx0ICByZXR1cm4ge1xuXHQgICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KG9wdGlvbnMpIHt9LFxuXHQgICAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge30sXG5cblx0ICAgIF9oYW5kbGVQcmltYXJ5VmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVQcmltYXJ5VmFsdWUoeCkge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICB9LFxuXHQgICAgX2hhbmRsZVByaW1hcnlFcnJvcjogZnVuY3Rpb24gX2hhbmRsZVByaW1hcnlFcnJvcih4KSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFcnJvcih4KTtcblx0ICAgIH0sXG5cdCAgICBfaGFuZGxlUHJpbWFyeUVuZDogZnVuY3Rpb24gX2hhbmRsZVByaW1hcnlFbmQoKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH0sXG5cblx0ICAgIF9oYW5kbGVTZWNvbmRhcnlWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVNlY29uZGFyeVZhbHVlKHgpIHtcblx0ICAgICAgdGhpcy5fbGFzdFNlY29uZGFyeSA9IHg7XG5cdCAgICB9LFxuXHQgICAgX2hhbmRsZVNlY29uZGFyeUVycm9yOiBmdW5jdGlvbiBfaGFuZGxlU2Vjb25kYXJ5RXJyb3IoeCkge1xuXHQgICAgICB0aGlzLl9lbWl0RXJyb3IoeCk7XG5cdCAgICB9LFxuXHQgICAgX2hhbmRsZVNlY29uZGFyeUVuZDogZnVuY3Rpb24gX2hhbmRsZVNlY29uZGFyeUVuZCgpIHt9LFxuXG5cdCAgICBfaGFuZGxlUHJpbWFyeUFueTogZnVuY3Rpb24gX2hhbmRsZVByaW1hcnlBbnkoZXZlbnQpIHtcblx0ICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBWQUxVRTpcblx0ICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVQcmltYXJ5VmFsdWUoZXZlbnQudmFsdWUpO1xuXHQgICAgICAgIGNhc2UgRVJST1I6XG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlUHJpbWFyeUVycm9yKGV2ZW50LnZhbHVlKTtcblx0ICAgICAgICBjYXNlIEVORDpcblx0ICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVQcmltYXJ5RW5kKGV2ZW50LnZhbHVlKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIF9oYW5kbGVTZWNvbmRhcnlBbnk6IGZ1bmN0aW9uIF9oYW5kbGVTZWNvbmRhcnlBbnkoZXZlbnQpIHtcblx0ICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBWQUxVRTpcblx0ICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVTZWNvbmRhcnlWYWx1ZShldmVudC52YWx1ZSk7XG5cdCAgICAgICAgY2FzZSBFUlJPUjpcblx0ICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVTZWNvbmRhcnlFcnJvcihldmVudC52YWx1ZSk7XG5cdCAgICAgICAgY2FzZSBFTkQ6XG5cdCAgICAgICAgICB0aGlzLl9oYW5kbGVTZWNvbmRhcnlFbmQoZXZlbnQudmFsdWUpO1xuXHQgICAgICAgICAgdGhpcy5fcmVtb3ZlU2Vjb25kYXJ5KCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cblx0ICAgIF9yZW1vdmVTZWNvbmRhcnk6IGZ1bmN0aW9uIF9yZW1vdmVTZWNvbmRhcnkoKSB7XG5cdCAgICAgIGlmICh0aGlzLl9zZWNvbmRhcnkgIT09IG51bGwpIHtcblx0ICAgICAgICB0aGlzLl9zZWNvbmRhcnkub2ZmQW55KHRoaXMuXyRoYW5kbGVTZWNvbmRhcnlBbnkpO1xuXHQgICAgICAgIHRoaXMuXyRoYW5kbGVTZWNvbmRhcnlBbnkgPSBudWxsO1xuXHQgICAgICAgIHRoaXMuX3NlY29uZGFyeSA9IG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cblx0ICAgIF9vbkFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkFjdGl2YXRpb24oKSB7XG5cdCAgICAgIGlmICh0aGlzLl9zZWNvbmRhcnkgIT09IG51bGwpIHtcblx0ICAgICAgICB0aGlzLl9zZWNvbmRhcnkub25BbnkodGhpcy5fJGhhbmRsZVNlY29uZGFyeUFueSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuXHQgICAgICAgIHRoaXMuX3ByaW1hcnkub25BbnkodGhpcy5fJGhhbmRsZVByaW1hcnlBbnkpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgX29uRGVhY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25EZWFjdGl2YXRpb24oKSB7XG5cdCAgICAgIGlmICh0aGlzLl9zZWNvbmRhcnkgIT09IG51bGwpIHtcblx0ICAgICAgICB0aGlzLl9zZWNvbmRhcnkub2ZmQW55KHRoaXMuXyRoYW5kbGVTZWNvbmRhcnlBbnkpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuX3ByaW1hcnkub2ZmQW55KHRoaXMuXyRoYW5kbGVQcmltYXJ5QW55KTtcblx0ICAgIH0sXG5cblx0ICAgIF9jbGVhcjogZnVuY3Rpb24gX2NsZWFyKCkge1xuXHQgICAgICBCYXNlQ2xhc3MucHJvdG90eXBlLl9jbGVhci5jYWxsKHRoaXMpO1xuXHQgICAgICB0aGlzLl9wcmltYXJ5ID0gbnVsbDtcblx0ICAgICAgdGhpcy5fc2Vjb25kYXJ5ID0gbnVsbDtcblx0ICAgICAgdGhpcy5fbGFzdFNlY29uZGFyeSA9IG51bGw7XG5cdCAgICAgIHRoaXMuXyRoYW5kbGVTZWNvbmRhcnlBbnkgPSBudWxsO1xuXHQgICAgICB0aGlzLl8kaGFuZGxlUHJpbWFyeUFueSA9IG51bGw7XG5cdCAgICAgIHRoaXMuX2ZyZWUoKTtcblx0ICAgIH1cblxuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVTdHJlYW0obmFtZSwgbWl4aW4pIHtcblx0ICB2YXIgUyA9IGNyZWF0ZUNvbnN0cnVjdG9yKFN0cmVhbSwgbmFtZSk7XG5cdCAgaW5oZXJpdChTLCBTdHJlYW0sIGNyZWF0ZUNsYXNzTWV0aG9kcyhTdHJlYW0pLCBtaXhpbik7XG5cdCAgcmV0dXJuIFM7XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eShuYW1lLCBtaXhpbikge1xuXHQgIHZhciBQID0gY3JlYXRlQ29uc3RydWN0b3IoUHJvcGVydHksIG5hbWUpO1xuXHQgIGluaGVyaXQoUCwgUHJvcGVydHksIGNyZWF0ZUNsYXNzTWV0aG9kcyhQcm9wZXJ0eSksIG1peGluKTtcblx0ICByZXR1cm4gUDtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0geyBjcmVhdGVTdHJlYW06IGNyZWF0ZVN0cmVhbSwgY3JlYXRlUHJvcGVydHk6IGNyZWF0ZVByb3BlcnR5IH07XG5cbi8qKiovIH0sXG4vKiA2OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBjb21iaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cblx0dmFyIGlkMiA9IGZ1bmN0aW9uIGlkMihfLCB4KSB7XG5cdCAgcmV0dXJuIHg7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzYW1wbGVkQnkocGFzc2l2ZSwgYWN0aXZlLCBjb21iaW5hdG9yKSB7XG5cdCAgdmFyIF9jb21iaW5hdG9yID0gY29tYmluYXRvciA/IGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICByZXR1cm4gY29tYmluYXRvcihiLCBhKTtcblx0ICB9IDogaWQyO1xuXHQgIHJldHVybiBjb21iaW5lKFthY3RpdmVdLCBbcGFzc2l2ZV0sIF9jb21iaW5hdG9yKS5zZXROYW1lKHBhc3NpdmUsICdzYW1wbGVkQnknKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDY5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIE5PVEhJTkcgPSBfcmVxdWlyZTIuTk9USElORztcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaGFuZGxlUHJpbWFyeVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlUHJpbWFyeVZhbHVlKHgpIHtcblx0ICAgIGlmICh0aGlzLl9sYXN0U2Vjb25kYXJ5ICE9PSBOT1RISU5HKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZVNlY29uZGFyeUVuZDogZnVuY3Rpb24gX2hhbmRsZVNlY29uZGFyeUVuZCgpIHtcblx0ICAgIGlmICh0aGlzLl9sYXN0U2Vjb25kYXJ5ID09PSBOT1RISU5HKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnc2tpcFVudGlsQnknLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3NraXBVbnRpbEJ5JywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2tpcFVudGlsQnkocHJpbWFyeSwgc2Vjb25kYXJ5KSB7XG5cdCAgcmV0dXJuIG5ldyAocHJpbWFyeS5fb2ZTYW1lVHlwZShTLCBQKSkocHJpbWFyeSwgc2Vjb25kYXJ5KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDcwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2hhbmRsZVNlY29uZGFyeVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlU2Vjb25kYXJ5VmFsdWUoeCkge1xuXHQgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCd0YWtlVW50aWxCeScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgndGFrZVVudGlsQnknLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0YWtlVW50aWxCeShwcmltYXJ5LCBzZWNvbmRhcnkpIHtcblx0ICByZXR1cm4gbmV3IChwcmltYXJ5Ll9vZlNhbWVUeXBlKFMsIFApKShwcmltYXJ5LCBzZWNvbmRhcnkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cdCAgICB2YXIgX3JlZiA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cblx0ICAgIHZhciBfcmVmJGZsdXNoT25FbmQgPSBfcmVmLmZsdXNoT25FbmQ7XG5cdCAgICB2YXIgZmx1c2hPbkVuZCA9IF9yZWYkZmx1c2hPbkVuZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYkZmx1c2hPbkVuZDtcblxuXHQgICAgdGhpcy5fYnVmZiA9IFtdO1xuXHQgICAgdGhpcy5fZmx1c2hPbkVuZCA9IGZsdXNoT25FbmQ7XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2J1ZmYgPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfZmx1c2g6IGZ1bmN0aW9uIF9mbHVzaCgpIHtcblx0ICAgIGlmICh0aGlzLl9idWZmICE9PSBudWxsKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl9idWZmKTtcblx0ICAgICAgdGhpcy5fYnVmZiA9IFtdO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlUHJpbWFyeUVuZDogZnVuY3Rpb24gX2hhbmRsZVByaW1hcnlFbmQoKSB7XG5cdCAgICBpZiAodGhpcy5fZmx1c2hPbkVuZCkge1xuXHQgICAgICB0aGlzLl9mbHVzaCgpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgIH0sXG5cblx0ICBfb25BY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25BY3RpdmF0aW9uKCkge1xuXHQgICAgdGhpcy5fcHJpbWFyeS5vbkFueSh0aGlzLl8kaGFuZGxlUHJpbWFyeUFueSk7XG5cdCAgICBpZiAodGhpcy5fYWxpdmUgJiYgdGhpcy5fc2Vjb25kYXJ5ICE9PSBudWxsKSB7XG5cdCAgICAgIHRoaXMuX3NlY29uZGFyeS5vbkFueSh0aGlzLl8kaGFuZGxlU2Vjb25kYXJ5QW55KTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZVByaW1hcnlWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVByaW1hcnlWYWx1ZSh4KSB7XG5cdCAgICB0aGlzLl9idWZmLnB1c2goeCk7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVTZWNvbmRhcnlWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVNlY29uZGFyeVZhbHVlKHgpIHtcblx0ICAgIHRoaXMuX2ZsdXNoKCk7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVTZWNvbmRhcnlFbmQ6IGZ1bmN0aW9uIF9oYW5kbGVTZWNvbmRhcnlFbmQoeCkge1xuXHQgICAgaWYgKCF0aGlzLl9mbHVzaE9uRW5kKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnYnVmZmVyQnknLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ2J1ZmZlckJ5JywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVmZmVyQnkocHJpbWFyeSwgc2Vjb25kYXJ5LCBvcHRpb25zIC8qIG9wdGlvbmFsICovKSB7XG5cdCAgcmV0dXJuIG5ldyAocHJpbWFyeS5fb2ZTYW1lVHlwZShTLCBQKSkocHJpbWFyeSwgc2Vjb25kYXJ5LCBvcHRpb25zKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDcyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIE5PVEhJTkcgPSBfcmVxdWlyZTIuTk9USElORztcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cdCAgICB2YXIgX3JlZiA9IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cblx0ICAgIHZhciBfcmVmJGZsdXNoT25FbmQgPSBfcmVmLmZsdXNoT25FbmQ7XG5cdCAgICB2YXIgZmx1c2hPbkVuZCA9IF9yZWYkZmx1c2hPbkVuZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYkZmx1c2hPbkVuZDtcblxuXHQgICAgdGhpcy5fYnVmZiA9IFtdO1xuXHQgICAgdGhpcy5fZmx1c2hPbkVuZCA9IGZsdXNoT25FbmQ7XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2J1ZmYgPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfZmx1c2g6IGZ1bmN0aW9uIF9mbHVzaCgpIHtcblx0ICAgIGlmICh0aGlzLl9idWZmICE9PSBudWxsICYmIHRoaXMuX2J1ZmYubGVuZ3RoICE9PSAwKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl9idWZmKTtcblx0ICAgICAgdGhpcy5fYnVmZiA9IFtdO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlUHJpbWFyeUVuZDogZnVuY3Rpb24gX2hhbmRsZVByaW1hcnlFbmQoKSB7XG5cdCAgICBpZiAodGhpcy5fZmx1c2hPbkVuZCkge1xuXHQgICAgICB0aGlzLl9mbHVzaCgpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlUHJpbWFyeVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlUHJpbWFyeVZhbHVlKHgpIHtcblx0ICAgIHRoaXMuX2J1ZmYucHVzaCh4KTtcblx0ICAgIGlmICh0aGlzLl9sYXN0U2Vjb25kYXJ5ICE9PSBOT1RISU5HICYmICF0aGlzLl9sYXN0U2Vjb25kYXJ5KSB7XG5cdCAgICAgIHRoaXMuX2ZsdXNoKCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVTZWNvbmRhcnlFbmQ6IGZ1bmN0aW9uIF9oYW5kbGVTZWNvbmRhcnlFbmQoeCkge1xuXHQgICAgaWYgKCF0aGlzLl9mbHVzaE9uRW5kICYmICh0aGlzLl9sYXN0U2Vjb25kYXJ5ID09PSBOT1RISU5HIHx8IHRoaXMuX2xhc3RTZWNvbmRhcnkpKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnYnVmZmVyV2hpbGVCeScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnYnVmZmVyV2hpbGVCeScsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1ZmZlcldoaWxlQnkocHJpbWFyeSwgc2Vjb25kYXJ5LCBvcHRpb25zIC8qIG9wdGlvbmFsICovKSB7XG5cdCAgcmV0dXJuIG5ldyAocHJpbWFyeS5fb2ZTYW1lVHlwZShTLCBQKSkocHJpbWFyeSwgc2Vjb25kYXJ5LCBvcHRpb25zKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDczICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIG1lcmdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdHZhciBtYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0dmFyIHNraXBEdXBsaWNhdGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cdHZhciB0b1Byb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cblx0dmFyIGYgPSBmdW5jdGlvbiBmKCkge1xuXHQgIHJldHVybiBmYWxzZTtcblx0fTtcblx0dmFyIHQgPSBmdW5jdGlvbiB0KCkge1xuXHQgIHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYXdhaXRpbmcoYSwgYikge1xuXHQgIHZhciByZXN1bHQgPSBtZXJnZShbbWFwKGEsIHQpLCBtYXAoYiwgZildKTtcblx0ICByZXN1bHQgPSBza2lwRHVwbGljYXRlcyhyZXN1bHQpO1xuXHQgIHJlc3VsdCA9IHRvUHJvcGVydHkocmVzdWx0LCBmKTtcblx0ICByZXR1cm4gcmVzdWx0LnNldE5hbWUoYSwgJ2F3YWl0aW5nJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZS5pbmhlcml0O1xuXG5cdHZhciBTdHJlYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdGZ1bmN0aW9uIEVtaXR0ZXIoKSB7XG5cdCAgU3RyZWFtLmNhbGwodGhpcyk7XG5cdH1cblxuXHRpbmhlcml0KEVtaXR0ZXIsIFN0cmVhbSwge1xuXG5cdCAgX25hbWU6ICdlbWl0dGVyJyxcblxuXHQgIGVtaXQ6IGZ1bmN0aW9uIGVtaXQoeCkge1xuXHQgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblxuXHQgIGVycm9yOiBmdW5jdGlvbiBlcnJvcih4KSB7XG5cdCAgICB0aGlzLl9lbWl0RXJyb3IoeCk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXG5cdCAgZW5kOiBmdW5jdGlvbiBlbmQoKSB7XG5cdCAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXG5cdCAgZW1pdEV2ZW50OiBmdW5jdGlvbiBlbWl0RXZlbnQoZXZlbnQpIHtcblx0ICAgIHRoaXMuX2VtaXQoZXZlbnQudHlwZSwgZXZlbnQudmFsdWUpO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IEVtaXR0ZXI7XG5cbi8qKiovIH0sXG4vKiA3NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZS5pbmhlcml0O1xuXG5cdHZhciBBYnN0cmFjdFBvb2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblxuXHRmdW5jdGlvbiBCdXMoKSB7XG5cdCAgQWJzdHJhY3RQb29sLmNhbGwodGhpcyk7XG5cdH1cblxuXHRpbmhlcml0KEJ1cywgQWJzdHJhY3RQb29sLCB7XG5cblx0ICBfbmFtZTogJ2J1cycsXG5cblx0ICBwbHVnOiBmdW5jdGlvbiBwbHVnKG9icykge1xuXHQgICAgdGhpcy5fYWRkKG9icyk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXHQgIHVucGx1ZzogZnVuY3Rpb24gdW5wbHVnKG9icykge1xuXHQgICAgdGhpcy5fcmVtb3ZlKG9icyk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXG5cdCAgZW1pdDogZnVuY3Rpb24gZW1pdCh4KSB7XG5cdCAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXHQgIGVycm9yOiBmdW5jdGlvbiBlcnJvcih4KSB7XG5cdCAgICB0aGlzLl9lbWl0RXJyb3IoeCk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXHQgIGVuZDogZnVuY3Rpb24gZW5kKCkge1xuXHQgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblx0ICBlbWl0RXZlbnQ6IGZ1bmN0aW9uIGVtaXRFdmVudChldmVudCkge1xuXHQgICAgdGhpcy5fZW1pdChldmVudC50eXBlLCBldmVudC52YWx1ZSk7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gQnVzO1xuXG4vKioqLyB9LFxuLyogNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgTk9USElORyA9IF9yZXF1aXJlMi5OT1RISU5HO1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXHQgICAgdmFyIHNlZWQgPSBfcmVmLnNlZWQ7XG5cblx0ICAgIHRoaXMuX2ZuID0gZm47XG5cdCAgICB0aGlzLl9yZXN1bHQgPSBzZWVkO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgICB0aGlzLl9yZXN1bHQgPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3Jlc3VsdCA9PT0gTk9USElORyA/IHggOiBmbih0aGlzLl9yZXN1bHQsIHgpO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlRW5kOiBmdW5jdGlvbiBfaGFuZGxlRW5kKCkge1xuXHQgICAgaWYgKHRoaXMuX3Jlc3VsdCAhPT0gTk9USElORykge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUodGhpcy5fcmVzdWx0KTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgncmVkdWNlJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdyZWR1Y2UnLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZWR1Y2Uob2JzLCBmbikge1xuXHQgIHZhciBzZWVkID0gYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBOT1RISU5HIDogYXJndW1lbnRzWzJdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuLCBzZWVkOiBzZWVkIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgY29tYmluZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG5cdHZhciBhcHBseSA9IF9yZXF1aXJlLmFwcGx5O1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBjaXJjbGVTaGlmdCA9IF9yZXF1aXJlMi5jaXJjbGVTaGlmdDtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNhbXBsZWRCeShwYXNzaXZlLCBhY3RpdmUsIGNvbWJpbmF0b3IpIHtcblxuXHQgIHZhciBfY29tYmluYXRvciA9IGNvbWJpbmF0b3I7XG5cblx0ICAvLyB3ZSBuZWVkIHRvIGZsaXAgYHBhc3NpdmVgIGFuZCBgYWN0aXZlYCBpbiBjb21iaW5hdG9yIGZ1bmN0aW9uXG5cdCAgaWYgKHBhc3NpdmUubGVuZ3RoID4gMCkge1xuXHQgICAgX2NvbWJpbmF0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhcmdzID0gY2lyY2xlU2hpZnQoYXJndW1lbnRzLCBwYXNzaXZlLmxlbmd0aCk7XG5cdCAgICAgIHJldHVybiBjb21iaW5hdG9yID8gYXBwbHkoY29tYmluYXRvciwgbnVsbCwgYXJncykgOiBhcmdzO1xuXHQgICAgfTtcblx0ICB9XG5cblx0ICByZXR1cm4gY29tYmluZShhY3RpdmUsIHBhc3NpdmUsIF9jb21iaW5hdG9yKS5zZXROYW1lKCdzYW1wbGVkQnknKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHRpbWVCYXNlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0dmFyIGNsb25lQXJyYXkgPSBfcmVxdWlyZS5jbG9uZUFycmF5O1xuXG5cdHZhciBTID0gdGltZUJhc2VkKHtcblxuXHQgIF9uYW1lOiAncmVwZWF0ZWRseScsXG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIHhzID0gX3JlZi54cztcblxuXHQgICAgdGhpcy5feHMgPSBjbG9uZUFycmF5KHhzKTtcblx0ICAgIHRoaXMuX2kgPSAtMTtcblx0ICB9LFxuXG5cdCAgX29uVGljazogZnVuY3Rpb24gX29uVGljaygpIHtcblx0ICAgIGlmICh0aGlzLl94cy5sZW5ndGggPiAwKSB7XG5cdCAgICAgIHRoaXMuX2kgPSAodGhpcy5faSArIDEpICUgdGhpcy5feHMubGVuZ3RoO1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUodGhpcy5feHNbdGhpcy5faV0pO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlcGVhdGVkbHkod2FpdCwgeHMpIHtcblx0ICByZXR1cm4gbmV3IFMod2FpdCwgeyB4czogeHMgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hcFRvKG9icywgeCkge1xuXHQgIHJldHVybiBtYXAob2JzLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4geDtcblx0ICB9KS5zZXROYW1lKG9icywgJ21hcFRvJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRhcChvYnMsIGZuKSB7XG5cdCAgcmV0dXJuIG1hcChvYnMsIGZ1bmN0aW9uICh4KSB7XG5cdCAgICBmbih4KTtyZXR1cm4geDtcblx0ICB9KS5zZXROYW1lKG9icywgJ3RhcCcpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwbHVjayhvYnMsIHByb3BOYW1lKSB7XG5cdCAgcmV0dXJuIG1hcChvYnMsIGZ1bmN0aW9uICh4KSB7XG5cdCAgICByZXR1cm4geFtwcm9wTmFtZV07XG5cdCAgfSkuc2V0TmFtZShvYnMsICdwbHVjaycpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cblx0dmFyIGFwcGx5ID0gX3JlcXVpcmUuYXBwbHk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbnZva2Uob2JzLCBtZXRob2ROYW1lLCBhcmdzKSB7XG5cblx0ICB2YXIgZm4gPSBhcmdzLmxlbmd0aCA9PT0gMCA/IGZ1bmN0aW9uICh4KSB7XG5cdCAgICByZXR1cm4geFttZXRob2ROYW1lXSgpO1xuXHQgIH0gOiBmdW5jdGlvbiAoeCkge1xuXHQgICAgcmV0dXJuIGFwcGx5KHhbbWV0aG9kTmFtZV0sIHgsIGFyZ3MpO1xuXHQgIH07XG5cblx0ICByZXR1cm4gbWFwKG9icywgZm4pLnNldE5hbWUob2JzLCAnaW52b2tlJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblx0dmFyIG5vdyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGltZXN0YW1wKG9icykge1xuXHQgIHJldHVybiBtYXAob2JzLCBmdW5jdGlvbiAoeCkge1xuXHQgICAgcmV0dXJuIHsgdmFsdWU6IHgsIHRpbWU6IG5vdygpIH07XG5cdCAgfSkuc2V0TmFtZShvYnMsICd0aW1lc3RhbXAnKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNvbWJpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcblxuXHRmdW5jdGlvbiBmbigpIHtcblx0ICB2YXIgaSA9IHVuZGVmaW5lZDtcblx0ICBmb3IgKGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAoIWFyZ3VtZW50c1tpXSkge1xuXHQgICAgICByZXR1cm4gYXJndW1lbnRzW2ldO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gYXJndW1lbnRzW2kgLSAxXTtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYW5kKG9ic2VydmFibGVzKSB7XG5cdCAgcmV0dXJuIGNvbWJpbmUob2JzZXJ2YWJsZXMsIFtdLCBmbikuc2V0TmFtZSgnYW5kJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBjb21iaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cblx0ZnVuY3Rpb24gZm4oKSB7XG5cdCAgdmFyIGkgPSB1bmRlZmluZWQ7XG5cdCAgZm9yIChpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgaWYgKGFyZ3VtZW50c1tpXSkge1xuXHQgICAgICByZXR1cm4gYXJndW1lbnRzW2ldO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gYXJndW1lbnRzW2kgLSAxXTtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gb3Iob2JzZXJ2YWJsZXMpIHtcblx0ICByZXR1cm4gY29tYmluZShvYnNlcnZhYmxlcywgW10sIGZuKS5zZXROYW1lKCdvcicpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3Qob2JzKSB7XG5cdCAgcmV0dXJuIG1hcChvYnMsIGZ1bmN0aW9uICh4KSB7XG5cdCAgICByZXR1cm4gIXg7XG5cdCAgfSkuc2V0TmFtZShvYnMsICdub3QnKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIE5PVEhJTkcgPSBfcmVxdWlyZTIuTk9USElORztcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaGFuZGxlUHJpbWFyeVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlUHJpbWFyeVZhbHVlKHgpIHtcblx0ICAgIGlmICh0aGlzLl9sYXN0U2Vjb25kYXJ5ICE9PSBOT1RISU5HKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZVNlY29uZGFyeVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlU2Vjb25kYXJ5VmFsdWUoeCkge1xuXHQgICAgdGhpcy5fbGFzdFNlY29uZGFyeSA9IHg7XG5cdCAgICBpZiAoIXRoaXMuX2xhc3RTZWNvbmRhcnkpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlU2Vjb25kYXJ5RW5kOiBmdW5jdGlvbiBfaGFuZGxlU2Vjb25kYXJ5RW5kKCkge1xuXHQgICAgaWYgKHRoaXMuX2xhc3RTZWNvbmRhcnkgPT09IE5PVEhJTkcpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCd0YWtlV2hpbGVCeScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgndGFrZVdoaWxlQnknLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0YWtlV2hpbGVCeShwcmltYXJ5LCBzZWNvbmRhcnkpIHtcblx0ICByZXR1cm4gbmV3IChwcmltYXJ5Ll9vZlNhbWVUeXBlKFMsIFApKShwcmltYXJ5LCBzZWNvbmRhcnkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoKSB7XG5cdCAgICB0aGlzLl9oYXNGYWxzZXlGcm9tU2Vjb25kYXJ5ID0gZmFsc2U7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVQcmltYXJ5VmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVQcmltYXJ5VmFsdWUoeCkge1xuXHQgICAgaWYgKHRoaXMuX2hhc0ZhbHNleUZyb21TZWNvbmRhcnkpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlU2Vjb25kYXJ5VmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVTZWNvbmRhcnlWYWx1ZSh4KSB7XG5cdCAgICB0aGlzLl9oYXNGYWxzZXlGcm9tU2Vjb25kYXJ5ID0gdGhpcy5faGFzRmFsc2V5RnJvbVNlY29uZGFyeSB8fCAheDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVNlY29uZGFyeUVuZDogZnVuY3Rpb24gX2hhbmRsZVNlY29uZGFyeUVuZCgpIHtcblx0ICAgIGlmICghdGhpcy5faGFzRmFsc2V5RnJvbVNlY29uZGFyeSkge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3NraXBXaGlsZUJ5JywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdza2lwV2hpbGVCeScsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNraXBXaGlsZUJ5KHByaW1hcnksIHNlY29uZGFyeSkge1xuXHQgIHJldHVybiBuZXcgKHByaW1hcnkuX29mU2FtZVR5cGUoUywgUCkpKHByaW1hcnksIHNlY29uZGFyeSk7XG5cdH07XG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjsiLCIvKipcbiAqIFV0aWxpdHkgZnVuY3Rpb25zXG4gKi9cblxudmFyIHV0aWwgPSB7fTtcblxudXRpbC5pc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG51dGlsLmlzTnVtYmVyID0gZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxudXRpbC5pc1VuZGVmaW5lZCA9IGZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5cbnV0aWwuaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKXtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cblxuLyoqXG4gKiBFdmVudEVtaXR0ZXIgY2xhc3NcbiAqL1xuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCF1dGlsLmlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicgJiYgIXRoaXMuX2V2ZW50cy5lcnJvcikge1xuICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuJyk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKHV0aWwuaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh1dGlsLmlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh1dGlsLmlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCF1dGlsLmlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICB1dGlsLmlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKHV0aWwuaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmICh1dGlsLmlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICB2YXIgbTtcbiAgICBpZiAoIXV0aWwuaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcblxuICAgICAgaWYgKHV0aWwuaXNGdW5jdGlvbihjb25zb2xlLmVycm9yKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmICh1dGlsLmlzRnVuY3Rpb24oY29uc29sZS50cmFjZSkpXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIXV0aWwuaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCF1dGlsLmlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICh1dGlsLmlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKHV0aWwuaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmICh1dGlsLmlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGxpc3RlbmVycykpIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAodXRpbC5pc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIWVtaXR0ZXIuX2V2ZW50cyB8fCAhZW1pdHRlci5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IDA7XG4gIGVsc2UgaWYgKHV0aWwuaXNGdW5jdGlvbihlbWl0dGVyLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IDE7XG4gIGVsc2VcbiAgICByZXQgPSBlbWl0dGVyLl9ldmVudHNbdHlwZV0ubGVuZ3RoO1xuICByZXR1cm4gcmV0O1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUFjdGlvbnMgfSBmcm9tICcuLi9jb3JlJztcblxubGV0IEFjdGlvbnMgPSBjcmVhdGVBY3Rpb25zKFtcblx0J2NyZWF0ZScsXG5cdCd1cGRhdGVUZXh0Jyxcblx0J3RvZ2dsZUNvbXBsZXRlJyxcblx0J3RvZ2dsZUNvbXBsZXRlQWxsJyxcblx0J2Rlc3Ryb3knLFxuXHQnZGVzdHJveUNvbXBsZXRlZCcsXG5cdCdzZXRGaWx0ZXInXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgQWN0aW9uczsiLCJpbXBvcnQgeyBjcmVhdGVDb25zdGFudHMgfSBmcm9tICcuLi9jb3JlJztcblxubGV0IENvbnN0YW50cyA9IGNyZWF0ZUNvbnN0YW50cyhbXG5cdCdGSUxURVJfQUxMJyxcblx0J0ZJTFRFUl9BQ1RJVkUnLFxuXHQnRklMVEVSX0NPTVBMRVRFJ1xuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvbnN0YW50czsiLCJpbXBvcnQgZXZlbnRTdHJlYW0gZnJvbSAnLi9ldmVudFN0cmVhbSc7XG5pbXBvcnQgeyBhY3Rpb25GYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3JpZXMnO1xuZXhwb3J0IGRlZmF1bHQgYWN0aW9uRmFjdG9yeShldmVudFN0cmVhbSk7IiwiaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vdXRpbGl0aWVzJztcbmltcG9ydCBjcmVhdGVBY3Rpb24gZnJvbSAnLi9jcmVhdGVBY3Rpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVBY3Rpb25zKC4uLmFyZ3MpIHtcblx0cmV0dXJuIGZsYXR0ZW4oYXJncylcblx0XHQucmVkdWNlKChhY2MsIGFjdGlvbikgPT4gKGFjY1thY3Rpb25dID0gY3JlYXRlQWN0aW9uKGFjdGlvbikpICYmIGFjYywge30pO1xufSIsImltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuL3V0aWxpdGllcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUNvbnN0YW50cyguLi5hcmdzKSB7XG5cdHJldHVybiBmbGF0dGVuKGFyZ3MpXG5cdFx0LnJlZHVjZSgoYWNjLCBrZXkpID0+IChhY2Nba2V5XSA9IGtleSkgJiYgYWNjLCB7fSk7XG59OyIsImltcG9ydCBJbW11dGFibGUgZnJvbSAnaW1tdXRhYmxlJztcbmltcG9ydCBLZWZpciBmcm9tICdrZWZpcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uLCB0b1NlbnRlbmNlQ2FzZSwgaW5oZXJpdCwgZmxhdHRlbiB9IGZyb20gJy4vdXRpbGl0aWVzJztcblxubGV0IGNvbnRlbnRLZXkgPSBTeW1ib2woJ2NvbnRlbnRzJyk7XG5cbmZ1bmN0aW9uIGFjdGlvbnNUb1N0cmVhbXMoYWN0aW9ucyA9IHt9KSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhhY3Rpb25zKS5tYXAoa2V5ID0+IGFjdGlvbnNba2V5XSk7XG59XG5cbmZ1bmN0aW9uIG11dGF0ZU9yUGFzc3Rocm91Z2goW2NvbnRleHQsIGFjdGlvbk5hbWUsIGNvbnRlbnQsIC4uLnJlc3RdKSB7XG5cdGxldCBoYW5kbGVyID0gY29udGV4dFtgb24ke3RvU2VudGVuY2VDYXNlKGFjdGlvbk5hbWUpfWBdO1xuXHRyZXR1cm4gaXNGdW5jdGlvbihoYW5kbGVyKSAmJiBbY29udGVudCwgaGFuZGxlcihjb250ZW50LCAuLi5yZXN0KV0gfHwgW2NvbnRlbnQsIGNvbnRlbnRdO1xufVxuXG5mdW5jdGlvbiBkaWZmKFtjdXJyZW50U3RhdGUsIG5leHRTdGF0ZV0pIHtcblx0cmV0dXJuICFJbW11dGFibGUuaXMoY3VycmVudFN0YXRlLCBuZXh0U3RhdGUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVTdG9yZShvYmopIHtcblx0bGV0IFN0b3JlID0gT2JqZWN0LmNyZWF0ZShvYmopO1xuXHRsZXQgQ29udGVudCA9IFN0b3JlLnR5cGUgJiYgU3RvcmUudHlwZSgpIHx8IEltbXV0YWJsZS5PcmRlcmVkTWFwKCk7XG5cdGxldCBDb250ZW50U3RyZWFtID0gS2VmaXIuc3RyZWFtKGVtaXR0ZXIgPT4gZW1pdHRlci5lbWl0KENvbnRlbnQpKTtcblxuXHR3aW5kb3cuQ29udGVudFN0cmVhbSA9IENvbnRlbnRTdHJlYW07XG5cblx0bGV0IEFjdGlvbnMgPSBhY3Rpb25zVG9TdHJlYW1zKFN0b3JlLmFjdGlvbnMpXG5cdFx0Lm1hcChhY3Rpb24gPT4gS2VmaXIuY29tYmluZShbXG5cdFx0XHRLZWZpci5jb25zdGFudChTdG9yZSksXG5cdFx0XHRLZWZpci5jb25zdGFudChhY3Rpb24uX25hbWUpLFxuXHRcdFx0YWN0aW9uLmZsYXRNYXAoKCkgPT4gQ29udGVudFN0cmVhbS5zYW1wbGVkQnkoYWN0aW9uKSksXG5cdFx0XHRhY3Rpb25cblx0XHRdKS5sb2coKSk7XG5cblx0bGV0IFN0cmVhbSA9IEtlZmlyLm1lcmdlKEFjdGlvbnMpLmxvZygnQWN0aW9ucycpXG5cdFx0Lm1hcChtdXRhdGVPclBhc3N0aHJvdWdoKVxuXHRcdC5maWx0ZXIoZGlmZik7XG5cblx0U3RyZWFtLm1hcCgoWyBjdXJyZW50U3RhdGUsIG5leHRTdGF0ZSBdKSA9PiB7XG5cdFx0XHRyZXR1cm4gY3VycmVudFN0YXRlLm1lcmdlKG5leHRTdGF0ZSk7XG5cdFx0fSlcblx0XHQubG9nKCdtZXJnZWQnKVxuXHRcdC8vIC53aXRoSGFuZGxlcigoZW1pdHRlciwgeyB2YWx1ZSB9KSA9PiB7XG5cdFx0Ly8gXHRDb250ZW50U3RyZWFtLl9lbWl0KHZhbHVlKTtcblx0XHQvLyBcdHJldHVybiB2YWx1ZTtcblx0XHQvLyB9KVxuXHRcdC8vIC5za2lwRHVwbGljYXRlcygpXG5cdFx0Lm1hcChzdG9yZSA9PiBzdG9yZS50b0pTKCkpXG5cdFx0LmxvZygnc3RvcmUnKTtcblxuXHRTdG9yZSA9IGluaGVyaXQoU3RyZWFtLCBTdG9yZSk7XG5cdHJldHVybiBTdG9yZTtcblxuXHQvLyBsZXQgQWN0aW9ucyA9IE9iamVjdC5rZXlzKFN0b3JlLmFjdGlvbnMgfHwge30pXG5cdC8vIFx0Lm1hcChnZXRBY3Rpb25CeUtleSwgU3RvcmUpXG5cdC8vIFx0Lm1hcChydW5IYW5kbGVyQW5kU3RvcmUsIFN0b3JlKTtcblxuXHQvLyBsZXQgU3RyZWFtID0gS2VmaXIubWVyZ2UoQWN0aW9ucylcblx0Ly8gXHQubWFwKGRpZmZBbmRTdG9yZS5iaW5kKFN0b3JlKSk7XG5cblx0Ly8gaWYgKFN0b3JlLm1vZGlmaWVyKSB7XG5cdC8vIFx0bGV0IE1vZGlmaWVyID0gU3RvcmUubW9kaWZpZXIudG9Qcm9wZXJ0eSgoKSA9PiAwKTtcblx0Ly8gXHRNb2RpZmllci5vblZhbHVlKCgpID0+IHZvaWQgMCk7XG5cblx0Ly8gXHRTdHJlYW0gPSBLZWZpci5jb21iaW5lKFtTdHJlYW0sIE1vZGlmaWVyXSwgKGEsIGIpID0+IGIpXG5cdC8vIFx0XHQuc2FtcGxlZEJ5KFN0cmVhbSlcblx0Ly8gXHRcdC5tYXAocnVuSGFuZGxlci5iaW5kKFN0b3JlLCBTdG9yZS5tb2RpZmllci5fbmFtZSkpXG5cdC8vIFx0XHQuc2tpcER1cGxpY2F0ZXMoKTtcblx0Ly8gfVxuXG5cdC8vIFN0b3JlID0gaW5oZXJpdChTdHJlYW0sIFN0b3JlKTtcblx0Ly8gcmV0dXJuIFN0b3JlO1xufTtcbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnbm9kZS1ldmVudC1lbWl0dGVyJztcbmV4cG9ydCBkZWZhdWx0IG5ldyBFdmVudEVtaXR0ZXIoKTsiLCJpbXBvcnQgS2VmaXIgZnJvbSAna2VmaXInO1xuaW1wb3J0IHsgaW5oZXJpdCB9IGZyb20gJy4uL3V0aWxpdGllcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFjdGlvbkZhY3RvcnkoZXZlbnRTdHJlYW0pIHtcblx0cmV0dXJuIGZ1bmN0aW9uKGFjdGlvbk5hbWUpIHtcblx0XHRsZXQgRW1pdHRlcjtcblx0XHRsZXQgU3RyZWFtID0gS2VmaXIuc3RyZWFtKGVtaXR0ZXIgPT4gRW1pdHRlciA9IGVtaXR0ZXIpO1xuXHRcdGxldCBmdW5jdG9yID0gKHZhbHVlKSA9PiBFbWl0dGVyLmVtaXQodmFsdWUpO1xuXHRcdGZ1bmN0b3IgPSBpbmhlcml0KFN0cmVhbSwgZnVuY3Rvcik7XG5cdFx0ZnVuY3Rvci5fbmFtZSA9IGFjdGlvbk5hbWU7XG5cdFx0cmV0dXJuIGZ1bmN0b3I7XG5cdH1cbn0iLCJleHBvcnQgeyBkZWZhdWx0IGFzIGFjdGlvbkZhY3RvcnkgfSBmcm9tICcuL2FjdGlvbkZhY3RvcnknOyIsImV4cG9ydCB7IGRlZmF1bHQgYXMgZXZlbnRTdHJlYW0gfSBmcm9tICcuL2V2ZW50U3RyZWFtJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY3JlYXRlQWN0aW9uIH0gZnJvbSAnLi9jcmVhdGVBY3Rpb24nO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVBY3Rpb25zIH0gZnJvbSAnLi9jcmVhdGVBY3Rpb25zJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY3JlYXRlQ29uc3RhbnRzIH0gZnJvbSAnLi9jcmVhdGVDb25zdGFudHMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVTdG9yZSB9IGZyb20gJy4vY3JlYXRlU3RvcmUnOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU9iaihwcm90bykge1xuXHR2YXIgRiA9IG5ldyBGdW5jdGlvbigpO1xuXHRGLnByb3RvdHlwZSA9IHByb3RvO1xuXHRyZXR1cm4gbmV3IEYoKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmbGF0dGVuKGFycikge1xuXHRyZXR1cm4gYXJyLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBhY2MuY29uY2F0KGl0ZW0pLCBbXSlcbn07IiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVPYmogfSBmcm9tICcuL2NyZWF0ZU9iaic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZsYXR0ZW4gfSBmcm9tICcuL2ZsYXR0ZW4nO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpbmhlcml0IH0gZnJvbSAnLi9pbmhlcml0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHRvU2VudGVuY2VDYXNlIH0gZnJvbSAnLi90b1NlbnRlbmNlQ2FzZSc7IiwiaW1wb3J0IHsgY3JlYXRlT2JqLCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi8nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbmhlcml0KHN0cmVhbSwgb2JqKSB7XG5cdGxldCBwcm90byA9IGNyZWF0ZU9iaihzdHJlYW0uY29uc3RydWN0b3IucHJvdG90eXBlKTtcblx0Zm9yIChsZXQgZm4gaW4gcHJvdG8pIHtcblx0XHRvYmpbZm5dID0gaXNGdW5jdGlvbihwcm90b1tmbl0pID8gcHJvdG9bZm5dLmJpbmQoc3RyZWFtKSA6IHByb3RvW2ZuXTtcblx0fVxuXHRyZXR1cm4gb2JqO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oZm4pIHtcblx0cmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJztcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1NlbnRlbmNlQ2FzZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIHN0ci5zdWJzdHIoMSk7XG59IiwiaW1wb3J0IEFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucyc7XG5pbXBvcnQgSW1tdXRhYmxlIGZyb20gJ0ltbXV0YWJsZSc7XG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0IHsgdXVpZCB9IGZyb20gJy4uL3V0aWxpdGllcyc7XG5cbmxldCBjcmVhdGUgPSB0ZXh0ID0+IEltbXV0YWJsZS5NYXAoe1xuXHRpZDogdXVpZCgpLFxuXHRjb21wbGV0ZWQ6IGZhbHNlLFxuXHR0ZXh0OiB0ZXh0XG59KTtcblxubGV0IGlzQ29tcGxldGUgPSB0b2RvID0+IHRvZG8uZ2V0KCdjb21wbGV0ZScpO1xuXG5sZXQgVG9kb1N0b3JlID0gY3JlYXRlU3RvcmUoe1xuXHRhY3Rpb25zOiBBY3Rpb25zLFxuXHRtb2RpZmllcjogQWN0aW9ucy5zZXRGaWx0ZXIsXG5cdG9uQ3JlYXRlKHRvZG9zLCB0ZXh0KSB7XG5cdFx0bGV0IHRvZG8gPSBjcmVhdGUodGV4dCk7XG5cdFx0cmV0dXJuIHRvZG9zLnNldCh0b2RvLmdldCgnaWQnKSwgdG9kbyk7XG5cdH0sXG5cdG9uVXBkYXRlVGV4dCh0b2RvcywgdG9kbykge1xuXHRcdHJldHVybiB0b2Rvcy5zZXRJbihbdG9kby5pZCwgJ3RleHQnXSwgdG9kby50ZXh0KTtcblx0fSxcblx0b25Ub2dnbGVDb21wbGV0ZSh0b2RvcywgdG9kbykge1xuXHRcdHJldHVybiB0b2Rvcy5zZXRJbihbdG9kby5pZCwgJ2NvbXBsZXRlJ10sICF0b2RvLmNvbXBsZXRlKTtcblx0fSxcblx0b25Ub2dnbGVDb21wbGV0ZUFsbCh0b2Rvcykge1xuXHRcdHJldHVybiB0b2Rvcy5tYXAodG9kbyA9PiB0b2RvLnNldCgnY29tcGxldGUnLCB0cnVlKSk7XG5cdH0sXG5cdG9uRGVzdHJveSh0b2RvcywgdG9kbykge1xuXHRcdHJldHVybiB0b2Rvcy5kZWxldGUodG9kby5pZCk7XG5cdH0sXG5cdG9uRGVzdHJveUNvbXBsZXRlZCh0b2Rvcykge1xuXHRcdHJldHVybiB0b2Rvcy5maWx0ZXJOb3QodG9kbyA9PiB0b2RvLmdldCgnY29tcGxldGUnKSk7XG5cdH0sXG5cdHNldEZpbHRlcih0b2RvcywgZmlsdGVyKSB7XG5cdFx0c3dpdGNoKGZpbHRlcikge1xuXHRcdFx0Y2FzZSBDb25zdGFudHMuRklMVEVSX0FDVElWRTogcmV0dXJuIHRvZG9zLmZpbHRlck5vdChpc0NvbXBsZXRlKTtcblx0XHRcdGNhc2UgQ29uc3RhbnRzLkZJTFRFUl9DT01QTEVURTogcmV0dXJuIHRvZG9zLmZpbHRlcihpc0NvbXBsZXRlKTtcblx0XHRcdGRlZmF1bHQ6IHJldHVybiB0b2Rvcztcblx0XHR9XG5cdH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBUb2RvU3RvcmU7XG4iLCJleHBvcnQgeyBkZWZhdWx0IGFzIHV1aWQgfSBmcm9tICcuL3V1aWQnOyIsImZ1bmN0aW9uIHM0KCkge1xuICByZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXVpZCgpIHtcbiAgICBsZXQgcDQgPSAnNCcgKyBzNCgpLnNsaWNlKC0zKTtcbiAgICBsZXQgcDUgPSAoKHBhcnNlSW50KHM0KCkuc2xpY2UoMCwgMSksIDE2KSAmIDMpIHwgOCkudG9TdHJpbmcoMTYpICsgczQoKS5zbGljZSgtMyk7XG4gICAgcmV0dXJuIGAke3M0KCl9JHtzNCgpfS0ke3M0KCl9LSR7cDR9LSR7cDV9LSR7czQoKX0ke3M0KCl9JHtzNCgpfWA7XG59Il19
