(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"],_actions=require("./actions"),_actions2=_interopRequireDefault(_actions),_stores=require("./stores"),_stores2=_interopRequireDefault(_stores),_constants=require("./constants"),_constants2=_interopRequireDefault(_constants),_kefir=require("kefir"),_kefir2=_interopRequireDefault(_kefir),_immutable=require("immutable"),_immutable2=_interopRequireDefault(_immutable),isWorking=!1;_stores2["default"].log("todoStore"),_stores2["default"].onValue(function(todos){if(10===todos.size&&!isWorking){isWorking=!0;var temp=todos.takeLast(4).toList().toJS();temp.forEach(function(todo){_actions2["default"].toggleComplete(todo)}),_actions2["default"].setFilter(_constants2["default"].FILTER_COMPLETE),_actions2["default"].setFilter(_constants2["default"].FILTER_ALL)}});for(var i=0;10>i;i++)_actions2["default"].create("hello"+(i+1));window.Actions=_actions2["default"],window.TodoStore=_stores2["default"],window.Kefir=_kefir2["default"],window.Immutable=_immutable2["default"];


},{"./actions":39,"./constants":40,"./stores":55,"babel-runtime/helpers/interop-require-default":7,"immutable":36,"kefir":37}],2:[function(require,module,exports){
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.Immutable=factory()}(this,function(){"use strict";function createClass(ctor,superClass){superClass&&(ctor.prototype=Object.create(superClass.prototype)),ctor.prototype.constructor=ctor}function MakeRef(ref){return ref.value=!1,ref}function SetRef(ref){ref&&(ref.value=!0)}function OwnerID(){}function arrCopy(arr,offset){offset=offset||0;for(var len=Math.max(0,arr.length-offset),newArr=new Array(len),ii=0;len>ii;ii++)newArr[ii]=arr[ii+offset];return newArr}function ensureSize(iter){return void 0===iter.size&&(iter.size=iter.__iterate(returnTrue)),iter.size}function wrapIndex(iter,index){return index>=0?+index:ensureSize(iter)+ +index}function returnTrue(){return!0}function wholeSlice(begin,end,size){return(0===begin||void 0!==size&&-size>=begin)&&(void 0===end||void 0!==size&&end>=size)}function resolveBegin(begin,size){return resolveIndex(begin,size,0)}function resolveEnd(end,size){return resolveIndex(end,size,size)}function resolveIndex(index,size,defaultIndex){return void 0===index?defaultIndex:0>index?Math.max(0,size+index):void 0===size?index:Math.min(size,index)}function Iterable(value){return isIterable(value)?value:Seq(value)}function KeyedIterable(value){return isKeyed(value)?value:KeyedSeq(value)}function IndexedIterable(value){return isIndexed(value)?value:IndexedSeq(value)}function SetIterable(value){return isIterable(value)&&!isAssociative(value)?value:SetSeq(value)}function isIterable(maybeIterable){return!(!maybeIterable||!maybeIterable[IS_ITERABLE_SENTINEL])}function isKeyed(maybeKeyed){return!(!maybeKeyed||!maybeKeyed[IS_KEYED_SENTINEL])}function isIndexed(maybeIndexed){return!(!maybeIndexed||!maybeIndexed[IS_INDEXED_SENTINEL])}function isAssociative(maybeAssociative){return isKeyed(maybeAssociative)||isIndexed(maybeAssociative)}function isOrdered(maybeOrdered){return!(!maybeOrdered||!maybeOrdered[IS_ORDERED_SENTINEL])}function src_Iterator__Iterator(next){this.next=next}function iteratorValue(type,k,v,iteratorResult){var value=0===type?k:1===type?v:[k,v];return iteratorResult?iteratorResult.value=value:iteratorResult={value:value,done:!1},iteratorResult}function iteratorDone(){return{value:void 0,done:!0}}function hasIterator(maybeIterable){return!!getIteratorFn(maybeIterable)}function isIterator(maybeIterator){return maybeIterator&&"function"==typeof maybeIterator.next}function getIterator(iterable){var iteratorFn=getIteratorFn(iterable);return iteratorFn&&iteratorFn.call(iterable)}function getIteratorFn(iterable){var iteratorFn=iterable&&(REAL_ITERATOR_SYMBOL&&iterable[REAL_ITERATOR_SYMBOL]||iterable[FAUX_ITERATOR_SYMBOL]);return"function"==typeof iteratorFn?iteratorFn:void 0}function isArrayLike(value){return value&&"number"==typeof value.length}function Seq(value){return null===value||void 0===value?emptySequence():isIterable(value)?value.toSeq():seqFromValue(value)}function KeyedSeq(value){return null===value||void 0===value?emptySequence().toKeyedSeq():isIterable(value)?isKeyed(value)?value.toSeq():value.fromEntrySeq():keyedSeqFromValue(value)}function IndexedSeq(value){return null===value||void 0===value?emptySequence():isIterable(value)?isKeyed(value)?value.entrySeq():value.toIndexedSeq():indexedSeqFromValue(value)}function SetSeq(value){return(null===value||void 0===value?emptySequence():isIterable(value)?isKeyed(value)?value.entrySeq():value:indexedSeqFromValue(value)).toSetSeq()}function ArraySeq(array){this._array=array,this.size=array.length}function ObjectSeq(object){var keys=Object.keys(object);this._object=object,this._keys=keys,this.size=keys.length}function IterableSeq(iterable){this._iterable=iterable,this.size=iterable.length||iterable.size}function IteratorSeq(iterator){this._iterator=iterator,this._iteratorCache=[]}function isSeq(maybeSeq){return!(!maybeSeq||!maybeSeq[IS_SEQ_SENTINEL])}function emptySequence(){return EMPTY_SEQ||(EMPTY_SEQ=new ArraySeq([]))}function keyedSeqFromValue(value){var seq=Array.isArray(value)?new ArraySeq(value).fromEntrySeq():isIterator(value)?new IteratorSeq(value).fromEntrySeq():hasIterator(value)?new IterableSeq(value).fromEntrySeq():"object"==typeof value?new ObjectSeq(value):void 0;if(!seq)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+value);return seq}function indexedSeqFromValue(value){var seq=maybeIndexedSeqFromValue(value);if(!seq)throw new TypeError("Expected Array or iterable object of values: "+value);return seq}function seqFromValue(value){var seq=maybeIndexedSeqFromValue(value)||"object"==typeof value&&new ObjectSeq(value);if(!seq)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+value);return seq}function maybeIndexedSeqFromValue(value){return isArrayLike(value)?new ArraySeq(value):isIterator(value)?new IteratorSeq(value):hasIterator(value)?new IterableSeq(value):void 0}function seqIterate(seq,fn,reverse,useKeys){var cache=seq._cache;if(cache){for(var maxIndex=cache.length-1,ii=0;maxIndex>=ii;ii++){var entry=cache[reverse?maxIndex-ii:ii];if(fn(entry[1],useKeys?entry[0]:ii,seq)===!1)return ii+1}return ii}return seq.__iterateUncached(fn,reverse)}function seqIterator(seq,type,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1,ii=0;return new src_Iterator__Iterator(function(){var entry=cache[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,useKeys?entry[0]:ii-1,entry[1])})}return seq.__iteratorUncached(type,reverse)}function Collection(){throw TypeError("Abstract")}function KeyedCollection(){}function IndexedCollection(){}function SetCollection(){}function is(valueA,valueB){if(valueA===valueB||valueA!==valueA&&valueB!==valueB)return!0;if(!valueA||!valueB)return!1;if("function"==typeof valueA.valueOf&&"function"==typeof valueB.valueOf){if(valueA=valueA.valueOf(),valueB=valueB.valueOf(),valueA===valueB||valueA!==valueA&&valueB!==valueB)return!0;if(!valueA||!valueB)return!1}return"function"==typeof valueA.equals&&"function"==typeof valueB.equals&&valueA.equals(valueB)?!0:!1}function fromJS(json,converter){return converter?fromJSWith(converter,json,"",{"":json}):fromJSDefault(json)}function fromJSWith(converter,json,key,parentJSON){return Array.isArray(json)?converter.call(parentJSON,key,IndexedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)})):isPlainObj(json)?converter.call(parentJSON,key,KeyedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)})):json}function fromJSDefault(json){return Array.isArray(json)?IndexedSeq(json).map(fromJSDefault).toList():isPlainObj(json)?KeyedSeq(json).map(fromJSDefault).toMap():json}function isPlainObj(value){return value&&(value.constructor===Object||void 0===value.constructor)}function smi(i32){return i32>>>1&1073741824|3221225471&i32}function hash(o){if(o===!1||null===o||void 0===o)return 0;if("function"==typeof o.valueOf&&(o=o.valueOf(),o===!1||null===o||void 0===o))return 0;if(o===!0)return 1;var type=typeof o;if("number"===type){var h=0|o;for(h!==o&&(h^=4294967295*o);o>4294967295;)o/=4294967295,h^=o;return smi(h)}return"string"===type?o.length>STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(o):hashString(o):"function"==typeof o.hashCode?o.hashCode():hashJSObj(o)}function cachedHashString(string){var hash=stringHashCache[string];return void 0===hash&&(hash=hashString(string),STRING_HASH_CACHE_SIZE===STRING_HASH_CACHE_MAX_SIZE&&(STRING_HASH_CACHE_SIZE=0,stringHashCache={}),STRING_HASH_CACHE_SIZE++,stringHashCache[string]=hash),hash}function hashString(string){for(var hash=0,ii=0;ii<string.length;ii++)hash=31*hash+string.charCodeAt(ii)|0;return smi(hash)}function hashJSObj(obj){var hash;if(usingWeakMap&&(hash=weakMap.get(obj),void 0!==hash))return hash;if(hash=obj[UID_HASH_KEY],void 0!==hash)return hash;if(!canDefineProperty){if(hash=obj.propertyIsEnumerable&&obj.propertyIsEnumerable[UID_HASH_KEY],void 0!==hash)return hash;if(hash=getIENodeHash(obj),void 0!==hash)return hash}if(hash=++objHashUID,1073741824&objHashUID&&(objHashUID=0),usingWeakMap)weakMap.set(obj,hash);else{if(void 0!==isExtensible&&isExtensible(obj)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(canDefineProperty)Object.defineProperty(obj,UID_HASH_KEY,{enumerable:!1,configurable:!1,writable:!1,value:hash});else if(void 0!==obj.propertyIsEnumerable&&obj.propertyIsEnumerable===obj.constructor.prototype.propertyIsEnumerable)obj.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},obj.propertyIsEnumerable[UID_HASH_KEY]=hash;else{if(void 0===obj.nodeType)throw new Error("Unable to set a non-enumerable property on object.");obj[UID_HASH_KEY]=hash}}return hash}function getIENodeHash(node){if(node&&node.nodeType>0)switch(node.nodeType){case 1:return node.uniqueID;case 9:return node.documentElement&&node.documentElement.uniqueID}}function invariant(condition,error){if(!condition)throw new Error(error)}function assertNotInfinite(size){invariant(size!==1/0,"Cannot perform this action with an infinite size.")}function ToKeyedSequence(indexed,useKeys){this._iter=indexed,this._useKeys=useKeys,this.size=indexed.size}function ToIndexedSequence(iter){this._iter=iter,this.size=iter.size}function ToSetSequence(iter){this._iter=iter,this.size=iter.size}function FromEntriesSequence(entries){this._iter=entries,this.size=entries.size}function flipFactory(iterable){var flipSequence=makeSequence(iterable);return flipSequence._iter=iterable,flipSequence.size=iterable.size,flipSequence.flip=function(){return iterable},flipSequence.reverse=function(){var reversedSequence=iterable.reverse.apply(this);return reversedSequence.flip=function(){return iterable.reverse()},reversedSequence},flipSequence.has=function(key){return iterable.includes(key)},flipSequence.includes=function(key){return iterable.has(key)},flipSequence.cacheResult=cacheResultThrough,flipSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(k,v,this$0)!==!1},reverse)},flipSequence.__iteratorUncached=function(type,reverse){if(type===ITERATE_ENTRIES){var iterator=iterable.__iterator(type,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();if(!step.done){var k=step.value[0];step.value[0]=step.value[1],step.value[1]=k}return step})}return iterable.__iterator(type===ITERATE_VALUES?ITERATE_KEYS:ITERATE_VALUES,reverse)},flipSequence}function mapFactory(iterable,mapper,context){var mappedSequence=makeSequence(iterable);return mappedSequence.size=iterable.size,mappedSequence.has=function(key){return iterable.has(key)},mappedSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v===NOT_SET?notSetValue:mapper.call(context,v,key,iterable)},mappedSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k,c){return fn(mapper.call(context,v,k,c),k,this$0)!==!1},reverse)},mappedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();if(step.done)return step;var entry=step.value,key=entry[0];return iteratorValue(type,key,mapper.call(context,entry[1],key,iterable),step)})},mappedSequence}function reverseFactory(iterable,useKeys){var reversedSequence=makeSequence(iterable);return reversedSequence._iter=iterable,reversedSequence.size=iterable.size,reversedSequence.reverse=function(){return iterable},iterable.flip&&(reversedSequence.flip=function(){var flipSequence=flipFactory(iterable);return flipSequence.reverse=function(){return iterable.flip()},flipSequence}),reversedSequence.get=function(key,notSetValue){return iterable.get(useKeys?key:-1-key,notSetValue)},reversedSequence.has=function(key){return iterable.has(useKeys?key:-1-key)},reversedSequence.includes=function(value){return iterable.includes(value)},reversedSequence.cacheResult=cacheResultThrough,reversedSequence.__iterate=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(v,k,this$0)},!reverse)},reversedSequence.__iterator=function(type,reverse){return iterable.__iterator(type,!reverse)},reversedSequence}function filterFactory(iterable,predicate,context,useKeys){var filterSequence=makeSequence(iterable);return useKeys&&(filterSequence.has=function(key){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&!!predicate.call(context,v,key,iterable)},filterSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&predicate.call(context,v,key,iterable)?v:notSetValue}),filterSequence.__iterateUncached=function(fn,reverse){var this$0=this,iterations=0;return iterable.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?(iterations++,fn(v,useKeys?k:iterations-1,this$0)):void 0},reverse),iterations},filterSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),iterations=0;return new src_Iterator__Iterator(function(){for(;;){var step=iterator.next();if(step.done)return step;var entry=step.value,key=entry[0],value=entry[1];if(predicate.call(context,value,key,iterable))return iteratorValue(type,useKeys?key:iterations++,value,step)}})},filterSequence}function countByFactory(iterable,grouper,context){var groups=src_Map__Map().asMutable();return iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),0,function(a){return a+1})}),groups.asImmutable()}function groupByFactory(iterable,grouper,context){var isKeyedIter=isKeyed(iterable),groups=(isOrdered(iterable)?OrderedMap():src_Map__Map()).asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),function(a){return a=a||[],a.push(isKeyedIter?[k,v]:v),a})});var coerce=iterableClass(iterable);return groups.map(function(arr){return reify(iterable,coerce(arr))})}function sliceFactory(iterable,begin,end,useKeys){var originalSize=iterable.size;if(wholeSlice(begin,end,originalSize))return iterable;var resolvedBegin=resolveBegin(begin,originalSize),resolvedEnd=resolveEnd(end,originalSize);if(resolvedBegin!==resolvedBegin||resolvedEnd!==resolvedEnd)return sliceFactory(iterable.toSeq().cacheResult(),begin,end,useKeys);var sliceSize,resolvedSize=resolvedEnd-resolvedBegin;resolvedSize===resolvedSize&&(sliceSize=0>resolvedSize?0:resolvedSize);var sliceSeq=makeSequence(iterable);return sliceSeq.size=sliceSize,!useKeys&&isSeq(iterable)&&sliceSize>=0&&(sliceSeq.get=function(index,notSetValue){return index=wrapIndex(this,index),index>=0&&sliceSize>index?iterable.get(index+resolvedBegin,notSetValue):notSetValue}),sliceSeq.__iterateUncached=function(fn,reverse){var this$0=this;if(0===sliceSize)return 0;if(reverse)return this.cacheResult().__iterate(fn,reverse);var skipped=0,isSkipping=!0,iterations=0;return iterable.__iterate(function(v,k){return isSkipping&&(isSkipping=skipped++<resolvedBegin)?void 0:(iterations++,fn(v,useKeys?k:iterations-1,this$0)!==!1&&iterations!==sliceSize)}),iterations},sliceSeq.__iteratorUncached=function(type,reverse){if(0!==sliceSize&&reverse)return this.cacheResult().__iterator(type,reverse);var iterator=0!==sliceSize&&iterable.__iterator(type,reverse),skipped=0,iterations=0;return new src_Iterator__Iterator(function(){for(;skipped++<resolvedBegin;)iterator.next();if(++iterations>sliceSize)return iteratorDone();var step=iterator.next();return useKeys||type===ITERATE_VALUES?step:type===ITERATE_KEYS?iteratorValue(type,iterations-1,void 0,step):iteratorValue(type,iterations-1,step.value[1],step)})},sliceSeq}function takeWhileFactory(iterable,predicate,context){var takeSequence=makeSequence(iterable);return takeSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterate(fn,reverse);var iterations=0;return iterable.__iterate(function(v,k,c){return predicate.call(context,v,k,c)&&++iterations&&fn(v,k,this$0)}),iterations},takeSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),iterating=!0;return new src_Iterator__Iterator(function(){if(!iterating)return iteratorDone();var step=iterator.next();if(step.done)return step;var entry=step.value,k=entry[0],v=entry[1];return predicate.call(context,v,k,this$0)?type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step):(iterating=!1,iteratorDone())})},takeSequence}function skipWhileFactory(iterable,predicate,context,useKeys){var skipSequence=makeSequence(iterable);return skipSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterate(fn,reverse);var isSkipping=!0,iterations=0;return iterable.__iterate(function(v,k,c){return isSkipping&&(isSkipping=predicate.call(context,v,k,c))?void 0:(iterations++,fn(v,useKeys?k:iterations-1,this$0))}),iterations},skipSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),skipping=!0,iterations=0;return new src_Iterator__Iterator(function(){var step,k,v;do{if(step=iterator.next(),step.done)return useKeys||type===ITERATE_VALUES?step:type===ITERATE_KEYS?iteratorValue(type,iterations++,void 0,step):iteratorValue(type,iterations++,step.value[1],step);var entry=step.value;k=entry[0],v=entry[1],skipping&&(skipping=predicate.call(context,v,k,this$0))}while(skipping);return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step)})},skipSequence}function concatFactory(iterable,values){var isKeyedIterable=isKeyed(iterable),iters=[iterable].concat(values).map(function(v){return isIterable(v)?isKeyedIterable&&(v=KeyedIterable(v)):v=isKeyedIterable?keyedSeqFromValue(v):indexedSeqFromValue(Array.isArray(v)?v:[v]),v}).filter(function(v){return 0!==v.size});if(0===iters.length)return iterable;if(1===iters.length){var singleton=iters[0];if(singleton===iterable||isKeyedIterable&&isKeyed(singleton)||isIndexed(iterable)&&isIndexed(singleton))return singleton}var concatSeq=new ArraySeq(iters);return isKeyedIterable?concatSeq=concatSeq.toKeyedSeq():isIndexed(iterable)||(concatSeq=concatSeq.toSetSeq()),concatSeq=concatSeq.flatten(!0),concatSeq.size=iters.reduce(function(sum,seq){if(void 0!==sum){var size=seq.size;if(void 0!==size)return sum+size}},0),concatSeq}function flattenFactory(iterable,depth,useKeys){var flatSequence=makeSequence(iterable);return flatSequence.__iterateUncached=function(fn,reverse){function flatDeep(iter,currentDepth){var this$0=this;iter.__iterate(function(v,k){return(!depth||depth>currentDepth)&&isIterable(v)?flatDeep(v,currentDepth+1):fn(v,useKeys?k:iterations++,this$0)===!1&&(stopped=!0),!stopped},reverse)}var iterations=0,stopped=!1;return flatDeep(iterable,0),iterations},flatSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(type,reverse),stack=[],iterations=0;return new src_Iterator__Iterator(function(){for(;iterator;){var step=iterator.next();if(step.done===!1){var v=step.value;if(type===ITERATE_ENTRIES&&(v=v[1]),depth&&!(stack.length<depth)||!isIterable(v))return useKeys?step:iteratorValue(type,iterations++,v,step);stack.push(iterator),iterator=v.__iterator(type,reverse)}else iterator=stack.pop()}return iteratorDone()})},flatSequence}function flatMapFactory(iterable,mapper,context){var coerce=iterableClass(iterable);return iterable.toSeq().map(function(v,k){return coerce(mapper.call(context,v,k,iterable))}).flatten(!0)}function interposeFactory(iterable,separator){var interposedSequence=makeSequence(iterable);return interposedSequence.size=iterable.size&&2*iterable.size-1,interposedSequence.__iterateUncached=function(fn,reverse){var this$0=this,iterations=0;return iterable.__iterate(function(v,k){return(!iterations||fn(separator,iterations++,this$0)!==!1)&&fn(v,iterations++,this$0)!==!1},reverse),iterations},interposedSequence.__iteratorUncached=function(type,reverse){var step,iterator=iterable.__iterator(ITERATE_VALUES,reverse),iterations=0;return new src_Iterator__Iterator(function(){return(!step||iterations%2)&&(step=iterator.next(),step.done)?step:iterations%2?iteratorValue(type,iterations++,separator):iteratorValue(type,iterations++,step.value,step)})},interposedSequence}function sortFactory(iterable,comparator,mapper){comparator||(comparator=defaultComparator);var isKeyedIterable=isKeyed(iterable),index=0,entries=iterable.toSeq().map(function(v,k){return[k,v,index++,mapper?mapper(v,k,iterable):v]}).toArray();return entries.sort(function(a,b){return comparator(a[3],b[3])||a[2]-b[2]}).forEach(isKeyedIterable?function(v,i){entries[i].length=2}:function(v,i){entries[i]=v[1]}),isKeyedIterable?KeyedSeq(entries):isIndexed(iterable)?IndexedSeq(entries):SetSeq(entries)}function maxFactory(iterable,comparator,mapper){if(comparator||(comparator=defaultComparator),mapper){var entry=iterable.toSeq().map(function(v,k){return[v,mapper(v,k,iterable)]}).reduce(function(a,b){return maxCompare(comparator,a[1],b[1])?b:a});return entry&&entry[0]}return iterable.reduce(function(a,b){return maxCompare(comparator,a,b)?b:a})}function maxCompare(comparator,a,b){var comp=comparator(b,a);return 0===comp&&b!==a&&(void 0===b||null===b||b!==b)||comp>0}function zipWithFactory(keyIter,zipper,iters){var zipSequence=makeSequence(keyIter);return zipSequence.size=new ArraySeq(iters).map(function(i){return i.size}).min(),zipSequence.__iterate=function(fn,reverse){for(var step,iterator=this.__iterator(ITERATE_VALUES,reverse),iterations=0;!(step=iterator.next()).done&&fn(step.value,iterations++,this)!==!1;);return iterations},zipSequence.__iteratorUncached=function(type,reverse){var iterators=iters.map(function(i){return i=Iterable(i),getIterator(reverse?i.reverse():i)}),iterations=0,isDone=!1;return new src_Iterator__Iterator(function(){var steps;return isDone||(steps=iterators.map(function(i){return i.next()}),isDone=steps.some(function(s){return s.done})),isDone?iteratorDone():iteratorValue(type,iterations++,zipper.apply(null,steps.map(function(s){return s.value})))})},zipSequence}function reify(iter,seq){return isSeq(iter)?seq:iter.constructor(seq)}function validateEntry(entry){if(entry!==Object(entry))throw new TypeError("Expected [K, V] tuple: "+entry)}function resolveSize(iter){return assertNotInfinite(iter.size),ensureSize(iter)}function iterableClass(iterable){return isKeyed(iterable)?KeyedIterable:isIndexed(iterable)?IndexedIterable:SetIterable}function makeSequence(iterable){return Object.create((isKeyed(iterable)?KeyedSeq:isIndexed(iterable)?IndexedSeq:SetSeq).prototype)}function cacheResultThrough(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Seq.prototype.cacheResult.call(this)}function defaultComparator(a,b){return a>b?1:b>a?-1:0}function forceIterator(keyPath){var iter=getIterator(keyPath);if(!iter){if(!isArrayLike(keyPath))throw new TypeError("Expected iterable or array-like: "+keyPath);iter=getIterator(Iterable(keyPath))}return iter}function src_Map__Map(value){return null===value||void 0===value?emptyMap():isMap(value)?value:emptyMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v,k){return map.set(k,v)})})}function isMap(maybeMap){return!(!maybeMap||!maybeMap[IS_MAP_SENTINEL])}function ArrayMapNode(ownerID,entries){this.ownerID=ownerID,this.entries=entries}function BitmapIndexedNode(ownerID,bitmap,nodes){this.ownerID=ownerID,this.bitmap=bitmap,this.nodes=nodes}function HashArrayMapNode(ownerID,count,nodes){this.ownerID=ownerID,this.count=count,this.nodes=nodes}function HashCollisionNode(ownerID,keyHash,entries){this.ownerID=ownerID,this.keyHash=keyHash,this.entries=entries}function ValueNode(ownerID,keyHash,entry){this.ownerID=ownerID,this.keyHash=keyHash,this.entry=entry}function MapIterator(map,type,reverse){this._type=type,this._reverse=reverse,this._stack=map._root&&mapIteratorFrame(map._root)}function mapIteratorValue(type,entry){return iteratorValue(type,entry[0],entry[1])}function mapIteratorFrame(node,prev){return{node:node,index:0,__prev:prev}}function makeMap(size,root,ownerID,hash){var map=Object.create(MapPrototype);return map.size=size,map._root=root,map.__ownerID=ownerID,map.__hash=hash,map.__altered=!1,map}function emptyMap(){return EMPTY_MAP||(EMPTY_MAP=makeMap(0))}function updateMap(map,k,v){var newRoot,newSize;if(map._root){var didChangeSize=MakeRef(CHANGE_LENGTH),didAlter=MakeRef(DID_ALTER);if(newRoot=updateNode(map._root,map.__ownerID,0,void 0,k,v,didChangeSize,didAlter),!didAlter.value)return map;newSize=map.size+(didChangeSize.value?v===NOT_SET?-1:1:0)}else{if(v===NOT_SET)return map;newSize=1,newRoot=new ArrayMapNode(map.__ownerID,[[k,v]])}return map.__ownerID?(map.size=newSize,map._root=newRoot,map.__hash=void 0,map.__altered=!0,map):newRoot?makeMap(newSize,newRoot):emptyMap()}function updateNode(node,ownerID,shift,keyHash,key,value,didChangeSize,didAlter){return node?node.update(ownerID,shift,keyHash,key,value,didChangeSize,didAlter):value===NOT_SET?node:(SetRef(didAlter),SetRef(didChangeSize),new ValueNode(ownerID,keyHash,[key,value]))}function isLeafNode(node){return node.constructor===ValueNode||node.constructor===HashCollisionNode}function mergeIntoNode(node,ownerID,shift,keyHash,entry){if(node.keyHash===keyHash)return new HashCollisionNode(ownerID,keyHash,[node.entry,entry]);var newNode,idx1=(0===shift?node.keyHash:node.keyHash>>>shift)&MASK,idx2=(0===shift?keyHash:keyHash>>>shift)&MASK,nodes=idx1===idx2?[mergeIntoNode(node,ownerID,shift+SHIFT,keyHash,entry)]:(newNode=new ValueNode(ownerID,keyHash,entry),idx2>idx1?[node,newNode]:[newNode,node]);return new BitmapIndexedNode(ownerID,1<<idx1|1<<idx2,nodes)}function createNodes(ownerID,entries,key,value){ownerID||(ownerID=new OwnerID);for(var node=new ValueNode(ownerID,hash(key),[key,value]),ii=0;ii<entries.length;ii++){var entry=entries[ii];node=node.update(ownerID,0,void 0,entry[0],entry[1])}return node}function packNodes(ownerID,nodes,count,excluding){for(var bitmap=0,packedII=0,packedNodes=new Array(count),ii=0,bit=1,len=nodes.length;len>ii;ii++,bit<<=1){var node=nodes[ii];void 0!==node&&ii!==excluding&&(bitmap|=bit,packedNodes[packedII++]=node)}return new BitmapIndexedNode(ownerID,bitmap,packedNodes)}function expandNodes(ownerID,nodes,bitmap,including,node){for(var count=0,expandedNodes=new Array(SIZE),ii=0;0!==bitmap;ii++,bitmap>>>=1)expandedNodes[ii]=1&bitmap?nodes[count++]:void 0;return expandedNodes[including]=node,new HashArrayMapNode(ownerID,count+1,expandedNodes)}function mergeIntoMapWith(map,merger,iterables){for(var iters=[],ii=0;ii<iterables.length;ii++){var value=iterables[ii],iter=KeyedIterable(value);isIterable(value)||(iter=iter.map(function(v){return fromJS(v)})),iters.push(iter)}return mergeIntoCollectionWith(map,merger,iters)}function deepMerger(merger){return function(existing,value,key){return existing&&existing.mergeDeepWith&&isIterable(value)?existing.mergeDeepWith(merger,value):merger?merger(existing,value,key):value}}function mergeIntoCollectionWith(collection,merger,iters){return iters=iters.filter(function(x){return 0!==x.size}),0===iters.length?collection:0!==collection.size||collection.__ownerID||1!==iters.length?collection.withMutations(function(collection){for(var mergeIntoMap=merger?function(value,key){collection.update(key,NOT_SET,function(existing){return existing===NOT_SET?value:merger(existing,value,key)})}:function(value,key){collection.set(key,value)},ii=0;ii<iters.length;ii++)iters[ii].forEach(mergeIntoMap)}):collection.constructor(iters[0])}function updateInDeepMap(existing,keyPathIter,notSetValue,updater){var isNotSet=existing===NOT_SET,step=keyPathIter.next();if(step.done){var existingValue=isNotSet?notSetValue:existing,newValue=updater(existingValue);return newValue===existingValue?existing:newValue}invariant(isNotSet||existing&&existing.set,"invalid keyPath");var key=step.value,nextExisting=isNotSet?NOT_SET:existing.get(key,NOT_SET),nextUpdated=updateInDeepMap(nextExisting,keyPathIter,notSetValue,updater);return nextUpdated===nextExisting?existing:nextUpdated===NOT_SET?existing.remove(key):(isNotSet?emptyMap():existing).set(key,nextUpdated)}function popCount(x){return x-=x>>1&1431655765,x=(858993459&x)+(x>>2&858993459),x=x+(x>>4)&252645135,x+=x>>8,x+=x>>16,127&x}function setIn(array,idx,val,canEdit){var newArray=canEdit?array:arrCopy(array);return newArray[idx]=val,newArray}function spliceIn(array,idx,val,canEdit){var newLen=array.length+1;if(canEdit&&idx+1===newLen)return array[idx]=val,array;for(var newArray=new Array(newLen),after=0,ii=0;newLen>ii;ii++)ii===idx?(newArray[ii]=val,after=-1):newArray[ii]=array[ii+after];return newArray}function spliceOut(array,idx,canEdit){var newLen=array.length-1;if(canEdit&&idx===newLen)return array.pop(),array;for(var newArray=new Array(newLen),after=0,ii=0;newLen>ii;ii++)ii===idx&&(after=1),newArray[ii]=array[ii+after];return newArray}function List(value){var empty=emptyList();if(null===value||void 0===value)return empty;if(isList(value))return value;var iter=IndexedIterable(value),size=iter.size;return 0===size?empty:(assertNotInfinite(size),size>0&&SIZE>size?makeList(0,size,SHIFT,null,new VNode(iter.toArray())):empty.withMutations(function(list){list.setSize(size),iter.forEach(function(v,i){return list.set(i,v)})}))}function isList(maybeList){return!(!maybeList||!maybeList[IS_LIST_SENTINEL])}function VNode(array,ownerID){this.array=array,this.ownerID=ownerID}function iterateList(list,reverse){function iterateNodeOrLeaf(node,level,offset){return 0===level?iterateLeaf(node,offset):iterateNode(node,level,offset)}function iterateLeaf(node,offset){var array=offset===tailPos?tail&&tail.array:node&&node.array,from=offset>left?0:left-offset,to=right-offset;return to>SIZE&&(to=SIZE),function(){if(from===to)return DONE;var idx=reverse?--to:from++;return array&&array[idx]}}function iterateNode(node,level,offset){var values,array=node&&node.array,from=offset>left?0:left-offset>>level,to=(right-offset>>level)+1;return to>SIZE&&(to=SIZE),function(){for(;;){if(values){var value=values();if(value!==DONE)return value;values=null}if(from===to)return DONE;var idx=reverse?--to:from++;values=iterateNodeOrLeaf(array&&array[idx],level-SHIFT,offset+(idx<<level))}}}var left=list._origin,right=list._capacity,tailPos=getTailOffset(right),tail=list._tail;return iterateNodeOrLeaf(list._root,list._level,0)}function makeList(origin,capacity,level,root,tail,ownerID,hash){var list=Object.create(ListPrototype);return list.size=capacity-origin,list._origin=origin,list._capacity=capacity,list._level=level,list._root=root,list._tail=tail,list.__ownerID=ownerID,list.__hash=hash,list.__altered=!1,list}function emptyList(){return EMPTY_LIST||(EMPTY_LIST=makeList(0,0,SHIFT))}function updateList(list,index,value){if(index=wrapIndex(list,index),index>=list.size||0>index)return list.withMutations(function(list){0>index?setListBounds(list,index).set(0,value):setListBounds(list,0,index+1).set(index,value)});index+=list._origin;var newTail=list._tail,newRoot=list._root,didAlter=MakeRef(DID_ALTER);return index>=getTailOffset(list._capacity)?newTail=updateVNode(newTail,list.__ownerID,0,index,value,didAlter):newRoot=updateVNode(newRoot,list.__ownerID,list._level,index,value,didAlter),didAlter.value?list.__ownerID?(list._root=newRoot,list._tail=newTail,list.__hash=void 0,list.__altered=!0,list):makeList(list._origin,list._capacity,list._level,newRoot,newTail):list}function updateVNode(node,ownerID,level,index,value,didAlter){var idx=index>>>level&MASK,nodeHas=node&&idx<node.array.length;if(!nodeHas&&void 0===value)return node;var newNode;if(level>0){var lowerNode=node&&node.array[idx],newLowerNode=updateVNode(lowerNode,ownerID,level-SHIFT,index,value,didAlter);return newLowerNode===lowerNode?node:(newNode=editableVNode(node,ownerID),newNode.array[idx]=newLowerNode,
newNode)}return nodeHas&&node.array[idx]===value?node:(SetRef(didAlter),newNode=editableVNode(node,ownerID),void 0===value&&idx===newNode.array.length-1?newNode.array.pop():newNode.array[idx]=value,newNode)}function editableVNode(node,ownerID){return ownerID&&node&&ownerID===node.ownerID?node:new VNode(node?node.array.slice():[],ownerID)}function listNodeFor(list,rawIndex){if(rawIndex>=getTailOffset(list._capacity))return list._tail;if(rawIndex<1<<list._level+SHIFT){for(var node=list._root,level=list._level;node&&level>0;)node=node.array[rawIndex>>>level&MASK],level-=SHIFT;return node}}function setListBounds(list,begin,end){var owner=list.__ownerID||new OwnerID,oldOrigin=list._origin,oldCapacity=list._capacity,newOrigin=oldOrigin+begin,newCapacity=void 0===end?oldCapacity:0>end?oldCapacity+end:oldOrigin+end;if(newOrigin===oldOrigin&&newCapacity===oldCapacity)return list;if(newOrigin>=newCapacity)return list.clear();for(var newLevel=list._level,newRoot=list._root,offsetShift=0;0>newOrigin+offsetShift;)newRoot=new VNode(newRoot&&newRoot.array.length?[void 0,newRoot]:[],owner),newLevel+=SHIFT,offsetShift+=1<<newLevel;offsetShift&&(newOrigin+=offsetShift,oldOrigin+=offsetShift,newCapacity+=offsetShift,oldCapacity+=offsetShift);for(var oldTailOffset=getTailOffset(oldCapacity),newTailOffset=getTailOffset(newCapacity);newTailOffset>=1<<newLevel+SHIFT;)newRoot=new VNode(newRoot&&newRoot.array.length?[newRoot]:[],owner),newLevel+=SHIFT;var oldTail=list._tail,newTail=oldTailOffset>newTailOffset?listNodeFor(list,newCapacity-1):newTailOffset>oldTailOffset?new VNode([],owner):oldTail;if(oldTail&&newTailOffset>oldTailOffset&&oldCapacity>newOrigin&&oldTail.array.length){newRoot=editableVNode(newRoot,owner);for(var node=newRoot,level=newLevel;level>SHIFT;level-=SHIFT){var idx=oldTailOffset>>>level&MASK;node=node.array[idx]=editableVNode(node.array[idx],owner)}node.array[oldTailOffset>>>SHIFT&MASK]=oldTail}if(oldCapacity>newCapacity&&(newTail=newTail&&newTail.removeAfter(owner,0,newCapacity)),newOrigin>=newTailOffset)newOrigin-=newTailOffset,newCapacity-=newTailOffset,newLevel=SHIFT,newRoot=null,newTail=newTail&&newTail.removeBefore(owner,0,newOrigin);else if(newOrigin>oldOrigin||oldTailOffset>newTailOffset){for(offsetShift=0;newRoot;){var beginIndex=newOrigin>>>newLevel&MASK;if(beginIndex!==newTailOffset>>>newLevel&MASK)break;beginIndex&&(offsetShift+=(1<<newLevel)*beginIndex),newLevel-=SHIFT,newRoot=newRoot.array[beginIndex]}newRoot&&newOrigin>oldOrigin&&(newRoot=newRoot.removeBefore(owner,newLevel,newOrigin-offsetShift)),newRoot&&oldTailOffset>newTailOffset&&(newRoot=newRoot.removeAfter(owner,newLevel,newTailOffset-offsetShift)),offsetShift&&(newOrigin-=offsetShift,newCapacity-=offsetShift)}return list.__ownerID?(list.size=newCapacity-newOrigin,list._origin=newOrigin,list._capacity=newCapacity,list._level=newLevel,list._root=newRoot,list._tail=newTail,list.__hash=void 0,list.__altered=!0,list):makeList(newOrigin,newCapacity,newLevel,newRoot,newTail)}function mergeIntoListWith(list,merger,iterables){for(var iters=[],maxSize=0,ii=0;ii<iterables.length;ii++){var value=iterables[ii],iter=IndexedIterable(value);iter.size>maxSize&&(maxSize=iter.size),isIterable(value)||(iter=iter.map(function(v){return fromJS(v)})),iters.push(iter)}return maxSize>list.size&&(list=list.setSize(maxSize)),mergeIntoCollectionWith(list,merger,iters)}function getTailOffset(size){return SIZE>size?0:size-1>>>SHIFT<<SHIFT}function OrderedMap(value){return null===value||void 0===value?emptyOrderedMap():isOrderedMap(value)?value:emptyOrderedMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v,k){return map.set(k,v)})})}function isOrderedMap(maybeOrderedMap){return isMap(maybeOrderedMap)&&isOrdered(maybeOrderedMap)}function makeOrderedMap(map,list,ownerID,hash){var omap=Object.create(OrderedMap.prototype);return omap.size=map?map.size:0,omap._map=map,omap._list=list,omap.__ownerID=ownerID,omap.__hash=hash,omap}function emptyOrderedMap(){return EMPTY_ORDERED_MAP||(EMPTY_ORDERED_MAP=makeOrderedMap(emptyMap(),emptyList()))}function updateOrderedMap(omap,k,v){var newMap,newList,map=omap._map,list=omap._list,i=map.get(k),has=void 0!==i;if(v===NOT_SET){if(!has)return omap;list.size>=SIZE&&list.size>=2*map.size?(newList=list.filter(function(entry,idx){return void 0!==entry&&i!==idx}),newMap=newList.toKeyedSeq().map(function(entry){return entry[0]}).flip().toMap(),omap.__ownerID&&(newMap.__ownerID=newList.__ownerID=omap.__ownerID)):(newMap=map.remove(k),newList=i===list.size-1?list.pop():list.set(i,void 0))}else if(has){if(v===list.get(i)[1])return omap;newMap=map,newList=list.set(i,[k,v])}else newMap=map.set(k,list.size),newList=list.set(list.size,[k,v]);return omap.__ownerID?(omap.size=newMap.size,omap._map=newMap,omap._list=newList,omap.__hash=void 0,omap):makeOrderedMap(newMap,newList)}function Stack(value){return null===value||void 0===value?emptyStack():isStack(value)?value:emptyStack().unshiftAll(value)}function isStack(maybeStack){return!(!maybeStack||!maybeStack[IS_STACK_SENTINEL])}function makeStack(size,head,ownerID,hash){var map=Object.create(StackPrototype);return map.size=size,map._head=head,map.__ownerID=ownerID,map.__hash=hash,map.__altered=!1,map}function emptyStack(){return EMPTY_STACK||(EMPTY_STACK=makeStack(0))}function src_Set__Set(value){return null===value||void 0===value?emptySet():isSet(value)?value:emptySet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v){return set.add(v)})})}function isSet(maybeSet){return!(!maybeSet||!maybeSet[IS_SET_SENTINEL])}function updateSet(set,newMap){return set.__ownerID?(set.size=newMap.size,set._map=newMap,set):newMap===set._map?set:0===newMap.size?set.__empty():set.__make(newMap)}function makeSet(map,ownerID){var set=Object.create(SetPrototype);return set.size=map?map.size:0,set._map=map,set.__ownerID=ownerID,set}function emptySet(){return EMPTY_SET||(EMPTY_SET=makeSet(emptyMap()))}function OrderedSet(value){return null===value||void 0===value?emptyOrderedSet():isOrderedSet(value)?value:emptyOrderedSet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v){return set.add(v)})})}function isOrderedSet(maybeOrderedSet){return isSet(maybeOrderedSet)&&isOrdered(maybeOrderedSet)}function makeOrderedSet(map,ownerID){var set=Object.create(OrderedSetPrototype);return set.size=map?map.size:0,set._map=map,set.__ownerID=ownerID,set}function emptyOrderedSet(){return EMPTY_ORDERED_SET||(EMPTY_ORDERED_SET=makeOrderedSet(emptyOrderedMap()))}function Record(defaultValues,name){var hasInitialized,RecordType=function(values){if(values instanceof RecordType)return values;if(!(this instanceof RecordType))return new RecordType(values);if(!hasInitialized){hasInitialized=!0;var keys=Object.keys(defaultValues);setProps(RecordTypePrototype,keys),RecordTypePrototype.size=keys.length,RecordTypePrototype._name=name,RecordTypePrototype._keys=keys,RecordTypePrototype._defaultValues=defaultValues}this._map=src_Map__Map(values)},RecordTypePrototype=RecordType.prototype=Object.create(RecordPrototype);return RecordTypePrototype.constructor=RecordType,RecordType}function makeRecord(likeRecord,map,ownerID){var record=Object.create(Object.getPrototypeOf(likeRecord));return record._map=map,record.__ownerID=ownerID,record}function recordName(record){return record._name||record.constructor.name||"Record"}function setProps(prototype,names){try{names.forEach(setProp.bind(void 0,prototype))}catch(error){}}function setProp(prototype,name){Object.defineProperty(prototype,name,{get:function(){return this.get(name)},set:function(value){invariant(this.__ownerID,"Cannot set on an immutable record."),this.set(name,value)}})}function deepEqual(a,b){if(a===b)return!0;if(!isIterable(b)||void 0!==a.size&&void 0!==b.size&&a.size!==b.size||void 0!==a.__hash&&void 0!==b.__hash&&a.__hash!==b.__hash||isKeyed(a)!==isKeyed(b)||isIndexed(a)!==isIndexed(b)||isOrdered(a)!==isOrdered(b))return!1;if(0===a.size&&0===b.size)return!0;var notAssociative=!isAssociative(a);if(isOrdered(a)){var entries=a.entries();return b.every(function(v,k){var entry=entries.next().value;return entry&&is(entry[1],v)&&(notAssociative||is(entry[0],k))})&&entries.next().done}var flipped=!1;if(void 0===a.size)if(void 0===b.size)"function"==typeof a.cacheResult&&a.cacheResult();else{flipped=!0;var _=a;a=b,b=_}var allEqual=!0,bSize=b.__iterate(function(v,k){return(notAssociative?a.has(v):flipped?is(v,a.get(k,NOT_SET)):is(a.get(k,NOT_SET),v))?void 0:(allEqual=!1,!1)});return allEqual&&a.size===bSize}function Range(start,end,step){if(!(this instanceof Range))return new Range(start,end,step);if(invariant(0!==step,"Cannot step a Range by 0"),start=start||0,void 0===end&&(end=1/0),step=void 0===step?1:Math.abs(step),start>end&&(step=-step),this._start=start,this._end=end,this._step=step,this.size=Math.max(0,Math.ceil((end-start)/step-1)+1),0===this.size){if(EMPTY_RANGE)return EMPTY_RANGE;EMPTY_RANGE=this}}function Repeat(value,times){if(!(this instanceof Repeat))return new Repeat(value,times);if(this._value=value,this.size=void 0===times?1/0:Math.max(0,times),0===this.size){if(EMPTY_REPEAT)return EMPTY_REPEAT;EMPTY_REPEAT=this}}function mixin(ctor,methods){var keyCopier=function(key){ctor.prototype[key]=methods[key]};return Object.keys(methods).forEach(keyCopier),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(methods).forEach(keyCopier),ctor}function keyMapper(v,k){return k}function entryMapper(v,k){return[k,v]}function not(predicate){return function(){return!predicate.apply(this,arguments)}}function neg(predicate){return function(){return-predicate.apply(this,arguments)}}function quoteString(value){return"string"==typeof value?JSON.stringify(value):value}function defaultZipper(){return arrCopy(arguments)}function defaultNegComparator(a,b){return b>a?1:a>b?-1:0}function hashIterable(iterable){if(iterable.size===1/0)return 0;var ordered=isOrdered(iterable),keyed=isKeyed(iterable),h=ordered?1:0,size=iterable.__iterate(keyed?ordered?function(v,k){h=31*h+hashMerge(hash(v),hash(k))|0}:function(v,k){h=h+hashMerge(hash(v),hash(k))|0}:ordered?function(v){h=31*h+hash(v)|0}:function(v){h=h+hash(v)|0});return murmurHashOfSize(size,h)}function murmurHashOfSize(size,h){return h=src_Math__imul(h,3432918353),h=src_Math__imul(h<<15|h>>>-15,461845907),h=src_Math__imul(h<<13|h>>>-13,5),h=(h+3864292196|0)^size,h=src_Math__imul(h^h>>>16,2246822507),h=src_Math__imul(h^h>>>13,3266489909),h=smi(h^h>>>16)}function hashMerge(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}var SLICE$0=Array.prototype.slice,DELETE="delete",SHIFT=5,SIZE=1<<SHIFT,MASK=SIZE-1,NOT_SET={},CHANGE_LENGTH={value:!1},DID_ALTER={value:!1};createClass(KeyedIterable,Iterable),createClass(IndexedIterable,Iterable),createClass(SetIterable,Iterable),Iterable.isIterable=isIterable,Iterable.isKeyed=isKeyed,Iterable.isIndexed=isIndexed,Iterable.isAssociative=isAssociative,Iterable.isOrdered=isOrdered,Iterable.Keyed=KeyedIterable,Iterable.Indexed=IndexedIterable,Iterable.Set=SetIterable;var IS_ITERABLE_SENTINEL="@@__IMMUTABLE_ITERABLE__@@",IS_KEYED_SENTINEL="@@__IMMUTABLE_KEYED__@@",IS_INDEXED_SENTINEL="@@__IMMUTABLE_INDEXED__@@",IS_ORDERED_SENTINEL="@@__IMMUTABLE_ORDERED__@@",ITERATE_KEYS=0,ITERATE_VALUES=1,ITERATE_ENTRIES=2,REAL_ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator",ITERATOR_SYMBOL=REAL_ITERATOR_SYMBOL||FAUX_ITERATOR_SYMBOL;src_Iterator__Iterator.prototype.toString=function(){return"[Iterator]"},src_Iterator__Iterator.KEYS=ITERATE_KEYS,src_Iterator__Iterator.VALUES=ITERATE_VALUES,src_Iterator__Iterator.ENTRIES=ITERATE_ENTRIES,src_Iterator__Iterator.prototype.inspect=src_Iterator__Iterator.prototype.toSource=function(){return this.toString()},src_Iterator__Iterator.prototype[ITERATOR_SYMBOL]=function(){return this},createClass(Seq,Iterable),Seq.of=function(){return Seq(arguments)},Seq.prototype.toSeq=function(){return this},Seq.prototype.toString=function(){return this.__toString("Seq {","}")},Seq.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Seq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,!0)},Seq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,!0)},createClass(KeyedSeq,Seq),KeyedSeq.prototype.toKeyedSeq=function(){return this},createClass(IndexedSeq,Seq),IndexedSeq.of=function(){return IndexedSeq(arguments)},IndexedSeq.prototype.toIndexedSeq=function(){return this},IndexedSeq.prototype.toString=function(){return this.__toString("Seq [","]")},IndexedSeq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,!1)},IndexedSeq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,!1)},createClass(SetSeq,Seq),SetSeq.of=function(){return SetSeq(arguments)},SetSeq.prototype.toSetSeq=function(){return this},Seq.isSeq=isSeq,Seq.Keyed=KeyedSeq,Seq.Set=SetSeq,Seq.Indexed=IndexedSeq;var IS_SEQ_SENTINEL="@@__IMMUTABLE_SEQ__@@";Seq.prototype[IS_SEQ_SENTINEL]=!0,createClass(ArraySeq,IndexedSeq),ArraySeq.prototype.get=function(index,notSetValue){return this.has(index)?this._array[wrapIndex(this,index)]:notSetValue},ArraySeq.prototype.__iterate=function(fn,reverse){for(var array=this._array,maxIndex=array.length-1,ii=0;maxIndex>=ii;ii++)if(fn(array[reverse?maxIndex-ii:ii],ii,this)===!1)return ii+1;return ii},ArraySeq.prototype.__iterator=function(type,reverse){var array=this._array,maxIndex=array.length-1,ii=0;return new src_Iterator__Iterator(function(){return ii>maxIndex?iteratorDone():iteratorValue(type,ii,array[reverse?maxIndex-ii++:ii++])})},createClass(ObjectSeq,KeyedSeq),ObjectSeq.prototype.get=function(key,notSetValue){return void 0===notSetValue||this.has(key)?this._object[key]:notSetValue},ObjectSeq.prototype.has=function(key){return this._object.hasOwnProperty(key)},ObjectSeq.prototype.__iterate=function(fn,reverse){for(var object=this._object,keys=this._keys,maxIndex=keys.length-1,ii=0;maxIndex>=ii;ii++){var key=keys[reverse?maxIndex-ii:ii];if(fn(object[key],key,this)===!1)return ii+1}return ii},ObjectSeq.prototype.__iterator=function(type,reverse){var object=this._object,keys=this._keys,maxIndex=keys.length-1,ii=0;return new src_Iterator__Iterator(function(){var key=keys[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,key,object[key])})},ObjectSeq.prototype[IS_ORDERED_SENTINEL]=!0,createClass(IterableSeq,IndexedSeq),IterableSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse)return this.cacheResult().__iterate(fn,reverse);var iterable=this._iterable,iterator=getIterator(iterable),iterations=0;if(isIterator(iterator))for(var step;!(step=iterator.next()).done&&fn(step.value,iterations++,this)!==!1;);return iterations},IterableSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse)return this.cacheResult().__iterator(type,reverse);var iterable=this._iterable,iterator=getIterator(iterable);if(!isIterator(iterator))return new src_Iterator__Iterator(iteratorDone);var iterations=0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value)})},createClass(IteratorSeq,IndexedSeq),IteratorSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse)return this.cacheResult().__iterate(fn,reverse);for(var iterator=this._iterator,cache=this._iteratorCache,iterations=0;iterations<cache.length;)if(fn(cache[iterations],iterations++,this)===!1)return iterations;for(var step;!(step=iterator.next()).done;){var val=step.value;if(cache[iterations]=val,fn(val,iterations++,this)===!1)break}return iterations},IteratorSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=this._iterator,cache=this._iteratorCache,iterations=0;return new src_Iterator__Iterator(function(){if(iterations>=cache.length){var step=iterator.next();if(step.done)return step;cache[iterations]=step.value}return iteratorValue(type,iterations,cache[iterations++])})};var EMPTY_SEQ;createClass(Collection,Iterable),createClass(KeyedCollection,Collection),createClass(IndexedCollection,Collection),createClass(SetCollection,Collection),Collection.Keyed=KeyedCollection,Collection.Indexed=IndexedCollection,Collection.Set=SetCollection;var weakMap,src_Math__imul="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(a,b){a=0|a,b=0|b;var c=65535&a,d=65535&b;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0},isExtensible=Object.isExtensible,canDefineProperty=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),usingWeakMap="function"==typeof WeakMap;usingWeakMap&&(weakMap=new WeakMap);var objHashUID=0,UID_HASH_KEY="__immutablehash__";"function"==typeof Symbol&&(UID_HASH_KEY=Symbol(UID_HASH_KEY));var STRING_HASH_CACHE_MIN_STRLEN=16,STRING_HASH_CACHE_MAX_SIZE=255,STRING_HASH_CACHE_SIZE=0,stringHashCache={};createClass(ToKeyedSequence,KeyedSeq),ToKeyedSequence.prototype.get=function(key,notSetValue){return this._iter.get(key,notSetValue)},ToKeyedSequence.prototype.has=function(key){return this._iter.has(key)},ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq()},ToKeyedSequence.prototype.reverse=function(){var this$0=this,reversedSequence=reverseFactory(this,!0);return this._useKeys||(reversedSequence.valueSeq=function(){return this$0._iter.toSeq().reverse()}),reversedSequence},ToKeyedSequence.prototype.map=function(mapper,context){var this$0=this,mappedSequence=mapFactory(this,mapper,context);return this._useKeys||(mappedSequence.valueSeq=function(){return this$0._iter.toSeq().map(mapper,context)}),mappedSequence},ToKeyedSequence.prototype.__iterate=function(fn,reverse){var ii,this$0=this;return this._iter.__iterate(this._useKeys?function(v,k){return fn(v,k,this$0)}:(ii=reverse?resolveSize(this):0,function(v){return fn(v,reverse?--ii:ii++,this$0)}),reverse)},ToKeyedSequence.prototype.__iterator=function(type,reverse){if(this._useKeys)return this._iter.__iterator(type,reverse);var iterator=this._iter.__iterator(ITERATE_VALUES,reverse),ii=reverse?resolveSize(this):0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,reverse?--ii:ii++,step.value,step)})},ToKeyedSequence.prototype[IS_ORDERED_SENTINEL]=!0,createClass(ToIndexedSequence,IndexedSeq),ToIndexedSequence.prototype.includes=function(value){return this._iter.includes(value)},ToIndexedSequence.prototype.__iterate=function(fn,reverse){var this$0=this,iterations=0;return this._iter.__iterate(function(v){return fn(v,iterations++,this$0)},reverse)},ToIndexedSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse),iterations=0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value,step)})},createClass(ToSetSequence,SetSeq),ToSetSequence.prototype.has=function(key){return this._iter.includes(key)},ToSetSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(v){return fn(v,v,this$0)},reverse)},ToSetSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,step.value,step.value,step)})},createClass(FromEntriesSequence,KeyedSeq),FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq()},FromEntriesSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(entry){if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return fn(indexedIterable?entry.get(1):entry[1],indexedIterable?entry.get(0):entry[0],this$0)}},reverse)},FromEntriesSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new src_Iterator__Iterator(function(){for(;;){var step=iterator.next();if(step.done)return step;var entry=step.value;if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return iteratorValue(type,indexedIterable?entry.get(0):entry[0],indexedIterable?entry.get(1):entry[1],step)}}})},ToIndexedSequence.prototype.cacheResult=ToKeyedSequence.prototype.cacheResult=ToSetSequence.prototype.cacheResult=FromEntriesSequence.prototype.cacheResult=cacheResultThrough,createClass(src_Map__Map,KeyedCollection),src_Map__Map.prototype.toString=function(){return this.__toString("Map {","}")},src_Map__Map.prototype.get=function(k,notSetValue){return this._root?this._root.get(0,void 0,k,notSetValue):notSetValue},src_Map__Map.prototype.set=function(k,v){return updateMap(this,k,v)},src_Map__Map.prototype.setIn=function(keyPath,v){return this.updateIn(keyPath,NOT_SET,function(){return v})},src_Map__Map.prototype.remove=function(k){return updateMap(this,k,NOT_SET)},src_Map__Map.prototype.deleteIn=function(keyPath){return this.updateIn(keyPath,function(){return NOT_SET})},src_Map__Map.prototype.update=function(k,notSetValue,updater){return 1===arguments.length?k(this):this.updateIn([k],notSetValue,updater)},src_Map__Map.prototype.updateIn=function(keyPath,notSetValue,updater){updater||(updater=notSetValue,notSetValue=void 0);var updatedValue=updateInDeepMap(this,forceIterator(keyPath),notSetValue,updater);return updatedValue===NOT_SET?void 0:updatedValue},src_Map__Map.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):emptyMap()},src_Map__Map.prototype.merge=function(){return mergeIntoMapWith(this,void 0,arguments)},src_Map__Map.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,merger,iters)},src_Map__Map.prototype.mergeIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return"function"==typeof m.merge?m.merge.apply(m,iters):iters[iters.length-1]})},src_Map__Map.prototype.mergeDeep=function(){return mergeIntoMapWith(this,deepMerger(void 0),arguments)},src_Map__Map.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,deepMerger(merger),iters)},src_Map__Map.prototype.mergeDeepIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return"function"==typeof m.mergeDeep?m.mergeDeep.apply(m,iters):iters[iters.length-1]})},src_Map__Map.prototype.sort=function(comparator){return OrderedMap(sortFactory(this,comparator))},src_Map__Map.prototype.sortBy=function(mapper,comparator){return OrderedMap(sortFactory(this,comparator,mapper))},src_Map__Map.prototype.withMutations=function(fn){var mutable=this.asMutable();return fn(mutable),mutable.wasAltered()?mutable.__ensureOwner(this.__ownerID):this},src_Map__Map.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID)},src_Map__Map.prototype.asImmutable=function(){return this.__ensureOwner()},src_Map__Map.prototype.wasAltered=function(){return this.__altered},src_Map__Map.prototype.__iterator=function(type,reverse){return new MapIterator(this,type,reverse)},src_Map__Map.prototype.__iterate=function(fn,reverse){var this$0=this,iterations=0;return this._root&&this._root.iterate(function(entry){return iterations++,fn(entry[1],entry[0],this$0)},reverse),iterations},src_Map__Map.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeMap(this.size,this._root,ownerID,this.__hash):(this.__ownerID=ownerID,this.__altered=!1,this)},src_Map__Map.isMap=isMap;var IS_MAP_SENTINEL="@@__IMMUTABLE_MAP__@@",MapPrototype=src_Map__Map.prototype;MapPrototype[IS_MAP_SENTINEL]=!0,MapPrototype[DELETE]=MapPrototype.remove,MapPrototype.removeIn=MapPrototype.deleteIn,ArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){for(var entries=this.entries,ii=0,len=entries.length;len>ii;ii++)if(is(key,entries[ii][0]))return entries[ii][1];return notSetValue},ArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){for(var removed=value===NOT_SET,entries=this.entries,idx=0,len=entries.length;len>idx&&!is(key,entries[idx][0]);idx++);var exists=len>idx;if(exists?entries[idx][1]===value:removed)return this;if(SetRef(didAlter),(removed||!exists)&&SetRef(didChangeSize),!removed||1!==entries.length){if(!exists&&!removed&&entries.length>=MAX_ARRAY_MAP_SIZE)return createNodes(ownerID,entries,key,value);var isEditable=ownerID&&ownerID===this.ownerID,newEntries=isEditable?entries:arrCopy(entries);return exists?removed?idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop():newEntries[idx]=[key,value]:newEntries.push([key,value]),isEditable?(this.entries=newEntries,this):new ArrayMapNode(ownerID,newEntries)}},BitmapIndexedNode.prototype.get=function(shift,keyHash,key,notSetValue){void 0===keyHash&&(keyHash=hash(key));var bit=1<<((0===shift?keyHash:keyHash>>>shift)&MASK),bitmap=this.bitmap;return 0===(bitmap&bit)?notSetValue:this.nodes[popCount(bitmap&bit-1)].get(shift+SHIFT,keyHash,key,notSetValue)},BitmapIndexedNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var keyHashFrag=(0===shift?keyHash:keyHash>>>shift)&MASK,bit=1<<keyHashFrag,bitmap=this.bitmap,exists=0!==(bitmap&bit);if(!exists&&value===NOT_SET)return this;var idx=popCount(bitmap&bit-1),nodes=this.nodes,node=exists?nodes[idx]:void 0,newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node)return this;if(!exists&&newNode&&nodes.length>=MAX_BITMAP_INDEXED_SIZE)return expandNodes(ownerID,nodes,bitmap,keyHashFrag,newNode);if(exists&&!newNode&&2===nodes.length&&isLeafNode(nodes[1^idx]))return nodes[1^idx];if(exists&&newNode&&1===nodes.length&&isLeafNode(newNode))return newNode;var isEditable=ownerID&&ownerID===this.ownerID,newBitmap=exists?newNode?bitmap:bitmap^bit:bitmap|bit,newNodes=exists?newNode?setIn(nodes,idx,newNode,isEditable):spliceOut(nodes,idx,isEditable):spliceIn(nodes,idx,newNode,isEditable);return isEditable?(this.bitmap=newBitmap,this.nodes=newNodes,this):new BitmapIndexedNode(ownerID,newBitmap,newNodes)},HashArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){void 0===keyHash&&(keyHash=hash(key));var idx=(0===shift?keyHash:keyHash>>>shift)&MASK,node=this.nodes[idx];return node?node.get(shift+SHIFT,keyHash,key,notSetValue):notSetValue},HashArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var idx=(0===shift?keyHash:keyHash>>>shift)&MASK,removed=value===NOT_SET,nodes=this.nodes,node=nodes[idx];if(removed&&!node)return this;var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node)return this;var newCount=this.count;if(node){if(!newNode&&(newCount--,MIN_HASH_ARRAY_MAP_SIZE>newCount))return packNodes(ownerID,nodes,newCount,idx)}else newCount++;var isEditable=ownerID&&ownerID===this.ownerID,newNodes=setIn(nodes,idx,newNode,isEditable);return isEditable?(this.count=newCount,this.nodes=newNodes,this):new HashArrayMapNode(ownerID,newCount,newNodes)},HashCollisionNode.prototype.get=function(shift,keyHash,key,notSetValue){for(var entries=this.entries,ii=0,len=entries.length;len>ii;ii++)if(is(key,entries[ii][0]))return entries[ii][1];return notSetValue},HashCollisionNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var removed=value===NOT_SET;if(keyHash!==this.keyHash)return removed?this:(SetRef(didAlter),SetRef(didChangeSize),mergeIntoNode(this,ownerID,shift,keyHash,[key,value]));for(var entries=this.entries,idx=0,len=entries.length;len>idx&&!is(key,entries[idx][0]);idx++);var exists=len>idx;if(exists?entries[idx][1]===value:removed)return this;if(SetRef(didAlter),(removed||!exists)&&SetRef(didChangeSize),removed&&2===len)return new ValueNode(ownerID,this.keyHash,entries[1^idx]);var isEditable=ownerID&&ownerID===this.ownerID,newEntries=isEditable?entries:arrCopy(entries);return exists?removed?idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop():newEntries[idx]=[key,value]:newEntries.push([key,value]),isEditable?(this.entries=newEntries,this):new HashCollisionNode(ownerID,this.keyHash,newEntries)},ValueNode.prototype.get=function(shift,keyHash,key,notSetValue){return is(key,this.entry[0])?this.entry[1]:notSetValue},ValueNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET,keyMatch=is(key,this.entry[0]);return(keyMatch?value===this.entry[1]:removed)?this:(SetRef(didAlter),removed?void SetRef(didChangeSize):keyMatch?ownerID&&ownerID===this.ownerID?(this.entry[1]=value,this):new ValueNode(ownerID,this.keyHash,[key,value]):(SetRef(didChangeSize),mergeIntoNode(this,ownerID,shift,hash(key),[key,value])))},ArrayMapNode.prototype.iterate=HashCollisionNode.prototype.iterate=function(fn,reverse){for(var entries=this.entries,ii=0,maxIndex=entries.length-1;maxIndex>=ii;ii++)if(fn(entries[reverse?maxIndex-ii:ii])===!1)return!1},BitmapIndexedNode.prototype.iterate=HashArrayMapNode.prototype.iterate=function(fn,reverse){for(var nodes=this.nodes,ii=0,maxIndex=nodes.length-1;maxIndex>=ii;ii++){var node=nodes[reverse?maxIndex-ii:ii];if(node&&node.iterate(fn,reverse)===!1)return!1}},ValueNode.prototype.iterate=function(fn,reverse){return fn(this.entry)},createClass(MapIterator,src_Iterator__Iterator),MapIterator.prototype.next=function(){for(var type=this._type,stack=this._stack;stack;){var maxIndex,node=stack.node,index=stack.index++;if(node.entry){if(0===index)return mapIteratorValue(type,node.entry)}else if(node.entries){if(maxIndex=node.entries.length-1,maxIndex>=index)return mapIteratorValue(type,node.entries[this._reverse?maxIndex-index:index])}else if(maxIndex=node.nodes.length-1,maxIndex>=index){var subNode=node.nodes[this._reverse?maxIndex-index:index];if(subNode){if(subNode.entry)return mapIteratorValue(type,subNode.entry);stack=this._stack=mapIteratorFrame(subNode,stack)}continue}stack=this._stack=this._stack.__prev}return iteratorDone()};var EMPTY_MAP,MAX_ARRAY_MAP_SIZE=SIZE/4,MAX_BITMAP_INDEXED_SIZE=SIZE/2,MIN_HASH_ARRAY_MAP_SIZE=SIZE/4;createClass(List,IndexedCollection),List.of=function(){return this(arguments)},List.prototype.toString=function(){return this.__toString("List [","]")},List.prototype.get=function(index,notSetValue){if(index=wrapIndex(this,index),0>index||index>=this.size)return notSetValue;index+=this._origin;var node=listNodeFor(this,index);return node&&node.array[index&MASK]},List.prototype.set=function(index,value){return updateList(this,index,value)},List.prototype.remove=function(index){return this.has(index)?0===index?this.shift():index===this.size-1?this.pop():this.splice(index,1):this},List.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=SHIFT,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):emptyList()},List.prototype.push=function(){var values=arguments,oldSize=this.size;return this.withMutations(function(list){setListBounds(list,0,oldSize+values.length);for(var ii=0;ii<values.length;ii++)list.set(oldSize+ii,values[ii])})},List.prototype.pop=function(){return setListBounds(this,0,-1)},List.prototype.unshift=function(){var values=arguments;return this.withMutations(function(list){setListBounds(list,-values.length);for(var ii=0;ii<values.length;ii++)list.set(ii,values[ii])})},List.prototype.shift=function(){return setListBounds(this,1)},List.prototype.merge=function(){return mergeIntoListWith(this,void 0,arguments)},List.prototype.mergeWith=function(merger){
var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,merger,iters)},List.prototype.mergeDeep=function(){return mergeIntoListWith(this,deepMerger(void 0),arguments)},List.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,deepMerger(merger),iters)},List.prototype.setSize=function(size){return setListBounds(this,0,size)},List.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:setListBounds(this,resolveBegin(begin,size),resolveEnd(end,size))},List.prototype.__iterator=function(type,reverse){var index=0,values=iterateList(this,reverse);return new src_Iterator__Iterator(function(){var value=values();return value===DONE?iteratorDone():iteratorValue(type,index++,value)})},List.prototype.__iterate=function(fn,reverse){for(var value,index=0,values=iterateList(this,reverse);(value=values())!==DONE&&fn(value,index++,this)!==!1;);return index},List.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeList(this._origin,this._capacity,this._level,this._root,this._tail,ownerID,this.__hash):(this.__ownerID=ownerID,this)},List.isList=isList;var IS_LIST_SENTINEL="@@__IMMUTABLE_LIST__@@",ListPrototype=List.prototype;ListPrototype[IS_LIST_SENTINEL]=!0,ListPrototype[DELETE]=ListPrototype.remove,ListPrototype.setIn=MapPrototype.setIn,ListPrototype.deleteIn=ListPrototype.removeIn=MapPrototype.removeIn,ListPrototype.update=MapPrototype.update,ListPrototype.updateIn=MapPrototype.updateIn,ListPrototype.mergeIn=MapPrototype.mergeIn,ListPrototype.mergeDeepIn=MapPrototype.mergeDeepIn,ListPrototype.withMutations=MapPrototype.withMutations,ListPrototype.asMutable=MapPrototype.asMutable,ListPrototype.asImmutable=MapPrototype.asImmutable,ListPrototype.wasAltered=MapPrototype.wasAltered,VNode.prototype.removeBefore=function(ownerID,level,index){if(index===level?1<<level:0||0===this.array.length)return this;var originIndex=index>>>level&MASK;if(originIndex>=this.array.length)return new VNode([],ownerID);var newChild,removingFirst=0===originIndex;if(level>0){var oldChild=this.array[originIndex];if(newChild=oldChild&&oldChild.removeBefore(ownerID,level-SHIFT,index),newChild===oldChild&&removingFirst)return this}if(removingFirst&&!newChild)return this;var editable=editableVNode(this,ownerID);if(!removingFirst)for(var ii=0;originIndex>ii;ii++)editable.array[ii]=void 0;return newChild&&(editable.array[originIndex]=newChild),editable},VNode.prototype.removeAfter=function(ownerID,level,index){if(index===level?1<<level:0||0===this.array.length)return this;var sizeIndex=index-1>>>level&MASK;if(sizeIndex>=this.array.length)return this;var newChild,removingLast=sizeIndex===this.array.length-1;if(level>0){var oldChild=this.array[sizeIndex];if(newChild=oldChild&&oldChild.removeAfter(ownerID,level-SHIFT,index),newChild===oldChild&&removingLast)return this}if(removingLast&&!newChild)return this;var editable=editableVNode(this,ownerID);return removingLast||editable.array.pop(),newChild&&(editable.array[sizeIndex]=newChild),editable};var EMPTY_LIST,DONE={};createClass(OrderedMap,src_Map__Map),OrderedMap.of=function(){return this(arguments)},OrderedMap.prototype.toString=function(){return this.__toString("OrderedMap {","}")},OrderedMap.prototype.get=function(k,notSetValue){var index=this._map.get(k);return void 0!==index?this._list.get(index)[1]:notSetValue},OrderedMap.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):emptyOrderedMap()},OrderedMap.prototype.set=function(k,v){return updateOrderedMap(this,k,v)},OrderedMap.prototype.remove=function(k){return updateOrderedMap(this,k,NOT_SET)},OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},OrderedMap.prototype.__iterate=function(fn,reverse){var this$0=this;return this._list.__iterate(function(entry){return entry&&fn(entry[1],entry[0],this$0)},reverse)},OrderedMap.prototype.__iterator=function(type,reverse){return this._list.fromEntrySeq().__iterator(type,reverse)},OrderedMap.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map.__ensureOwner(ownerID),newList=this._list.__ensureOwner(ownerID);return ownerID?makeOrderedMap(newMap,newList,ownerID,this.__hash):(this.__ownerID=ownerID,this._map=newMap,this._list=newList,this)},OrderedMap.isOrderedMap=isOrderedMap,OrderedMap.prototype[IS_ORDERED_SENTINEL]=!0,OrderedMap.prototype[DELETE]=OrderedMap.prototype.remove;var EMPTY_ORDERED_MAP;createClass(Stack,IndexedCollection),Stack.of=function(){return this(arguments)},Stack.prototype.toString=function(){return this.__toString("Stack [","]")},Stack.prototype.get=function(index,notSetValue){var head=this._head;for(index=wrapIndex(this,index);head&&index--;)head=head.next;return head?head.value:notSetValue},Stack.prototype.peek=function(){return this._head&&this._head.value},Stack.prototype.push=function(){if(0===arguments.length)return this;for(var newSize=this.size+arguments.length,head=this._head,ii=arguments.length-1;ii>=0;ii--)head={value:arguments[ii],next:head};return this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.pushAll=function(iter){if(iter=IndexedIterable(iter),0===iter.size)return this;assertNotInfinite(iter.size);var newSize=this.size,head=this._head;return iter.reverse().forEach(function(value){newSize++,head={value:value,next:head}}),this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.pop=function(){return this.slice(1)},Stack.prototype.unshift=function(){return this.push.apply(this,arguments)},Stack.prototype.unshiftAll=function(iter){return this.pushAll(iter)},Stack.prototype.shift=function(){return this.pop.apply(this,arguments)},Stack.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):emptyStack()},Stack.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size))return this;var resolvedBegin=resolveBegin(begin,this.size),resolvedEnd=resolveEnd(end,this.size);if(resolvedEnd!==this.size)return IndexedCollection.prototype.slice.call(this,begin,end);for(var newSize=this.size-resolvedBegin,head=this._head;resolvedBegin--;)head=head.next;return this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeStack(this.size,this._head,ownerID,this.__hash):(this.__ownerID=ownerID,this.__altered=!1,this)},Stack.prototype.__iterate=function(fn,reverse){if(reverse)return this.reverse().__iterate(fn);for(var iterations=0,node=this._head;node&&fn(node.value,iterations++,this)!==!1;)node=node.next;return iterations},Stack.prototype.__iterator=function(type,reverse){if(reverse)return this.reverse().__iterator(type);var iterations=0,node=this._head;return new src_Iterator__Iterator(function(){if(node){var value=node.value;return node=node.next,iteratorValue(type,iterations++,value)}return iteratorDone()})},Stack.isStack=isStack;var IS_STACK_SENTINEL="@@__IMMUTABLE_STACK__@@",StackPrototype=Stack.prototype;StackPrototype[IS_STACK_SENTINEL]=!0,StackPrototype.withMutations=MapPrototype.withMutations,StackPrototype.asMutable=MapPrototype.asMutable,StackPrototype.asImmutable=MapPrototype.asImmutable,StackPrototype.wasAltered=MapPrototype.wasAltered;var EMPTY_STACK;createClass(src_Set__Set,SetCollection),src_Set__Set.of=function(){return this(arguments)},src_Set__Set.fromKeys=function(value){return this(KeyedIterable(value).keySeq())},src_Set__Set.prototype.toString=function(){return this.__toString("Set {","}")},src_Set__Set.prototype.has=function(value){return this._map.has(value)},src_Set__Set.prototype.add=function(value){return updateSet(this,this._map.set(value,!0))},src_Set__Set.prototype.remove=function(value){return updateSet(this,this._map.remove(value))},src_Set__Set.prototype.clear=function(){return updateSet(this,this._map.clear())},src_Set__Set.prototype.union=function(){var iters=SLICE$0.call(arguments,0);return iters=iters.filter(function(x){return 0!==x.size}),0===iters.length?this:0!==this.size||this.__ownerID||1!==iters.length?this.withMutations(function(set){for(var ii=0;ii<iters.length;ii++)SetIterable(iters[ii]).forEach(function(value){return set.add(value)})}):this.constructor(iters[0])},src_Set__Set.prototype.intersect=function(){var iters=SLICE$0.call(arguments,0);if(0===iters.length)return this;iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){iters.every(function(iter){return iter.includes(value)})||set.remove(value)})})},src_Set__Set.prototype.subtract=function(){var iters=SLICE$0.call(arguments,0);if(0===iters.length)return this;iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){iters.some(function(iter){return iter.includes(value)})&&set.remove(value)})})},src_Set__Set.prototype.merge=function(){return this.union.apply(this,arguments)},src_Set__Set.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return this.union.apply(this,iters)},src_Set__Set.prototype.sort=function(comparator){return OrderedSet(sortFactory(this,comparator))},src_Set__Set.prototype.sortBy=function(mapper,comparator){return OrderedSet(sortFactory(this,comparator,mapper))},src_Set__Set.prototype.wasAltered=function(){return this._map.wasAltered()},src_Set__Set.prototype.__iterate=function(fn,reverse){var this$0=this;return this._map.__iterate(function(_,k){return fn(k,k,this$0)},reverse)},src_Set__Set.prototype.__iterator=function(type,reverse){return this._map.map(function(_,k){return k}).__iterator(type,reverse)},src_Set__Set.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map.__ensureOwner(ownerID);return ownerID?this.__make(newMap,ownerID):(this.__ownerID=ownerID,this._map=newMap,this)},src_Set__Set.isSet=isSet;var IS_SET_SENTINEL="@@__IMMUTABLE_SET__@@",SetPrototype=src_Set__Set.prototype;SetPrototype[IS_SET_SENTINEL]=!0,SetPrototype[DELETE]=SetPrototype.remove,SetPrototype.mergeDeep=SetPrototype.merge,SetPrototype.mergeDeepWith=SetPrototype.mergeWith,SetPrototype.withMutations=MapPrototype.withMutations,SetPrototype.asMutable=MapPrototype.asMutable,SetPrototype.asImmutable=MapPrototype.asImmutable,SetPrototype.__empty=emptySet,SetPrototype.__make=makeSet;var EMPTY_SET;createClass(OrderedSet,src_Set__Set),OrderedSet.of=function(){return this(arguments)},OrderedSet.fromKeys=function(value){return this(KeyedIterable(value).keySeq())},OrderedSet.prototype.toString=function(){return this.__toString("OrderedSet {","}")},OrderedSet.isOrderedSet=isOrderedSet;var OrderedSetPrototype=OrderedSet.prototype;OrderedSetPrototype[IS_ORDERED_SENTINEL]=!0,OrderedSetPrototype.__empty=emptyOrderedSet,OrderedSetPrototype.__make=makeOrderedSet;var EMPTY_ORDERED_SET;createClass(Record,KeyedCollection),Record.prototype.toString=function(){return this.__toString(recordName(this)+" {","}")},Record.prototype.has=function(k){return this._defaultValues.hasOwnProperty(k)},Record.prototype.get=function(k,notSetValue){if(!this.has(k))return notSetValue;var defaultVal=this._defaultValues[k];return this._map?this._map.get(k,defaultVal):defaultVal},Record.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var RecordType=this.constructor;return RecordType._empty||(RecordType._empty=makeRecord(this,emptyMap()))},Record.prototype.set=function(k,v){if(!this.has(k))throw new Error('Cannot set unknown key "'+k+'" on '+recordName(this));var newMap=this._map&&this._map.set(k,v);return this.__ownerID||newMap===this._map?this:makeRecord(this,newMap)},Record.prototype.remove=function(k){if(!this.has(k))return this;var newMap=this._map&&this._map.remove(k);return this.__ownerID||newMap===this._map?this:makeRecord(this,newMap)},Record.prototype.wasAltered=function(){return this._map.wasAltered()},Record.prototype.__iterator=function(type,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterator(type,reverse)},Record.prototype.__iterate=function(fn,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterate(fn,reverse)},Record.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map&&this._map.__ensureOwner(ownerID);return ownerID?makeRecord(this,newMap,ownerID):(this.__ownerID=ownerID,this._map=newMap,this)};var RecordPrototype=Record.prototype;RecordPrototype[DELETE]=RecordPrototype.remove,RecordPrototype.deleteIn=RecordPrototype.removeIn=MapPrototype.removeIn,RecordPrototype.merge=MapPrototype.merge,RecordPrototype.mergeWith=MapPrototype.mergeWith,RecordPrototype.mergeIn=MapPrototype.mergeIn,RecordPrototype.mergeDeep=MapPrototype.mergeDeep,RecordPrototype.mergeDeepWith=MapPrototype.mergeDeepWith,RecordPrototype.mergeDeepIn=MapPrototype.mergeDeepIn,RecordPrototype.setIn=MapPrototype.setIn,RecordPrototype.update=MapPrototype.update,RecordPrototype.updateIn=MapPrototype.updateIn,RecordPrototype.withMutations=MapPrototype.withMutations,RecordPrototype.asMutable=MapPrototype.asMutable,RecordPrototype.asImmutable=MapPrototype.asImmutable,createClass(Range,IndexedSeq),Range.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Range.prototype.get=function(index,notSetValue){return this.has(index)?this._start+wrapIndex(this,index)*this._step:notSetValue},Range.prototype.includes=function(searchValue){var possibleIndex=(searchValue-this._start)/this._step;return possibleIndex>=0&&possibleIndex<this.size&&possibleIndex===Math.floor(possibleIndex)},Range.prototype.slice=function(begin,end){return wholeSlice(begin,end,this.size)?this:(begin=resolveBegin(begin,this.size),end=resolveEnd(end,this.size),begin>=end?new Range(0,0):new Range(this.get(begin,this._end),this.get(end,this._end),this._step))},Range.prototype.indexOf=function(searchValue){var offsetValue=searchValue-this._start;if(offsetValue%this._step===0){var index=offsetValue/this._step;if(index>=0&&index<this.size)return index}return-1},Range.prototype.lastIndexOf=function(searchValue){return this.indexOf(searchValue)},Range.prototype.__iterate=function(fn,reverse){for(var maxIndex=this.size-1,step=this._step,value=reverse?this._start+maxIndex*step:this._start,ii=0;maxIndex>=ii;ii++){if(fn(value,ii,this)===!1)return ii+1;value+=reverse?-step:step}return ii},Range.prototype.__iterator=function(type,reverse){var maxIndex=this.size-1,step=this._step,value=reverse?this._start+maxIndex*step:this._start,ii=0;return new src_Iterator__Iterator(function(){var v=value;return value+=reverse?-step:step,ii>maxIndex?iteratorDone():iteratorValue(type,ii++,v)})},Range.prototype.equals=function(other){return other instanceof Range?this._start===other._start&&this._end===other._end&&this._step===other._step:deepEqual(this,other)};var EMPTY_RANGE;createClass(Repeat,IndexedSeq),Repeat.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Repeat.prototype.get=function(index,notSetValue){return this.has(index)?this._value:notSetValue},Repeat.prototype.includes=function(searchValue){return is(this._value,searchValue)},Repeat.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:new Repeat(this._value,resolveEnd(end,size)-resolveBegin(begin,size))},Repeat.prototype.reverse=function(){return this},Repeat.prototype.indexOf=function(searchValue){return is(this._value,searchValue)?0:-1},Repeat.prototype.lastIndexOf=function(searchValue){return is(this._value,searchValue)?this.size:-1},Repeat.prototype.__iterate=function(fn,reverse){for(var ii=0;ii<this.size;ii++)if(fn(this._value,ii,this)===!1)return ii+1;return ii},Repeat.prototype.__iterator=function(type,reverse){var this$0=this,ii=0;return new src_Iterator__Iterator(function(){return ii<this$0.size?iteratorValue(type,ii++,this$0._value):iteratorDone()})},Repeat.prototype.equals=function(other){return other instanceof Repeat?is(this._value,other._value):deepEqual(other)};var EMPTY_REPEAT;Iterable.Iterator=src_Iterator__Iterator,mixin(Iterable,{toArray:function(){assertNotInfinite(this.size);var array=new Array(this.size||0);return this.valueSeq().__iterate(function(v,i){array[i]=v}),array},toIndexedSeq:function(){return new ToIndexedSequence(this)},toJS:function(){return this.toSeq().map(function(value){return value&&"function"==typeof value.toJS?value.toJS():value}).__toJS()},toJSON:function(){return this.toSeq().map(function(value){return value&&"function"==typeof value.toJSON?value.toJSON():value}).__toJS()},toKeyedSeq:function(){return new ToKeyedSequence(this,!0)},toMap:function(){return src_Map__Map(this.toKeyedSeq())},toObject:function(){assertNotInfinite(this.size);var object={};return this.__iterate(function(v,k){object[k]=v}),object},toOrderedMap:function(){return OrderedMap(this.toKeyedSeq())},toOrderedSet:function(){return OrderedSet(isKeyed(this)?this.valueSeq():this)},toSet:function(){return src_Set__Set(isKeyed(this)?this.valueSeq():this)},toSetSeq:function(){return new ToSetSequence(this)},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Stack(isKeyed(this)?this.valueSeq():this)},toList:function(){return List(isKeyed(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(head,tail){return 0===this.size?head+tail:head+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+tail},concat:function(){var values=SLICE$0.call(arguments,0);return reify(this,concatFactory(this,values))},contains:function(searchValue){return this.includes(searchValue)},includes:function(searchValue){return this.some(function(value){return is(value,searchValue)})},entries:function(){return this.__iterator(ITERATE_ENTRIES)},every:function(predicate,context){assertNotInfinite(this.size);var returnValue=!0;return this.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?void 0:(returnValue=!1,!1)}),returnValue},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,!0))},find:function(predicate,context,notSetValue){var entry=this.findEntry(predicate,context);return entry?entry[1]:notSetValue},findEntry:function(predicate,context){var found;return this.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?(found=[k,v],!1):void 0}),found},findLastEntry:function(predicate,context){return this.toSeq().reverse().findEntry(predicate,context)},forEach:function(sideEffect,context){return assertNotInfinite(this.size),this.__iterate(context?sideEffect.bind(context):sideEffect)},join:function(separator){assertNotInfinite(this.size),separator=void 0!==separator?""+separator:",";var joined="",isFirst=!0;return this.__iterate(function(v){isFirst?isFirst=!1:joined+=separator,joined+=null!==v&&void 0!==v?v.toString():""}),joined},keys:function(){return this.__iterator(ITERATE_KEYS)},map:function(mapper,context){return reify(this,mapFactory(this,mapper,context))},reduce:function(reducer,initialReduction,context){assertNotInfinite(this.size);var reduction,useFirst;return arguments.length<2?useFirst=!0:reduction=initialReduction,this.__iterate(function(v,k,c){useFirst?(useFirst=!1,reduction=v):reduction=reducer.call(context,reduction,v,k,c)}),reduction},reduceRight:function(reducer,initialReduction,context){var reversed=this.toKeyedSeq().reverse();return reversed.reduce.apply(reversed,arguments)},reverse:function(){return reify(this,reverseFactory(this,!0))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,!0))},some:function(predicate,context){return!this.every(not(predicate),context)},sort:function(comparator){return reify(this,sortFactory(this,comparator))},values:function(){return this.__iterator(ITERATE_VALUES)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(predicate,context){return ensureSize(predicate?this.toSeq().filter(predicate,context):this)},countBy:function(grouper,context){return countByFactory(this,grouper,context)},equals:function(other){return deepEqual(this,other)},entrySeq:function(){var iterable=this;if(iterable._cache)return new ArraySeq(iterable._cache);var entriesSequence=iterable.toSeq().map(entryMapper).toIndexedSeq();return entriesSequence.fromEntrySeq=function(){return iterable.toSeq()},entriesSequence},filterNot:function(predicate,context){return this.filter(not(predicate),context)},findLast:function(predicate,context,notSetValue){return this.toKeyedSeq().reverse().find(predicate,context,notSetValue)},first:function(){return this.find(returnTrue)},flatMap:function(mapper,context){return reify(this,flatMapFactory(this,mapper,context))},flatten:function(depth){return reify(this,flattenFactory(this,depth,!0))},fromEntrySeq:function(){return new FromEntriesSequence(this)},get:function(searchKey,notSetValue){return this.find(function(_,key){return is(key,searchKey)},void 0,notSetValue)},getIn:function(searchKeyPath,notSetValue){for(var step,nested=this,iter=forceIterator(searchKeyPath);!(step=iter.next()).done;){var key=step.value;if(nested=nested&&nested.get?nested.get(key,NOT_SET):NOT_SET,nested===NOT_SET)return notSetValue}return nested},groupBy:function(grouper,context){return groupByFactory(this,grouper,context)},has:function(searchKey){return this.get(searchKey,NOT_SET)!==NOT_SET},hasIn:function(searchKeyPath){return this.getIn(searchKeyPath,NOT_SET)!==NOT_SET},isSubset:function(iter){return iter="function"==typeof iter.includes?iter:Iterable(iter),this.every(function(value){return iter.includes(value)})},isSuperset:function(iter){return iter="function"==typeof iter.isSubset?iter:Iterable(iter),iter.isSubset(this)},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(comparator){return maxFactory(this,comparator)},maxBy:function(mapper,comparator){return maxFactory(this,comparator,mapper)},min:function(comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator)},minBy:function(mapper,comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator,mapper)},rest:function(){return this.slice(1)},skip:function(amount){return this.slice(Math.max(0,amount))},skipLast:function(amount){return reify(this,this.toSeq().reverse().skip(amount).reverse())},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,!0))},skipUntil:function(predicate,context){return this.skipWhile(not(predicate),context)},sortBy:function(mapper,comparator){return reify(this,sortFactory(this,comparator,mapper))},take:function(amount){return this.slice(0,Math.max(0,amount))},takeLast:function(amount){return reify(this,this.toSeq().reverse().take(amount).reverse())},takeWhile:function(predicate,context){return reify(this,takeWhileFactory(this,predicate,context))},takeUntil:function(predicate,context){return this.takeWhile(not(predicate),context)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hashIterable(this))}});var IterablePrototype=Iterable.prototype;IterablePrototype[IS_ITERABLE_SENTINEL]=!0,IterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.values,IterablePrototype.__toJS=IterablePrototype.toArray,IterablePrototype.__toStringMapper=quoteString,IterablePrototype.inspect=IterablePrototype.toSource=function(){return this.toString()},IterablePrototype.chain=IterablePrototype.flatMap,function(){try{Object.defineProperty(IterablePrototype,"length",{get:function(){if(!Iterable.noLengthWarning){var stack;try{throw new Error}catch(error){stack=error.stack}if(-1===stack.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+stack),this.size}}})}catch(e){}}(),mixin(KeyedIterable,{flip:function(){return reify(this,flipFactory(this))},findKey:function(predicate,context){var entry=this.findEntry(predicate,context);return entry&&entry[0]},findLastKey:function(predicate,context){return this.toSeq().reverse().findKey(predicate,context)},keyOf:function(searchValue){return this.findKey(function(value){return is(value,searchValue)})},lastKeyOf:function(searchValue){return this.findLastKey(function(value){return is(value,searchValue)})},mapEntries:function(mapper,context){var this$0=this,iterations=0;return reify(this,this.toSeq().map(function(v,k){return mapper.call(context,[k,v],iterations++,this$0)}).fromEntrySeq())},mapKeys:function(mapper,context){var this$0=this;return reify(this,this.toSeq().flip().map(function(k,v){return mapper.call(context,k,v,this$0)}).flip())}});var KeyedIterablePrototype=KeyedIterable.prototype;KeyedIterablePrototype[IS_KEYED_SENTINEL]=!0,KeyedIterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.entries,KeyedIterablePrototype.__toJS=IterablePrototype.toObject,KeyedIterablePrototype.__toStringMapper=function(v,k){return JSON.stringify(k)+": "+quoteString(v)},mixin(IndexedIterable,{toKeyedSeq:function(){return new ToKeyedSequence(this,!1)},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,!1))},findIndex:function(predicate,context){var entry=this.findEntry(predicate,context);return entry?entry[0]:-1},indexOf:function(searchValue){var key=this.toKeyedSeq().keyOf(searchValue);return void 0===key?-1:key},lastIndexOf:function(searchValue){return this.toSeq().reverse().indexOf(searchValue)},reverse:function(){return reify(this,reverseFactory(this,!1))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,!1))},splice:function(index,removeNum){var numArgs=arguments.length;if(removeNum=Math.max(0|removeNum,0),0===numArgs||2===numArgs&&!removeNum)return this;index=resolveBegin(index,this.size);var spliced=this.slice(0,index);return reify(this,1===numArgs?spliced:spliced.concat(arrCopy(arguments,2),this.slice(index+removeNum)))},findLastIndex:function(predicate,context){var key=this.toKeyedSeq().findLastKey(predicate,context);return void 0===key?-1:key},first:function(){return this.get(0)},flatten:function(depth){return reify(this,flattenFactory(this,depth,!1))},get:function(index,notSetValue){return index=wrapIndex(this,index),0>index||this.size===1/0||void 0!==this.size&&index>this.size?notSetValue:this.find(function(_,key){return key===index},void 0,notSetValue)},has:function(index){return index=wrapIndex(this,index),index>=0&&(void 0!==this.size?this.size===1/0||index<this.size:-1!==this.indexOf(index))},interpose:function(separator){return reify(this,interposeFactory(this,separator))},interleave:function(){var iterables=[this].concat(arrCopy(arguments)),zipped=zipWithFactory(this.toSeq(),IndexedSeq.of,iterables),interleaved=zipped.flatten(!0);return zipped.size&&(interleaved.size=zipped.size*iterables.length),reify(this,interleaved)},last:function(){return this.get(-1)},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,!1))},zip:function(){var iterables=[this].concat(arrCopy(arguments));return reify(this,zipWithFactory(this,defaultZipper,iterables))},zipWith:function(zipper){var iterables=arrCopy(arguments);return iterables[0]=this,reify(this,zipWithFactory(this,zipper,iterables))}}),IndexedIterable.prototype[IS_INDEXED_SENTINEL]=!0,IndexedIterable.prototype[IS_ORDERED_SENTINEL]=!0,mixin(SetIterable,{get:function(value,notSetValue){return this.has(value)?value:notSetValue},includes:function(value){return this.has(value)},keySeq:function(){return this.valueSeq()}}),SetIterable.prototype.has=IterablePrototype.includes,mixin(KeyedSeq,KeyedIterable.prototype),mixin(IndexedSeq,IndexedIterable.prototype),mixin(SetSeq,SetIterable.prototype),mixin(KeyedCollection,KeyedIterable.prototype),mixin(IndexedCollection,IndexedIterable.prototype),mixin(SetCollection,SetIterable.prototype);var Immutable={Iterable:Iterable,Seq:Seq,Collection:Collection,Map:src_Map__Map,OrderedMap:OrderedMap,List:List,Stack:Stack,Set:src_Set__Set,OrderedSet:OrderedSet,Record:Record,Range:Range,Repeat:Repeat,is:is,fromJS:fromJS};return Immutable});


},{}],3:[function(require,module,exports){
module.exports={"default":require("core-js/library/fn/array/from"),__esModule:!0};


},{"core-js/library/fn/array/from":10}],4:[function(require,module,exports){
module.exports={"default":require("core-js/library/fn/object/create"),__esModule:!0};


},{"core-js/library/fn/object/create":11}],5:[function(require,module,exports){
module.exports={"default":require("core-js/library/fn/object/keys"),__esModule:!0};


},{"core-js/library/fn/object/keys":12}],6:[function(require,module,exports){
module.exports={"default":require("core-js/library/fn/symbol"),__esModule:!0};


},{"core-js/library/fn/symbol":13}],7:[function(require,module,exports){
"use strict";exports["default"]=function(obj){return obj&&obj.__esModule?obj:{"default":obj}},exports.__esModule=!0;


},{}],8:[function(require,module,exports){
"use strict";exports["default"]=function(obj){return obj&&obj.__esModule?obj["default"]:obj},exports.__esModule=!0;


},{}],9:[function(require,module,exports){
"use strict";var _Array$from=require("babel-runtime/core-js/array/from")["default"];exports["default"]=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return _Array$from(arr)},exports.__esModule=!0;


},{"babel-runtime/core-js/array/from":3}],10:[function(require,module,exports){
require("../../modules/es6.string.iterator"),require("../../modules/es6.array.from"),module.exports=require("../../modules/$").core.Array.from;


},{"../../modules/$":25,"../../modules/es6.array.from":32,"../../modules/es6.string.iterator":34}],11:[function(require,module,exports){
var $=require("../../modules/$");module.exports=function(P,D){return $.create(P,D)};


},{"../../modules/$":25}],12:[function(require,module,exports){
require("../../modules/es6.object.statics-accept-primitives"),module.exports=require("../../modules/$").core.Object.keys;


},{"../../modules/$":25,"../../modules/es6.object.statics-accept-primitives":33}],13:[function(require,module,exports){
require("../../modules/es6.symbol"),module.exports=require("../../modules/$").core.Symbol;


},{"../../modules/$":25,"../../modules/es6.symbol":35}],14:[function(require,module,exports){
function assert(condition,msg1,msg2){if(!condition)throw TypeError(msg2?msg1+msg2:msg1)}var $=require("./$");assert.def=$.assertDefined,assert.fn=function(it){if(!$.isFunction(it))throw TypeError(it+" is not a function!");return it},assert.obj=function(it){if(!$.isObject(it))throw TypeError(it+" is not an object!");return it},assert.inst=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError(name+": use the 'new' operator!");return it},module.exports=assert;


},{"./$":25}],15:[function(require,module,exports){
function cof(it){return toString.call(it).slice(8,-1)}var $=require("./$"),TAG=require("./$.wks")("toStringTag"),toString={}.toString;cof.classof=function(it){var O,T;return void 0==it?void 0===it?"Undefined":"Null":"string"==typeof(T=(O=Object(it))[TAG])?T:cof(O)},cof.set=function(it,tag,stat){it&&!$.has(it=stat?it:it.prototype,TAG)&&$.hide(it,TAG,tag)},module.exports=cof;


},{"./$":25,"./$.wks":31}],16:[function(require,module,exports){
var assertFunction=require("./$.assert").fn;module.exports=function(fn,that,length){if(assertFunction(fn),~length&&void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}};


},{"./$.assert":14}],17:[function(require,module,exports){
function ctx(fn,that){return function(){return fn.apply(that,arguments)}}function $def(type,name,source){var key,own,out,exp,isGlobal=type&$def.G,isProto=type&$def.P,target=isGlobal?global:type&$def.S?global[name]:(global[name]||{}).prototype,exports=isGlobal?core:core[name]||(core[name]={});isGlobal&&(source=name);for(key in source)own=!(type&$def.F)&&target&&key in target,own&&key in exports||(out=own?target[key]:source[key],isGlobal&&!isFunction(target[key])?exp=source[key]:type&$def.B&&own?exp=ctx(out,global):type&$def.W&&target[key]==out?!function(C){exp=function(param){return this instanceof C?new C(param):C(param)},exp.prototype=C.prototype}(out):exp=isProto&&isFunction(out)?ctx(Function.call,out):out,exports[key]=exp,isProto&&((exports.prototype||(exports.prototype={}))[key]=out))}var $=require("./$"),global=$.g,core=$.core,isFunction=$.isFunction;$def.F=1,$def.G=2,$def.S=4,$def.P=8,$def.B=16,$def.W=32,module.exports=$def;


},{"./$":25}],18:[function(require,module,exports){
var $=require("./$");module.exports=function(it){var keys=$.getKeys(it),getDesc=$.getDesc,getSymbols=$.getSymbols;return getSymbols&&$.each.call(getSymbols(it),function(key){getDesc(it,key).enumerable&&keys.push(key)}),keys};


},{"./$":25}],19:[function(require,module,exports){
module.exports=function($){return $.FW=!1,$.path=$.core,$};


},{}],20:[function(require,module,exports){
function getWindowNames(it){try{return getNames(it)}catch(e){return windowNames.slice()}}var $=require("./$"),toString={}.toString,getNames=$.getNames,windowNames="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.get=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):getNames($.toObject(it))};


},{"./$":25}],21:[function(require,module,exports){
function close(iterator){var ret=iterator["return"];void 0!==ret&&assertObject(ret.call(iterator))}function call(iterator,fn,value,entries){try{return entries?fn(assertObject(value)[0],value[1]):fn(value)}catch(e){throw close(iterator),e}}var assertObject=require("./$.assert").obj;call.close=close,module.exports=call;


},{"./$.assert":14}],22:[function(require,module,exports){
var $def=require("./$.def"),$redef=require("./$.redef"),$=require("./$"),cof=require("./$.cof"),$iter=require("./$.iter"),SYMBOL_ITERATOR=require("./$.wks")("iterator"),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",Iterators=$iter.Iterators;module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCE){function createMethod(kind){function $$(that){return new Constructor(that,kind)}switch(kind){case KEYS:return function(){return $$(this)};case VALUES:return function(){return $$(this)}}return function(){return $$(this)}}$iter.create(Constructor,NAME,next);var methods,key,TAG=NAME+" Iterator",proto=Base.prototype,_native=proto[SYMBOL_ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],_default=_native||createMethod(DEFAULT);if(_native){var IteratorPrototype=$.getProto(_default.call(new Base));cof.set(IteratorPrototype,TAG,!0),$.FW&&$.has(proto,FF_ITERATOR)&&$iter.set(IteratorPrototype,$.that)}if(($.FW||FORCE)&&$iter.set(proto,_default),Iterators[NAME]=_default,Iterators[TAG]=$.that,DEFAULT)if(methods={keys:IS_SET?_default:createMethod(KEYS),values:DEFAULT==VALUES?_default:createMethod(VALUES),entries:DEFAULT!=VALUES?_default:createMethod("entries")},FORCE)for(key in methods)key in proto||$redef(proto,key,methods[key]);else $def($def.P+$def.F*$iter.BUGGY,NAME,methods)};


},{"./$":25,"./$.cof":15,"./$.def":17,"./$.iter":24,"./$.redef":27,"./$.wks":31}],23:[function(require,module,exports){
var SYMBOL_ITERATOR=require("./$.wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][SYMBOL_ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec){if(!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[SYMBOL_ITERATOR]();iter.next=function(){safe=!0},arr[SYMBOL_ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe};


},{"./$.wks":31}],24:[function(require,module,exports){
"use strict";function setIterator(O,value){$.hide(O,SYMBOL_ITERATOR,value),FF_ITERATOR in[]&&$.hide(O,FF_ITERATOR,value)}var $=require("./$"),cof=require("./$.cof"),classof=cof.classof,assert=require("./$.assert"),assertObject=assert.obj,SYMBOL_ITERATOR=require("./$.wks")("iterator"),FF_ITERATOR="@@iterator",Iterators=require("./$.shared")("iterators"),IteratorPrototype={};setIterator(IteratorPrototype,$.that),module.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:Iterators,step:function(done,value){return{value:value,done:!!done}},is:function(it){var O=Object(it),Symbol=$.g.Symbol;return(Symbol&&Symbol.iterator||FF_ITERATOR)in O||SYMBOL_ITERATOR in O||$.has(Iterators,classof(O))},get:function(it){var getIter,Symbol=$.g.Symbol;return void 0!=it&&(getIter=it[Symbol&&Symbol.iterator||FF_ITERATOR]||it[SYMBOL_ITERATOR]||Iterators[classof(it)]),assert($.isFunction(getIter),it," is not iterable!"),assertObject(getIter.call(it))},set:setIterator,create:function(Constructor,NAME,next,proto){Constructor.prototype=$.create(proto||IteratorPrototype,{next:$.desc(1,next)}),cof.set(Constructor,NAME+" Iterator")}};


},{"./$":25,"./$.assert":14,"./$.cof":15,"./$.shared":28,"./$.wks":31}],25:[function(require,module,exports){
"use strict";function toInteger(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}function desc(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}function simpleSet(object,key,value){return object[key]=value,object}function createDefiner(bitmap){return DESC?function(object,key,value){return $.setDesc(object,key,desc(bitmap,value))}:simpleSet}function isObject(it){return null!==it&&("object"==typeof it||"function"==typeof it)}function isFunction(it){return"function"==typeof it}function assertDefined(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}var global="undefined"!=typeof self?self:Function("return this")(),core={},defineProperty=Object.defineProperty,hasOwnProperty={}.hasOwnProperty,ceil=Math.ceil,floor=Math.floor,max=Math.max,min=Math.min,DESC=!!function(){try{return 2==defineProperty({},"a",{get:function(){return 2}}).a}catch(e){}}(),hide=createDefiner(1),$=module.exports=require("./$.fw")({g:global,core:core,html:global.document&&document.documentElement,isObject:isObject,isFunction:isFunction,that:function(){return this},toInteger:toInteger,toLength:function(it){return it>0?min(toInteger(it),9007199254740991):0},toIndex:function(index,length){return index=toInteger(index),0>index?max(index+length,0):min(index,length)},has:function(it,key){return hasOwnProperty.call(it,key)},create:Object.create,getProto:Object.getPrototypeOf,DESC:DESC,desc:desc,getDesc:Object.getOwnPropertyDescriptor,setDesc:defineProperty,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:assertDefined,ES5Object:Object,toObject:function(it){return $.ES5Object(assertDefined(it))},hide:hide,def:createDefiner(0),set:global.Symbol?simpleSet:hide,each:[].forEach});"undefined"!=typeof __e&&(__e=core),"undefined"!=typeof __g&&(__g=global);


},{"./$.fw":19}],26:[function(require,module,exports){
var $=require("./$");module.exports=function(object,el){for(var key,O=$.toObject(object),keys=$.getKeys(O),length=keys.length,index=0;length>index;)if(O[key=keys[index++]]===el)return key};


},{"./$":25}],27:[function(require,module,exports){
module.exports=require("./$").hide;


},{"./$":25}],28:[function(require,module,exports){
var $=require("./$"),SHARED="__core-js_shared__",store=$.g[SHARED]||($.g[SHARED]={});module.exports=function(key){return store[key]||(store[key]={})};


},{"./$":25}],29:[function(require,module,exports){
var $=require("./$");module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String($.assertDefined(that)),i=$.toInteger(pos),l=s.length;return 0>i||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),55296>a||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}};


},{"./$":25}],30:[function(require,module,exports){
function uid(key){return"Symbol(".concat(void 0===key?"":key,")_",(++sid+Math.random()).toString(36))}var sid=0;uid.safe=require("./$").g.Symbol||uid,module.exports=uid;


},{"./$":25}],31:[function(require,module,exports){
var global=require("./$").g,store=require("./$.shared")("wks");module.exports=function(name){return store[name]||(store[name]=global.Symbol&&global.Symbol[name]||require("./$.uid").safe("Symbol."+name))};


},{"./$":25,"./$.shared":28,"./$.uid":30}],32:[function(require,module,exports){
var $=require("./$"),ctx=require("./$.ctx"),$def=require("./$.def"),$iter=require("./$.iter"),call=require("./$.iter-call");$def($def.S+$def.F*!require("./$.iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=Object($.assertDefined(arrayLike)),mapfn=arguments[1],mapping=void 0!==mapfn,f=mapping?ctx(mapfn,arguments[2],2):void 0,index=0;if($iter.is(O))for(iterator=$iter.get(O),result=new("function"==typeof this?this:Array);!(step=iterator.next()).done;index++)result[index]=mapping?call(iterator,f,[step.value,index],!0):step.value;else for(result=new("function"==typeof this?this:Array)(length=$.toLength(O.length));length>index;index++)result[index]=mapping?f(O[index],index):O[index];return result.length=index,result}});


},{"./$":25,"./$.ctx":16,"./$.def":17,"./$.iter":24,"./$.iter-call":21,"./$.iter-detect":23}],33:[function(require,module,exports){
var $=require("./$"),$def=require("./$.def"),isObject=$.isObject,toObject=$.toObject;$.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(KEY,ID){var fn=($.core.Object||{})[KEY]||Object[KEY],forced=0,method={};method[KEY]=0==ID?function(it){return isObject(it)?fn(it):it}:1==ID?function(it){return isObject(it)?fn(it):it}:2==ID?function(it){return isObject(it)?fn(it):it}:3==ID?function(it){return isObject(it)?fn(it):!0}:4==ID?function(it){return isObject(it)?fn(it):!0}:5==ID?function(it){return isObject(it)?fn(it):!1}:6==ID?function(it,key){return fn(toObject(it),key)}:7==ID?function(it){return fn(Object($.assertDefined(it)))}:8==ID?function(it){return fn(toObject(it))}:require("./$.get-names").get;try{fn("z")}catch(e){forced=1}$def($def.S+$def.F*forced,"Object",method)});


},{"./$":25,"./$.def":17,"./$.get-names":20}],34:[function(require,module,exports){
var set=require("./$").set,$at=require("./$.string-at")(!0),ITER=require("./$.uid").safe("iter"),$iter=require("./$.iter"),step=$iter.step;require("./$.iter-define")(String,"String",function(iterated){set(this,ITER,{o:String(iterated),i:0})},function(){var point,iter=this[ITER],O=iter.o,index=iter.i;return index>=O.length?step(1):(point=$at(O,index),iter.i+=point.length,step(0,point))});


},{"./$":25,"./$.iter":24,"./$.iter-define":22,"./$.string-at":29,"./$.uid":30}],35:[function(require,module,exports){
"use strict";function wrap(tag){var sym=AllSymbols[tag]=$.set($create($Symbol.prototype),TAG,tag);return DESC&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:function(value){has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,desc(1,value))}}),sym}function defineProperty(it,key,D){return D&&has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=$create(D,{enumerable:desc(0,!1)})):(has(it,HIDDEN)||setDesc(it,HIDDEN,desc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):setDesc(it,key,D)}function defineProperties(it,P){assertObject(it);for(var key,keys=enumKeys(P=toObject(P)),i=0,l=keys.length;l>i;)defineProperty(it,key=keys[i++],P[key]);return it}function create(it,P){return void 0===P?$create(it):defineProperties($create(it),P)}function propertyIsEnumerable(key){var E=_propertyIsEnumerable.call(this,key);return E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key]?E:!0}function getOwnPropertyDescriptor(it,key){var D=getDesc(it=toObject(it),key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}function getOwnPropertyNames(it){for(var key,names=getNames(toObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||result.push(key);return result}function getOwnPropertySymbols(it){for(var key,names=getNames(toObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])&&result.push(AllSymbols[key]);return result}var $=require("./$"),setTag=require("./$.cof").set,uid=require("./$.uid"),shared=require("./$.shared"),$def=require("./$.def"),$redef=require("./$.redef"),keyOf=require("./$.keyof"),enumKeys=require("./$.enum-keys"),assertObject=require("./$.assert").obj,ObjectProto=Object.prototype,DESC=$.DESC,has=$.has,$create=$.create,getDesc=$.getDesc,setDesc=$.setDesc,desc=$.desc,$names=require("./$.get-names"),getNames=$names.get,toObject=$.toObject,$Symbol=$.g.Symbol,setter=!1,TAG=uid("tag"),HIDDEN=uid("hidden"),_propertyIsEnumerable={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),useNative=$.isFunction($Symbol),setSymbolDesc=DESC?function(){try{return $create(setDesc({},HIDDEN,{get:function(){return setDesc(this,HIDDEN,{value:!1})[HIDDEN]}}))[HIDDEN]||setDesc}catch(e){return function(it,key,D){var protoDesc=getDesc(ObjectProto,key);protoDesc&&delete ObjectProto[key],setDesc(it,key,D),protoDesc&&it!==ObjectProto&&setDesc(ObjectProto,key,protoDesc)}}}():setDesc;useNative||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");return wrap(uid(arguments[0]))},$redef($Symbol.prototype,"toString",function(){return this[TAG]}),$.create=create,$.setDesc=defineProperty,$.getDesc=getOwnPropertyDescriptor,$.setDescs=defineProperties,$.getNames=$names.get=getOwnPropertyNames,$.getSymbols=getOwnPropertySymbols,$.DESC&&$.FW&&$redef(ObjectProto,"propertyIsEnumerable",propertyIsEnumerable,!0));var symbolStatics={"for":function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(key){return keyOf(SymbolRegistry,key)},useSetter:function(){setter=!0},useSimple:function(){setter=!1}};$.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(it){var sym=require("./$.wks")(it);symbolStatics[it]=useNative?sym:wrap(sym)}),setter=!0,$def($def.G+$def.W,{Symbol:$Symbol}),$def($def.S,"Symbol",symbolStatics),$def($def.S+$def.F*!useNative,"Object",{create:create,defineProperty:defineProperty,defineProperties:defineProperties,getOwnPropertyDescriptor:getOwnPropertyDescriptor,getOwnPropertyNames:getOwnPropertyNames,getOwnPropertySymbols:getOwnPropertySymbols}),setTag($Symbol,"Symbol"),setTag(Math,"Math",!0),setTag($.g.JSON,"JSON",!0);


},{"./$":25,"./$.assert":14,"./$.cof":15,"./$.def":17,"./$.enum-keys":18,"./$.get-names":20,"./$.keyof":26,"./$.redef":27,"./$.shared":28,"./$.uid":30,"./$.wks":31}],36:[function(require,module,exports){
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.Immutable=factory()}(this,function(){"use strict";function createClass(ctor,superClass){superClass&&(ctor.prototype=Object.create(superClass.prototype)),ctor.prototype.constructor=ctor}function MakeRef(ref){return ref.value=!1,ref}function SetRef(ref){ref&&(ref.value=!0)}function OwnerID(){}function arrCopy(arr,offset){offset=offset||0;for(var len=Math.max(0,arr.length-offset),newArr=new Array(len),ii=0;len>ii;ii++)newArr[ii]=arr[ii+offset];return newArr}function ensureSize(iter){return void 0===iter.size&&(iter.size=iter.__iterate(returnTrue)),iter.size}function wrapIndex(iter,index){return index>=0?+index:ensureSize(iter)+ +index}function returnTrue(){return!0}function wholeSlice(begin,end,size){return(0===begin||void 0!==size&&-size>=begin)&&(void 0===end||void 0!==size&&end>=size)}function resolveBegin(begin,size){return resolveIndex(begin,size,0)}function resolveEnd(end,size){return resolveIndex(end,size,size)}function resolveIndex(index,size,defaultIndex){return void 0===index?defaultIndex:0>index?Math.max(0,size+index):void 0===size?index:Math.min(size,index)}function Iterable(value){return isIterable(value)?value:Seq(value)}function KeyedIterable(value){return isKeyed(value)?value:KeyedSeq(value)}function IndexedIterable(value){return isIndexed(value)?value:IndexedSeq(value)}function SetIterable(value){return isIterable(value)&&!isAssociative(value)?value:SetSeq(value)}function isIterable(maybeIterable){return!(!maybeIterable||!maybeIterable[IS_ITERABLE_SENTINEL])}function isKeyed(maybeKeyed){return!(!maybeKeyed||!maybeKeyed[IS_KEYED_SENTINEL])}function isIndexed(maybeIndexed){return!(!maybeIndexed||!maybeIndexed[IS_INDEXED_SENTINEL])}function isAssociative(maybeAssociative){return isKeyed(maybeAssociative)||isIndexed(maybeAssociative)}function isOrdered(maybeOrdered){return!(!maybeOrdered||!maybeOrdered[IS_ORDERED_SENTINEL])}function src_Iterator__Iterator(next){this.next=next}function iteratorValue(type,k,v,iteratorResult){var value=0===type?k:1===type?v:[k,v];return iteratorResult?iteratorResult.value=value:iteratorResult={value:value,done:!1},iteratorResult}function iteratorDone(){return{value:void 0,done:!0}}function hasIterator(maybeIterable){return!!getIteratorFn(maybeIterable)}function isIterator(maybeIterator){return maybeIterator&&"function"==typeof maybeIterator.next}function getIterator(iterable){var iteratorFn=getIteratorFn(iterable);return iteratorFn&&iteratorFn.call(iterable)}function getIteratorFn(iterable){var iteratorFn=iterable&&(REAL_ITERATOR_SYMBOL&&iterable[REAL_ITERATOR_SYMBOL]||iterable[FAUX_ITERATOR_SYMBOL]);return"function"==typeof iteratorFn?iteratorFn:void 0}function isArrayLike(value){return value&&"number"==typeof value.length}function Seq(value){return null===value||void 0===value?emptySequence():isIterable(value)?value.toSeq():seqFromValue(value)}function KeyedSeq(value){return null===value||void 0===value?emptySequence().toKeyedSeq():isIterable(value)?isKeyed(value)?value.toSeq():value.fromEntrySeq():keyedSeqFromValue(value)}function IndexedSeq(value){return null===value||void 0===value?emptySequence():isIterable(value)?isKeyed(value)?value.entrySeq():value.toIndexedSeq():indexedSeqFromValue(value)}function SetSeq(value){return(null===value||void 0===value?emptySequence():isIterable(value)?isKeyed(value)?value.entrySeq():value:indexedSeqFromValue(value)).toSetSeq()}function ArraySeq(array){this._array=array,this.size=array.length}function ObjectSeq(object){var keys=Object.keys(object);this._object=object,this._keys=keys,this.size=keys.length}function IterableSeq(iterable){this._iterable=iterable,this.size=iterable.length||iterable.size}function IteratorSeq(iterator){this._iterator=iterator,this._iteratorCache=[]}function isSeq(maybeSeq){return!(!maybeSeq||!maybeSeq[IS_SEQ_SENTINEL])}function emptySequence(){return EMPTY_SEQ||(EMPTY_SEQ=new ArraySeq([]))}function keyedSeqFromValue(value){var seq=Array.isArray(value)?new ArraySeq(value).fromEntrySeq():isIterator(value)?new IteratorSeq(value).fromEntrySeq():hasIterator(value)?new IterableSeq(value).fromEntrySeq():"object"==typeof value?new ObjectSeq(value):void 0;if(!seq)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+value);return seq}function indexedSeqFromValue(value){var seq=maybeIndexedSeqFromValue(value);if(!seq)throw new TypeError("Expected Array or iterable object of values: "+value);return seq}function seqFromValue(value){var seq=maybeIndexedSeqFromValue(value)||"object"==typeof value&&new ObjectSeq(value);if(!seq)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+value);return seq}function maybeIndexedSeqFromValue(value){return isArrayLike(value)?new ArraySeq(value):isIterator(value)?new IteratorSeq(value):hasIterator(value)?new IterableSeq(value):void 0}function seqIterate(seq,fn,reverse,useKeys){var cache=seq._cache;if(cache){for(var maxIndex=cache.length-1,ii=0;maxIndex>=ii;ii++){var entry=cache[reverse?maxIndex-ii:ii];if(fn(entry[1],useKeys?entry[0]:ii,seq)===!1)return ii+1}return ii}return seq.__iterateUncached(fn,reverse)}function seqIterator(seq,type,reverse,useKeys){var cache=seq._cache;if(cache){var maxIndex=cache.length-1,ii=0;return new src_Iterator__Iterator(function(){var entry=cache[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,useKeys?entry[0]:ii-1,entry[1])})}return seq.__iteratorUncached(type,reverse)}function Collection(){throw TypeError("Abstract")}function KeyedCollection(){}function IndexedCollection(){}function SetCollection(){}function is(valueA,valueB){if(valueA===valueB||valueA!==valueA&&valueB!==valueB)return!0;if(!valueA||!valueB)return!1;if("function"==typeof valueA.valueOf&&"function"==typeof valueB.valueOf){if(valueA=valueA.valueOf(),valueB=valueB.valueOf(),valueA===valueB||valueA!==valueA&&valueB!==valueB)return!0;if(!valueA||!valueB)return!1}return"function"==typeof valueA.equals&&"function"==typeof valueB.equals&&valueA.equals(valueB)?!0:!1}function fromJS(json,converter){return converter?fromJSWith(converter,json,"",{"":json}):fromJSDefault(json)}function fromJSWith(converter,json,key,parentJSON){return Array.isArray(json)?converter.call(parentJSON,key,IndexedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)})):isPlainObj(json)?converter.call(parentJSON,key,KeyedSeq(json).map(function(v,k){return fromJSWith(converter,v,k,json)})):json}function fromJSDefault(json){return Array.isArray(json)?IndexedSeq(json).map(fromJSDefault).toList():isPlainObj(json)?KeyedSeq(json).map(fromJSDefault).toMap():json}function isPlainObj(value){return value&&(value.constructor===Object||void 0===value.constructor)}function smi(i32){return i32>>>1&1073741824|3221225471&i32}function hash(o){if(o===!1||null===o||void 0===o)return 0;if("function"==typeof o.valueOf&&(o=o.valueOf(),o===!1||null===o||void 0===o))return 0;if(o===!0)return 1;var type=typeof o;if("number"===type){var h=0|o;for(h!==o&&(h^=4294967295*o);o>4294967295;)o/=4294967295,h^=o;return smi(h)}return"string"===type?o.length>STRING_HASH_CACHE_MIN_STRLEN?cachedHashString(o):hashString(o):"function"==typeof o.hashCode?o.hashCode():hashJSObj(o)}function cachedHashString(string){var hash=stringHashCache[string];return void 0===hash&&(hash=hashString(string),STRING_HASH_CACHE_SIZE===STRING_HASH_CACHE_MAX_SIZE&&(STRING_HASH_CACHE_SIZE=0,stringHashCache={}),STRING_HASH_CACHE_SIZE++,stringHashCache[string]=hash),hash}function hashString(string){for(var hash=0,ii=0;ii<string.length;ii++)hash=31*hash+string.charCodeAt(ii)|0;return smi(hash)}function hashJSObj(obj){var hash;if(usingWeakMap&&(hash=weakMap.get(obj),void 0!==hash))return hash;if(hash=obj[UID_HASH_KEY],void 0!==hash)return hash;if(!canDefineProperty){if(hash=obj.propertyIsEnumerable&&obj.propertyIsEnumerable[UID_HASH_KEY],void 0!==hash)return hash;if(hash=getIENodeHash(obj),void 0!==hash)return hash}if(hash=++objHashUID,1073741824&objHashUID&&(objHashUID=0),usingWeakMap)weakMap.set(obj,hash);else{if(void 0!==isExtensible&&isExtensible(obj)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(canDefineProperty)Object.defineProperty(obj,UID_HASH_KEY,{enumerable:!1,configurable:!1,writable:!1,value:hash});else if(void 0!==obj.propertyIsEnumerable&&obj.propertyIsEnumerable===obj.constructor.prototype.propertyIsEnumerable)obj.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},obj.propertyIsEnumerable[UID_HASH_KEY]=hash;else{if(void 0===obj.nodeType)throw new Error("Unable to set a non-enumerable property on object.");obj[UID_HASH_KEY]=hash}}return hash}function getIENodeHash(node){if(node&&node.nodeType>0)switch(node.nodeType){case 1:return node.uniqueID;case 9:return node.documentElement&&node.documentElement.uniqueID}}function invariant(condition,error){if(!condition)throw new Error(error)}function assertNotInfinite(size){invariant(size!==1/0,"Cannot perform this action with an infinite size.")}function ToKeyedSequence(indexed,useKeys){this._iter=indexed,this._useKeys=useKeys,this.size=indexed.size}function ToIndexedSequence(iter){this._iter=iter,this.size=iter.size}function ToSetSequence(iter){this._iter=iter,this.size=iter.size}function FromEntriesSequence(entries){this._iter=entries,this.size=entries.size}function flipFactory(iterable){var flipSequence=makeSequence(iterable);return flipSequence._iter=iterable,flipSequence.size=iterable.size,flipSequence.flip=function(){return iterable},flipSequence.reverse=function(){var reversedSequence=iterable.reverse.apply(this);return reversedSequence.flip=function(){return iterable.reverse()},reversedSequence},flipSequence.has=function(key){return iterable.includes(key)},flipSequence.includes=function(key){return iterable.has(key)},flipSequence.cacheResult=cacheResultThrough,flipSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(k,v,this$0)!==!1},reverse)},flipSequence.__iteratorUncached=function(type,reverse){if(type===ITERATE_ENTRIES){var iterator=iterable.__iterator(type,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();if(!step.done){var k=step.value[0];step.value[0]=step.value[1],step.value[1]=k}return step})}return iterable.__iterator(type===ITERATE_VALUES?ITERATE_KEYS:ITERATE_VALUES,reverse)},flipSequence}function mapFactory(iterable,mapper,context){var mappedSequence=makeSequence(iterable);return mappedSequence.size=iterable.size,mappedSequence.has=function(key){return iterable.has(key)},mappedSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v===NOT_SET?notSetValue:mapper.call(context,v,key,iterable)},mappedSequence.__iterateUncached=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k,c){return fn(mapper.call(context,v,k,c),k,this$0)!==!1},reverse)},mappedSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();if(step.done)return step;var entry=step.value,key=entry[0];return iteratorValue(type,key,mapper.call(context,entry[1],key,iterable),step)})},mappedSequence}function reverseFactory(iterable,useKeys){var reversedSequence=makeSequence(iterable);return reversedSequence._iter=iterable,reversedSequence.size=iterable.size,reversedSequence.reverse=function(){return iterable},iterable.flip&&(reversedSequence.flip=function(){var flipSequence=flipFactory(iterable);return flipSequence.reverse=function(){return iterable.flip()},flipSequence}),reversedSequence.get=function(key,notSetValue){return iterable.get(useKeys?key:-1-key,notSetValue)},reversedSequence.has=function(key){return iterable.has(useKeys?key:-1-key)},reversedSequence.includes=function(value){return iterable.includes(value)},reversedSequence.cacheResult=cacheResultThrough,reversedSequence.__iterate=function(fn,reverse){var this$0=this;return iterable.__iterate(function(v,k){return fn(v,k,this$0)},!reverse)},reversedSequence.__iterator=function(type,reverse){return iterable.__iterator(type,!reverse)},reversedSequence}function filterFactory(iterable,predicate,context,useKeys){var filterSequence=makeSequence(iterable);return useKeys&&(filterSequence.has=function(key){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&!!predicate.call(context,v,key,iterable)},filterSequence.get=function(key,notSetValue){var v=iterable.get(key,NOT_SET);return v!==NOT_SET&&predicate.call(context,v,key,iterable)?v:notSetValue}),filterSequence.__iterateUncached=function(fn,reverse){var this$0=this,iterations=0;return iterable.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?(iterations++,fn(v,useKeys?k:iterations-1,this$0)):void 0},reverse),iterations},filterSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),iterations=0;return new src_Iterator__Iterator(function(){for(;;){var step=iterator.next();if(step.done)return step;var entry=step.value,key=entry[0],value=entry[1];if(predicate.call(context,value,key,iterable))return iteratorValue(type,useKeys?key:iterations++,value,step)}})},filterSequence}function countByFactory(iterable,grouper,context){var groups=src_Map__Map().asMutable();return iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),0,function(a){return a+1})}),groups.asImmutable()}function groupByFactory(iterable,grouper,context){var isKeyedIter=isKeyed(iterable),groups=(isOrdered(iterable)?OrderedMap():src_Map__Map()).asMutable();iterable.__iterate(function(v,k){groups.update(grouper.call(context,v,k,iterable),function(a){return a=a||[],a.push(isKeyedIter?[k,v]:v),a})});var coerce=iterableClass(iterable);return groups.map(function(arr){return reify(iterable,coerce(arr))})}function sliceFactory(iterable,begin,end,useKeys){var originalSize=iterable.size;if(wholeSlice(begin,end,originalSize))return iterable;var resolvedBegin=resolveBegin(begin,originalSize),resolvedEnd=resolveEnd(end,originalSize);if(resolvedBegin!==resolvedBegin||resolvedEnd!==resolvedEnd)return sliceFactory(iterable.toSeq().cacheResult(),begin,end,useKeys);var sliceSize,resolvedSize=resolvedEnd-resolvedBegin;resolvedSize===resolvedSize&&(sliceSize=0>resolvedSize?0:resolvedSize);var sliceSeq=makeSequence(iterable);return sliceSeq.size=sliceSize,!useKeys&&isSeq(iterable)&&sliceSize>=0&&(sliceSeq.get=function(index,notSetValue){return index=wrapIndex(this,index),index>=0&&sliceSize>index?iterable.get(index+resolvedBegin,notSetValue):notSetValue}),sliceSeq.__iterateUncached=function(fn,reverse){var this$0=this;if(0===sliceSize)return 0;if(reverse)return this.cacheResult().__iterate(fn,reverse);var skipped=0,isSkipping=!0,iterations=0;return iterable.__iterate(function(v,k){return isSkipping&&(isSkipping=skipped++<resolvedBegin)?void 0:(iterations++,fn(v,useKeys?k:iterations-1,this$0)!==!1&&iterations!==sliceSize)}),iterations},sliceSeq.__iteratorUncached=function(type,reverse){if(0!==sliceSize&&reverse)return this.cacheResult().__iterator(type,reverse);var iterator=0!==sliceSize&&iterable.__iterator(type,reverse),skipped=0,iterations=0;return new src_Iterator__Iterator(function(){for(;skipped++<resolvedBegin;)iterator.next();if(++iterations>sliceSize)return iteratorDone();var step=iterator.next();return useKeys||type===ITERATE_VALUES?step:type===ITERATE_KEYS?iteratorValue(type,iterations-1,void 0,step):iteratorValue(type,iterations-1,step.value[1],step)})},sliceSeq}function takeWhileFactory(iterable,predicate,context){var takeSequence=makeSequence(iterable);return takeSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterate(fn,reverse);var iterations=0;return iterable.__iterate(function(v,k,c){return predicate.call(context,v,k,c)&&++iterations&&fn(v,k,this$0)}),iterations},takeSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),iterating=!0;return new src_Iterator__Iterator(function(){if(!iterating)return iteratorDone();var step=iterator.next();if(step.done)return step;var entry=step.value,k=entry[0],v=entry[1];return predicate.call(context,v,k,this$0)?type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step):(iterating=!1,iteratorDone())})},takeSequence}function skipWhileFactory(iterable,predicate,context,useKeys){var skipSequence=makeSequence(iterable);return skipSequence.__iterateUncached=function(fn,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterate(fn,reverse);var isSkipping=!0,iterations=0;return iterable.__iterate(function(v,k,c){return isSkipping&&(isSkipping=predicate.call(context,v,k,c))?void 0:(iterations++,fn(v,useKeys?k:iterations-1,this$0))}),iterations},skipSequence.__iteratorUncached=function(type,reverse){var this$0=this;if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=iterable.__iterator(ITERATE_ENTRIES,reverse),skipping=!0,iterations=0;return new src_Iterator__Iterator(function(){var step,k,v;do{if(step=iterator.next(),step.done)return useKeys||type===ITERATE_VALUES?step:type===ITERATE_KEYS?iteratorValue(type,iterations++,void 0,step):iteratorValue(type,iterations++,step.value[1],step);var entry=step.value;k=entry[0],v=entry[1],skipping&&(skipping=predicate.call(context,v,k,this$0))}while(skipping);return type===ITERATE_ENTRIES?step:iteratorValue(type,k,v,step)})},skipSequence}function concatFactory(iterable,values){var isKeyedIterable=isKeyed(iterable),iters=[iterable].concat(values).map(function(v){return isIterable(v)?isKeyedIterable&&(v=KeyedIterable(v)):v=isKeyedIterable?keyedSeqFromValue(v):indexedSeqFromValue(Array.isArray(v)?v:[v]),v}).filter(function(v){return 0!==v.size});if(0===iters.length)return iterable;if(1===iters.length){var singleton=iters[0];if(singleton===iterable||isKeyedIterable&&isKeyed(singleton)||isIndexed(iterable)&&isIndexed(singleton))return singleton}var concatSeq=new ArraySeq(iters);return isKeyedIterable?concatSeq=concatSeq.toKeyedSeq():isIndexed(iterable)||(concatSeq=concatSeq.toSetSeq()),concatSeq=concatSeq.flatten(!0),concatSeq.size=iters.reduce(function(sum,seq){if(void 0!==sum){var size=seq.size;if(void 0!==size)return sum+size}},0),concatSeq}function flattenFactory(iterable,depth,useKeys){var flatSequence=makeSequence(iterable);return flatSequence.__iterateUncached=function(fn,reverse){function flatDeep(iter,currentDepth){var this$0=this;iter.__iterate(function(v,k){return(!depth||depth>currentDepth)&&isIterable(v)?flatDeep(v,currentDepth+1):fn(v,useKeys?k:iterations++,this$0)===!1&&(stopped=!0),!stopped},reverse)}var iterations=0,stopped=!1;return flatDeep(iterable,0),iterations},flatSequence.__iteratorUncached=function(type,reverse){var iterator=iterable.__iterator(type,reverse),stack=[],iterations=0;return new src_Iterator__Iterator(function(){for(;iterator;){var step=iterator.next();if(step.done===!1){var v=step.value;if(type===ITERATE_ENTRIES&&(v=v[1]),depth&&!(stack.length<depth)||!isIterable(v))return useKeys?step:iteratorValue(type,iterations++,v,step);stack.push(iterator),iterator=v.__iterator(type,reverse)}else iterator=stack.pop()}return iteratorDone()})},flatSequence}function flatMapFactory(iterable,mapper,context){var coerce=iterableClass(iterable);return iterable.toSeq().map(function(v,k){return coerce(mapper.call(context,v,k,iterable))}).flatten(!0)}function interposeFactory(iterable,separator){var interposedSequence=makeSequence(iterable);return interposedSequence.size=iterable.size&&2*iterable.size-1,interposedSequence.__iterateUncached=function(fn,reverse){var this$0=this,iterations=0;return iterable.__iterate(function(v,k){return(!iterations||fn(separator,iterations++,this$0)!==!1)&&fn(v,iterations++,this$0)!==!1},reverse),iterations},interposedSequence.__iteratorUncached=function(type,reverse){var step,iterator=iterable.__iterator(ITERATE_VALUES,reverse),iterations=0;return new src_Iterator__Iterator(function(){return(!step||iterations%2)&&(step=iterator.next(),step.done)?step:iterations%2?iteratorValue(type,iterations++,separator):iteratorValue(type,iterations++,step.value,step)})},interposedSequence}function sortFactory(iterable,comparator,mapper){comparator||(comparator=defaultComparator);var isKeyedIterable=isKeyed(iterable),index=0,entries=iterable.toSeq().map(function(v,k){return[k,v,index++,mapper?mapper(v,k,iterable):v]}).toArray();return entries.sort(function(a,b){return comparator(a[3],b[3])||a[2]-b[2]}).forEach(isKeyedIterable?function(v,i){entries[i].length=2}:function(v,i){entries[i]=v[1]}),isKeyedIterable?KeyedSeq(entries):isIndexed(iterable)?IndexedSeq(entries):SetSeq(entries)}function maxFactory(iterable,comparator,mapper){if(comparator||(comparator=defaultComparator),mapper){var entry=iterable.toSeq().map(function(v,k){return[v,mapper(v,k,iterable)]}).reduce(function(a,b){return maxCompare(comparator,a[1],b[1])?b:a});return entry&&entry[0]}return iterable.reduce(function(a,b){return maxCompare(comparator,a,b)?b:a})}function maxCompare(comparator,a,b){var comp=comparator(b,a);return 0===comp&&b!==a&&(void 0===b||null===b||b!==b)||comp>0}function zipWithFactory(keyIter,zipper,iters){var zipSequence=makeSequence(keyIter);return zipSequence.size=new ArraySeq(iters).map(function(i){return i.size}).min(),zipSequence.__iterate=function(fn,reverse){for(var step,iterator=this.__iterator(ITERATE_VALUES,reverse),iterations=0;!(step=iterator.next()).done&&fn(step.value,iterations++,this)!==!1;);return iterations},zipSequence.__iteratorUncached=function(type,reverse){var iterators=iters.map(function(i){return i=Iterable(i),getIterator(reverse?i.reverse():i)}),iterations=0,isDone=!1;return new src_Iterator__Iterator(function(){var steps;return isDone||(steps=iterators.map(function(i){return i.next()}),isDone=steps.some(function(s){return s.done})),isDone?iteratorDone():iteratorValue(type,iterations++,zipper.apply(null,steps.map(function(s){return s.value})))})},zipSequence}function reify(iter,seq){return isSeq(iter)?seq:iter.constructor(seq)}function validateEntry(entry){if(entry!==Object(entry))throw new TypeError("Expected [K, V] tuple: "+entry)}function resolveSize(iter){return assertNotInfinite(iter.size),ensureSize(iter)}function iterableClass(iterable){return isKeyed(iterable)?KeyedIterable:isIndexed(iterable)?IndexedIterable:SetIterable}function makeSequence(iterable){return Object.create((isKeyed(iterable)?KeyedSeq:isIndexed(iterable)?IndexedSeq:SetSeq).prototype)}function cacheResultThrough(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Seq.prototype.cacheResult.call(this)}function defaultComparator(a,b){return a>b?1:b>a?-1:0}function forceIterator(keyPath){var iter=getIterator(keyPath);if(!iter){if(!isArrayLike(keyPath))throw new TypeError("Expected iterable or array-like: "+keyPath);iter=getIterator(Iterable(keyPath))}return iter}function src_Map__Map(value){return null===value||void 0===value?emptyMap():isMap(value)?value:emptyMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v,k){return map.set(k,v)})})}function isMap(maybeMap){return!(!maybeMap||!maybeMap[IS_MAP_SENTINEL])}function ArrayMapNode(ownerID,entries){this.ownerID=ownerID,this.entries=entries}function BitmapIndexedNode(ownerID,bitmap,nodes){this.ownerID=ownerID,this.bitmap=bitmap,this.nodes=nodes}function HashArrayMapNode(ownerID,count,nodes){this.ownerID=ownerID,this.count=count,this.nodes=nodes}function HashCollisionNode(ownerID,keyHash,entries){this.ownerID=ownerID,this.keyHash=keyHash,this.entries=entries}function ValueNode(ownerID,keyHash,entry){this.ownerID=ownerID,this.keyHash=keyHash,this.entry=entry}function MapIterator(map,type,reverse){this._type=type,this._reverse=reverse,this._stack=map._root&&mapIteratorFrame(map._root)}function mapIteratorValue(type,entry){return iteratorValue(type,entry[0],entry[1])}function mapIteratorFrame(node,prev){return{node:node,index:0,__prev:prev}}function makeMap(size,root,ownerID,hash){var map=Object.create(MapPrototype);return map.size=size,map._root=root,map.__ownerID=ownerID,map.__hash=hash,map.__altered=!1,map}function emptyMap(){return EMPTY_MAP||(EMPTY_MAP=makeMap(0))}function updateMap(map,k,v){var newRoot,newSize;if(map._root){var didChangeSize=MakeRef(CHANGE_LENGTH),didAlter=MakeRef(DID_ALTER);if(newRoot=updateNode(map._root,map.__ownerID,0,void 0,k,v,didChangeSize,didAlter),!didAlter.value)return map;newSize=map.size+(didChangeSize.value?v===NOT_SET?-1:1:0)}else{if(v===NOT_SET)return map;newSize=1,newRoot=new ArrayMapNode(map.__ownerID,[[k,v]])}return map.__ownerID?(map.size=newSize,map._root=newRoot,map.__hash=void 0,map.__altered=!0,map):newRoot?makeMap(newSize,newRoot):emptyMap()}function updateNode(node,ownerID,shift,keyHash,key,value,didChangeSize,didAlter){return node?node.update(ownerID,shift,keyHash,key,value,didChangeSize,didAlter):value===NOT_SET?node:(SetRef(didAlter),SetRef(didChangeSize),new ValueNode(ownerID,keyHash,[key,value]))}function isLeafNode(node){return node.constructor===ValueNode||node.constructor===HashCollisionNode}function mergeIntoNode(node,ownerID,shift,keyHash,entry){if(node.keyHash===keyHash)return new HashCollisionNode(ownerID,keyHash,[node.entry,entry]);var newNode,idx1=(0===shift?node.keyHash:node.keyHash>>>shift)&MASK,idx2=(0===shift?keyHash:keyHash>>>shift)&MASK,nodes=idx1===idx2?[mergeIntoNode(node,ownerID,shift+SHIFT,keyHash,entry)]:(newNode=new ValueNode(ownerID,keyHash,entry),idx2>idx1?[node,newNode]:[newNode,node]);return new BitmapIndexedNode(ownerID,1<<idx1|1<<idx2,nodes)}function createNodes(ownerID,entries,key,value){ownerID||(ownerID=new OwnerID);for(var node=new ValueNode(ownerID,hash(key),[key,value]),ii=0;ii<entries.length;ii++){var entry=entries[ii];node=node.update(ownerID,0,void 0,entry[0],entry[1])}return node}function packNodes(ownerID,nodes,count,excluding){for(var bitmap=0,packedII=0,packedNodes=new Array(count),ii=0,bit=1,len=nodes.length;len>ii;ii++,bit<<=1){var node=nodes[ii];void 0!==node&&ii!==excluding&&(bitmap|=bit,packedNodes[packedII++]=node)}return new BitmapIndexedNode(ownerID,bitmap,packedNodes)}function expandNodes(ownerID,nodes,bitmap,including,node){for(var count=0,expandedNodes=new Array(SIZE),ii=0;0!==bitmap;ii++,bitmap>>>=1)expandedNodes[ii]=1&bitmap?nodes[count++]:void 0;return expandedNodes[including]=node,new HashArrayMapNode(ownerID,count+1,expandedNodes)}function mergeIntoMapWith(map,merger,iterables){for(var iters=[],ii=0;ii<iterables.length;ii++){var value=iterables[ii],iter=KeyedIterable(value);isIterable(value)||(iter=iter.map(function(v){return fromJS(v)})),iters.push(iter)}return mergeIntoCollectionWith(map,merger,iters)}function deepMerger(merger){return function(existing,value,key){return existing&&existing.mergeDeepWith&&isIterable(value)?existing.mergeDeepWith(merger,value):merger?merger(existing,value,key):value}}function mergeIntoCollectionWith(collection,merger,iters){return iters=iters.filter(function(x){return 0!==x.size}),0===iters.length?collection:0!==collection.size||collection.__ownerID||1!==iters.length?collection.withMutations(function(collection){for(var mergeIntoMap=merger?function(value,key){collection.update(key,NOT_SET,function(existing){return existing===NOT_SET?value:merger(existing,value,key)})}:function(value,key){collection.set(key,value)},ii=0;ii<iters.length;ii++)iters[ii].forEach(mergeIntoMap)}):collection.constructor(iters[0])}function updateInDeepMap(existing,keyPathIter,notSetValue,updater){var isNotSet=existing===NOT_SET,step=keyPathIter.next();if(step.done){var existingValue=isNotSet?notSetValue:existing,newValue=updater(existingValue);return newValue===existingValue?existing:newValue}invariant(isNotSet||existing&&existing.set,"invalid keyPath");var key=step.value,nextExisting=isNotSet?NOT_SET:existing.get(key,NOT_SET),nextUpdated=updateInDeepMap(nextExisting,keyPathIter,notSetValue,updater);return nextUpdated===nextExisting?existing:nextUpdated===NOT_SET?existing.remove(key):(isNotSet?emptyMap():existing).set(key,nextUpdated)}function popCount(x){return x-=x>>1&1431655765,x=(858993459&x)+(x>>2&858993459),x=x+(x>>4)&252645135,x+=x>>8,x+=x>>16,127&x}function setIn(array,idx,val,canEdit){var newArray=canEdit?array:arrCopy(array);return newArray[idx]=val,newArray}function spliceIn(array,idx,val,canEdit){var newLen=array.length+1;if(canEdit&&idx+1===newLen)return array[idx]=val,array;for(var newArray=new Array(newLen),after=0,ii=0;newLen>ii;ii++)ii===idx?(newArray[ii]=val,after=-1):newArray[ii]=array[ii+after];return newArray}function spliceOut(array,idx,canEdit){var newLen=array.length-1;if(canEdit&&idx===newLen)return array.pop(),array;for(var newArray=new Array(newLen),after=0,ii=0;newLen>ii;ii++)ii===idx&&(after=1),newArray[ii]=array[ii+after];return newArray}function List(value){var empty=emptyList();if(null===value||void 0===value)return empty;if(isList(value))return value;var iter=IndexedIterable(value),size=iter.size;return 0===size?empty:(assertNotInfinite(size),size>0&&SIZE>size?makeList(0,size,SHIFT,null,new VNode(iter.toArray())):empty.withMutations(function(list){list.setSize(size),iter.forEach(function(v,i){return list.set(i,v)})}))}function isList(maybeList){return!(!maybeList||!maybeList[IS_LIST_SENTINEL])}function VNode(array,ownerID){this.array=array,this.ownerID=ownerID}function iterateList(list,reverse){function iterateNodeOrLeaf(node,level,offset){return 0===level?iterateLeaf(node,offset):iterateNode(node,level,offset)}function iterateLeaf(node,offset){var array=offset===tailPos?tail&&tail.array:node&&node.array,from=offset>left?0:left-offset,to=right-offset;return to>SIZE&&(to=SIZE),function(){if(from===to)return DONE;var idx=reverse?--to:from++;return array&&array[idx]}}function iterateNode(node,level,offset){var values,array=node&&node.array,from=offset>left?0:left-offset>>level,to=(right-offset>>level)+1;return to>SIZE&&(to=SIZE),function(){for(;;){if(values){var value=values();if(value!==DONE)return value;values=null}if(from===to)return DONE;var idx=reverse?--to:from++;values=iterateNodeOrLeaf(array&&array[idx],level-SHIFT,offset+(idx<<level))}}}var left=list._origin,right=list._capacity,tailPos=getTailOffset(right),tail=list._tail;return iterateNodeOrLeaf(list._root,list._level,0)}function makeList(origin,capacity,level,root,tail,ownerID,hash){var list=Object.create(ListPrototype);return list.size=capacity-origin,list._origin=origin,list._capacity=capacity,list._level=level,list._root=root,list._tail=tail,list.__ownerID=ownerID,list.__hash=hash,list.__altered=!1,list}function emptyList(){return EMPTY_LIST||(EMPTY_LIST=makeList(0,0,SHIFT))}function updateList(list,index,value){if(index=wrapIndex(list,index),index>=list.size||0>index)return list.withMutations(function(list){0>index?setListBounds(list,index).set(0,value):setListBounds(list,0,index+1).set(index,value)});index+=list._origin;var newTail=list._tail,newRoot=list._root,didAlter=MakeRef(DID_ALTER);return index>=getTailOffset(list._capacity)?newTail=updateVNode(newTail,list.__ownerID,0,index,value,didAlter):newRoot=updateVNode(newRoot,list.__ownerID,list._level,index,value,didAlter),didAlter.value?list.__ownerID?(list._root=newRoot,list._tail=newTail,list.__hash=void 0,list.__altered=!0,list):makeList(list._origin,list._capacity,list._level,newRoot,newTail):list}function updateVNode(node,ownerID,level,index,value,didAlter){var idx=index>>>level&MASK,nodeHas=node&&idx<node.array.length;if(!nodeHas&&void 0===value)return node;var newNode;if(level>0){var lowerNode=node&&node.array[idx],newLowerNode=updateVNode(lowerNode,ownerID,level-SHIFT,index,value,didAlter);return newLowerNode===lowerNode?node:(newNode=editableVNode(node,ownerID),newNode.array[idx]=newLowerNode,
newNode)}return nodeHas&&node.array[idx]===value?node:(SetRef(didAlter),newNode=editableVNode(node,ownerID),void 0===value&&idx===newNode.array.length-1?newNode.array.pop():newNode.array[idx]=value,newNode)}function editableVNode(node,ownerID){return ownerID&&node&&ownerID===node.ownerID?node:new VNode(node?node.array.slice():[],ownerID)}function listNodeFor(list,rawIndex){if(rawIndex>=getTailOffset(list._capacity))return list._tail;if(rawIndex<1<<list._level+SHIFT){for(var node=list._root,level=list._level;node&&level>0;)node=node.array[rawIndex>>>level&MASK],level-=SHIFT;return node}}function setListBounds(list,begin,end){var owner=list.__ownerID||new OwnerID,oldOrigin=list._origin,oldCapacity=list._capacity,newOrigin=oldOrigin+begin,newCapacity=void 0===end?oldCapacity:0>end?oldCapacity+end:oldOrigin+end;if(newOrigin===oldOrigin&&newCapacity===oldCapacity)return list;if(newOrigin>=newCapacity)return list.clear();for(var newLevel=list._level,newRoot=list._root,offsetShift=0;0>newOrigin+offsetShift;)newRoot=new VNode(newRoot&&newRoot.array.length?[void 0,newRoot]:[],owner),newLevel+=SHIFT,offsetShift+=1<<newLevel;offsetShift&&(newOrigin+=offsetShift,oldOrigin+=offsetShift,newCapacity+=offsetShift,oldCapacity+=offsetShift);for(var oldTailOffset=getTailOffset(oldCapacity),newTailOffset=getTailOffset(newCapacity);newTailOffset>=1<<newLevel+SHIFT;)newRoot=new VNode(newRoot&&newRoot.array.length?[newRoot]:[],owner),newLevel+=SHIFT;var oldTail=list._tail,newTail=oldTailOffset>newTailOffset?listNodeFor(list,newCapacity-1):newTailOffset>oldTailOffset?new VNode([],owner):oldTail;if(oldTail&&newTailOffset>oldTailOffset&&oldCapacity>newOrigin&&oldTail.array.length){newRoot=editableVNode(newRoot,owner);for(var node=newRoot,level=newLevel;level>SHIFT;level-=SHIFT){var idx=oldTailOffset>>>level&MASK;node=node.array[idx]=editableVNode(node.array[idx],owner)}node.array[oldTailOffset>>>SHIFT&MASK]=oldTail}if(oldCapacity>newCapacity&&(newTail=newTail&&newTail.removeAfter(owner,0,newCapacity)),newOrigin>=newTailOffset)newOrigin-=newTailOffset,newCapacity-=newTailOffset,newLevel=SHIFT,newRoot=null,newTail=newTail&&newTail.removeBefore(owner,0,newOrigin);else if(newOrigin>oldOrigin||oldTailOffset>newTailOffset){for(offsetShift=0;newRoot;){var beginIndex=newOrigin>>>newLevel&MASK;if(beginIndex!==newTailOffset>>>newLevel&MASK)break;beginIndex&&(offsetShift+=(1<<newLevel)*beginIndex),newLevel-=SHIFT,newRoot=newRoot.array[beginIndex]}newRoot&&newOrigin>oldOrigin&&(newRoot=newRoot.removeBefore(owner,newLevel,newOrigin-offsetShift)),newRoot&&oldTailOffset>newTailOffset&&(newRoot=newRoot.removeAfter(owner,newLevel,newTailOffset-offsetShift)),offsetShift&&(newOrigin-=offsetShift,newCapacity-=offsetShift)}return list.__ownerID?(list.size=newCapacity-newOrigin,list._origin=newOrigin,list._capacity=newCapacity,list._level=newLevel,list._root=newRoot,list._tail=newTail,list.__hash=void 0,list.__altered=!0,list):makeList(newOrigin,newCapacity,newLevel,newRoot,newTail)}function mergeIntoListWith(list,merger,iterables){for(var iters=[],maxSize=0,ii=0;ii<iterables.length;ii++){var value=iterables[ii],iter=IndexedIterable(value);iter.size>maxSize&&(maxSize=iter.size),isIterable(value)||(iter=iter.map(function(v){return fromJS(v)})),iters.push(iter)}return maxSize>list.size&&(list=list.setSize(maxSize)),mergeIntoCollectionWith(list,merger,iters)}function getTailOffset(size){return SIZE>size?0:size-1>>>SHIFT<<SHIFT}function OrderedMap(value){return null===value||void 0===value?emptyOrderedMap():isOrderedMap(value)?value:emptyOrderedMap().withMutations(function(map){var iter=KeyedIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v,k){return map.set(k,v)})})}function isOrderedMap(maybeOrderedMap){return isMap(maybeOrderedMap)&&isOrdered(maybeOrderedMap)}function makeOrderedMap(map,list,ownerID,hash){var omap=Object.create(OrderedMap.prototype);return omap.size=map?map.size:0,omap._map=map,omap._list=list,omap.__ownerID=ownerID,omap.__hash=hash,omap}function emptyOrderedMap(){return EMPTY_ORDERED_MAP||(EMPTY_ORDERED_MAP=makeOrderedMap(emptyMap(),emptyList()))}function updateOrderedMap(omap,k,v){var newMap,newList,map=omap._map,list=omap._list,i=map.get(k),has=void 0!==i;if(v===NOT_SET){if(!has)return omap;list.size>=SIZE&&list.size>=2*map.size?(newList=list.filter(function(entry,idx){return void 0!==entry&&i!==idx}),newMap=newList.toKeyedSeq().map(function(entry){return entry[0]}).flip().toMap(),omap.__ownerID&&(newMap.__ownerID=newList.__ownerID=omap.__ownerID)):(newMap=map.remove(k),newList=i===list.size-1?list.pop():list.set(i,void 0))}else if(has){if(v===list.get(i)[1])return omap;newMap=map,newList=list.set(i,[k,v])}else newMap=map.set(k,list.size),newList=list.set(list.size,[k,v]);return omap.__ownerID?(omap.size=newMap.size,omap._map=newMap,omap._list=newList,omap.__hash=void 0,omap):makeOrderedMap(newMap,newList)}function Stack(value){return null===value||void 0===value?emptyStack():isStack(value)?value:emptyStack().unshiftAll(value)}function isStack(maybeStack){return!(!maybeStack||!maybeStack[IS_STACK_SENTINEL])}function makeStack(size,head,ownerID,hash){var map=Object.create(StackPrototype);return map.size=size,map._head=head,map.__ownerID=ownerID,map.__hash=hash,map.__altered=!1,map}function emptyStack(){return EMPTY_STACK||(EMPTY_STACK=makeStack(0))}function src_Set__Set(value){return null===value||void 0===value?emptySet():isSet(value)?value:emptySet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v){return set.add(v)})})}function isSet(maybeSet){return!(!maybeSet||!maybeSet[IS_SET_SENTINEL])}function updateSet(set,newMap){return set.__ownerID?(set.size=newMap.size,set._map=newMap,set):newMap===set._map?set:0===newMap.size?set.__empty():set.__make(newMap)}function makeSet(map,ownerID){var set=Object.create(SetPrototype);return set.size=map?map.size:0,set._map=map,set.__ownerID=ownerID,set}function emptySet(){return EMPTY_SET||(EMPTY_SET=makeSet(emptyMap()))}function OrderedSet(value){return null===value||void 0===value?emptyOrderedSet():isOrderedSet(value)?value:emptyOrderedSet().withMutations(function(set){var iter=SetIterable(value);assertNotInfinite(iter.size),iter.forEach(function(v){return set.add(v)})})}function isOrderedSet(maybeOrderedSet){return isSet(maybeOrderedSet)&&isOrdered(maybeOrderedSet)}function makeOrderedSet(map,ownerID){var set=Object.create(OrderedSetPrototype);return set.size=map?map.size:0,set._map=map,set.__ownerID=ownerID,set}function emptyOrderedSet(){return EMPTY_ORDERED_SET||(EMPTY_ORDERED_SET=makeOrderedSet(emptyOrderedMap()))}function Record(defaultValues,name){var hasInitialized,RecordType=function(values){if(values instanceof RecordType)return values;if(!(this instanceof RecordType))return new RecordType(values);if(!hasInitialized){hasInitialized=!0;var keys=Object.keys(defaultValues);setProps(RecordTypePrototype,keys),RecordTypePrototype.size=keys.length,RecordTypePrototype._name=name,RecordTypePrototype._keys=keys,RecordTypePrototype._defaultValues=defaultValues}this._map=src_Map__Map(values)},RecordTypePrototype=RecordType.prototype=Object.create(RecordPrototype);return RecordTypePrototype.constructor=RecordType,RecordType}function makeRecord(likeRecord,map,ownerID){var record=Object.create(Object.getPrototypeOf(likeRecord));return record._map=map,record.__ownerID=ownerID,record}function recordName(record){return record._name||record.constructor.name||"Record"}function setProps(prototype,names){try{names.forEach(setProp.bind(void 0,prototype))}catch(error){}}function setProp(prototype,name){Object.defineProperty(prototype,name,{get:function(){return this.get(name)},set:function(value){invariant(this.__ownerID,"Cannot set on an immutable record."),this.set(name,value)}})}function deepEqual(a,b){if(a===b)return!0;if(!isIterable(b)||void 0!==a.size&&void 0!==b.size&&a.size!==b.size||void 0!==a.__hash&&void 0!==b.__hash&&a.__hash!==b.__hash||isKeyed(a)!==isKeyed(b)||isIndexed(a)!==isIndexed(b)||isOrdered(a)!==isOrdered(b))return!1;if(0===a.size&&0===b.size)return!0;var notAssociative=!isAssociative(a);if(isOrdered(a)){var entries=a.entries();return b.every(function(v,k){var entry=entries.next().value;return entry&&is(entry[1],v)&&(notAssociative||is(entry[0],k))})&&entries.next().done}var flipped=!1;if(void 0===a.size)if(void 0===b.size)"function"==typeof a.cacheResult&&a.cacheResult();else{flipped=!0;var _=a;a=b,b=_}var allEqual=!0,bSize=b.__iterate(function(v,k){return(notAssociative?a.has(v):flipped?is(v,a.get(k,NOT_SET)):is(a.get(k,NOT_SET),v))?void 0:(allEqual=!1,!1)});return allEqual&&a.size===bSize}function Range(start,end,step){if(!(this instanceof Range))return new Range(start,end,step);if(invariant(0!==step,"Cannot step a Range by 0"),start=start||0,void 0===end&&(end=1/0),step=void 0===step?1:Math.abs(step),start>end&&(step=-step),this._start=start,this._end=end,this._step=step,this.size=Math.max(0,Math.ceil((end-start)/step-1)+1),0===this.size){if(EMPTY_RANGE)return EMPTY_RANGE;EMPTY_RANGE=this}}function Repeat(value,times){if(!(this instanceof Repeat))return new Repeat(value,times);if(this._value=value,this.size=void 0===times?1/0:Math.max(0,times),0===this.size){if(EMPTY_REPEAT)return EMPTY_REPEAT;EMPTY_REPEAT=this}}function mixin(ctor,methods){var keyCopier=function(key){ctor.prototype[key]=methods[key]};return Object.keys(methods).forEach(keyCopier),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(methods).forEach(keyCopier),ctor}function keyMapper(v,k){return k}function entryMapper(v,k){return[k,v]}function not(predicate){return function(){return!predicate.apply(this,arguments)}}function neg(predicate){return function(){return-predicate.apply(this,arguments)}}function quoteString(value){return"string"==typeof value?JSON.stringify(value):value}function defaultZipper(){return arrCopy(arguments)}function defaultNegComparator(a,b){return b>a?1:a>b?-1:0}function hashIterable(iterable){if(iterable.size===1/0)return 0;var ordered=isOrdered(iterable),keyed=isKeyed(iterable),h=ordered?1:0,size=iterable.__iterate(keyed?ordered?function(v,k){h=31*h+hashMerge(hash(v),hash(k))|0}:function(v,k){h=h+hashMerge(hash(v),hash(k))|0}:ordered?function(v){h=31*h+hash(v)|0}:function(v){h=h+hash(v)|0});return murmurHashOfSize(size,h)}function murmurHashOfSize(size,h){return h=src_Math__imul(h,3432918353),h=src_Math__imul(h<<15|h>>>-15,461845907),h=src_Math__imul(h<<13|h>>>-13,5),h=(h+3864292196|0)^size,h=src_Math__imul(h^h>>>16,2246822507),h=src_Math__imul(h^h>>>13,3266489909),h=smi(h^h>>>16)}function hashMerge(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}var SLICE$0=Array.prototype.slice,DELETE="delete",SHIFT=5,SIZE=1<<SHIFT,MASK=SIZE-1,NOT_SET={},CHANGE_LENGTH={value:!1},DID_ALTER={value:!1};createClass(KeyedIterable,Iterable),createClass(IndexedIterable,Iterable),createClass(SetIterable,Iterable),Iterable.isIterable=isIterable,Iterable.isKeyed=isKeyed,Iterable.isIndexed=isIndexed,Iterable.isAssociative=isAssociative,Iterable.isOrdered=isOrdered,Iterable.Keyed=KeyedIterable,Iterable.Indexed=IndexedIterable,Iterable.Set=SetIterable;var IS_ITERABLE_SENTINEL="@@__IMMUTABLE_ITERABLE__@@",IS_KEYED_SENTINEL="@@__IMMUTABLE_KEYED__@@",IS_INDEXED_SENTINEL="@@__IMMUTABLE_INDEXED__@@",IS_ORDERED_SENTINEL="@@__IMMUTABLE_ORDERED__@@",ITERATE_KEYS=0,ITERATE_VALUES=1,ITERATE_ENTRIES=2,REAL_ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator",ITERATOR_SYMBOL=REAL_ITERATOR_SYMBOL||FAUX_ITERATOR_SYMBOL;src_Iterator__Iterator.prototype.toString=function(){return"[Iterator]"},src_Iterator__Iterator.KEYS=ITERATE_KEYS,src_Iterator__Iterator.VALUES=ITERATE_VALUES,src_Iterator__Iterator.ENTRIES=ITERATE_ENTRIES,src_Iterator__Iterator.prototype.inspect=src_Iterator__Iterator.prototype.toSource=function(){return this.toString()},src_Iterator__Iterator.prototype[ITERATOR_SYMBOL]=function(){return this},createClass(Seq,Iterable),Seq.of=function(){return Seq(arguments)},Seq.prototype.toSeq=function(){return this},Seq.prototype.toString=function(){return this.__toString("Seq {","}")},Seq.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Seq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,!0)},Seq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,!0)},createClass(KeyedSeq,Seq),KeyedSeq.prototype.toKeyedSeq=function(){return this},createClass(IndexedSeq,Seq),IndexedSeq.of=function(){return IndexedSeq(arguments)},IndexedSeq.prototype.toIndexedSeq=function(){return this},IndexedSeq.prototype.toString=function(){return this.__toString("Seq [","]")},IndexedSeq.prototype.__iterate=function(fn,reverse){return seqIterate(this,fn,reverse,!1)},IndexedSeq.prototype.__iterator=function(type,reverse){return seqIterator(this,type,reverse,!1)},createClass(SetSeq,Seq),SetSeq.of=function(){return SetSeq(arguments)},SetSeq.prototype.toSetSeq=function(){return this},Seq.isSeq=isSeq,Seq.Keyed=KeyedSeq,Seq.Set=SetSeq,Seq.Indexed=IndexedSeq;var IS_SEQ_SENTINEL="@@__IMMUTABLE_SEQ__@@";Seq.prototype[IS_SEQ_SENTINEL]=!0,createClass(ArraySeq,IndexedSeq),ArraySeq.prototype.get=function(index,notSetValue){return this.has(index)?this._array[wrapIndex(this,index)]:notSetValue},ArraySeq.prototype.__iterate=function(fn,reverse){for(var array=this._array,maxIndex=array.length-1,ii=0;maxIndex>=ii;ii++)if(fn(array[reverse?maxIndex-ii:ii],ii,this)===!1)return ii+1;return ii},ArraySeq.prototype.__iterator=function(type,reverse){var array=this._array,maxIndex=array.length-1,ii=0;return new src_Iterator__Iterator(function(){return ii>maxIndex?iteratorDone():iteratorValue(type,ii,array[reverse?maxIndex-ii++:ii++])})},createClass(ObjectSeq,KeyedSeq),ObjectSeq.prototype.get=function(key,notSetValue){return void 0===notSetValue||this.has(key)?this._object[key]:notSetValue},ObjectSeq.prototype.has=function(key){return this._object.hasOwnProperty(key)},ObjectSeq.prototype.__iterate=function(fn,reverse){for(var object=this._object,keys=this._keys,maxIndex=keys.length-1,ii=0;maxIndex>=ii;ii++){var key=keys[reverse?maxIndex-ii:ii];if(fn(object[key],key,this)===!1)return ii+1}return ii},ObjectSeq.prototype.__iterator=function(type,reverse){var object=this._object,keys=this._keys,maxIndex=keys.length-1,ii=0;return new src_Iterator__Iterator(function(){var key=keys[reverse?maxIndex-ii:ii];return ii++>maxIndex?iteratorDone():iteratorValue(type,key,object[key])})},ObjectSeq.prototype[IS_ORDERED_SENTINEL]=!0,createClass(IterableSeq,IndexedSeq),IterableSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse)return this.cacheResult().__iterate(fn,reverse);var iterable=this._iterable,iterator=getIterator(iterable),iterations=0;if(isIterator(iterator))for(var step;!(step=iterator.next()).done&&fn(step.value,iterations++,this)!==!1;);return iterations},IterableSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse)return this.cacheResult().__iterator(type,reverse);var iterable=this._iterable,iterator=getIterator(iterable);if(!isIterator(iterator))return new src_Iterator__Iterator(iteratorDone);var iterations=0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value)})},createClass(IteratorSeq,IndexedSeq),IteratorSeq.prototype.__iterateUncached=function(fn,reverse){if(reverse)return this.cacheResult().__iterate(fn,reverse);for(var iterator=this._iterator,cache=this._iteratorCache,iterations=0;iterations<cache.length;)if(fn(cache[iterations],iterations++,this)===!1)return iterations;for(var step;!(step=iterator.next()).done;){var val=step.value;if(cache[iterations]=val,fn(val,iterations++,this)===!1)break}return iterations},IteratorSeq.prototype.__iteratorUncached=function(type,reverse){if(reverse)return this.cacheResult().__iterator(type,reverse);var iterator=this._iterator,cache=this._iteratorCache,iterations=0;return new src_Iterator__Iterator(function(){if(iterations>=cache.length){var step=iterator.next();if(step.done)return step;cache[iterations]=step.value}return iteratorValue(type,iterations,cache[iterations++])})};var EMPTY_SEQ;createClass(Collection,Iterable),createClass(KeyedCollection,Collection),createClass(IndexedCollection,Collection),createClass(SetCollection,Collection),Collection.Keyed=KeyedCollection,Collection.Indexed=IndexedCollection,Collection.Set=SetCollection;var weakMap,src_Math__imul="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(a,b){a=0|a,b=0|b;var c=65535&a,d=65535&b;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0},isExtensible=Object.isExtensible,canDefineProperty=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),usingWeakMap="function"==typeof WeakMap;usingWeakMap&&(weakMap=new WeakMap);var objHashUID=0,UID_HASH_KEY="__immutablehash__";"function"==typeof Symbol&&(UID_HASH_KEY=Symbol(UID_HASH_KEY));var STRING_HASH_CACHE_MIN_STRLEN=16,STRING_HASH_CACHE_MAX_SIZE=255,STRING_HASH_CACHE_SIZE=0,stringHashCache={};createClass(ToKeyedSequence,KeyedSeq),ToKeyedSequence.prototype.get=function(key,notSetValue){return this._iter.get(key,notSetValue)},ToKeyedSequence.prototype.has=function(key){return this._iter.has(key)},ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq()},ToKeyedSequence.prototype.reverse=function(){var this$0=this,reversedSequence=reverseFactory(this,!0);return this._useKeys||(reversedSequence.valueSeq=function(){return this$0._iter.toSeq().reverse()}),reversedSequence},ToKeyedSequence.prototype.map=function(mapper,context){var this$0=this,mappedSequence=mapFactory(this,mapper,context);return this._useKeys||(mappedSequence.valueSeq=function(){return this$0._iter.toSeq().map(mapper,context)}),mappedSequence},ToKeyedSequence.prototype.__iterate=function(fn,reverse){var ii,this$0=this;return this._iter.__iterate(this._useKeys?function(v,k){return fn(v,k,this$0)}:(ii=reverse?resolveSize(this):0,function(v){return fn(v,reverse?--ii:ii++,this$0)}),reverse)},ToKeyedSequence.prototype.__iterator=function(type,reverse){if(this._useKeys)return this._iter.__iterator(type,reverse);var iterator=this._iter.__iterator(ITERATE_VALUES,reverse),ii=reverse?resolveSize(this):0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,reverse?--ii:ii++,step.value,step)})},ToKeyedSequence.prototype[IS_ORDERED_SENTINEL]=!0,createClass(ToIndexedSequence,IndexedSeq),ToIndexedSequence.prototype.includes=function(value){return this._iter.includes(value)},ToIndexedSequence.prototype.__iterate=function(fn,reverse){var this$0=this,iterations=0;return this._iter.__iterate(function(v){return fn(v,iterations++,this$0)},reverse)},ToIndexedSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse),iterations=0;return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,iterations++,step.value,step)})},createClass(ToSetSequence,SetSeq),ToSetSequence.prototype.has=function(key){return this._iter.includes(key)},ToSetSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(v){return fn(v,v,this$0)},reverse)},ToSetSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new src_Iterator__Iterator(function(){var step=iterator.next();return step.done?step:iteratorValue(type,step.value,step.value,step)})},createClass(FromEntriesSequence,KeyedSeq),FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq()},FromEntriesSequence.prototype.__iterate=function(fn,reverse){var this$0=this;return this._iter.__iterate(function(entry){if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return fn(indexedIterable?entry.get(1):entry[1],indexedIterable?entry.get(0):entry[0],this$0)}},reverse)},FromEntriesSequence.prototype.__iterator=function(type,reverse){var iterator=this._iter.__iterator(ITERATE_VALUES,reverse);return new src_Iterator__Iterator(function(){for(;;){var step=iterator.next();if(step.done)return step;var entry=step.value;if(entry){validateEntry(entry);var indexedIterable=isIterable(entry);return iteratorValue(type,indexedIterable?entry.get(0):entry[0],indexedIterable?entry.get(1):entry[1],step)}}})},ToIndexedSequence.prototype.cacheResult=ToKeyedSequence.prototype.cacheResult=ToSetSequence.prototype.cacheResult=FromEntriesSequence.prototype.cacheResult=cacheResultThrough,createClass(src_Map__Map,KeyedCollection),src_Map__Map.prototype.toString=function(){return this.__toString("Map {","}")},src_Map__Map.prototype.get=function(k,notSetValue){return this._root?this._root.get(0,void 0,k,notSetValue):notSetValue},src_Map__Map.prototype.set=function(k,v){return updateMap(this,k,v)},src_Map__Map.prototype.setIn=function(keyPath,v){return this.updateIn(keyPath,NOT_SET,function(){return v})},src_Map__Map.prototype.remove=function(k){return updateMap(this,k,NOT_SET)},src_Map__Map.prototype.deleteIn=function(keyPath){return this.updateIn(keyPath,function(){return NOT_SET})},src_Map__Map.prototype.update=function(k,notSetValue,updater){return 1===arguments.length?k(this):this.updateIn([k],notSetValue,updater)},src_Map__Map.prototype.updateIn=function(keyPath,notSetValue,updater){updater||(updater=notSetValue,notSetValue=void 0);var updatedValue=updateInDeepMap(this,forceIterator(keyPath),notSetValue,updater);return updatedValue===NOT_SET?void 0:updatedValue},src_Map__Map.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):emptyMap()},src_Map__Map.prototype.merge=function(){return mergeIntoMapWith(this,void 0,arguments)},src_Map__Map.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,merger,iters)},src_Map__Map.prototype.mergeIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return"function"==typeof m.merge?m.merge.apply(m,iters):iters[iters.length-1]})},src_Map__Map.prototype.mergeDeep=function(){return mergeIntoMapWith(this,deepMerger(void 0),arguments)},src_Map__Map.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoMapWith(this,deepMerger(merger),iters)},src_Map__Map.prototype.mergeDeepIn=function(keyPath){var iters=SLICE$0.call(arguments,1);return this.updateIn(keyPath,emptyMap(),function(m){return"function"==typeof m.mergeDeep?m.mergeDeep.apply(m,iters):iters[iters.length-1]})},src_Map__Map.prototype.sort=function(comparator){return OrderedMap(sortFactory(this,comparator))},src_Map__Map.prototype.sortBy=function(mapper,comparator){return OrderedMap(sortFactory(this,comparator,mapper))},src_Map__Map.prototype.withMutations=function(fn){var mutable=this.asMutable();return fn(mutable),mutable.wasAltered()?mutable.__ensureOwner(this.__ownerID):this},src_Map__Map.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID)},src_Map__Map.prototype.asImmutable=function(){return this.__ensureOwner()},src_Map__Map.prototype.wasAltered=function(){return this.__altered},src_Map__Map.prototype.__iterator=function(type,reverse){return new MapIterator(this,type,reverse)},src_Map__Map.prototype.__iterate=function(fn,reverse){var this$0=this,iterations=0;return this._root&&this._root.iterate(function(entry){return iterations++,fn(entry[1],entry[0],this$0)},reverse),iterations},src_Map__Map.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeMap(this.size,this._root,ownerID,this.__hash):(this.__ownerID=ownerID,this.__altered=!1,this)},src_Map__Map.isMap=isMap;var IS_MAP_SENTINEL="@@__IMMUTABLE_MAP__@@",MapPrototype=src_Map__Map.prototype;MapPrototype[IS_MAP_SENTINEL]=!0,MapPrototype[DELETE]=MapPrototype.remove,MapPrototype.removeIn=MapPrototype.deleteIn,ArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){for(var entries=this.entries,ii=0,len=entries.length;len>ii;ii++)if(is(key,entries[ii][0]))return entries[ii][1];return notSetValue},ArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){for(var removed=value===NOT_SET,entries=this.entries,idx=0,len=entries.length;len>idx&&!is(key,entries[idx][0]);idx++);var exists=len>idx;if(exists?entries[idx][1]===value:removed)return this;if(SetRef(didAlter),(removed||!exists)&&SetRef(didChangeSize),!removed||1!==entries.length){if(!exists&&!removed&&entries.length>=MAX_ARRAY_MAP_SIZE)return createNodes(ownerID,entries,key,value);var isEditable=ownerID&&ownerID===this.ownerID,newEntries=isEditable?entries:arrCopy(entries);return exists?removed?idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop():newEntries[idx]=[key,value]:newEntries.push([key,value]),isEditable?(this.entries=newEntries,this):new ArrayMapNode(ownerID,newEntries)}},BitmapIndexedNode.prototype.get=function(shift,keyHash,key,notSetValue){void 0===keyHash&&(keyHash=hash(key));var bit=1<<((0===shift?keyHash:keyHash>>>shift)&MASK),bitmap=this.bitmap;return 0===(bitmap&bit)?notSetValue:this.nodes[popCount(bitmap&bit-1)].get(shift+SHIFT,keyHash,key,notSetValue)},BitmapIndexedNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var keyHashFrag=(0===shift?keyHash:keyHash>>>shift)&MASK,bit=1<<keyHashFrag,bitmap=this.bitmap,exists=0!==(bitmap&bit);if(!exists&&value===NOT_SET)return this;var idx=popCount(bitmap&bit-1),nodes=this.nodes,node=exists?nodes[idx]:void 0,newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node)return this;if(!exists&&newNode&&nodes.length>=MAX_BITMAP_INDEXED_SIZE)return expandNodes(ownerID,nodes,bitmap,keyHashFrag,newNode);if(exists&&!newNode&&2===nodes.length&&isLeafNode(nodes[1^idx]))return nodes[1^idx];if(exists&&newNode&&1===nodes.length&&isLeafNode(newNode))return newNode;var isEditable=ownerID&&ownerID===this.ownerID,newBitmap=exists?newNode?bitmap:bitmap^bit:bitmap|bit,newNodes=exists?newNode?setIn(nodes,idx,newNode,isEditable):spliceOut(nodes,idx,isEditable):spliceIn(nodes,idx,newNode,isEditable);return isEditable?(this.bitmap=newBitmap,this.nodes=newNodes,this):new BitmapIndexedNode(ownerID,newBitmap,newNodes)},HashArrayMapNode.prototype.get=function(shift,keyHash,key,notSetValue){void 0===keyHash&&(keyHash=hash(key));var idx=(0===shift?keyHash:keyHash>>>shift)&MASK,node=this.nodes[idx];return node?node.get(shift+SHIFT,keyHash,key,notSetValue):notSetValue},HashArrayMapNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var idx=(0===shift?keyHash:keyHash>>>shift)&MASK,removed=value===NOT_SET,nodes=this.nodes,node=nodes[idx];if(removed&&!node)return this;var newNode=updateNode(node,ownerID,shift+SHIFT,keyHash,key,value,didChangeSize,didAlter);if(newNode===node)return this;var newCount=this.count;if(node){if(!newNode&&(newCount--,MIN_HASH_ARRAY_MAP_SIZE>newCount))return packNodes(ownerID,nodes,newCount,idx)}else newCount++;var isEditable=ownerID&&ownerID===this.ownerID,newNodes=setIn(nodes,idx,newNode,isEditable);return isEditable?(this.count=newCount,this.nodes=newNodes,this):new HashArrayMapNode(ownerID,newCount,newNodes)},HashCollisionNode.prototype.get=function(shift,keyHash,key,notSetValue){for(var entries=this.entries,ii=0,len=entries.length;len>ii;ii++)if(is(key,entries[ii][0]))return entries[ii][1];return notSetValue},HashCollisionNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){void 0===keyHash&&(keyHash=hash(key));var removed=value===NOT_SET;if(keyHash!==this.keyHash)return removed?this:(SetRef(didAlter),SetRef(didChangeSize),mergeIntoNode(this,ownerID,shift,keyHash,[key,value]));for(var entries=this.entries,idx=0,len=entries.length;len>idx&&!is(key,entries[idx][0]);idx++);var exists=len>idx;if(exists?entries[idx][1]===value:removed)return this;if(SetRef(didAlter),(removed||!exists)&&SetRef(didChangeSize),removed&&2===len)return new ValueNode(ownerID,this.keyHash,entries[1^idx]);var isEditable=ownerID&&ownerID===this.ownerID,newEntries=isEditable?entries:arrCopy(entries);return exists?removed?idx===len-1?newEntries.pop():newEntries[idx]=newEntries.pop():newEntries[idx]=[key,value]:newEntries.push([key,value]),isEditable?(this.entries=newEntries,this):new HashCollisionNode(ownerID,this.keyHash,newEntries)},ValueNode.prototype.get=function(shift,keyHash,key,notSetValue){return is(key,this.entry[0])?this.entry[1]:notSetValue},ValueNode.prototype.update=function(ownerID,shift,keyHash,key,value,didChangeSize,didAlter){var removed=value===NOT_SET,keyMatch=is(key,this.entry[0]);return(keyMatch?value===this.entry[1]:removed)?this:(SetRef(didAlter),removed?void SetRef(didChangeSize):keyMatch?ownerID&&ownerID===this.ownerID?(this.entry[1]=value,this):new ValueNode(ownerID,this.keyHash,[key,value]):(SetRef(didChangeSize),mergeIntoNode(this,ownerID,shift,hash(key),[key,value])))},ArrayMapNode.prototype.iterate=HashCollisionNode.prototype.iterate=function(fn,reverse){for(var entries=this.entries,ii=0,maxIndex=entries.length-1;maxIndex>=ii;ii++)if(fn(entries[reverse?maxIndex-ii:ii])===!1)return!1},BitmapIndexedNode.prototype.iterate=HashArrayMapNode.prototype.iterate=function(fn,reverse){for(var nodes=this.nodes,ii=0,maxIndex=nodes.length-1;maxIndex>=ii;ii++){var node=nodes[reverse?maxIndex-ii:ii];if(node&&node.iterate(fn,reverse)===!1)return!1}},ValueNode.prototype.iterate=function(fn,reverse){return fn(this.entry)},createClass(MapIterator,src_Iterator__Iterator),MapIterator.prototype.next=function(){for(var type=this._type,stack=this._stack;stack;){var maxIndex,node=stack.node,index=stack.index++;if(node.entry){if(0===index)return mapIteratorValue(type,node.entry)}else if(node.entries){if(maxIndex=node.entries.length-1,maxIndex>=index)return mapIteratorValue(type,node.entries[this._reverse?maxIndex-index:index])}else if(maxIndex=node.nodes.length-1,maxIndex>=index){var subNode=node.nodes[this._reverse?maxIndex-index:index];if(subNode){if(subNode.entry)return mapIteratorValue(type,subNode.entry);stack=this._stack=mapIteratorFrame(subNode,stack)}continue}stack=this._stack=this._stack.__prev}return iteratorDone()};var EMPTY_MAP,MAX_ARRAY_MAP_SIZE=SIZE/4,MAX_BITMAP_INDEXED_SIZE=SIZE/2,MIN_HASH_ARRAY_MAP_SIZE=SIZE/4;createClass(List,IndexedCollection),List.of=function(){return this(arguments)},List.prototype.toString=function(){return this.__toString("List [","]")},List.prototype.get=function(index,notSetValue){if(index=wrapIndex(this,index),0>index||index>=this.size)return notSetValue;index+=this._origin;var node=listNodeFor(this,index);return node&&node.array[index&MASK]},List.prototype.set=function(index,value){return updateList(this,index,value)},List.prototype.remove=function(index){return this.has(index)?0===index?this.shift():index===this.size-1?this.pop():this.splice(index,1):this},List.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=SHIFT,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):emptyList()},List.prototype.push=function(){var values=arguments,oldSize=this.size;return this.withMutations(function(list){setListBounds(list,0,oldSize+values.length);for(var ii=0;ii<values.length;ii++)list.set(oldSize+ii,values[ii])})},List.prototype.pop=function(){return setListBounds(this,0,-1)},List.prototype.unshift=function(){var values=arguments;return this.withMutations(function(list){setListBounds(list,-values.length);for(var ii=0;ii<values.length;ii++)list.set(ii,values[ii])})},List.prototype.shift=function(){return setListBounds(this,1)},List.prototype.merge=function(){return mergeIntoListWith(this,void 0,arguments)},List.prototype.mergeWith=function(merger){
var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,merger,iters)},List.prototype.mergeDeep=function(){return mergeIntoListWith(this,deepMerger(void 0),arguments)},List.prototype.mergeDeepWith=function(merger){var iters=SLICE$0.call(arguments,1);return mergeIntoListWith(this,deepMerger(merger),iters)},List.prototype.setSize=function(size){return setListBounds(this,0,size)},List.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:setListBounds(this,resolveBegin(begin,size),resolveEnd(end,size))},List.prototype.__iterator=function(type,reverse){var index=0,values=iterateList(this,reverse);return new src_Iterator__Iterator(function(){var value=values();return value===DONE?iteratorDone():iteratorValue(type,index++,value)})},List.prototype.__iterate=function(fn,reverse){for(var value,index=0,values=iterateList(this,reverse);(value=values())!==DONE&&fn(value,index++,this)!==!1;);return index},List.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeList(this._origin,this._capacity,this._level,this._root,this._tail,ownerID,this.__hash):(this.__ownerID=ownerID,this)},List.isList=isList;var IS_LIST_SENTINEL="@@__IMMUTABLE_LIST__@@",ListPrototype=List.prototype;ListPrototype[IS_LIST_SENTINEL]=!0,ListPrototype[DELETE]=ListPrototype.remove,ListPrototype.setIn=MapPrototype.setIn,ListPrototype.deleteIn=ListPrototype.removeIn=MapPrototype.removeIn,ListPrototype.update=MapPrototype.update,ListPrototype.updateIn=MapPrototype.updateIn,ListPrototype.mergeIn=MapPrototype.mergeIn,ListPrototype.mergeDeepIn=MapPrototype.mergeDeepIn,ListPrototype.withMutations=MapPrototype.withMutations,ListPrototype.asMutable=MapPrototype.asMutable,ListPrototype.asImmutable=MapPrototype.asImmutable,ListPrototype.wasAltered=MapPrototype.wasAltered,VNode.prototype.removeBefore=function(ownerID,level,index){if(index===level?1<<level:0||0===this.array.length)return this;var originIndex=index>>>level&MASK;if(originIndex>=this.array.length)return new VNode([],ownerID);var newChild,removingFirst=0===originIndex;if(level>0){var oldChild=this.array[originIndex];if(newChild=oldChild&&oldChild.removeBefore(ownerID,level-SHIFT,index),newChild===oldChild&&removingFirst)return this}if(removingFirst&&!newChild)return this;var editable=editableVNode(this,ownerID);if(!removingFirst)for(var ii=0;originIndex>ii;ii++)editable.array[ii]=void 0;return newChild&&(editable.array[originIndex]=newChild),editable},VNode.prototype.removeAfter=function(ownerID,level,index){if(index===level?1<<level:0||0===this.array.length)return this;var sizeIndex=index-1>>>level&MASK;if(sizeIndex>=this.array.length)return this;var newChild,removingLast=sizeIndex===this.array.length-1;if(level>0){var oldChild=this.array[sizeIndex];if(newChild=oldChild&&oldChild.removeAfter(ownerID,level-SHIFT,index),newChild===oldChild&&removingLast)return this}if(removingLast&&!newChild)return this;var editable=editableVNode(this,ownerID);return removingLast||editable.array.pop(),newChild&&(editable.array[sizeIndex]=newChild),editable};var EMPTY_LIST,DONE={};createClass(OrderedMap,src_Map__Map),OrderedMap.of=function(){return this(arguments)},OrderedMap.prototype.toString=function(){return this.__toString("OrderedMap {","}")},OrderedMap.prototype.get=function(k,notSetValue){var index=this._map.get(k);return void 0!==index?this._list.get(index)[1]:notSetValue},OrderedMap.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):emptyOrderedMap()},OrderedMap.prototype.set=function(k,v){return updateOrderedMap(this,k,v)},OrderedMap.prototype.remove=function(k){return updateOrderedMap(this,k,NOT_SET)},OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},OrderedMap.prototype.__iterate=function(fn,reverse){var this$0=this;return this._list.__iterate(function(entry){return entry&&fn(entry[1],entry[0],this$0)},reverse)},OrderedMap.prototype.__iterator=function(type,reverse){return this._list.fromEntrySeq().__iterator(type,reverse)},OrderedMap.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map.__ensureOwner(ownerID),newList=this._list.__ensureOwner(ownerID);return ownerID?makeOrderedMap(newMap,newList,ownerID,this.__hash):(this.__ownerID=ownerID,this._map=newMap,this._list=newList,this)},OrderedMap.isOrderedMap=isOrderedMap,OrderedMap.prototype[IS_ORDERED_SENTINEL]=!0,OrderedMap.prototype[DELETE]=OrderedMap.prototype.remove;var EMPTY_ORDERED_MAP;createClass(Stack,IndexedCollection),Stack.of=function(){return this(arguments)},Stack.prototype.toString=function(){return this.__toString("Stack [","]")},Stack.prototype.get=function(index,notSetValue){var head=this._head;for(index=wrapIndex(this,index);head&&index--;)head=head.next;return head?head.value:notSetValue},Stack.prototype.peek=function(){return this._head&&this._head.value},Stack.prototype.push=function(){if(0===arguments.length)return this;for(var newSize=this.size+arguments.length,head=this._head,ii=arguments.length-1;ii>=0;ii--)head={value:arguments[ii],next:head};return this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.pushAll=function(iter){if(iter=IndexedIterable(iter),0===iter.size)return this;assertNotInfinite(iter.size);var newSize=this.size,head=this._head;return iter.reverse().forEach(function(value){newSize++,head={value:value,next:head}}),this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.pop=function(){return this.slice(1)},Stack.prototype.unshift=function(){return this.push.apply(this,arguments)},Stack.prototype.unshiftAll=function(iter){return this.pushAll(iter)},Stack.prototype.shift=function(){return this.pop.apply(this,arguments)},Stack.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):emptyStack()},Stack.prototype.slice=function(begin,end){if(wholeSlice(begin,end,this.size))return this;var resolvedBegin=resolveBegin(begin,this.size),resolvedEnd=resolveEnd(end,this.size);if(resolvedEnd!==this.size)return IndexedCollection.prototype.slice.call(this,begin,end);for(var newSize=this.size-resolvedBegin,head=this._head;resolvedBegin--;)head=head.next;return this.__ownerID?(this.size=newSize,this._head=head,this.__hash=void 0,this.__altered=!0,this):makeStack(newSize,head)},Stack.prototype.__ensureOwner=function(ownerID){return ownerID===this.__ownerID?this:ownerID?makeStack(this.size,this._head,ownerID,this.__hash):(this.__ownerID=ownerID,this.__altered=!1,this)},Stack.prototype.__iterate=function(fn,reverse){if(reverse)return this.reverse().__iterate(fn);for(var iterations=0,node=this._head;node&&fn(node.value,iterations++,this)!==!1;)node=node.next;return iterations},Stack.prototype.__iterator=function(type,reverse){if(reverse)return this.reverse().__iterator(type);var iterations=0,node=this._head;return new src_Iterator__Iterator(function(){if(node){var value=node.value;return node=node.next,iteratorValue(type,iterations++,value)}return iteratorDone()})},Stack.isStack=isStack;var IS_STACK_SENTINEL="@@__IMMUTABLE_STACK__@@",StackPrototype=Stack.prototype;StackPrototype[IS_STACK_SENTINEL]=!0,StackPrototype.withMutations=MapPrototype.withMutations,StackPrototype.asMutable=MapPrototype.asMutable,StackPrototype.asImmutable=MapPrototype.asImmutable,StackPrototype.wasAltered=MapPrototype.wasAltered;var EMPTY_STACK;createClass(src_Set__Set,SetCollection),src_Set__Set.of=function(){return this(arguments)},src_Set__Set.fromKeys=function(value){return this(KeyedIterable(value).keySeq())},src_Set__Set.prototype.toString=function(){return this.__toString("Set {","}")},src_Set__Set.prototype.has=function(value){return this._map.has(value)},src_Set__Set.prototype.add=function(value){return updateSet(this,this._map.set(value,!0))},src_Set__Set.prototype.remove=function(value){return updateSet(this,this._map.remove(value))},src_Set__Set.prototype.clear=function(){return updateSet(this,this._map.clear())},src_Set__Set.prototype.union=function(){var iters=SLICE$0.call(arguments,0);return iters=iters.filter(function(x){return 0!==x.size}),0===iters.length?this:0!==this.size||this.__ownerID||1!==iters.length?this.withMutations(function(set){for(var ii=0;ii<iters.length;ii++)SetIterable(iters[ii]).forEach(function(value){return set.add(value)})}):this.constructor(iters[0])},src_Set__Set.prototype.intersect=function(){var iters=SLICE$0.call(arguments,0);if(0===iters.length)return this;iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){iters.every(function(iter){return iter.includes(value)})||set.remove(value)})})},src_Set__Set.prototype.subtract=function(){var iters=SLICE$0.call(arguments,0);if(0===iters.length)return this;iters=iters.map(function(iter){return SetIterable(iter)});var originalSet=this;return this.withMutations(function(set){originalSet.forEach(function(value){iters.some(function(iter){return iter.includes(value)})&&set.remove(value)})})},src_Set__Set.prototype.merge=function(){return this.union.apply(this,arguments)},src_Set__Set.prototype.mergeWith=function(merger){var iters=SLICE$0.call(arguments,1);return this.union.apply(this,iters)},src_Set__Set.prototype.sort=function(comparator){return OrderedSet(sortFactory(this,comparator))},src_Set__Set.prototype.sortBy=function(mapper,comparator){return OrderedSet(sortFactory(this,comparator,mapper))},src_Set__Set.prototype.wasAltered=function(){return this._map.wasAltered()},src_Set__Set.prototype.__iterate=function(fn,reverse){var this$0=this;return this._map.__iterate(function(_,k){return fn(k,k,this$0)},reverse)},src_Set__Set.prototype.__iterator=function(type,reverse){return this._map.map(function(_,k){return k}).__iterator(type,reverse)},src_Set__Set.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map.__ensureOwner(ownerID);return ownerID?this.__make(newMap,ownerID):(this.__ownerID=ownerID,this._map=newMap,this)},src_Set__Set.isSet=isSet;var IS_SET_SENTINEL="@@__IMMUTABLE_SET__@@",SetPrototype=src_Set__Set.prototype;SetPrototype[IS_SET_SENTINEL]=!0,SetPrototype[DELETE]=SetPrototype.remove,SetPrototype.mergeDeep=SetPrototype.merge,SetPrototype.mergeDeepWith=SetPrototype.mergeWith,SetPrototype.withMutations=MapPrototype.withMutations,SetPrototype.asMutable=MapPrototype.asMutable,SetPrototype.asImmutable=MapPrototype.asImmutable,SetPrototype.__empty=emptySet,SetPrototype.__make=makeSet;var EMPTY_SET;createClass(OrderedSet,src_Set__Set),OrderedSet.of=function(){return this(arguments)},OrderedSet.fromKeys=function(value){return this(KeyedIterable(value).keySeq())},OrderedSet.prototype.toString=function(){return this.__toString("OrderedSet {","}")},OrderedSet.isOrderedSet=isOrderedSet;var OrderedSetPrototype=OrderedSet.prototype;OrderedSetPrototype[IS_ORDERED_SENTINEL]=!0,OrderedSetPrototype.__empty=emptyOrderedSet,OrderedSetPrototype.__make=makeOrderedSet;var EMPTY_ORDERED_SET;createClass(Record,KeyedCollection),Record.prototype.toString=function(){return this.__toString(recordName(this)+" {","}")},Record.prototype.has=function(k){return this._defaultValues.hasOwnProperty(k)},Record.prototype.get=function(k,notSetValue){if(!this.has(k))return notSetValue;var defaultVal=this._defaultValues[k];return this._map?this._map.get(k,defaultVal):defaultVal},Record.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var RecordType=this.constructor;return RecordType._empty||(RecordType._empty=makeRecord(this,emptyMap()))},Record.prototype.set=function(k,v){if(!this.has(k))throw new Error('Cannot set unknown key "'+k+'" on '+recordName(this));var newMap=this._map&&this._map.set(k,v);return this.__ownerID||newMap===this._map?this:makeRecord(this,newMap)},Record.prototype.remove=function(k){if(!this.has(k))return this;var newMap=this._map&&this._map.remove(k);return this.__ownerID||newMap===this._map?this:makeRecord(this,newMap)},Record.prototype.wasAltered=function(){return this._map.wasAltered()},Record.prototype.__iterator=function(type,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterator(type,reverse)},Record.prototype.__iterate=function(fn,reverse){var this$0=this;return KeyedIterable(this._defaultValues).map(function(_,k){return this$0.get(k)}).__iterate(fn,reverse)},Record.prototype.__ensureOwner=function(ownerID){if(ownerID===this.__ownerID)return this;var newMap=this._map&&this._map.__ensureOwner(ownerID);return ownerID?makeRecord(this,newMap,ownerID):(this.__ownerID=ownerID,this._map=newMap,this)};var RecordPrototype=Record.prototype;RecordPrototype[DELETE]=RecordPrototype.remove,RecordPrototype.deleteIn=RecordPrototype.removeIn=MapPrototype.removeIn,RecordPrototype.merge=MapPrototype.merge,RecordPrototype.mergeWith=MapPrototype.mergeWith,RecordPrototype.mergeIn=MapPrototype.mergeIn,RecordPrototype.mergeDeep=MapPrototype.mergeDeep,RecordPrototype.mergeDeepWith=MapPrototype.mergeDeepWith,RecordPrototype.mergeDeepIn=MapPrototype.mergeDeepIn,RecordPrototype.setIn=MapPrototype.setIn,RecordPrototype.update=MapPrototype.update,RecordPrototype.updateIn=MapPrototype.updateIn,RecordPrototype.withMutations=MapPrototype.withMutations,RecordPrototype.asMutable=MapPrototype.asMutable,RecordPrototype.asImmutable=MapPrototype.asImmutable,createClass(Range,IndexedSeq),Range.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Range.prototype.get=function(index,notSetValue){return this.has(index)?this._start+wrapIndex(this,index)*this._step:notSetValue},Range.prototype.includes=function(searchValue){var possibleIndex=(searchValue-this._start)/this._step;return possibleIndex>=0&&possibleIndex<this.size&&possibleIndex===Math.floor(possibleIndex)},Range.prototype.slice=function(begin,end){return wholeSlice(begin,end,this.size)?this:(begin=resolveBegin(begin,this.size),end=resolveEnd(end,this.size),begin>=end?new Range(0,0):new Range(this.get(begin,this._end),this.get(end,this._end),this._step))},Range.prototype.indexOf=function(searchValue){var offsetValue=searchValue-this._start;if(offsetValue%this._step===0){var index=offsetValue/this._step;if(index>=0&&index<this.size)return index}return-1},Range.prototype.lastIndexOf=function(searchValue){return this.indexOf(searchValue)},Range.prototype.__iterate=function(fn,reverse){for(var maxIndex=this.size-1,step=this._step,value=reverse?this._start+maxIndex*step:this._start,ii=0;maxIndex>=ii;ii++){if(fn(value,ii,this)===!1)return ii+1;value+=reverse?-step:step}return ii},Range.prototype.__iterator=function(type,reverse){var maxIndex=this.size-1,step=this._step,value=reverse?this._start+maxIndex*step:this._start,ii=0;return new src_Iterator__Iterator(function(){var v=value;return value+=reverse?-step:step,ii>maxIndex?iteratorDone():iteratorValue(type,ii++,v)})},Range.prototype.equals=function(other){return other instanceof Range?this._start===other._start&&this._end===other._end&&this._step===other._step:deepEqual(this,other)};var EMPTY_RANGE;createClass(Repeat,IndexedSeq),Repeat.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Repeat.prototype.get=function(index,notSetValue){return this.has(index)?this._value:notSetValue},Repeat.prototype.includes=function(searchValue){return is(this._value,searchValue)},Repeat.prototype.slice=function(begin,end){var size=this.size;return wholeSlice(begin,end,size)?this:new Repeat(this._value,resolveEnd(end,size)-resolveBegin(begin,size))},Repeat.prototype.reverse=function(){return this},Repeat.prototype.indexOf=function(searchValue){return is(this._value,searchValue)?0:-1},Repeat.prototype.lastIndexOf=function(searchValue){return is(this._value,searchValue)?this.size:-1},Repeat.prototype.__iterate=function(fn,reverse){for(var ii=0;ii<this.size;ii++)if(fn(this._value,ii,this)===!1)return ii+1;return ii},Repeat.prototype.__iterator=function(type,reverse){var this$0=this,ii=0;return new src_Iterator__Iterator(function(){return ii<this$0.size?iteratorValue(type,ii++,this$0._value):iteratorDone()})},Repeat.prototype.equals=function(other){return other instanceof Repeat?is(this._value,other._value):deepEqual(other)};var EMPTY_REPEAT;Iterable.Iterator=src_Iterator__Iterator,mixin(Iterable,{toArray:function(){assertNotInfinite(this.size);var array=new Array(this.size||0);return this.valueSeq().__iterate(function(v,i){array[i]=v}),array},toIndexedSeq:function(){return new ToIndexedSequence(this)},toJS:function(){return this.toSeq().map(function(value){return value&&"function"==typeof value.toJS?value.toJS():value}).__toJS()},toJSON:function(){return this.toSeq().map(function(value){return value&&"function"==typeof value.toJSON?value.toJSON():value}).__toJS()},toKeyedSeq:function(){return new ToKeyedSequence(this,!0)},toMap:function(){return src_Map__Map(this.toKeyedSeq())},toObject:function(){assertNotInfinite(this.size);var object={};return this.__iterate(function(v,k){object[k]=v}),object},toOrderedMap:function(){return OrderedMap(this.toKeyedSeq())},toOrderedSet:function(){return OrderedSet(isKeyed(this)?this.valueSeq():this)},toSet:function(){return src_Set__Set(isKeyed(this)?this.valueSeq():this)},toSetSeq:function(){return new ToSetSequence(this)},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Stack(isKeyed(this)?this.valueSeq():this)},toList:function(){return List(isKeyed(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(head,tail){return 0===this.size?head+tail:head+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+tail},concat:function(){var values=SLICE$0.call(arguments,0);return reify(this,concatFactory(this,values))},contains:function(searchValue){return this.includes(searchValue)},includes:function(searchValue){return this.some(function(value){return is(value,searchValue)})},entries:function(){return this.__iterator(ITERATE_ENTRIES)},every:function(predicate,context){assertNotInfinite(this.size);var returnValue=!0;return this.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?void 0:(returnValue=!1,!1)}),returnValue},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,!0))},find:function(predicate,context,notSetValue){var entry=this.findEntry(predicate,context);return entry?entry[1]:notSetValue},findEntry:function(predicate,context){var found;return this.__iterate(function(v,k,c){return predicate.call(context,v,k,c)?(found=[k,v],!1):void 0}),found},findLastEntry:function(predicate,context){return this.toSeq().reverse().findEntry(predicate,context)},forEach:function(sideEffect,context){return assertNotInfinite(this.size),this.__iterate(context?sideEffect.bind(context):sideEffect)},join:function(separator){assertNotInfinite(this.size),separator=void 0!==separator?""+separator:",";var joined="",isFirst=!0;return this.__iterate(function(v){isFirst?isFirst=!1:joined+=separator,joined+=null!==v&&void 0!==v?v.toString():""}),joined},keys:function(){return this.__iterator(ITERATE_KEYS)},map:function(mapper,context){return reify(this,mapFactory(this,mapper,context))},reduce:function(reducer,initialReduction,context){assertNotInfinite(this.size);var reduction,useFirst;return arguments.length<2?useFirst=!0:reduction=initialReduction,this.__iterate(function(v,k,c){useFirst?(useFirst=!1,reduction=v):reduction=reducer.call(context,reduction,v,k,c)}),reduction},reduceRight:function(reducer,initialReduction,context){var reversed=this.toKeyedSeq().reverse();return reversed.reduce.apply(reversed,arguments)},reverse:function(){return reify(this,reverseFactory(this,!0))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,!0))},some:function(predicate,context){return!this.every(not(predicate),context)},sort:function(comparator){return reify(this,sortFactory(this,comparator))},values:function(){return this.__iterator(ITERATE_VALUES)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(predicate,context){return ensureSize(predicate?this.toSeq().filter(predicate,context):this)},countBy:function(grouper,context){return countByFactory(this,grouper,context)},equals:function(other){return deepEqual(this,other)},entrySeq:function(){var iterable=this;if(iterable._cache)return new ArraySeq(iterable._cache);var entriesSequence=iterable.toSeq().map(entryMapper).toIndexedSeq();return entriesSequence.fromEntrySeq=function(){return iterable.toSeq()},entriesSequence},filterNot:function(predicate,context){return this.filter(not(predicate),context)},findLast:function(predicate,context,notSetValue){return this.toKeyedSeq().reverse().find(predicate,context,notSetValue)},first:function(){return this.find(returnTrue)},flatMap:function(mapper,context){return reify(this,flatMapFactory(this,mapper,context))},flatten:function(depth){return reify(this,flattenFactory(this,depth,!0))},fromEntrySeq:function(){return new FromEntriesSequence(this)},get:function(searchKey,notSetValue){return this.find(function(_,key){return is(key,searchKey)},void 0,notSetValue)},getIn:function(searchKeyPath,notSetValue){for(var step,nested=this,iter=forceIterator(searchKeyPath);!(step=iter.next()).done;){var key=step.value;if(nested=nested&&nested.get?nested.get(key,NOT_SET):NOT_SET,nested===NOT_SET)return notSetValue}return nested},groupBy:function(grouper,context){return groupByFactory(this,grouper,context)},has:function(searchKey){return this.get(searchKey,NOT_SET)!==NOT_SET},hasIn:function(searchKeyPath){return this.getIn(searchKeyPath,NOT_SET)!==NOT_SET},isSubset:function(iter){return iter="function"==typeof iter.includes?iter:Iterable(iter),this.every(function(value){return iter.includes(value)})},isSuperset:function(iter){return iter="function"==typeof iter.isSubset?iter:Iterable(iter),iter.isSubset(this)},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(comparator){return maxFactory(this,comparator)},maxBy:function(mapper,comparator){return maxFactory(this,comparator,mapper)},min:function(comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator)},minBy:function(mapper,comparator){return maxFactory(this,comparator?neg(comparator):defaultNegComparator,mapper)},rest:function(){return this.slice(1)},skip:function(amount){return this.slice(Math.max(0,amount))},skipLast:function(amount){return reify(this,this.toSeq().reverse().skip(amount).reverse())},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,!0))},skipUntil:function(predicate,context){return this.skipWhile(not(predicate),context)},sortBy:function(mapper,comparator){return reify(this,sortFactory(this,comparator,mapper))},take:function(amount){return this.slice(0,Math.max(0,amount))},takeLast:function(amount){return reify(this,this.toSeq().reverse().take(amount).reverse())},takeWhile:function(predicate,context){return reify(this,takeWhileFactory(this,predicate,context))},takeUntil:function(predicate,context){return this.takeWhile(not(predicate),context)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hashIterable(this))}});var IterablePrototype=Iterable.prototype;IterablePrototype[IS_ITERABLE_SENTINEL]=!0,IterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.values,IterablePrototype.__toJS=IterablePrototype.toArray,IterablePrototype.__toStringMapper=quoteString,IterablePrototype.inspect=IterablePrototype.toSource=function(){return this.toString()},IterablePrototype.chain=IterablePrototype.flatMap,function(){try{Object.defineProperty(IterablePrototype,"length",{get:function(){if(!Iterable.noLengthWarning){var stack;try{throw new Error}catch(error){stack=error.stack}if(-1===stack.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+stack),this.size}}})}catch(e){}}(),mixin(KeyedIterable,{flip:function(){return reify(this,flipFactory(this))},findKey:function(predicate,context){var entry=this.findEntry(predicate,context);return entry&&entry[0]},findLastKey:function(predicate,context){return this.toSeq().reverse().findKey(predicate,context)},keyOf:function(searchValue){return this.findKey(function(value){return is(value,searchValue)})},lastKeyOf:function(searchValue){return this.findLastKey(function(value){return is(value,searchValue)})},mapEntries:function(mapper,context){var this$0=this,iterations=0;return reify(this,this.toSeq().map(function(v,k){return mapper.call(context,[k,v],iterations++,this$0)}).fromEntrySeq())},mapKeys:function(mapper,context){var this$0=this;return reify(this,this.toSeq().flip().map(function(k,v){return mapper.call(context,k,v,this$0)}).flip())}});var KeyedIterablePrototype=KeyedIterable.prototype;KeyedIterablePrototype[IS_KEYED_SENTINEL]=!0,KeyedIterablePrototype[ITERATOR_SYMBOL]=IterablePrototype.entries,KeyedIterablePrototype.__toJS=IterablePrototype.toObject,KeyedIterablePrototype.__toStringMapper=function(v,k){return JSON.stringify(k)+": "+quoteString(v)},mixin(IndexedIterable,{toKeyedSeq:function(){return new ToKeyedSequence(this,!1)},filter:function(predicate,context){return reify(this,filterFactory(this,predicate,context,!1))},findIndex:function(predicate,context){var entry=this.findEntry(predicate,context);return entry?entry[0]:-1},indexOf:function(searchValue){var key=this.toKeyedSeq().keyOf(searchValue);return void 0===key?-1:key},lastIndexOf:function(searchValue){return this.toSeq().reverse().indexOf(searchValue)},reverse:function(){return reify(this,reverseFactory(this,!1))},slice:function(begin,end){return reify(this,sliceFactory(this,begin,end,!1))},splice:function(index,removeNum){var numArgs=arguments.length;if(removeNum=Math.max(0|removeNum,0),0===numArgs||2===numArgs&&!removeNum)return this;index=resolveBegin(index,this.size);var spliced=this.slice(0,index);return reify(this,1===numArgs?spliced:spliced.concat(arrCopy(arguments,2),this.slice(index+removeNum)))},findLastIndex:function(predicate,context){var key=this.toKeyedSeq().findLastKey(predicate,context);return void 0===key?-1:key},first:function(){return this.get(0)},flatten:function(depth){return reify(this,flattenFactory(this,depth,!1))},get:function(index,notSetValue){return index=wrapIndex(this,index),0>index||this.size===1/0||void 0!==this.size&&index>this.size?notSetValue:this.find(function(_,key){return key===index},void 0,notSetValue)},has:function(index){return index=wrapIndex(this,index),index>=0&&(void 0!==this.size?this.size===1/0||index<this.size:-1!==this.indexOf(index))},interpose:function(separator){return reify(this,interposeFactory(this,separator))},interleave:function(){var iterables=[this].concat(arrCopy(arguments)),zipped=zipWithFactory(this.toSeq(),IndexedSeq.of,iterables),interleaved=zipped.flatten(!0);return zipped.size&&(interleaved.size=zipped.size*iterables.length),reify(this,interleaved)},last:function(){return this.get(-1)},skipWhile:function(predicate,context){return reify(this,skipWhileFactory(this,predicate,context,!1))},zip:function(){var iterables=[this].concat(arrCopy(arguments));return reify(this,zipWithFactory(this,defaultZipper,iterables))},zipWith:function(zipper){var iterables=arrCopy(arguments);return iterables[0]=this,reify(this,zipWithFactory(this,zipper,iterables))}}),IndexedIterable.prototype[IS_INDEXED_SENTINEL]=!0,IndexedIterable.prototype[IS_ORDERED_SENTINEL]=!0,mixin(SetIterable,{get:function(value,notSetValue){return this.has(value)?value:notSetValue},includes:function(value){return this.has(value)},keySeq:function(){return this.valueSeq()}}),SetIterable.prototype.has=IterablePrototype.includes,mixin(KeyedSeq,KeyedIterable.prototype),mixin(IndexedSeq,IndexedIterable.prototype),mixin(SetSeq,SetIterable.prototype),mixin(KeyedCollection,KeyedIterable.prototype),mixin(IndexedCollection,IndexedIterable.prototype),mixin(SetCollection,SetIterable.prototype);var Immutable={Iterable:Iterable,Seq:Seq,Collection:Collection,Map:src_Map__Map,OrderedMap:OrderedMap,List:List,Stack:Stack,Set:src_Set__Set,OrderedSet:OrderedSet,Record:Record,Range:Range,Repeat:Repeat,is:is,fromJS:fromJS};return Immutable});


},{}],37:[function(require,module,exports){
!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?exports.Kefir=factory():root.Kefir=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function deprecated(name,alt,fn){return function(){if(Kefir.DEPRECATION_WARNINGS&&"undefined"!=typeof console&&console.log){var message="Method `"+name+"` is deprecated, and to be removed in v3.0.0.\nUse `"+alt+"` instead.\nTo disable all warnings like this set `Kefir.DEPRECATION_WARNINGS = false`.";console.log(message)}return fn.apply(this,arguments)}}var Kefir=module.exports={};Kefir.Kefir=Kefir;var Observable=Kefir.Observable=__webpack_require__(1);Kefir.Stream=__webpack_require__(6),Kefir.Property=__webpack_require__(7),Kefir.never=__webpack_require__(8),Kefir.later=__webpack_require__(9),Kefir.interval=__webpack_require__(11),Kefir.sequentially=__webpack_require__(12),Kefir.fromPoll=__webpack_require__(13),Kefir.withInterval=__webpack_require__(14),Kefir.fromCallback=__webpack_require__(16),Kefir.fromNodeCallback=__webpack_require__(18),Kefir.fromEvents=__webpack_require__(19),Kefir.stream=__webpack_require__(17),Kefir.constant=__webpack_require__(22),Kefir.constantError=__webpack_require__(23),Kefir.fromPromise=__webpack_require__(24);var toProperty=__webpack_require__(25);Observable.prototype.toProperty=function(fn){return toProperty(this,fn)};var changes=__webpack_require__(27);Observable.prototype.changes=function(){return changes(this)};var toPromise=__webpack_require__(28);Observable.prototype.toPromise=function(Promise){return toPromise(this,Promise)};var map=__webpack_require__(29);Observable.prototype.map=function(fn){return map(this,fn)};var filter=__webpack_require__(30);Observable.prototype.filter=function(fn){return filter(this,fn)};var take=__webpack_require__(31);Observable.prototype.take=function(n){return take(this,n)};var takeWhile=__webpack_require__(32);Observable.prototype.takeWhile=function(fn){return takeWhile(this,fn)};var last=__webpack_require__(33);Observable.prototype.last=function(){return last(this)};var skip=__webpack_require__(34);Observable.prototype.skip=function(n){return skip(this,n)};var skipWhile=__webpack_require__(35);Observable.prototype.skipWhile=function(fn){return skipWhile(this,fn)};var skipDuplicates=__webpack_require__(36);Observable.prototype.skipDuplicates=function(fn){return skipDuplicates(this,fn)};var diff=__webpack_require__(37);Observable.prototype.diff=function(fn,seed){return diff(this,fn,seed)};var scan=__webpack_require__(38);Observable.prototype.scan=function(fn,seed){return scan(this,fn,seed)};var flatten=__webpack_require__(39);Observable.prototype.flatten=function(fn){return flatten(this,fn)};var delay=__webpack_require__(40);Observable.prototype.delay=function(wait){return delay(this,wait)};var throttle=__webpack_require__(41);Observable.prototype.throttle=function(wait,options){return throttle(this,wait,options)};var debounce=__webpack_require__(43);Observable.prototype.debounce=function(wait,options){return debounce(this,wait,options)};var valuesToErrors=__webpack_require__(44);Observable.prototype.valuesToErrors=function(fn){return valuesToErrors(this,fn)};var errorsToValues=__webpack_require__(45);Observable.prototype.errorsToValues=function(fn){return errorsToValues(this,fn)};var mapErrors=__webpack_require__(46);Observable.prototype.mapErrors=function(fn){return mapErrors(this,fn)};var filterErrors=__webpack_require__(47);Observable.prototype.filterErrors=function(fn){return filterErrors(this,fn)};var endOnError=__webpack_require__(48);Observable.prototype.endOnError=function(){return endOnError(this)};var skipValues=__webpack_require__(49);Observable.prototype.skipValues=function(){return skipValues(this)};var skipErrors=__webpack_require__(50);Observable.prototype.skipErrors=function(){return skipErrors(this)};var skipEnd=__webpack_require__(51);Observable.prototype.skipEnd=function(){return skipEnd(this)};var beforeEnd=__webpack_require__(52);Observable.prototype.beforeEnd=function(fn){return beforeEnd(this,fn)};var slidingWindow=__webpack_require__(53);Observable.prototype.slidingWindow=function(max,min){return slidingWindow(this,max,min)};var bufferWhile=__webpack_require__(54);Observable.prototype.bufferWhile=function(fn,options){return bufferWhile(this,fn,options)};var transduce=__webpack_require__(55);Observable.prototype.transduce=function(transducer){return transduce(this,transducer)};var withHandler=__webpack_require__(56);Observable.prototype.withHandler=function(fn){return withHandler(this,fn)};var combine=Kefir.combine=__webpack_require__(57);Observable.prototype.combine=function(other,combinator){return combine([this,other],combinator)};var zip=Kefir.zip=__webpack_require__(58);Observable.prototype.zip=function(other,combinator){return zip([this,other],combinator)};var merge=Kefir.merge=__webpack_require__(59);Observable.prototype.merge=function(other){return merge([this,other])};var concat=Kefir.concat=__webpack_require__(61);Observable.prototype.concat=function(other){return concat([this,other])};var Pool=Kefir.Pool=__webpack_require__(63);Kefir.pool=function(){return new Pool},Kefir.repeat=__webpack_require__(62);var FlatMap=__webpack_require__(64);Observable.prototype.flatMap=function(fn){return new FlatMap(this,fn).setName(this,"flatMap")},Observable.prototype.flatMapLatest=function(fn){return new FlatMap(this,fn,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},Observable.prototype.flatMapFirst=function(fn){return new FlatMap(this,fn,{concurLim:1}).setName(this,"flatMapFirst")},Observable.prototype.flatMapConcat=function(fn){return new FlatMap(this,fn,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},Observable.prototype.flatMapConcurLimit=function(fn,limit){return new FlatMap(this,fn,{queueLim:-1,concurLim:limit}).setName(this,"flatMapConcurLimit")};var FlatMapErrors=__webpack_require__(65);Observable.prototype.flatMapErrors=function(fn){return new FlatMapErrors(this,fn).setName(this,"flatMapErrors")};var filterBy=__webpack_require__(66);Observable.prototype.filterBy=function(other){return filterBy(this,other)};var sampledBy2items=__webpack_require__(68);Observable.prototype.sampledBy=function(other,combinator){return sampledBy2items(this,other,combinator)};var skipUntilBy=__webpack_require__(69);Observable.prototype.skipUntilBy=function(other){return skipUntilBy(this,other)};var takeUntilBy=__webpack_require__(70);Observable.prototype.takeUntilBy=function(other){return takeUntilBy(this,other)};var bufferBy=__webpack_require__(71);Observable.prototype.bufferBy=function(other,options){return bufferBy(this,other,options)};var bufferWhileBy=__webpack_require__(72);Observable.prototype.bufferWhileBy=function(other,options){return bufferWhileBy(this,other,options)};var awaiting=__webpack_require__(73);Observable.prototype.awaiting=function(other){return awaiting(this,other)},Kefir.DEPRECATION_WARNINGS=!0;var Emitter=Kefir.Emitter=__webpack_require__(74);Kefir.emitter=deprecated("Kefir.emitter()","Kefir.stream()",function(){return new Emitter});var Bus=Kefir.Bus=__webpack_require__(75);Kefir.bus=deprecated("Kefir.bus()","Kefir.pool() or Kefir.stream()",function(){return new Bus});var reduce=__webpack_require__(76);Observable.prototype.reduce=deprecated(".reduce(fn, seed)",".scan(fn, seed).last()",function(fn,seed){return reduce(this,fn,seed)});var sampledByManyItems=__webpack_require__(77);Kefir.sampledBy=deprecated("Kefir.sampledBy()","Kefir.combine()",sampledByManyItems);var repeatedly=__webpack_require__(78);Kefir.repeatedly=deprecated("Kefir.repeatedly()","Kefir.repeat(() => Kefir.sequentially(...)})",repeatedly);var mapTo=__webpack_require__(79);Observable.prototype.mapTo=deprecated(".mapTo()",".map(() => value)",function(x){return mapTo(this,x)});var tap=__webpack_require__(80);Observable.prototype.tap=deprecated(".tap()",".map((v) => {fn(v); return v})",function(fn){return tap(this,fn)});var pluck=__webpack_require__(81);Observable.prototype.pluck=deprecated(".pluck()",".map((x) => x.foo)",function(propName){return pluck(this,propName)});var invoke=__webpack_require__(82);Observable.prototype.invoke=deprecated(".invoke()",".map((x) => x.foo())",function(methodName){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_len>_key;_key++)args[_key-1]=arguments[_key];return invoke(this,methodName,args)});var timestamp=__webpack_require__(83);Observable.prototype.timestamp=deprecated(".timestamp()",".map((x) => {value: x, time: Date.now()})",function(){return timestamp(this)});var and=__webpack_require__(84);Kefir.and=deprecated("Kefir.and()","Kefir.combine([a, b], (a, b) => a && b)",and),Observable.prototype.and=deprecated(".and()",".combine(other, (a, b) => a && b)",function(other){return and([this,other])});var or=__webpack_require__(85);Kefir.or=deprecated("Kefir.or()","Kefir.combine([a, b], (a, b) => a || b)",or),Observable.prototype.or=deprecated(".or()",".combine(other, (a, b) => a || b)",function(other){return or([this,other])});var not=__webpack_require__(86);Observable.prototype.not=deprecated(".not()",".map((x) => !x)",function(){return not(this)});var fromSubUnsub=__webpack_require__(20);Kefir.fromSubUnsub=deprecated(".fromSubUnsub()","Kefir.stream()",fromSubUnsub);var takeWhileBy=__webpack_require__(87);Observable.prototype.takeWhileBy=deprecated(".takeWhileBy(foo)",".skipUntilBy(foo.filter((x) => !x))",function(other){return takeWhileBy(this,other)});var skipWhileBy=__webpack_require__(88);Observable.prototype.skipWhileBy=deprecated(".skipWhileBy(foo)",".takeUntilBy(foo.filter((x) => !x))",function(other){return skipWhileBy(this,other)})},function(module,exports,__webpack_require__){"use strict";function Observable(){this._dispatcher=new Dispatcher,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null}var _require=__webpack_require__(2),extend=_require.extend,_require2=__webpack_require__(3),VALUE=_require2.VALUE,ERROR=_require2.ERROR,ANY=_require2.ANY,END=_require2.END,_require3=__webpack_require__(4),Dispatcher=_require3.Dispatcher,callSubscriber=_require3.callSubscriber,_require4=__webpack_require__(5),findByPred=_require4.findByPred;extend(Observable.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(active){this._active!==active&&(this._active=active,active?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._alive=!1,this._dispatcher=null,this._logHandlers=null},_emit:function(type,x){switch(type){case VALUE:return this._emitValue(x);case ERROR:return this._emitError(x);case END:return this._emitEnd()}},_emitValue:function(value){this._alive&&this._dispatcher.dispatch({type:VALUE,value:value,current:this._activating})},_emitError:function(value){this._alive&&this._dispatcher.dispatch({type:ERROR,value:value,current:this._activating})},_emitEnd:function(){this._alive&&(this._dispatcher.dispatch({type:END,current:this._activating}),this._clear())},_on:function(type,fn){return this._alive?(this._dispatcher.add(type,fn),this._setActive(!0)):callSubscriber(type,fn,{type:END,current:!0}),this},_off:function(type,fn){if(this._alive){var count=this._dispatcher.remove(type,fn);0===count&&this._setActive(!1)}return this},onValue:function(fn){return this._on(VALUE,fn)},onError:function(fn){return this._on(ERROR,fn)},onEnd:function(fn){return this._on(END,fn)},onAny:function(fn){return this._on(ANY,fn)},offValue:function(fn){return this._off(VALUE,fn)},offError:function(fn){return this._off(ERROR,fn)},offEnd:function(fn){return this._off(END,fn)},offAny:function(fn){return this._off(ANY,fn)},_ofSameType:function(A,B){return A.prototype.getType()===this.getType()?A:B},setName:function(sourceObs,selfName){return this._name=selfName?""+sourceObs._name+"."+selfName:sourceObs,this},log:function(){var name=void 0===arguments[0]?this.toString():arguments[0],handler=function(event){var type="<"+event.type+(event.current?":current":"")+">";event.type===END?console.log(name,type):console.log(name,type,event.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:name,handler:handler})),this.onAny(handler),this},offLog:function(){var name=void 0===arguments[0]?this.toString():arguments[0];if(this._logHandlers){var handlerIndex=findByPred(this._logHandlers,function(obj){return obj.name===name});-1!==handlerIndex&&(this.offAny(this._logHandlers[handlerIndex].handler),this._logHandlers.splice(handlerIndex,1))}return this}}),Observable.prototype.toString=function(){return"["+this._name+"]"},module.exports=Observable},function(module,exports,__webpack_require__){"use strict";function createObj(proto){var F=function(){};return F.prototype=proto,new F}function extend(target){var length=arguments.length,i=void 0,prop=void 0;for(i=1;length>i;i++)for(prop in arguments[i])target[prop]=arguments[i][prop];return target}function inherit(Child,Parent){var length=arguments.length,i=void 0;for(Child.prototype=createObj(Parent.prototype),Child.prototype.constructor=Child,i=2;length>i;i++)extend(Child.prototype,arguments[i]);return Child}module.exports={extend:extend,inherit:inherit}},function(module,exports,__webpack_require__){"use strict";exports.NOTHING=["<nothing>"],exports.END="end",exports.VALUE="value",exports.ERROR="error",exports.ANY="any"},function(module,exports,__webpack_require__){"use strict";function callSubscriber(type,fn,event){type===ANY?fn(event):type===event.type&&(type===VALUE||type===ERROR?fn(event.value):fn())}function Dispatcher(){this._items=[]}var _require=__webpack_require__(2),extend=_require.extend,_require2=__webpack_require__(3),VALUE=_require2.VALUE,ERROR=_require2.ERROR,ANY=_require2.ANY,_require3=__webpack_require__(5),concat=_require3.concat,removeByPred=_require3.removeByPred;extend(Dispatcher.prototype,{add:function(type,fn){return this._items=concat(this._items,[{type:type,fn:fn}]),this._items.length},remove:function(type,fn){return this._items=removeByPred(this._items,function(x){return x.type===type&&x.fn===fn}),this._items.length},dispatch:function(event){for(var i=0,items=this._items;i<items.length;i++)callSubscriber(items[i].type,items[i].fn,event)}}),module.exports={callSubscriber:callSubscriber,Dispatcher:Dispatcher}},function(module,exports,__webpack_require__){"use strict";function concat(a,b){var result=void 0,length=void 0,i=void 0,j=void 0;if(0===a.length)return b;if(0===b.length)return a;for(j=0,result=new Array(a.length+b.length),length=a.length,i=0;length>i;i++,j++)result[j]=a[i];for(length=b.length,i=0;length>i;i++,j++)result[j]=b[i];return result}function circleShift(arr,distance){var length=arr.length,result=new Array(length),i=void 0;for(i=0;length>i;i++)result[(i+distance)%length]=arr[i];return result}function find(arr,value){var length=arr.length,i=void 0;for(i=0;length>i;i++)if(arr[i]===value)return i;return-1}function findByPred(arr,pred){var length=arr.length,i=void 0;for(i=0;length>i;i++)if(pred(arr[i]))return i;return-1}function cloneArray(input){var length=input.length,result=new Array(length),i=void 0;for(i=0;length>i;i++)result[i]=input[i];return result}function remove(input,index){var length=input.length,result=void 0,i=void 0,j=void 0;if(index>=0&&length>index){if(1===length)return[];for(result=new Array(length-1),i=0,j=0;length>i;i++)i!==index&&(result[j]=input[i],j++);return result}return input}function removeByPred(input,pred){return remove(input,findByPred(input,pred))}function map(input,fn){var length=input.length,result=new Array(length),i=void 0;for(i=0;length>i;i++)result[i]=fn(input[i]);return result}function forEach(arr,fn){var length=arr.length,i=void 0;for(i=0;length>i;i++)fn(arr[i])}function fillArray(arr,value){var length=arr.length,i=void 0;for(i=0;length>i;i++)arr[i]=value}function contains(arr,value){return-1!==find(arr,value)}function slide(cur,next,max){var length=Math.min(max,cur.length+1),offset=cur.length-length+1,result=new Array(length),i=void 0;for(i=offset;length>i;i++)result[i-offset]=cur[i];return result[length-1]=next,result}module.exports={concat:concat,circleShift:circleShift,find:find,findByPred:findByPred,cloneArray:cloneArray,remove:remove,removeByPred:removeByPred,map:map,forEach:forEach,fillArray:fillArray,contains:contains,slide:slide}},function(module,exports,__webpack_require__){"use strict";function Stream(){Observable.call(this)}var _require=__webpack_require__(2),inherit=_require.inherit,Observable=__webpack_require__(1);inherit(Stream,Observable,{_name:"stream",getType:function(){return"stream"}}),module.exports=Stream},function(module,exports,__webpack_require__){"use strict";function Property(){Observable.call(this),this._currentEvent=null}var _require=__webpack_require__(2),inherit=_require.inherit,_require2=__webpack_require__(3),VALUE=_require2.VALUE,ERROR=_require2.ERROR,END=_require2.END,_require3=__webpack_require__(4),callSubscriber=_require3.callSubscriber,Observable=__webpack_require__(1);inherit(Property,Observable,{_name:"property",_emitValue:function(value){this._alive&&(this._activating||this._dispatcher.dispatch({type:VALUE,value:value,current:this._activating}),this._currentEvent={type:VALUE,value:value,current:!0})},_emitError:function(value){this._alive&&(this._activating||this._dispatcher.dispatch({type:ERROR,value:value,current:this._activating}),this._currentEvent={type:ERROR,value:value,current:!0})},_emitEnd:function(){this._alive&&(this._activating||this._dispatcher.dispatch({type:END,current:this._activating}),this._clear())},_on:function(type,fn){return this._alive&&(this._dispatcher.add(type,fn),this._setActive(!0)),null!==this._currentEvent&&callSubscriber(type,fn,this._currentEvent),this._alive||callSubscriber(type,fn,{type:END,current:!0}),this},getType:function(){return"property"}}),module.exports=Property},function(module,exports,__webpack_require__){"use strict";var Stream=__webpack_require__(6),neverS=new Stream;neverS._emitEnd(),neverS._name="never",module.exports=function(){return neverS}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),S=timeBased({_name:"later",_init:function(_ref){var x=_ref.x;this._x=x},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}});module.exports=function(wait,x){return new S(wait,{x:x})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(2),inherit=_require.inherit,Stream=__webpack_require__(6);module.exports=function(mixin){function AnonymousStream(wait,options){var _this=this;Stream.call(this),this._wait=wait,this._intervalId=null,this._$onTick=function(){return _this._onTick()},this._init(options)}return inherit(AnonymousStream,Stream,{_init:function(options){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){Stream.prototype._clear.call(this),this._$onTick=null,this._free()}},mixin),AnonymousStream}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),S=timeBased({_name:"interval",_init:function(_ref){var x=_ref.x;this._x=x},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}});module.exports=function(wait,x){return new S(wait,{x:x})}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),_require=__webpack_require__(5),cloneArray=_require.cloneArray,never=__webpack_require__(8),S=timeBased({_name:"sequentially",_init:function(_ref){var xs=_ref.xs;this._xs=cloneArray(xs)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}});module.exports=function(wait,xs){return 0===xs.length?never():new S(wait,{xs:xs})}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),S=timeBased({_name:"fromPoll",_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_onTick:function(){var fn=this._fn;this._emitValue(fn())}});module.exports=function(wait,fn){return new S(wait,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),emitter=__webpack_require__(15),S=timeBased({_name:"withInterval",_init:function(_ref){var fn=_ref.fn;this._fn=fn,this._emitter=emitter(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var fn=this._fn;fn(this._emitter)}});module.exports=function(wait,fn){return new S(wait,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";module.exports=function(obs){function value(x){return obs._emitValue(x),obs._active}function error(x){return obs._emitError(x),obs._active}function end(){return obs._emitEnd(),obs._active}function event(e){return obs._emit(e.type,e.value),obs._active}return{value:value,error:error,end:end,event:event,emit:value,emitEvent:event}}},function(module,exports,__webpack_require__){"use strict";var stream=__webpack_require__(17);module.exports=function(callbackConsumer){var called=!1;return stream(function(emitter){called||(callbackConsumer(function(x){emitter.emit(x),emitter.end()}),called=!0)}).setName("fromCallback")}},function(module,exports,__webpack_require__){"use strict";function S(fn){Stream.call(this),this._fn=fn,this._unsubscribe=null}var _require=__webpack_require__(2),inherit=_require.inherit,Stream=__webpack_require__(6),emitter=__webpack_require__(15);inherit(S,Stream,{_name:"stream",_onActivation:function(){var fn=this._fn,unsubscribe=fn(emitter(this));this._unsubscribe="function"==typeof unsubscribe?unsubscribe:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){Stream.prototype._clear.call(this),this._fn=null}}),module.exports=function(fn){return new S(fn)}},function(module,exports,__webpack_require__){"use strict";var stream=__webpack_require__(17);module.exports=function(callbackConsumer){var called=!1;return stream(function(emitter){called||(callbackConsumer(function(error,x){error?emitter.error(error):emitter.emit(x),emitter.end()}),called=!0)}).setName("fromNodeCallback")}},function(module,exports,__webpack_require__){"use strict";var fromSubUnsub=__webpack_require__(20),pairs=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];module.exports=function(target,eventName,transformer){for(var sub=void 0,unsub=void 0,i=0;i<pairs.length;i++)if("function"==typeof target[pairs[i][0]]&&"function"==typeof target[pairs[i][1]]){sub=pairs[i][0],unsub=pairs[i][1];break}if(void 0===sub)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return fromSubUnsub(function(handler){return target[sub](eventName,handler)},function(handler){return target[unsub](eventName,handler)},transformer).setName("fromEvents")}},function(module,exports,__webpack_require__){"use strict";var stream=__webpack_require__(17),_require=__webpack_require__(21),apply=_require.apply;module.exports=function(sub,unsub,transformer){return stream(function(emitter){var handler=transformer?function(){emitter.emit(apply(transformer,this,arguments))}:emitter.emit;return sub(handler),function(){return unsub(handler)}}).setName("fromSubUnsub")}},function(module,exports,__webpack_require__){"use strict";function spread(fn,length){switch(length){case 0:return function(a){return fn()};case 1:return function(a){return fn(a[0])};case 2:return function(a){return fn(a[0],a[1])};case 3:return function(a){return fn(a[0],a[1],a[2])};case 4:return function(a){return fn(a[0],a[1],a[2],a[3])};default:return function(a){return fn.apply(null,a)}}}function apply(fn,c,a){var aLength=a?a.length:0;if(null==c)switch(aLength){case 0:return fn();case 1:return fn(a[0]);case 2:return fn(a[0],a[1]);case 3:return fn(a[0],a[1],a[2]);case 4:return fn(a[0],a[1],a[2],a[3]);default:return fn.apply(null,a)}else switch(aLength){case 0:return fn.call(c);default:return fn.apply(c,a)}}module.exports={spread:spread,apply:apply}},function(module,exports,__webpack_require__){"use strict";function P(value){this._currentEvent={type:"value",value:value,current:!0}}var _require=__webpack_require__(2),inherit=_require.inherit,Property=__webpack_require__(7);inherit(P,Property,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),module.exports=function(x){return new P(x)}},function(module,exports,__webpack_require__){"use strict";function P(value){this._currentEvent={type:"error",value:value,current:!0}}var _require=__webpack_require__(2),inherit=_require.inherit,Property=__webpack_require__(7);inherit(P,Property,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),module.exports=function(x){return new P(x)}},function(module,exports,__webpack_require__){"use strict";var stream=__webpack_require__(17),toProperty=__webpack_require__(25);module.exports=function(promise){var called=!1,result=stream(function(emitter){if(!called){var onValue=function(x){emitter.emit(x),emitter.end()},onError=function(x){emitter.error(x),emitter.end()},_promise=promise.then(onValue,onError);_promise&&"function"==typeof _promise.done&&_promise.done(),called=!0}});return toProperty(result,null).setName("fromPromise")}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createProperty=_require.createProperty,P=createProperty("toProperty",{_init:function(_ref){var fn=_ref.fn;this._getInitialCurrent=fn},_onActivation:function(){if(null!==this._getInitialCurrent){var getInitial=this._getInitialCurrent;this._emitValue(getInitial())}this._source.onAny(this._$handleAny)}});module.exports=function(obs){var fn=void 0===arguments[1]?null:arguments[1];if(null!==fn&&"function"!=typeof fn)throw new Error("You should call toProperty() with a function or no arguments.");return new P(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";function createConstructor(BaseClass,name){return function(source,options){var _this=this;BaseClass.call(this),this._source=source,this._name=""+source._name+"."+name,this._init(options),this._$handleAny=function(event){return _this._handleAny(event)}}}function createClassMethods(BaseClass){return{_init:function(options){},_free:function(){},_handleValue:function(x){this._emitValue(x)},_handleError:function(x){this._emitError(x)},_handleEnd:function(){this._emitEnd()},_handleAny:function(event){switch(event.type){case VALUE:return this._handleValue(event.value);case ERROR:return this._handleError(event.value);case END:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){BaseClass.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function createStream(name,mixin){var S=createConstructor(Stream,name);return inherit(S,Stream,createClassMethods(Stream),mixin),S}function createProperty(name,mixin){var P=createConstructor(Property,name);return inherit(P,Property,createClassMethods(Property),mixin),P}var Stream=__webpack_require__(6),Property=__webpack_require__(7),_require=__webpack_require__(2),inherit=_require.inherit,_require2=__webpack_require__(3),VALUE=_require2.VALUE,ERROR=_require2.ERROR,END=_require2.END;module.exports={createStream:createStream,createProperty:createProperty}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,S=createStream("changes",{_handleValue:function(x){this._activating||this._emitValue(x)},_handleError:function(x){this._activating||this._emitError(x)}});module.exports=function(obs){return new S(obs)}},function(module,exports,__webpack_require__){"use strict";function getGlodalPromise(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}module.exports=function(obs){var Promise=void 0===arguments[1]?getGlodalPromise():arguments[1],last=null;return new Promise(function(resolve,reject){obs.onAny(function(event){"end"===event.type&&null!==last?(("value"===last.type?resolve:reject)(last.value),last=null):last=event})})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){var fn=this._fn;this._emitValue(fn(x))}},S=createStream("map",mixin),P=createProperty("map",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){var fn=this._fn;fn(x)&&this._emitValue(x)}},S=createStream("filter",mixin),P=createProperty("filter",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var n=_ref.n;this._n=n,0>=n&&this._emitEnd()},_handleValue:function(x){this._n--,this._emitValue(x),0===this._n&&this._emitEnd()}},S=createStream("take",mixin),P=createProperty("take",mixin);module.exports=function(obs,n){return new(obs._ofSameType(S,P))(obs,{n:n})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){var fn=this._fn;fn(x)?this._emitValue(x):this._emitEnd()}},S=createStream("takeWhile",mixin),P=createProperty("takeWhile",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_init:function(){this._lastValue=NOTHING},_free:function(){this._lastValue=null},_handleValue:function(x){this._lastValue=x},_handleEnd:function(){this._lastValue!==NOTHING&&this._emitValue(this._lastValue),this._emitEnd()}},S=createStream("last",mixin),P=createProperty("last",mixin);module.exports=function(obs){return new(obs._ofSameType(S,P))(obs)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={
_init:function(_ref){var n=_ref.n;this._n=Math.max(0,n)},_handleValue:function(x){0===this._n?this._emitValue(x):this._n--}},S=createStream("skip",mixin),P=createProperty("skip",mixin);module.exports=function(obs,n){return new(obs._ofSameType(S,P))(obs,{n:n})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){var fn=this._fn;null===this._fn||fn(x)||(this._fn=null),null===this._fn&&this._emitValue(x)}},S=createStream("skipWhile",mixin),P=createProperty("skipWhile",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn,this._prev=NOTHING},_free:function(){this._fn=null,this._prev=null},_handleValue:function(x){var fn=this._fn;this._prev!==NOTHING&&fn(this._prev,x)||(this._prev=x,this._emitValue(x))}},S=createStream("skipDuplicates",mixin),P=createProperty("skipDuplicates",mixin),eq=function(a,b){return a===b};module.exports=function(obs){var fn=void 0===arguments[1]?eq:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";function defaultFn(a,b){return[a,b]}var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_init:function(_ref){var fn=_ref.fn,seed=_ref.seed;this._fn=fn,this._prev=seed},_free:function(){this._prev=null,this._fn=null},_handleValue:function(x){if(this._prev!==NOTHING){var fn=this._fn;this._emitValue(fn(this._prev,x))}this._prev=x}},S=createStream("diff",mixin),P=createProperty("diff",mixin);module.exports=function(obs,fn){var seed=void 0===arguments[2]?NOTHING:arguments[2];return new(obs._ofSameType(S,P))(obs,{fn:fn||defaultFn,seed:seed})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createProperty=_require.createProperty,_require2=__webpack_require__(3),ERROR=_require2.ERROR,NOTHING=_require2.NOTHING,P=createProperty("scan",{_init:function(_ref){var fn=_ref.fn,seed=_ref.seed;this._fn=fn,seed!==NOTHING&&this._emitValue(seed)},_free:function(){this._fn=null},_handleValue:function(x){if(null!==this._currentEvent&&this._currentEvent.type!==ERROR){var fn=this._fn;x=fn(this._currentEvent.value,x)}this._emitValue(x)}});module.exports=function(obs,fn){var seed=void 0===arguments[2]?NOTHING:arguments[2];return new P(obs,{fn:fn,seed:seed})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){for(var fn=this._fn,xs=fn(x),i=0;i<xs.length;i++)this._emitValue(xs[i])}},S=createStream("flatten",mixin),P=createProperty("flatten",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var _this=this,wait=_ref.wait;this._wait=Math.max(0,wait),this._buff=[],this._$shiftBuff=function(){return _this._emitValue(_this._buff.shift())}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(x){this._activating?this._emitValue(x):(this._buff.push(x),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){var _this2=this;this._activating?this._emitEnd():setTimeout(function(){return _this2._emitEnd()},this._wait)}},S=createStream("delay",mixin),P=createProperty("delay",mixin);module.exports=function(obs,wait){return new(obs._ofSameType(S,P))(obs,{wait:wait})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,now=__webpack_require__(42),mixin={_init:function(_ref){var _this=this,wait=_ref.wait,leading=_ref.leading,trailing=_ref.trailing;this._wait=Math.max(0,wait),this._leading=leading,this._trailing=trailing,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return _this._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(x){if(this._activating)this._emitValue(x);else{var curTime=now();0!==this._lastCallTime||this._leading||(this._lastCallTime=curTime);var remaining=this._wait-(curTime-this._lastCallTime);0>=remaining?(this._cancelTrailing(),this._lastCallTime=curTime,this._emitValue(x)):this._trailing&&(this._cancelTrailing(),this._trailingValue=x,this._timeoutId=setTimeout(this._$trailingCall,remaining))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?now():0,this._endLater&&this._emitEnd()}},S=createStream("throttle",mixin),P=createProperty("throttle",mixin);module.exports=function(obs,wait){var _ref2=void 0===arguments[2]?{}:arguments[2],_ref2$leading=_ref2.leading,leading=void 0===_ref2$leading?!0:_ref2$leading,_ref2$trailing=_ref2.trailing,trailing=void 0===_ref2$trailing?!0:_ref2$trailing;return new(obs._ofSameType(S,P))(obs,{wait:wait,leading:leading,trailing:trailing})}},function(module,exports,__webpack_require__){"use strict";module.exports=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,now=__webpack_require__(42),mixin={_init:function(_ref){var _this=this,wait=_ref.wait,immediate=_ref.immediate;this._wait=Math.max(0,wait),this._immediate=immediate,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return _this._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(x){this._activating?this._emitValue(x):(this._lastAttempt=now(),this._immediate&&!this._timeoutId&&this._emitValue(x),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=x))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var last=now()-this._lastAttempt;last<this._wait&&last>=0?this._timeoutId=setTimeout(this._$later,this._wait-last):(this._timeoutId=null,this._immediate||(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},S=createStream("debounce",mixin),P=createProperty("debounce",mixin);module.exports=function(obs,wait){var _ref2=void 0===arguments[2]?{}:arguments[2],_ref2$immediate=_ref2.immediate,immediate=void 0===_ref2$immediate?!1:_ref2$immediate;return new(obs._ofSameType(S,P))(obs,{wait:wait,immediate:immediate})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleValue:function(x){var fn=this._fn,result=fn(x);result.convert?this._emitError(result.error):this._emitValue(x)}},S=createStream("valuesToErrors",mixin),P=createProperty("valuesToErrors",mixin),defFn=function(x){return{convert:!0,error:x}};module.exports=function(obs){var fn=void 0===arguments[1]?defFn:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleError:function(x){var fn=this._fn,result=fn(x);result.convert?this._emitValue(result.value):this._emitError(x)}},S=createStream("errorsToValues",mixin),P=createProperty("errorsToValues",mixin),defFn=function(x){return{convert:!0,value:x}};module.exports=function(obs){var fn=void 0===arguments[1]?defFn:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleError:function(x){var fn=this._fn;this._emitError(fn(x))}},S=createStream("mapErrors",mixin),P=createProperty("mapErrors",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleError:function(x){var fn=this._fn;fn(x)&&this._emitError(x)}},S=createStream("filterErrors",mixin),P=createProperty("filterErrors",mixin),id=function(x){return x};module.exports=function(obs){var fn=void 0===arguments[1]?id:arguments[1];return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_handleError:function(x){this._emitError(x),this._emitEnd()}},S=createStream("endOnError",mixin),P=createProperty("endOnError",mixin);module.exports=function(obs){return new(obs._ofSameType(S,P))(obs)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_handleValue:function(){}},S=createStream("skipValues",mixin),P=createProperty("skipValues",mixin);module.exports=function(obs){return new(obs._ofSameType(S,P))(obs)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_handleError:function(){}},S=createStream("skipErrors",mixin),P=createProperty("skipErrors",mixin);module.exports=function(obs){return new(obs._ofSameType(S,P))(obs)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_handleEnd:function(){}},S=createStream("skipEnd",mixin),P=createProperty("skipEnd",mixin);module.exports=function(obs){return new(obs._ofSameType(S,P))(obs)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn;this._fn=fn},_free:function(){this._fn=null},_handleEnd:function(){var fn=this._fn;this._emitValue(fn()),this._emitEnd()}},S=createStream("beforeEnd",mixin),P=createProperty("beforeEnd",mixin);module.exports=function(obs,fn){return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(5),slide=_require2.slide,mixin={_init:function(_ref){var min=_ref.min,max=_ref.max;this._max=max,this._min=min,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(x){this._buff=slide(this._buff,x,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},S=createStream("slidingWindow",mixin),P=createProperty("slidingWindow",mixin);module.exports=function(obs,max){var min=void 0===arguments[2]?0:arguments[2];return new(obs._ofSameType(S,P))(obs,{min:min,max:max})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var fn=_ref.fn,flushOnEnd=_ref.flushOnEnd;this._fn=fn,this._flushOnEnd=flushOnEnd,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(x){this._buff.push(x);var fn=this._fn;fn(x)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},S=createStream("bufferWhile",mixin),P=createProperty("bufferWhile",mixin),id=function(x){return x};module.exports=function(obs,fn){var _ref2=void 0===arguments[2]?{}:arguments[2],_ref2$flushOnEnd=_ref2.flushOnEnd,flushOnEnd=void 0===_ref2$flushOnEnd?!0:_ref2$flushOnEnd;return new(obs._ofSameType(S,P))(obs,{fn:fn||id,flushOnEnd:flushOnEnd})}},function(module,exports,__webpack_require__){"use strict";function xformForObs(obs){return{"@@transducer/step":function(res,input){return obs._emitValue(input),null},"@@transducer/result":function(res){return obs._emitEnd(),null}}}var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(_ref){var transducer=_ref.transducer;this._xform=transducer(xformForObs(this))},_free:function(){this._xform=null},_handleValue:function(x){null!==this._xform["@@transducer/step"](null,x)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},S=createStream("transduce",mixin),P=createProperty("transduce",mixin);module.exports=function(obs,transducer){return new(obs._ofSameType(S,P))(obs,{transducer:transducer})}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,emitter=__webpack_require__(15),mixin={_init:function(_ref){var fn=_ref.fn;this._handler=fn,this._emitter=emitter(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(event){this._handler(this._emitter,event)}},S=createStream("withHandler",mixin),P=createProperty("withHandler",mixin);module.exports=function(obs,fn){return new(obs._ofSameType(S,P))(obs,{fn:fn})}},function(module,exports,__webpack_require__){"use strict";function defaultErrorsCombinator(errors){for(var latestError=void 0,i=0;i<errors.length;i++)void 0!==errors[i]&&(void 0===latestError||latestError.index<errors[i].index)&&(latestError=errors[i]);return latestError.error}function Combine(active,passive,combinator){var _this=this;Stream.call(this),this._activeCount=active.length,this._sources=concat(active,passive),this._combinator=combinator?spread(combinator,this._sources.length):function(x){return x},this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),fillArray(this._latestValues,NOTHING),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var _loop=function(i){_this._$handlers.push(function(event){return _this._handleAny(i,event)})},i=0;i<this._sources.length;i++)_loop(i)}var Stream=__webpack_require__(6),_require=__webpack_require__(3),VALUE=_require.VALUE,ERROR=_require.ERROR,NOTHING=_require.NOTHING,_require2=__webpack_require__(2),inherit=_require2.inherit,_require3=__webpack_require__(5),concat=_require3.concat,fillArray=_require3.fillArray,_require4=__webpack_require__(21),spread=_require4.spread,never=__webpack_require__(8);inherit(Combine,Stream,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var i=this._activeCount;i<this._sources.length;i++)this._sources[i].onAny(this._$handlers[i]);for(var i=0;i<this._activeCount;i++)this._sources[i].onAny(this._$handlers[i]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var length=this._sources.length,i=void 0;for(i=0;length>i;i++)this._sources[i].offAny(this._$handlers[i])},_emitIfFull:function(){for(var hasAllValues=!0,hasErrors=!1,length=this._latestValues.length,valuesCopy=new Array(length),errorsCopy=new Array(length),i=0;length>i;i++)valuesCopy[i]=this._latestValues[i],errorsCopy[i]=this._latestErrors[i],valuesCopy[i]===NOTHING&&(hasAllValues=!1),void 0!==errorsCopy[i]&&(hasErrors=!0);if(hasAllValues){var combinator=this._combinator;this._emitValue(combinator(valuesCopy))}hasErrors&&this._emitError(defaultErrorsCombinator(errorsCopy))},_handleAny:function(i,event){event.type===VALUE||event.type===ERROR?(event.type===VALUE&&(this._latestValues[i]=event.value,this._latestErrors[i]=void 0),event.type===ERROR&&(this._latestValues[i]=NOTHING,this._latestErrors[i]={index:this._latestErrorIndex++,error:event.value}),i<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):i<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){Stream.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}}),module.exports=function(active,_x,combinator){var passive=void 0===arguments[1]?[]:arguments[1];return"function"==typeof passive&&(combinator=passive,passive=[]),0===active.length?never():new Combine(active,passive,combinator)}},function(module,exports,__webpack_require__){"use strict";function Zip(sources,combinator){var _this=this;Stream.call(this),this._buffers=map(sources,function(source){return isArray(source)?cloneArray(source):[]}),this._sources=map(sources,function(source){return isArray(source)?never():source}),this._combinator=combinator?spread(combinator,this._sources.length):function(x){return x},this._aliveCount=0,this._$handlers=[];for(var _loop=function(i){_this._$handlers.push(function(event){return _this._handleAny(i,event)})},i=0;i<this._sources.length;i++)_loop(i)}var Stream=__webpack_require__(6),_require=__webpack_require__(3),VALUE=_require.VALUE,ERROR=_require.ERROR,END=_require.END,_require2=__webpack_require__(2),inherit=_require2.inherit,_require3=__webpack_require__(5),map=_require3.map,cloneArray=_require3.cloneArray,_require4=__webpack_require__(21),spread=_require4.spread,never=__webpack_require__(8),isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)};inherit(Zip,Stream,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var length=this._sources.length;this._aliveCount=length;for(var i=0;length>i&&this._active;i++)this._sources[i].onAny(this._$handlers[i])},_onDeactivation:function(){for(var i=0;i<this._sources.length;i++)this._sources[i].offAny(this._$handlers[i])},_emit:function(){for(var values=new Array(this._buffers.length),i=0;i<this._buffers.length;i++)values[i]=this._buffers[i].shift();var combinator=this._combinator;this._emitValue(combinator(values))},_isFull:function(){for(var i=0;i<this._buffers.length;i++)if(0===this._buffers[i].length)return!1;return!0},_handleAny:function(i,event){event.type===VALUE&&(this._buffers[i].push(event.value),this._isFull()&&this._emit()),event.type===ERROR&&this._emitError(event.value),event.type===END&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){Stream.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}}),module.exports=function(observables,combinator){return 0===observables.length?never():new Zip(observables,combinator)}},function(module,exports,__webpack_require__){"use strict";function Merge(sources){AbstractPool.call(this),this._addAll(sources),this._initialised=!0}var _require=__webpack_require__(2),inherit=_require.inherit,AbstractPool=__webpack_require__(60),never=__webpack_require__(8);inherit(Merge,AbstractPool,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),module.exports=function(observables){return 0===observables.length?never():new Merge(observables)}},function(module,exports,__webpack_require__){"use strict";function AbstractPool(){var _this=this,_ref=void 0===arguments[0]?{}:arguments[0],_ref$queueLim=_ref.queueLim,queueLim=void 0===_ref$queueLim?0:_ref$queueLim,_ref$concurLim=_ref.concurLim,concurLim=void 0===_ref$concurLim?-1:_ref$concurLim,_ref$drop=_ref.drop,drop=void 0===_ref$drop?"new":_ref$drop;Stream.call(this),this._queueLim=0>queueLim?-1:queueLim,this._concurLim=0>concurLim?-1:concurLim,this._drop=drop,this._queue=[],this._curSources=[],this._$handleSubAny=function(event){return _this._handleSubAny(event)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}var Stream=__webpack_require__(6),_require=__webpack_require__(3),VALUE=_require.VALUE,ERROR=_require.ERROR,_require2=__webpack_require__(2),inherit=_require2.inherit,_require3=__webpack_require__(5),concat=_require3.concat,forEach=_require3.forEach,findByPred=_require3.findByPred,find=_require3.find,remove=_require3.remove,cloneArray=_require3.cloneArray,id=function(x){return x};inherit(AbstractPool,Stream,{_name:"abstractPool",_add:function(obj,toObs){toObs=toObs||id,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(toObs(obj)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(toObs(obj)):"old"===this._drop&&(this._removeOldest(),this._add(obj,toObs))},_addAll:function(obss){var _this2=this;forEach(obss,function(obs){return _this2._add(obs)})},_remove:function(obs){-1===this._removeCur(obs)&&this._removeQueue(obs)},_addToQueue:function(obs){this._queue=concat(this._queue,[obs])},_addToCur:function(obs){if(this._active){if(!obs._alive)return void(obs._currentEvent&&this._emit(obs._currentEvent.type,obs._currentEvent.value));this._currentlyAdding=obs,obs.onAny(this._$handleSubAny),this._currentlyAdding=null,obs._alive&&(this._curSources=concat(this._curSources,[obs]),this._active&&this._subToEnd(obs))}else this._curSources=concat(this._curSources,[obs])},_subToEnd:function(obs){var _this3=this,onEnd=function(){return _this3._removeCur(obs)};this._$endHandlers.push({obs:obs,handler:onEnd}),obs.onEnd(onEnd)},_subscribe:function(obs){obs.onAny(this._$handleSubAny),this._active&&this._subToEnd(obs)},_unsubscribe:function(obs){obs.offAny(this._$handleSubAny);var onEndI=findByPred(this._$endHandlers,function(obj){return obj.obs===obs});-1!==onEndI&&(obs.offEnd(this._$endHandlers[onEndI].handler),this._$endHandlers.splice(onEndI,1))},_handleSubAny:function(event){event.type===VALUE?this._emitValue(event.value):event.type===ERROR&&this._emitError(event.value)},_removeQueue:function(obs){var index=find(this._queue,obs);return this._queue=remove(this._queue,index),index},_removeCur:function(obs){this._active&&this._unsubscribe(obs);var index=find(this._curSources,obs);return this._curSources=remove(this._curSources,index),-1!==index&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),index},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=cloneArray(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var i=0,sources=this._curSources;i<sources.length&&this._active;i++)this._subscribe(sources[i])},_onDeactivation:function(){for(var i=0,sources=this._curSources;i<sources.length;i++)this._unsubscribe(sources[i]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){Stream.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),module.exports=AbstractPool},function(module,exports,__webpack_require__){"use strict";var repeat=__webpack_require__(62);module.exports=function(observables){return repeat(function(index){return observables.length>index?observables[index]:!1}).setName("concat")}},function(module,exports,__webpack_require__){"use strict";function S(generator){var _this=this;Stream.call(this),this._generator=generator,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(event){return _this._handleAny(event)}}var _require=__webpack_require__(2),inherit=_require.inherit,Stream=__webpack_require__(6),_require2=__webpack_require__(3),END=_require2.END;inherit(S,Stream,{_name:"repeat",_handleAny:function(event){event.type===END?(this._source=null,this._getSource()):this._emit(event.type,event.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var generator=this._generator;null===this._source&&this._alive&&this._active;)this._source=generator(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){Stream.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}}),module.exports=function(generator){return new S(generator)}},function(module,exports,__webpack_require__){"use strict";function Pool(){AbstractPool.call(this)}var _require=__webpack_require__(2),inherit=_require.inherit,AbstractPool=__webpack_require__(60);inherit(Pool,AbstractPool,{_name:"pool",plug:function(obs){return this._add(obs),this},unplug:function(obs){return this._remove(obs),this}}),module.exports=Pool},function(module,exports,__webpack_require__){"use strict";function FlatMap(source,fn,options){var _this=this;AbstractPool.call(this,options),this._source=source,this._fn=fn,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(event){return _this._handleMain(event)}}var _require=__webpack_require__(3),VALUE=_require.VALUE,ERROR=_require.ERROR,END=_require.END,_require2=__webpack_require__(2),inherit=_require2.inherit,AbstractPool=__webpack_require__(60);inherit(FlatMap,AbstractPool,{_onActivation:function(){AbstractPool.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){AbstractPool.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(event){if(event.type===VALUE){var sameCurr=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===event.value;sameCurr||this._add(event.value,this._fn),this._lastCurrent=event.value,this._hadNoEvSinceDeact=!1}event.type===ERROR&&this._emitError(event.value),event.type===END&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){AbstractPool.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),module.exports=FlatMap},function(module,exports,__webpack_require__){"use strict";function FlatMapErrors(source,fn){FlatMap.call(this,source,fn)}var _require=__webpack_require__(3),VALUE=_require.VALUE,ERROR=_require.ERROR,END=_require.END,_require2=__webpack_require__(2),inherit=_require2.inherit,FlatMap=__webpack_require__(64);inherit(FlatMapErrors,FlatMap,{_handleMain:function(event){if(event.type===ERROR){var sameCurr=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===event.value;sameCurr||this._add(event.value,this._fn),this._lastCurrent=event.value,this._hadNoEvSinceDeact=!1}event.type===VALUE&&this._emitValue(event.value),event.type===END&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}}),module.exports=FlatMapErrors},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_handlePrimaryValue:function(x){this._lastSecondary!==NOTHING&&this._lastSecondary&&this._emitValue(x)},_handleSecondaryEnd:function(){this._lastSecondary!==NOTHING&&this._lastSecondary||this._emitEnd()}},S=createStream("filterBy",mixin),P=createProperty("filterBy",mixin);module.exports=function(primary,secondary){return new(primary._ofSameType(S,P))(primary,secondary)}},function(module,exports,__webpack_require__){"use strict";function createConstructor(BaseClass,name){return function(primary,secondary,options){var _this=this;BaseClass.call(this),this._primary=primary,this._secondary=secondary,this._name=""+primary._name+"."+name,this._lastSecondary=NOTHING,this._$handleSecondaryAny=function(event){return _this._handleSecondaryAny(event)},this._$handlePrimaryAny=function(event){return _this._handlePrimaryAny(event)},this._init(options)}}function createClassMethods(BaseClass){return{_init:function(options){},_free:function(){},_handlePrimaryValue:function(x){this._emitValue(x)},_handlePrimaryError:function(x){this._emitError(x)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(x){this._lastSecondary=x},_handleSecondaryError:function(x){this._emitError(x)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(event){switch(event.type){case VALUE:return this._handlePrimaryValue(event.value);case ERROR:return this._handlePrimaryError(event.value);case END:return this._handlePrimaryEnd(event.value)}},_handleSecondaryAny:function(event){switch(event.type){case VALUE:return this._handleSecondaryValue(event.value);case ERROR:return this._handleSecondaryError(event.value);case END:this._handleSecondaryEnd(event.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){BaseClass.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function createStream(name,mixin){var S=createConstructor(Stream,name);return inherit(S,Stream,createClassMethods(Stream),mixin),S}function createProperty(name,mixin){var P=createConstructor(Property,name);return inherit(P,Property,createClassMethods(Property),mixin),P}var Stream=__webpack_require__(6),Property=__webpack_require__(7),_require=__webpack_require__(2),inherit=_require.inherit,_require2=__webpack_require__(3),VALUE=_require2.VALUE,ERROR=_require2.ERROR,END=_require2.END,NOTHING=_require2.NOTHING;module.exports={createStream:createStream,createProperty:createProperty}},function(module,exports,__webpack_require__){"use strict";var combine=__webpack_require__(57),id2=function(_,x){return x};module.exports=function(passive,active,combinator){var _combinator=combinator?function(a,b){return combinator(b,a)}:id2;return combine([active],[passive],_combinator).setName(passive,"sampledBy")}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={
_handlePrimaryValue:function(x){this._lastSecondary!==NOTHING&&this._emitValue(x)},_handleSecondaryEnd:function(){this._lastSecondary===NOTHING&&this._emitEnd()}},S=createStream("skipUntilBy",mixin),P=createProperty("skipUntilBy",mixin);module.exports=function(primary,secondary){return new(primary._ofSameType(S,P))(primary,secondary)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_handleSecondaryValue:function(x){this._emitEnd()}},S=createStream("takeUntilBy",mixin),P=createProperty("takeUntilBy",mixin);module.exports=function(primary,secondary){return new(primary._ofSameType(S,P))(primary,secondary)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(){var _ref=void 0===arguments[0]?{}:arguments[0],_ref$flushOnEnd=_ref.flushOnEnd,flushOnEnd=void 0===_ref$flushOnEnd?!0:_ref$flushOnEnd;this._buff=[],this._flushOnEnd=flushOnEnd},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(x){this._buff.push(x)},_handleSecondaryValue:function(x){this._flush()},_handleSecondaryEnd:function(x){this._flushOnEnd||this._emitEnd()}},S=createStream("bufferBy",mixin),P=createProperty("bufferBy",mixin);module.exports=function(primary,secondary,options){return new(primary._ofSameType(S,P))(primary,secondary,options)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_init:function(){var _ref=void 0===arguments[0]?{}:arguments[0],_ref$flushOnEnd=_ref.flushOnEnd,flushOnEnd=void 0===_ref$flushOnEnd?!0:_ref$flushOnEnd;this._buff=[],this._flushOnEnd=flushOnEnd},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(x){this._buff.push(x),this._lastSecondary===NOTHING||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(x){this._flushOnEnd||this._lastSecondary!==NOTHING&&!this._lastSecondary||this._emitEnd()}},S=createStream("bufferWhileBy",mixin),P=createProperty("bufferWhileBy",mixin);module.exports=function(primary,secondary,options){return new(primary._ofSameType(S,P))(primary,secondary,options)}},function(module,exports,__webpack_require__){"use strict";var merge=__webpack_require__(59),map=__webpack_require__(29),skipDuplicates=__webpack_require__(36),toProperty=__webpack_require__(25),f=function(){return!1},t=function(){return!0};module.exports=function(a,b){var result=merge([map(a,t),map(b,f)]);return result=skipDuplicates(result),result=toProperty(result,f),result.setName(a,"awaiting")}},function(module,exports,__webpack_require__){"use strict";function Emitter(){Stream.call(this)}var _require=__webpack_require__(2),inherit=_require.inherit,Stream=__webpack_require__(6);inherit(Emitter,Stream,{_name:"emitter",emit:function(x){return this._emitValue(x),this},error:function(x){return this._emitError(x),this},end:function(){return this._emitEnd(),this},emitEvent:function(event){this._emit(event.type,event.value)}}),module.exports=Emitter},function(module,exports,__webpack_require__){"use strict";function Bus(){AbstractPool.call(this)}var _require=__webpack_require__(2),inherit=_require.inherit,AbstractPool=__webpack_require__(60);inherit(Bus,AbstractPool,{_name:"bus",plug:function(obs){return this._add(obs),this},unplug:function(obs){return this._remove(obs),this},emit:function(x){return this._emitValue(x),this},error:function(x){return this._emitError(x),this},end:function(){return this._emitEnd(),this},emitEvent:function(event){this._emit(event.type,event.value)}}),module.exports=Bus},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(26),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_init:function(_ref){var fn=_ref.fn,seed=_ref.seed;this._fn=fn,this._result=seed},_free:function(){this._fn=null,this._result=null},_handleValue:function(x){var fn=this._fn;this._result=this._result===NOTHING?x:fn(this._result,x)},_handleEnd:function(){this._result!==NOTHING&&this._emitValue(this._result),this._emitEnd()}},S=createStream("reduce",mixin),P=createProperty("reduce",mixin);module.exports=function(obs,fn){var seed=void 0===arguments[2]?NOTHING:arguments[2];return new(obs._ofSameType(S,P))(obs,{fn:fn,seed:seed})}},function(module,exports,__webpack_require__){"use strict";var combine=__webpack_require__(57),_require=__webpack_require__(21),apply=_require.apply,_require2=__webpack_require__(5),circleShift=_require2.circleShift;module.exports=function(passive,active,combinator){var _combinator=combinator;return passive.length>0&&(_combinator=function(){var args=circleShift(arguments,passive.length);return combinator?apply(combinator,null,args):args}),combine(active,passive,_combinator).setName("sampledBy")}},function(module,exports,__webpack_require__){"use strict";var timeBased=__webpack_require__(10),_require=__webpack_require__(5),cloneArray=_require.cloneArray,S=timeBased({_name:"repeatedly",_init:function(_ref){var xs=_ref.xs;this._xs=cloneArray(xs),this._i=-1},_onTick:function(){this._xs.length>0&&(this._i=(this._i+1)%this._xs.length,this._emitValue(this._xs[this._i]))}});module.exports=function(wait,xs){return new S(wait,{xs:xs})}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29);module.exports=function(obs,x){return map(obs,function(){return x}).setName(obs,"mapTo")}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29);module.exports=function(obs,fn){return map(obs,function(x){return fn(x),x}).setName(obs,"tap")}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29);module.exports=function(obs,propName){return map(obs,function(x){return x[propName]}).setName(obs,"pluck")}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29),_require=__webpack_require__(21),apply=_require.apply;module.exports=function(obs,methodName,args){var fn=0===args.length?function(x){return x[methodName]()}:function(x){return apply(x[methodName],x,args)};return map(obs,fn).setName(obs,"invoke")}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29),now=__webpack_require__(42);module.exports=function(obs){return map(obs,function(x){return{value:x,time:now()}}).setName(obs,"timestamp")}},function(module,exports,__webpack_require__){"use strict";function fn(){var i=void 0;for(i=0;i<arguments.length;i++)if(!arguments[i])return arguments[i];return arguments[i-1]}var combine=__webpack_require__(57);module.exports=function(observables){return combine(observables,[],fn).setName("and")}},function(module,exports,__webpack_require__){"use strict";function fn(){var i=void 0;for(i=0;i<arguments.length;i++)if(arguments[i])return arguments[i];return arguments[i-1]}var combine=__webpack_require__(57);module.exports=function(observables){return combine(observables,[],fn).setName("or")}},function(module,exports,__webpack_require__){"use strict";var map=__webpack_require__(29);module.exports=function(obs){return map(obs,function(x){return!x}).setName(obs,"not")}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,_require2=__webpack_require__(3),NOTHING=_require2.NOTHING,mixin={_handlePrimaryValue:function(x){this._lastSecondary!==NOTHING&&this._emitValue(x)},_handleSecondaryValue:function(x){this._lastSecondary=x,this._lastSecondary||this._emitEnd()},_handleSecondaryEnd:function(){this._lastSecondary===NOTHING&&this._emitEnd()}},S=createStream("takeWhileBy",mixin),P=createProperty("takeWhileBy",mixin);module.exports=function(primary,secondary){return new(primary._ofSameType(S,P))(primary,secondary)}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(67),createStream=_require.createStream,createProperty=_require.createProperty,mixin={_init:function(){this._hasFalseyFromSecondary=!1},_handlePrimaryValue:function(x){this._hasFalseyFromSecondary&&this._emitValue(x)},_handleSecondaryValue:function(x){this._hasFalseyFromSecondary=this._hasFalseyFromSecondary||!x},_handleSecondaryEnd:function(){this._hasFalseyFromSecondary||this._emitEnd()}},S=createStream("skipWhileBy",mixin),P=createProperty("skipWhileBy",mixin);module.exports=function(primary,secondary){return new(primary._ofSameType(S,P))(primary,secondary)}}])});


},{}],38:[function(require,module,exports){
function EventEmitter(){EventEmitter.init.call(this)}var util={};util.isObject=function(arg){return"object"==typeof arg&&null!==arg},util.isNumber=function(arg){return"number"==typeof arg},util.isUndefined=function(arg){return void 0===arg},util.isFunction=function(arg){return"function"==typeof arg},module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if(!util.isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&!this._events.error)throw er=arguments[1],er instanceof Error?er:Error('Uncaught, unspecified "error" event.');if(handler=this._events[type],util.isUndefined(handler))return!1;if(util.isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(util.isObject(handler)){for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!util.isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,util.isFunction(listener.listener)?listener.listener:listener),this._events[type]?util.isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,util.isObject(this._events[type])&&!this._events[type].warned){var m;m=util.isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,util.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),util.isFunction(console.trace)&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!util.isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!util.isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||util.isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(util.isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],util.isFunction(listeners))this.removeListener(type,listeners);else if(Array.isArray(listeners))for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?util.isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?util.isFunction(emitter._events[type])?1:emitter._events[type].length:0};


},{}],39:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _core=require("../core"),Actions=_core.createActions(["create","updateText","toggleComplete","toggleCompleteAll","destroy","destroyCompleted","setFilter"]);exports["default"]=Actions,module.exports=exports["default"];


},{"../core":48}],40:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _core=require("../core"),Constants=_core.createConstants(["FILTER_ALL","FILTER_ACTIVE","FILTER_COMPLETE"]);exports["default"]=Constants,module.exports=exports["default"];


},{"../core":48}],41:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _eventStream=require("./eventStream"),_eventStream2=_interopRequireDefault(_eventStream),_factories=require("./factories");exports["default"]=_factories.actionFactory(_eventStream2["default"]),module.exports=exports["default"];


},{"./eventStream":45,"./factories":47,"babel-runtime/helpers/interop-require-default":7}],42:[function(require,module,exports){
"use strict";function createActions(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return _utilities.flatten(args).reduce(function(acc,action){return(acc[action]=_createAction2["default"](action))&&acc},{})}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createActions;var _utilities=require("./utilities"),_createAction=require("./createAction"),_createAction2=_interopRequireDefault(_createAction);module.exports=exports["default"];


},{"./createAction":41,"./utilities":51,"babel-runtime/helpers/interop-require-default":7}],43:[function(require,module,exports){
"use strict";function createConstants(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return _utilities.flatten(args).reduce(function(acc,key){return(acc[key]=key)&&acc},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createConstants;var _utilities=require("./utilities");module.exports=exports["default"];


},{"./utilities":51}],44:[function(require,module,exports){
"use strict";function runHandler(key){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_len>_key;_key++)args[_key-1]=arguments[_key];var flatArgs=_utilities.flatten(args);return flatArgs.unshift(this[contentKey]),_utilities.isFunction(this[key])&&this[key].apply(this,_toConsumableArray(flatArgs))||flatArgs[0]}function diffAndStore(content){return _immutable2["default"].is(this[contentKey],content)||(this[contentKey]=content),this[contentKey]}function getActionByKey(key){var action=this.actions[key],listenerKey="on"+_utilities.toSentenceCase(key);return{action:action,listenerKey:listenerKey}}function runHandlerAndStore(_ref){var action=_ref.action,listenerKey=_ref.listenerKey;return action.map(runHandler.bind(this,listenerKey)).map(diffAndStore.bind(this))}function createStore(obj){var Store=_Object$create(obj);Store[contentKey]=Store.type&&Store.type()||_immutable2["default"].OrderedMap();var Actions=_Object$keys(Store.actions||{}).map(getActionByKey.bind(Store)).map(runHandlerAndStore.bind(Store)),Stream=_kefir2["default"].merge(Actions);if(Store.modifier){var Modifier=Store.modifier.toProperty(function(){return 0});Modifier.onValue(function(){return void 0}),Stream=_kefir2["default"].combine([Stream,Modifier],function(a,b){return b}).sampledBy(Stream).map(runHandler.bind(Store,Store.modifier._name)).skipDuplicates()}return Store=_utilities.inherit(Stream,Store)}var _toConsumableArray=require("babel-runtime/helpers/to-consumable-array")["default"],_Symbol=require("babel-runtime/core-js/symbol")["default"],_Object$create=require("babel-runtime/core-js/object/create")["default"],_Object$keys=require("babel-runtime/core-js/object/keys")["default"],_interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createStore;var _immutable=require("immutable"),_immutable2=_interopRequireDefault(_immutable),_kefir=require("kefir"),_kefir2=_interopRequireDefault(_kefir),_utilities=require("./utilities"),contentKey=_Symbol("contents");module.exports=exports["default"];


},{"./utilities":51,"babel-runtime/core-js/object/create":4,"babel-runtime/core-js/object/keys":5,"babel-runtime/core-js/symbol":6,"babel-runtime/helpers/interop-require-default":7,"babel-runtime/helpers/to-consumable-array":9,"immutable":36,"kefir":37}],45:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _nodeEventEmitter=require("node-event-emitter"),_nodeEventEmitter2=_interopRequireDefault(_nodeEventEmitter);exports["default"]=new _nodeEventEmitter2["default"],module.exports=exports["default"];


},{"babel-runtime/helpers/interop-require-default":7,"node-event-emitter":38}],46:[function(require,module,exports){
"use strict";function actionFactory(eventStream){return function(actionName){var functor=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return eventStream.emit(actionName,args)},stream=_kefir2["default"].fromEvents(eventStream,actionName);return functor=_utilities.inherit(stream,functor),functor._name=actionName,functor}}var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=actionFactory;var _kefir=require("kefir"),_kefir2=_interopRequireDefault(_kefir),_utilities=require("../utilities");module.exports=exports["default"];


},{"../utilities":51,"babel-runtime/helpers/interop-require-default":7,"kefir":37}],47:[function(require,module,exports){
"use strict";var _interopRequire=require("babel-runtime/helpers/interop-require")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _actionFactory=require("./actionFactory");exports.actionFactory=_interopRequire(_actionFactory);


},{"./actionFactory":46,"babel-runtime/helpers/interop-require":8}],48:[function(require,module,exports){
"use strict";var _interopRequire=require("babel-runtime/helpers/interop-require")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _eventStream=require("./eventStream");exports.eventStream=_interopRequire(_eventStream);var _createAction=require("./createAction");exports.createAction=_interopRequire(_createAction);var _createActions=require("./createActions");exports.createActions=_interopRequire(_createActions);var _createConstants=require("./createConstants");exports.createConstants=_interopRequire(_createConstants);var _createStore=require("./createStore");exports.createStore=_interopRequire(_createStore);


},{"./createAction":41,"./createActions":42,"./createConstants":43,"./createStore":44,"./eventStream":45,"babel-runtime/helpers/interop-require":8}],49:[function(require,module,exports){
"use strict";function createObj(proto){var F=new Function;return F.prototype=proto,new F}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=createObj,module.exports=exports["default"];


},{}],50:[function(require,module,exports){
"use strict";function flatten(arr){return arr.reduce(function(acc,item){return acc.concat(item)},[])}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=flatten,module.exports=exports["default"];


},{}],51:[function(require,module,exports){
"use strict";var _interopRequire=require("babel-runtime/helpers/interop-require")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _createObj=require("./createObj");exports.createObj=_interopRequire(_createObj);var _flatten=require("./flatten");exports.flatten=_interopRequire(_flatten);var _inherit=require("./inherit");exports.inherit=_interopRequire(_inherit);var _isFunction=require("./isFunction");exports.isFunction=_interopRequire(_isFunction);var _toSentenceCase=require("./toSentenceCase");exports.toSentenceCase=_interopRequire(_toSentenceCase);


},{"./createObj":49,"./flatten":50,"./inherit":52,"./isFunction":53,"./toSentenceCase":54,"babel-runtime/helpers/interop-require":8}],52:[function(require,module,exports){
"use strict";function inherit(stream,obj){var proto=_.createObj(stream.constructor.prototype);for(var fn in proto)obj[fn]=_.isFunction(proto[fn])?proto[fn].bind(stream):proto[fn];return obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=inherit;var _=require("./");module.exports=exports["default"];


},{"./":51}],53:[function(require,module,exports){
"use strict";function isFunction(fn){return"function"==typeof fn}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=isFunction,module.exports=exports["default"];


},{}],54:[function(require,module,exports){
"use strict";function toSentenceCase(str){return str.substr(0,1).toUpperCase()+str.substr(1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=toSentenceCase,module.exports=exports["default"];


},{}],55:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _actions=require("../actions"),_actions2=_interopRequireDefault(_actions),_Immutable=require("Immutable"),_Immutable2=_interopRequireDefault(_Immutable),_constants=require("../constants"),_constants2=_interopRequireDefault(_constants),_core=require("../core"),_utilities=require("../utilities"),create=function(text){return _Immutable2["default"].Map({id:_utilities.uuid(),completed:!1,text:text})},isComplete=function(todo){return todo.get("complete")},TodoStore=_core.createStore({actions:_actions2["default"],modifier:_actions2["default"].setFilter,onCreate:function(todos,text){var todo=create(text);return todos.set(todo.get("id"),todo)},onUpdateText:function(todos,todo){return todos.setIn([todo.id,"text"],todo.text)},onToggleComplete:function(todos,todo){return todos.setIn([todo.id,"complete"],!todo.complete)},onToggleCompleteAll:function(todos){return todos.map(function(todo){return todo.set("complete",!0)})},onDestroy:function(todos,todo){return todos["delete"](todo.id)},onDestroyCompleted:function(todos){return todos.filterNot(function(todo){return todo.get("complete")})},setFilter:function(todos,filter){switch(filter){case _constants2["default"].FILTER_ACTIVE:return todos.filterNot(isComplete);case _constants2["default"].FILTER_COMPLETE:return todos.filter(isComplete);default:return todos}}});exports["default"]=TodoStore,module.exports=exports["default"];


},{"../actions":39,"../constants":40,"../core":48,"../utilities":56,"Immutable":2,"babel-runtime/helpers/interop-require-default":7}],56:[function(require,module,exports){
"use strict";var _interopRequire=require("babel-runtime/helpers/interop-require")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _uuid=require("./uuid");exports.uuid=_interopRequire(_uuid);


},{"./uuid":57,"babel-runtime/helpers/interop-require":8}],57:[function(require,module,exports){
"use strict";function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function uuid(){var p4="4"+s4().slice(-3),p5=(3&parseInt(s4().slice(0,1),16)|8).toString(16)+s4().slice(-3);return""+s4()+s4()+"-"+s4()+"-"+p4+"-"+p5+"-"+s4()+s4()+s4()}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=uuid,module.exports=exports["default"];


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvc3JjL2FwcC5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9ub2RlX21vZHVsZXMvSW1tdXRhYmxlL2Rpc3QvaW1tdXRhYmxlLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbS5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cy5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0LmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG8tY29uc3VtYWJsZS1hcnJheS5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2FycmF5L2Zyb20uanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYXNzZXJ0LmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmNvZi5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5jdHguanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZGVmLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmVudW0ta2V5cy5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5mdy5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5nZXQtbmFtZXMuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuaXRlci1jYWxsLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItZGVmaW5lLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXItZGV0ZWN0LmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLml0ZXIuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQua2V5b2YuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQucmVkZWYuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuc2hhcmVkLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnN0cmluZy1hdC5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC51aWQuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQud2tzLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zdGF0aWNzLWFjY2VwdC1wcmltaXRpdmVzLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL25vZGVfbW9kdWxlcy9pbW11dGFibGUvZGlzdC9pbW11dGFibGUuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL2tlZmlyL2Rpc3Qva2VmaXIuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvbm9kZV9tb2R1bGVzL25vZGUtZXZlbnQtZW1pdHRlci9pbmRleC5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9zcmMvYWN0aW9ucy9pbmRleC5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9zcmMvY29uc3RhbnRzL2luZGV4LmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL3NyYy9jb3JlL2NyZWF0ZUFjdGlvbi5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9zcmMvY29yZS9jcmVhdGVBY3Rpb25zLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL3NyYy9jb3JlL2NyZWF0ZUNvbnN0YW50cy5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9zcmMvY29yZS9jcmVhdGVTdG9yZS5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9zcmMvY29yZS9ldmVudFN0cmVhbS5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9zcmMvY29yZS9mYWN0b3JpZXMvYWN0aW9uRmFjdG9yeS5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9zcmMvY29yZS9mYWN0b3JpZXMvaW5kZXguanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvc3JjL2NvcmUvaW5kZXguanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvc3JjL2NvcmUvdXRpbGl0aWVzL2NyZWF0ZU9iai5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9zcmMvY29yZS91dGlsaXRpZXMvZmxhdHRlbi5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9zcmMvY29yZS91dGlsaXRpZXMvaW5kZXguanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvc3JjL2NvcmUvdXRpbGl0aWVzL2luaGVyaXQuanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvc3JjL2NvcmUvdXRpbGl0aWVzL2lzRnVuY3Rpb24uanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvc3JjL2NvcmUvdXRpbGl0aWVzL3RvU2VudGVuY2VDYXNlLmpzIiwiL1VzZXJzL2pvZWhhcmxvdy9Qcm9qZWN0cy9yZWFjdC1rZWZpci10b2RvbXZjL3NyYy9zdG9yZXMvaW5kZXguanMiLCIvVXNlcnMvam9laGFybG93L1Byb2plY3RzL3JlYWN0LWtlZmlyLXRvZG9tdmMvc3JjL3V0aWxpdGllcy9pbmRleC5qcyIsIi9Vc2Vycy9qb2VoYXJsb3cvUHJvamVjdHMvcmVhY3Qta2VmaXItdG9kb212Yy9zcmMvdXRpbGl0aWVzL3V1aWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7NkhDQW9CLHdFQUNFLHdFQUNBLDZFQUVKLG1FQUNJLDREQUVsQixXQUFZLENBRWhCLFVBQUEsV0FBVSxJQUFJLGFBRWQsU0FBQSxXQUFVLFFBQVEsU0FBUyxPQUMxQixHQUFtQixLQUFmLE1BQU0sT0FBZ0IsVUFBVyxDQUNwQyxXQUFZLENBQ1osSUFBSSxNQUFPLE1BQU0sU0FBUyxHQUFHLFNBQVMsTUFDdEMsTUFBSyxRQUFRLFNBQVMsTUFDckIsVUFBQSxXQUFRLGVBQWUsUUFFeEIsVUFBQSxXQUFRLFVBQVUsWUFBQSxXQUFVLGlCQUM1QixVQUFBLFdBQVEsVUFBVSxZQUFBLFdBQVUsY0FJOUIsS0FBSyxHQUFJLEdBQUksRUFBTyxHQUFKLEVBQVEsSUFDdkIsVUFBQSxXQUFRLE9BQU0sU0FBUyxFQUFFLEdBRzFCLFFBQU8sUUFBTyxVQUFBLFdBQ2QsT0FBTyxVQUFTLFNBQUEsV0FFaEIsT0FBTyxN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TmlELENBQUMsQ0ZDbkMsQUVEbUMsQ0pPOUMsQ0FBQyxHRkRHLEVFQ0UsQ0ZEQyxFRUNFLEdFTmUsT0ZNTCxDQUFDLEVGTmlCLE9BQU8sRUFLN0IsSUFBSSxDQUFDLENBQUM7QUFDN0IsQUVDQyxDSVBELFFOTVEsQUVDQSxDRkRDLE1FQ00sQ0ZEQyxBRUNBLENGREMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7QUFDbkMsRUVDQyxDQUFBLEtGRE0sSVNUTyxTQUFTLEVURWYsRU9GNEIsTUhHTSxFSkR4QixBU0ZnQixFVFNoQixFU1JsQixDRkRpRCxDUFMzQixDQUFDLEdBQUcsQVNSTCxDVFFNLENBQUMsSUFBSSxDSU42QixHSk16QixDQUFDLEdBQUcsSVNSMUIsR1RRMkIsQ0FBVCxJQUFJLHFCQUFTLFFBQVEsRUFBQyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyx1QlNUL0M7QUhFdkIsQ05RQSxBRUNBLEFJVEMsQ05RQSxtQlFSc0IsT0FBTztRSkNYLEFHSEEsU0FBUyxNSEdNO0FKU25DLFNBQVMsT1FaNkIsSUFBSSxDUllyQixDQUFDLE9BQU8sRUFBRTtBQUM5QixLQUFJLENBQUMsTVViUyxTQUFTLEVIQ1csSUhHSSxFSlN2QixFQUFFLENBQUMsRU9aMkIsRVBZdkIsQ0FBQyxBVWJlLEtOSWUsQU1IcEQsS1ZZZ0MsQ0FBQyxBVVoxQixFVlk0QixHVVp4QixJVlkrQixDQUFDLEVBQUUsQVVaM0IsRUFBRyxHQUFHLGNBQWdCLElBQUksT0FBTyw2RUFEN0I7QVZjdEIsQVFaYSxNUllULENBQUMsRVFaaUIsT0FBTyxDUllkLEFRWmUsQ1JZZCxHQUFHLEFTZEcsRURFYyxFQUFFLEdSWVosQVFaZSxDUllkLENRWmdCLENDRlg7QURHakMsRVJZQyxHUVpHLEdKQ2UsQUdIQSxFQ0VWLEdBQUcsRURGYyxJSEdJLEFJSnRCLFNBQVMsRUFHSyxNQUFNLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FSYXBELEFRWkEsQUNKYyxNRElULEVSWUUsQ1NoQmdCLENESWQsRVJZRSxBUVpBLENS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QkFBQyxLQUFLLEVBQUU7QUFDMUIsU0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQUEsSUFBSTtVQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQztHQUFBLENBQUMsQ0FBQztFQUNyRDtBQUNELFVBQVMsRUFBQSxtQkFBQyxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ3RCLFNBQU8sS0FBSyxVQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0VBQzdCO0FBQ0QsbUJBQWtCLEVBQUEsNEJBQUMsS0FBSyxFQUFFO0FBQ3pCLFNBQU8sS0FBSyxDQUFDLFNBQVMsQ0FBQyxVQUFBLElBQUk7VUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQztHQUFBLENBQUMsQ0FBQztFQUNyRDtBQUNELFVBQVMsRUFBQSxtQkFBQyxLQUFLLEVBQUUsTUFBTSxFQUFFO0FBQ3hCLFVBQU8sTUFBTTtBQUNaLFFBQUssdUJBQVUsYUFBYTtBQUFFLFdBQU8sS0FBSyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUFBLEFBQ2pFLFFBQUssdUJBQVUsZUFBZTtBQUFFLFdBQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUFBLEFBQ2hFO0FBQVMsV0FBTyxLQUFLLENBQUM7QUFBQSxHQUN0QjtFQUNEO0NBQ0QsQ0FBQyxDQUFDOztxQkFFWSxTQUFTIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBBY3Rpb25zIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgVG9kb1N0b3JlIGZyb20gJy4vc3RvcmVzJztcbmltcG9ydCBDb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgS2VmaXIgZnJvbSAna2VmaXInO1xuaW1wb3J0IEltbXV0YWJsZSBmcm9tICdpbW11dGFibGUnO1xuXG5sZXQgaXNXb3JraW5nID0gZmFsc2U7XG5cblRvZG9TdG9yZS5sb2coJ3RvZG9TdG9yZScpO1xuXG5Ub2RvU3RvcmUub25WYWx1ZShmdW5jdGlvbih0b2Rvcykge1xuXHRpZiAodG9kb3Muc2l6ZSA9PT0gMTAgJiYgIWlzV29ya2luZykge1xuXHRcdGlzV29ya2luZyA9IHRydWU7XG5cdFx0bGV0IHRlbXAgPSB0b2Rvcy50YWtlTGFzdCg0KS50b0xpc3QoKS50b0pTKCk7XG5cdFx0dGVtcC5mb3JFYWNoKGZ1bmN0aW9uKHRvZG8pIHtcblx0XHRcdEFjdGlvbnMudG9nZ2xlQ29tcGxldGUodG9kbyk7XG5cdFx0fSk7XG5cdFx0QWN0aW9ucy5zZXRGaWx0ZXIoQ29uc3RhbnRzLkZJTFRFUl9DT01QTEVURSk7XG5cdFx0QWN0aW9ucy5zZXRGaWx0ZXIoQ29uc3RhbnRzLkZJTFRFUl9BTEwpO1xuXHR9XG59KTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdEFjdGlvbnMuY3JlYXRlKGBoZWxsbyR7aSsxfWApO1xufVxuXG53aW5kb3cuQWN0aW9ucyA9IEFjdGlvbnM7XG53aW5kb3cuVG9kb1N0b3JlID0gVG9kb1N0b3JlO1xuXG53aW5kb3cuS2VmaXIgPSBLZWZpcjtcbndpbmRvdy5JbW11dGFibGUgPSBJbW11dGFibGU7XG4iLCIvKipcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqICBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqICBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICBnbG9iYWwuSW1tdXRhYmxlID0gZmFjdG9yeSgpXG59KHRoaXMsIGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO3ZhciBTTElDRSQwID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNsYXNzKGN0b3IsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAoc3VwZXJDbGFzcykge1xuICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgICB9XG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yO1xuICB9XG5cbiAgLy8gVXNlZCBmb3Igc2V0dGluZyBwcm90b3R5cGUgbWV0aG9kcyB0aGF0IElFOCBjaG9rZXMgb24uXG4gIHZhciBERUxFVEUgPSAnZGVsZXRlJztcblxuICAvLyBDb25zdGFudHMgZGVzY3JpYmluZyB0aGUgc2l6ZSBvZiB0cmllIG5vZGVzLlxuICB2YXIgU0hJRlQgPSA1OyAvLyBSZXN1bHRlZCBpbiBiZXN0IHBlcmZvcm1hbmNlIGFmdGVyIF9fX19fXz9cbiAgdmFyIFNJWkUgPSAxIDw8IFNISUZUO1xuICB2YXIgTUFTSyA9IFNJWkUgLSAxO1xuXG4gIC8vIEEgY29uc2lzdGVudCBzaGFyZWQgdmFsdWUgcmVwcmVzZW50aW5nIFwibm90IHNldFwiIHdoaWNoIGVxdWFscyBub3RoaW5nIG90aGVyXG4gIC8vIHRoYW4gaXRzZWxmLCBhbmQgbm90aGluZyB0aGF0IGNvdWxkIGJlIHByb3ZpZGVkIGV4dGVybmFsbHkuXG4gIHZhciBOT1RfU0VUID0ge307XG5cbiAgLy8gQm9vbGVhbiByZWZlcmVuY2VzLCBSb3VnaCBlcXVpdmFsZW50IG9mIGBib29sICZgLlxuICB2YXIgQ0hBTkdFX0xFTkdUSCA9IHsgdmFsdWU6IGZhbHNlIH07XG4gIHZhciBESURfQUxURVIgPSB7IHZhbHVlOiBmYWxzZSB9O1xuXG4gIGZ1bmN0aW9uIE1ha2VSZWYocmVmKSB7XG4gICAgcmVmLnZhbHVlID0gZmFsc2U7XG4gICAgcmV0dXJuIHJlZjtcbiAgfVxuXG4gIGZ1bmN0aW9uIFNldFJlZihyZWYpIHtcbiAgICByZWYgJiYgKHJlZi52YWx1ZSA9IHRydWUpO1xuICB9XG5cbiAgLy8gQSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgdmFsdWUgcmVwcmVzZW50aW5nIGFuIFwib3duZXJcIiBmb3IgdHJhbnNpZW50IHdyaXRlc1xuICAvLyB0byB0cmllcy4gVGhlIHJldHVybiB2YWx1ZSB3aWxsIG9ubHkgZXZlciBlcXVhbCBpdHNlbGYsIGFuZCB3aWxsIG5vdCBlcXVhbFxuICAvLyB0aGUgcmV0dXJuIG9mIGFueSBzdWJzZXF1ZW50IGNhbGwgb2YgdGhpcyBmdW5jdGlvbi5cbiAgZnVuY3Rpb24gT3duZXJJRCgpIHt9XG5cbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vY29weS1hcnJheS1pbmxpbmVcbiAgZnVuY3Rpb24gYXJyQ29weShhcnIsIG9mZnNldCkge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICAgIHZhciBsZW4gPSBNYXRoLm1heCgwLCBhcnIubGVuZ3RoIC0gb2Zmc2V0KTtcbiAgICB2YXIgbmV3QXJyID0gbmV3IEFycmF5KGxlbik7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGxlbjsgaWkrKykge1xuICAgICAgbmV3QXJyW2lpXSA9IGFycltpaSArIG9mZnNldF07XG4gICAgfVxuICAgIHJldHVybiBuZXdBcnI7XG4gIH1cblxuICBmdW5jdGlvbiBlbnN1cmVTaXplKGl0ZXIpIHtcbiAgICBpZiAoaXRlci5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGl0ZXIuc2l6ZSA9IGl0ZXIuX19pdGVyYXRlKHJldHVyblRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gaXRlci5zaXplO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcEluZGV4KGl0ZXIsIGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4ID49IDAgPyAoK2luZGV4KSA6IGVuc3VyZVNpemUoaXRlcikgKyAoK2luZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiB3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpIHtcbiAgICByZXR1cm4gKGJlZ2luID09PSAwIHx8IChzaXplICE9PSB1bmRlZmluZWQgJiYgYmVnaW4gPD0gLXNpemUpKSAmJlxuICAgICAgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IChzaXplICE9PSB1bmRlZmluZWQgJiYgZW5kID49IHNpemUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVCZWdpbihiZWdpbiwgc2l6ZSkge1xuICAgIHJldHVybiByZXNvbHZlSW5kZXgoYmVnaW4sIHNpemUsIDApO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUVuZChlbmQsIHNpemUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUluZGV4KGVuZCwgc2l6ZSwgc2l6ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNvbHZlSW5kZXgoaW5kZXgsIHNpemUsIGRlZmF1bHRJbmRleCkge1xuICAgIHJldHVybiBpbmRleCA9PT0gdW5kZWZpbmVkID9cbiAgICAgIGRlZmF1bHRJbmRleCA6XG4gICAgICBpbmRleCA8IDAgP1xuICAgICAgICBNYXRoLm1heCgwLCBzaXplICsgaW5kZXgpIDpcbiAgICAgICAgc2l6ZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICBpbmRleCA6XG4gICAgICAgICAgTWF0aC5taW4oc2l6ZSwgaW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gSXRlcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0l0ZXJhYmxlKHZhbHVlKSA/IHZhbHVlIDogU2VxKHZhbHVlKTtcbiAgICB9XG5cblxuICBjcmVhdGVDbGFzcyhLZXllZEl0ZXJhYmxlLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gS2V5ZWRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzS2V5ZWQodmFsdWUpID8gdmFsdWUgOiBLZXllZFNlcSh2YWx1ZSk7XG4gICAgfVxuXG5cbiAgY3JlYXRlQ2xhc3MoSW5kZXhlZEl0ZXJhYmxlLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gSW5kZXhlZEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbmRleGVkKHZhbHVlKSA/IHZhbHVlIDogSW5kZXhlZFNlcSh2YWx1ZSk7XG4gICAgfVxuXG5cbiAgY3JlYXRlQ2xhc3MoU2V0SXRlcmFibGUsIEl0ZXJhYmxlKTtcbiAgICBmdW5jdGlvbiBTZXRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSXRlcmFibGUodmFsdWUpICYmICFpc0Fzc29jaWF0aXZlKHZhbHVlKSA/IHZhbHVlIDogU2V0U2VxKHZhbHVlKTtcbiAgICB9XG5cblxuXG4gIGZ1bmN0aW9uIGlzSXRlcmFibGUobWF5YmVJdGVyYWJsZSkge1xuICAgIHJldHVybiAhIShtYXliZUl0ZXJhYmxlICYmIG1heWJlSXRlcmFibGVbSVNfSVRFUkFCTEVfU0VOVElORUxdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzS2V5ZWQobWF5YmVLZXllZCkge1xuICAgIHJldHVybiAhIShtYXliZUtleWVkICYmIG1heWJlS2V5ZWRbSVNfS0VZRURfU0VOVElORUxdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSW5kZXhlZChtYXliZUluZGV4ZWQpIHtcbiAgICByZXR1cm4gISEobWF5YmVJbmRleGVkICYmIG1heWJlSW5kZXhlZFtJU19JTkRFWEVEX1NFTlRJTkVMXSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0Fzc29jaWF0aXZlKG1heWJlQXNzb2NpYXRpdmUpIHtcbiAgICByZXR1cm4gaXNLZXllZChtYXliZUFzc29jaWF0aXZlKSB8fCBpc0luZGV4ZWQobWF5YmVBc3NvY2lhdGl2ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc09yZGVyZWQobWF5YmVPcmRlcmVkKSB7XG4gICAgcmV0dXJuICEhKG1heWJlT3JkZXJlZCAmJiBtYXliZU9yZGVyZWRbSVNfT1JERVJFRF9TRU5USU5FTF0pO1xuICB9XG5cbiAgSXRlcmFibGUuaXNJdGVyYWJsZSA9IGlzSXRlcmFibGU7XG4gIEl0ZXJhYmxlLmlzS2V5ZWQgPSBpc0tleWVkO1xuICBJdGVyYWJsZS5pc0luZGV4ZWQgPSBpc0luZGV4ZWQ7XG4gIEl0ZXJhYmxlLmlzQXNzb2NpYXRpdmUgPSBpc0Fzc29jaWF0aXZlO1xuICBJdGVyYWJsZS5pc09yZGVyZWQgPSBpc09yZGVyZWQ7XG5cbiAgSXRlcmFibGUuS2V5ZWQgPSBLZXllZEl0ZXJhYmxlO1xuICBJdGVyYWJsZS5JbmRleGVkID0gSW5kZXhlZEl0ZXJhYmxlO1xuICBJdGVyYWJsZS5TZXQgPSBTZXRJdGVyYWJsZTtcblxuXG4gIHZhciBJU19JVEVSQUJMRV9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lURVJBQkxFX19AQCc7XG4gIHZhciBJU19LRVlFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0tFWUVEX19AQCc7XG4gIHZhciBJU19JTkRFWEVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfSU5ERVhFRF9fQEAnO1xuICB2YXIgSVNfT1JERVJFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX09SREVSRURfX0BAJztcblxuICAvKiBnbG9iYWwgU3ltYm9sICovXG5cbiAgdmFyIElURVJBVEVfS0VZUyA9IDA7XG4gIHZhciBJVEVSQVRFX1ZBTFVFUyA9IDE7XG4gIHZhciBJVEVSQVRFX0VOVFJJRVMgPSAyO1xuXG4gIHZhciBSRUFMX0lURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7XG5cbiAgdmFyIElURVJBVE9SX1NZTUJPTCA9IFJFQUxfSVRFUkFUT1JfU1lNQk9MIHx8IEZBVVhfSVRFUkFUT1JfU1lNQk9MO1xuXG5cbiAgZnVuY3Rpb24gc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihuZXh0KSB7XG4gICAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgIH1cblxuICAgIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJ1tJdGVyYXRvcl0nO1xuICAgIH07XG5cblxuICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLktFWVMgPSBJVEVSQVRFX0tFWVM7XG4gIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IuVkFMVUVTID0gSVRFUkFURV9WQUxVRVM7XG4gIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IuRU5UUklFUyA9IElURVJBVEVfRU5UUklFUztcblxuICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLnByb3RvdHlwZS5pbnNwZWN0ID1cbiAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5wcm90b3R5cGUudG9Tb3VyY2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnRvU3RyaW5nKCk7IH1cbiAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5wcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgaXRlcmF0b3JSZXN1bHQpIHtcbiAgICB2YXIgdmFsdWUgPSB0eXBlID09PSAwID8gayA6IHR5cGUgPT09IDEgPyB2IDogW2ssIHZdO1xuICAgIGl0ZXJhdG9yUmVzdWx0ID8gKGl0ZXJhdG9yUmVzdWx0LnZhbHVlID0gdmFsdWUpIDogKGl0ZXJhdG9yUmVzdWx0ID0ge1xuICAgICAgdmFsdWU6IHZhbHVlLCBkb25lOiBmYWxzZVxuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvclJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yRG9uZSgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBmdW5jdGlvbiBoYXNJdGVyYXRvcihtYXliZUl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuICEhZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSXRlcmF0b3IobWF5YmVJdGVyYXRvcikge1xuICAgIHJldHVybiBtYXliZUl0ZXJhdG9yICYmIHR5cGVvZiBtYXliZUl0ZXJhdG9yLm5leHQgPT09ICdmdW5jdGlvbic7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJdGVyYXRvcihpdGVyYWJsZSkge1xuICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihpdGVyYWJsZSk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm4gJiYgaXRlcmF0b3JGbi5jYWxsKGl0ZXJhYmxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4oaXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGl0ZXJhYmxlICYmIChcbiAgICAgIChSRUFMX0lURVJBVE9SX1NZTUJPTCAmJiBpdGVyYWJsZVtSRUFMX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICBpdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF1cbiAgICApO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PT0gJ251bWJlcic7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhTZXEsIEl0ZXJhYmxlKTtcbiAgICBmdW5jdGlvbiBTZXEodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTZXF1ZW5jZSgpIDpcbiAgICAgICAgaXNJdGVyYWJsZSh2YWx1ZSkgPyB2YWx1ZS50b1NlcSgpIDogc2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBTZXEub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gU2VxKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFNlcS5wcm90b3R5cGUudG9TZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBTZXEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXEgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIFNlcS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5fY2FjaGUgJiYgdGhpcy5fX2l0ZXJhdGVVbmNhY2hlZCkge1xuICAgICAgICB0aGlzLl9jYWNoZSA9IHRoaXMuZW50cnlTZXEoKS50b0FycmF5KCk7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuX2NhY2hlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvLyBhYnN0cmFjdCBfX2l0ZXJhdGVVbmNhY2hlZChmbiwgcmV2ZXJzZSlcblxuICAgIFNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBzZXFJdGVyYXRlKHRoaXMsIGZuLCByZXZlcnNlLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgLy8gYWJzdHJhY3QgX19pdGVyYXRvclVuY2FjaGVkKHR5cGUsIHJldmVyc2UpXG5cbiAgICBTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gc2VxSXRlcmF0b3IodGhpcywgdHlwZSwgcmV2ZXJzZSwgdHJ1ZSk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoS2V5ZWRTZXEsIFNlcSk7XG4gICAgZnVuY3Rpb24gS2V5ZWRTZXEodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgZW1wdHlTZXF1ZW5jZSgpLnRvS2V5ZWRTZXEoKSA6XG4gICAgICAgIGlzSXRlcmFibGUodmFsdWUpID9cbiAgICAgICAgICAoaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZS50b1NlcSgpIDogdmFsdWUuZnJvbUVudHJ5U2VxKCkpIDpcbiAgICAgICAgICBrZXllZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgS2V5ZWRTZXEucHJvdG90eXBlLnRvS2V5ZWRTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKEluZGV4ZWRTZXEsIFNlcSk7XG4gICAgZnVuY3Rpb24gSW5kZXhlZFNlcSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eVNlcXVlbmNlKCkgOlxuICAgICAgICAhaXNJdGVyYWJsZSh2YWx1ZSkgPyBpbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSA6XG4gICAgICAgIGlzS2V5ZWQodmFsdWUpID8gdmFsdWUuZW50cnlTZXEoKSA6IHZhbHVlLnRvSW5kZXhlZFNlcSgpO1xuICAgIH1cblxuICAgIEluZGV4ZWRTZXEub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gSW5kZXhlZFNlcShhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBJbmRleGVkU2VxLnByb3RvdHlwZS50b0luZGV4ZWRTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBJbmRleGVkU2VxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU2VxIFsnLCAnXScpO1xuICAgIH07XG5cbiAgICBJbmRleGVkU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHNlcUl0ZXJhdGUodGhpcywgZm4sIHJldmVyc2UsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgSW5kZXhlZFNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBzZXFJdGVyYXRvcih0aGlzLCB0eXBlLCByZXZlcnNlLCBmYWxzZSk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoU2V0U2VxLCBTZXEpO1xuICAgIGZ1bmN0aW9uIFNldFNlcSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5U2VxdWVuY2UoKSA6XG4gICAgICAgICFpc0l0ZXJhYmxlKHZhbHVlKSA/IGluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIDpcbiAgICAgICAgaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZS5lbnRyeVNlcSgpIDogdmFsdWVcbiAgICAgICkudG9TZXRTZXEoKTtcbiAgICB9XG5cbiAgICBTZXRTZXEub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gU2V0U2VxKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFNldFNlcS5wcm90b3R5cGUudG9TZXRTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cblxuXG4gIFNlcS5pc1NlcSA9IGlzU2VxO1xuICBTZXEuS2V5ZWQgPSBLZXllZFNlcTtcbiAgU2VxLlNldCA9IFNldFNlcTtcbiAgU2VxLkluZGV4ZWQgPSBJbmRleGVkU2VxO1xuXG4gIHZhciBJU19TRVFfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9TRVFfX0BAJztcblxuICBTZXEucHJvdG90eXBlW0lTX1NFUV9TRU5USU5FTF0gPSB0cnVlO1xuXG5cblxuICAvLyAjcHJhZ21hIFJvb3QgU2VxdWVuY2VzXG5cbiAgY3JlYXRlQ2xhc3MoQXJyYXlTZXEsIEluZGV4ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIEFycmF5U2VxKGFycmF5KSB7XG4gICAgICB0aGlzLl9hcnJheSA9IGFycmF5O1xuICAgICAgdGhpcy5zaXplID0gYXJyYXkubGVuZ3RoO1xuICAgIH1cblxuICAgIEFycmF5U2VxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyhpbmRleCkgPyB0aGlzLl9hcnJheVt3cmFwSW5kZXgodGhpcywgaW5kZXgpXSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBBcnJheVNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX2FycmF5O1xuICAgICAgdmFyIG1heEluZGV4ID0gYXJyYXkubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgICAgaWYgKGZuKGFycmF5W3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldLCBpaSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGlpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlpO1xuICAgIH07XG5cbiAgICBBcnJheVNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX2FycmF5O1xuICAgICAgdmFyIG1heEluZGV4ID0gYXJyYXkubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBpaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSBcbiAgICAgICAge3JldHVybiBpaSA+IG1heEluZGV4ID9cbiAgICAgICAgICBpdGVyYXRvckRvbmUoKSA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBpaSwgYXJyYXlbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkrKyA6IGlpKytdKX1cbiAgICAgICk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoT2JqZWN0U2VxLCBLZXllZFNlcSk7XG4gICAgZnVuY3Rpb24gT2JqZWN0U2VxKG9iamVjdCkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICAgICAgdGhpcy5fb2JqZWN0ID0gb2JqZWN0O1xuICAgICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgICB0aGlzLnNpemUgPSBrZXlzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBPYmplY3RTZXEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIGlmIChub3RTZXRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9vYmplY3Rba2V5XTtcbiAgICB9O1xuXG4gICAgT2JqZWN0U2VxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vYmplY3QuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICB9O1xuXG4gICAgT2JqZWN0U2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgdmFyIG9iamVjdCA9IHRoaXMuX29iamVjdDtcbiAgICAgIHZhciBrZXlzID0gdGhpcy5fa2V5cztcbiAgICAgIHZhciBtYXhJbmRleCA9IGtleXMubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICAgIGlmIChmbihvYmplY3Rba2V5XSwga2V5LCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaWkgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaWk7XG4gICAgfTtcblxuICAgIE9iamVjdFNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBvYmplY3QgPSB0aGlzLl9vYmplY3Q7XG4gICAgICB2YXIga2V5cyA9IHRoaXMuX2tleXM7XG4gICAgICB2YXIgbWF4SW5kZXggPSBrZXlzLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgaWkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICAgIHJldHVybiBpaSsrID4gbWF4SW5kZXggP1xuICAgICAgICAgIGl0ZXJhdG9yRG9uZSgpIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGtleSwgb2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICBPYmplY3RTZXEucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxuXG4gIGNyZWF0ZUNsYXNzKEl0ZXJhYmxlU2VxLCBJbmRleGVkU2VxKTtcbiAgICBmdW5jdGlvbiBJdGVyYWJsZVNlcShpdGVyYWJsZSkge1xuICAgICAgdGhpcy5faXRlcmFibGUgPSBpdGVyYWJsZTtcbiAgICAgIHRoaXMuc2l6ZSA9IGl0ZXJhYmxlLmxlbmd0aCB8fCBpdGVyYWJsZS5zaXplO1xuICAgIH1cblxuICAgIEl0ZXJhYmxlU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmFibGUgPSB0aGlzLl9pdGVyYWJsZTtcbiAgICAgIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGl0ZXJhYmxlKTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGlmIChpc0l0ZXJhdG9yKGl0ZXJhdG9yKSkge1xuICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgIGlmIChmbihzdGVwLnZhbHVlLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuXG4gICAgSXRlcmFibGVTZXEucHJvdG90eXBlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYWJsZSA9IHRoaXMuX2l0ZXJhYmxlO1xuICAgICAgdmFyIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IoaXRlcmFibGUpO1xuICAgICAgaWYgKCFpc0l0ZXJhdG9yKGl0ZXJhdG9yKSkge1xuICAgICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoaXRlcmF0b3JEb25lKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKEl0ZXJhdG9yU2VxLCBJbmRleGVkU2VxKTtcbiAgICBmdW5jdGlvbiBJdGVyYXRvclNlcShpdGVyYXRvcikge1xuICAgICAgdGhpcy5faXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgIHRoaXMuX2l0ZXJhdG9yQ2FjaGUgPSBbXTtcbiAgICB9XG5cbiAgICBJdGVyYXRvclNlcS5wcm90b3R5cGUuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlcmF0b3I7XG4gICAgICB2YXIgY2FjaGUgPSB0aGlzLl9pdGVyYXRvckNhY2hlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgd2hpbGUgKGl0ZXJhdGlvbnMgPCBjYWNoZS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGZuKGNhY2hlW2l0ZXJhdGlvbnNdLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgdmFyIHZhbCA9IHN0ZXAudmFsdWU7XG4gICAgICAgIGNhY2hlW2l0ZXJhdGlvbnNdID0gdmFsO1xuICAgICAgICBpZiAoZm4odmFsLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuXG4gICAgSXRlcmF0b3JTZXEucHJvdG90eXBlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXJhdG9yO1xuICAgICAgdmFyIGNhY2hlID0gdGhpcy5faXRlcmF0b3JDYWNoZTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIGlmIChpdGVyYXRpb25zID49IGNhY2hlLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYWNoZVtpdGVyYXRpb25zXSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucywgY2FjaGVbaXRlcmF0aW9ucysrXSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG5cblxuXG4gIC8vICMgcHJhZ21hIEhlbHBlciBmdW5jdGlvbnNcblxuICBmdW5jdGlvbiBpc1NlcShtYXliZVNlcSkge1xuICAgIHJldHVybiAhIShtYXliZVNlcSAmJiBtYXliZVNlcVtJU19TRVFfU0VOVElORUxdKTtcbiAgfVxuXG4gIHZhciBFTVBUWV9TRVE7XG5cbiAgZnVuY3Rpb24gZW1wdHlTZXF1ZW5jZSgpIHtcbiAgICByZXR1cm4gRU1QVFlfU0VRIHx8IChFTVBUWV9TRVEgPSBuZXcgQXJyYXlTZXEoW10pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGtleWVkU2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIHNlcSA9XG4gICAgICBBcnJheS5pc0FycmF5KHZhbHVlKSA/IG5ldyBBcnJheVNlcSh2YWx1ZSkuZnJvbUVudHJ5U2VxKCkgOlxuICAgICAgaXNJdGVyYXRvcih2YWx1ZSkgPyBuZXcgSXRlcmF0b3JTZXEodmFsdWUpLmZyb21FbnRyeVNlcSgpIDpcbiAgICAgIGhhc0l0ZXJhdG9yKHZhbHVlKSA/IG5ldyBJdGVyYWJsZVNlcSh2YWx1ZSkuZnJvbUVudHJ5U2VxKCkgOlxuICAgICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyA/IG5ldyBPYmplY3RTZXEodmFsdWUpIDpcbiAgICAgIHVuZGVmaW5lZDtcbiAgICBpZiAoIXNlcSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ0V4cGVjdGVkIEFycmF5IG9yIGl0ZXJhYmxlIG9iamVjdCBvZiBbaywgdl0gZW50cmllcywgJytcbiAgICAgICAgJ29yIGtleWVkIG9iamVjdDogJyArIHZhbHVlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc2VxO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICAgIHZhciBzZXEgPSBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpO1xuICAgIGlmICghc2VxKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnRXhwZWN0ZWQgQXJyYXkgb3IgaXRlcmFibGUgb2JqZWN0IG9mIHZhbHVlczogJyArIHZhbHVlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc2VxO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIHNlcSA9IG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkgfHxcbiAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIG5ldyBPYmplY3RTZXEodmFsdWUpKTtcbiAgICBpZiAoIXNlcSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ0V4cGVjdGVkIEFycmF5IG9yIGl0ZXJhYmxlIG9iamVjdCBvZiB2YWx1ZXMsIG9yIGtleWVkIG9iamVjdDogJyArIHZhbHVlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc2VxO1xuICB9XG5cbiAgZnVuY3Rpb24gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGlzQXJyYXlMaWtlKHZhbHVlKSA/IG5ldyBBcnJheVNlcSh2YWx1ZSkgOlxuICAgICAgaXNJdGVyYXRvcih2YWx1ZSkgPyBuZXcgSXRlcmF0b3JTZXEodmFsdWUpIDpcbiAgICAgIGhhc0l0ZXJhdG9yKHZhbHVlKSA/IG5ldyBJdGVyYWJsZVNlcSh2YWx1ZSkgOlxuICAgICAgdW5kZWZpbmVkXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcUl0ZXJhdGUoc2VxLCBmbiwgcmV2ZXJzZSwgdXNlS2V5cykge1xuICAgIHZhciBjYWNoZSA9IHNlcS5fY2FjaGU7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICB2YXIgbWF4SW5kZXggPSBjYWNoZS5sZW5ndGggLSAxO1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgICB2YXIgZW50cnkgPSBjYWNoZVtyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICAgICAgaWYgKGZuKGVudHJ5WzFdLCB1c2VLZXlzID8gZW50cnlbMF0gOiBpaSwgc2VxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaWkgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaWk7XG4gICAgfVxuICAgIHJldHVybiBzZXEuX19pdGVyYXRlVW5jYWNoZWQoZm4sIHJldmVyc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VxSXRlcmF0b3Ioc2VxLCB0eXBlLCByZXZlcnNlLCB1c2VLZXlzKSB7XG4gICAgdmFyIGNhY2hlID0gc2VxLl9jYWNoZTtcbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHZhciBtYXhJbmRleCA9IGNhY2hlLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgaWkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gY2FjaGVbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICAgIHJldHVybiBpaSsrID4gbWF4SW5kZXggP1xuICAgICAgICAgIGl0ZXJhdG9yRG9uZSgpIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIHVzZUtleXMgPyBlbnRyeVswXSA6IGlpIC0gMSwgZW50cnlbMV0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZXEuX19pdGVyYXRvclVuY2FjaGVkKHR5cGUsIHJldmVyc2UpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoQ29sbGVjdGlvbiwgSXRlcmFibGUpO1xuICAgIGZ1bmN0aW9uIENvbGxlY3Rpb24oKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ0Fic3RyYWN0Jyk7XG4gICAgfVxuXG5cbiAgY3JlYXRlQ2xhc3MoS2V5ZWRDb2xsZWN0aW9uLCBDb2xsZWN0aW9uKTtmdW5jdGlvbiBLZXllZENvbGxlY3Rpb24oKSB7fVxuXG4gIGNyZWF0ZUNsYXNzKEluZGV4ZWRDb2xsZWN0aW9uLCBDb2xsZWN0aW9uKTtmdW5jdGlvbiBJbmRleGVkQ29sbGVjdGlvbigpIHt9XG5cbiAgY3JlYXRlQ2xhc3MoU2V0Q29sbGVjdGlvbiwgQ29sbGVjdGlvbik7ZnVuY3Rpb24gU2V0Q29sbGVjdGlvbigpIHt9XG5cblxuICBDb2xsZWN0aW9uLktleWVkID0gS2V5ZWRDb2xsZWN0aW9uO1xuICBDb2xsZWN0aW9uLkluZGV4ZWQgPSBJbmRleGVkQ29sbGVjdGlvbjtcbiAgQ29sbGVjdGlvbi5TZXQgPSBTZXRDb2xsZWN0aW9uO1xuXG4gIC8qKlxuICAgKiBBbiBleHRlbnNpb24gb2YgdGhlIFwic2FtZS12YWx1ZVwiIGFsZ29yaXRobSBhcyBbZGVzY3JpYmVkIGZvciB1c2UgYnkgRVM2IE1hcFxuICAgKiBhbmQgU2V0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXAjS2V5X2VxdWFsaXR5KVxuICAgKlxuICAgKiBOYU4gaXMgY29uc2lkZXJlZCB0aGUgc2FtZSBhcyBOYU4sIGhvd2V2ZXIgLTAgYW5kIDAgYXJlIGNvbnNpZGVyZWQgdGhlIHNhbWVcbiAgICogdmFsdWUsIHdoaWNoIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBhbGdvcml0aG0gZGVzY3JpYmVkIGJ5XG4gICAqIFtgT2JqZWN0LmlzYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzKS5cbiAgICpcbiAgICogVGhpcyBpcyBleHRlbmRlZCBmdXJ0aGVyIHRvIGFsbG93IE9iamVjdHMgdG8gZGVzY3JpYmUgdGhlIHZhbHVlcyB0aGV5XG4gICAqIHJlcHJlc2VudCwgYnkgd2F5IG9mIGB2YWx1ZU9mYCBvciBgZXF1YWxzYCAoYW5kIGBoYXNoQ29kZWApLlxuICAgKlxuICAgKiBOb3RlOiBiZWNhdXNlIG9mIHRoaXMgZXh0ZW5zaW9uLCB0aGUga2V5IGVxdWFsaXR5IG9mIEltbXV0YWJsZS5NYXAgYW5kIHRoZVxuICAgKiB2YWx1ZSBlcXVhbGl0eSBvZiBJbW11dGFibGUuU2V0IHdpbGwgZGlmZmVyIGZyb20gRVM2IE1hcCBhbmQgU2V0LlxuICAgKlxuICAgKiAjIyMgRGVmaW5pbmcgY3VzdG9tIHZhbHVlc1xuICAgKlxuICAgKiBUaGUgZWFzaWVzdCB3YXkgdG8gZGVzY3JpYmUgdGhlIHZhbHVlIGFuIG9iamVjdCByZXByZXNlbnRzIGlzIGJ5IGltcGxlbWVudGluZ1xuICAgKiBgdmFsdWVPZmAuIEZvciBleGFtcGxlLCBgRGF0ZWAgcmVwcmVzZW50cyBhIHZhbHVlIGJ5IHJldHVybmluZyBhIHVuaXhcbiAgICogdGltZXN0YW1wIGZvciBgdmFsdWVPZmA6XG4gICAqXG4gICAqICAgICB2YXIgZGF0ZTEgPSBuZXcgRGF0ZSgxMjM0NTY3ODkwMDAwKTsgLy8gRnJpIEZlYiAxMyAyMDA5IC4uLlxuICAgKiAgICAgdmFyIGRhdGUyID0gbmV3IERhdGUoMTIzNDU2Nzg5MDAwMCk7XG4gICAqICAgICBkYXRlMS52YWx1ZU9mKCk7IC8vIDEyMzQ1Njc4OTAwMDBcbiAgICogICAgIGFzc2VydCggZGF0ZTEgIT09IGRhdGUyICk7XG4gICAqICAgICBhc3NlcnQoIEltbXV0YWJsZS5pcyggZGF0ZTEsIGRhdGUyICkgKTtcbiAgICpcbiAgICogTm90ZTogb3ZlcnJpZGluZyBgdmFsdWVPZmAgbWF5IGhhdmUgb3RoZXIgaW1wbGljYXRpb25zIGlmIHlvdSB1c2UgdGhpcyBvYmplY3RcbiAgICogd2hlcmUgSmF2YVNjcmlwdCBleHBlY3RzIGEgcHJpbWl0aXZlLCBzdWNoIGFzIGltcGxpY2l0IHN0cmluZyBjb2VyY2lvbi5cbiAgICpcbiAgICogRm9yIG1vcmUgY29tcGxleCB0eXBlcywgZXNwZWNpYWxseSBjb2xsZWN0aW9ucywgaW1wbGVtZW50aW5nIGB2YWx1ZU9mYCBtYXlcbiAgICogbm90IGJlIHBlcmZvcm1hbnQuIEFuIGFsdGVybmF0aXZlIGlzIHRvIGltcGxlbWVudCBgZXF1YWxzYCBhbmQgYGhhc2hDb2RlYC5cbiAgICpcbiAgICogYGVxdWFsc2AgdGFrZXMgYW5vdGhlciBvYmplY3QsIHByZXN1bWFibHkgb2Ygc2ltaWxhciB0eXBlLCBhbmQgcmV0dXJucyB0cnVlXG4gICAqIGlmIHRoZSBpdCBpcyBlcXVhbC4gRXF1YWxpdHkgaXMgc3ltbWV0cmljYWwsIHNvIHRoZSBzYW1lIHJlc3VsdCBzaG91bGQgYmVcbiAgICogcmV0dXJuZWQgaWYgdGhpcyBhbmQgdGhlIGFyZ3VtZW50IGFyZSBmbGlwcGVkLlxuICAgKlxuICAgKiAgICAgYXNzZXJ0KCBhLmVxdWFscyhiKSA9PT0gYi5lcXVhbHMoYSkgKTtcbiAgICpcbiAgICogYGhhc2hDb2RlYCByZXR1cm5zIGEgMzJiaXQgaW50ZWdlciBudW1iZXIgcmVwcmVzZW50aW5nIHRoZSBvYmplY3Qgd2hpY2ggd2lsbFxuICAgKiBiZSB1c2VkIHRvIGRldGVybWluZSBob3cgdG8gc3RvcmUgdGhlIHZhbHVlIG9iamVjdCBpbiBhIE1hcCBvciBTZXQuIFlvdSBtdXN0XG4gICAqIHByb3ZpZGUgYm90aCBvciBuZWl0aGVyIG1ldGhvZHMsIG9uZSBtdXN0IG5vdCBleGlzdCB3aXRob3V0IHRoZSBvdGhlci5cbiAgICpcbiAgICogQWxzbywgYW4gaW1wb3J0YW50IHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZXNlIG1ldGhvZHMgbXVzdCBiZSB1cGhlbGQ6IGlmIHR3b1xuICAgKiB2YWx1ZXMgYXJlIGVxdWFsLCB0aGV5ICptdXN0KiByZXR1cm4gdGhlIHNhbWUgaGFzaENvZGUuIElmIHRoZSB2YWx1ZXMgYXJlIG5vdFxuICAgKiBlcXVhbCwgdGhleSBtaWdodCBoYXZlIHRoZSBzYW1lIGhhc2hDb2RlOyB0aGlzIGlzIGNhbGxlZCBhIGhhc2ggY29sbGlzaW9uLFxuICAgKiBhbmQgd2hpbGUgdW5kZXNpcmFibGUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIGl0IGlzIGFjY2VwdGFibGUuXG4gICAqXG4gICAqICAgICBpZiAoYS5lcXVhbHMoYikpIHtcbiAgICogICAgICAgYXNzZXJ0KCBhLmhhc2hDb2RlKCkgPT09IGIuaGFzaENvZGUoKSApO1xuICAgKiAgICAgfVxuICAgKlxuICAgKiBBbGwgSW1tdXRhYmxlIGNvbGxlY3Rpb25zIGltcGxlbWVudCBgZXF1YWxzYCBhbmQgYGhhc2hDb2RlYC5cbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIGlzKHZhbHVlQSwgdmFsdWVCKSB7XG4gICAgaWYgKHZhbHVlQSA9PT0gdmFsdWVCIHx8ICh2YWx1ZUEgIT09IHZhbHVlQSAmJiB2YWx1ZUIgIT09IHZhbHVlQikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlQSB8fCAhdmFsdWVCKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWVBLnZhbHVlT2YgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgdHlwZW9mIHZhbHVlQi52YWx1ZU9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YWx1ZUEgPSB2YWx1ZUEudmFsdWVPZigpO1xuICAgICAgdmFsdWVCID0gdmFsdWVCLnZhbHVlT2YoKTtcbiAgICAgIGlmICh2YWx1ZUEgPT09IHZhbHVlQiB8fCAodmFsdWVBICE9PSB2YWx1ZUEgJiYgdmFsdWVCICE9PSB2YWx1ZUIpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCF2YWx1ZUEgfHwgIXZhbHVlQikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWVBLmVxdWFscyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICB0eXBlb2YgdmFsdWVCLmVxdWFscyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICB2YWx1ZUEuZXF1YWxzKHZhbHVlQikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBmcm9tSlMoanNvbiwgY29udmVydGVyKSB7XG4gICAgcmV0dXJuIGNvbnZlcnRlciA/XG4gICAgICBmcm9tSlNXaXRoKGNvbnZlcnRlciwganNvbiwgJycsIHsnJzoganNvbn0pIDpcbiAgICAgIGZyb21KU0RlZmF1bHQoanNvbik7XG4gIH1cblxuICBmdW5jdGlvbiBmcm9tSlNXaXRoKGNvbnZlcnRlciwganNvbiwga2V5LCBwYXJlbnRKU09OKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgIHJldHVybiBjb252ZXJ0ZXIuY2FsbChwYXJlbnRKU09OLCBrZXksIEluZGV4ZWRTZXEoanNvbikubWFwKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIGZyb21KU1dpdGgoY29udmVydGVyLCB2LCBrLCBqc29uKX0pKTtcbiAgICB9XG4gICAgaWYgKGlzUGxhaW5PYmooanNvbikpIHtcbiAgICAgIHJldHVybiBjb252ZXJ0ZXIuY2FsbChwYXJlbnRKU09OLCBrZXksIEtleWVkU2VxKGpzb24pLm1hcChmdW5jdGlvbih2LCBrKSAge3JldHVybiBmcm9tSlNXaXRoKGNvbnZlcnRlciwgdiwgaywganNvbil9KSk7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgZnVuY3Rpb24gZnJvbUpTRGVmYXVsdChqc29uKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgIHJldHVybiBJbmRleGVkU2VxKGpzb24pLm1hcChmcm9tSlNEZWZhdWx0KS50b0xpc3QoKTtcbiAgICB9XG4gICAgaWYgKGlzUGxhaW5PYmooanNvbikpIHtcbiAgICAgIHJldHVybiBLZXllZFNlcShqc29uKS5tYXAoZnJvbUpTRGVmYXVsdCkudG9NYXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICBmdW5jdGlvbiBpc1BsYWluT2JqKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0IHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpO1xuICB9XG5cbiAgdmFyIHNyY19NYXRoX19pbXVsID1cbiAgICB0eXBlb2YgTWF0aC5pbXVsID09PSAnZnVuY3Rpb24nICYmIE1hdGguaW11bCgweGZmZmZmZmZmLCAyKSA9PT0gLTIgP1xuICAgIE1hdGguaW11bCA6XG4gICAgZnVuY3Rpb24gc3JjX01hdGhfX2ltdWwoYSwgYikge1xuICAgICAgYSA9IGEgfCAwOyAvLyBpbnRcbiAgICAgIGIgPSBiIHwgMDsgLy8gaW50XG4gICAgICB2YXIgYyA9IGEgJiAweGZmZmY7XG4gICAgICB2YXIgZCA9IGIgJiAweGZmZmY7XG4gICAgICAvLyBTaGlmdCBieSAwIGZpeGVzIHRoZSBzaWduIG9uIHRoZSBoaWdoIHBhcnQuXG4gICAgICByZXR1cm4gKGMgKiBkKSArICgoKChhID4+PiAxNikgKiBkICsgYyAqIChiID4+PiAxNikpIDw8IDE2KSA+Pj4gMCkgfCAwOyAvLyBpbnRcbiAgICB9O1xuXG4gIC8vIHY4IGhhcyBhbiBvcHRpbWl6YXRpb24gZm9yIHN0b3JpbmcgMzEtYml0IHNpZ25lZCBudW1iZXJzLlxuICAvLyBWYWx1ZXMgd2hpY2ggaGF2ZSBlaXRoZXIgMDAgb3IgMTEgYXMgdGhlIGhpZ2ggb3JkZXIgYml0cyBxdWFsaWZ5LlxuICAvLyBUaGlzIGZ1bmN0aW9uIGRyb3BzIHRoZSBoaWdoZXN0IG9yZGVyIGJpdCBpbiBhIHNpZ25lZCBudW1iZXIsIG1haW50YWluaW5nXG4gIC8vIHRoZSBzaWduIGJpdC5cbiAgZnVuY3Rpb24gc21pKGkzMikge1xuICAgIHJldHVybiAoKGkzMiA+Pj4gMSkgJiAweDQwMDAwMDAwKSB8IChpMzIgJiAweEJGRkZGRkZGKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc2gobykge1xuICAgIGlmIChvID09PSBmYWxzZSB8fCBvID09PSBudWxsIHx8IG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygby52YWx1ZU9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvID0gby52YWx1ZU9mKCk7XG4gICAgICBpZiAobyA9PT0gZmFsc2UgfHwgbyA9PT0gbnVsbCB8fCBvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgbztcbiAgICBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhciBoID0gbyB8IDA7XG4gICAgICBpZiAoaCAhPT0gbykge1xuICAgICAgICBoIF49IG8gKiAweEZGRkZGRkZGO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG8gPiAweEZGRkZGRkZGKSB7XG4gICAgICAgIG8gLz0gMHhGRkZGRkZGRjtcbiAgICAgICAgaCBePSBvO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNtaShoKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gby5sZW5ndGggPiBTVFJJTkdfSEFTSF9DQUNIRV9NSU5fU1RSTEVOID8gY2FjaGVkSGFzaFN0cmluZyhvKSA6IGhhc2hTdHJpbmcobyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygby5oYXNoQ29kZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG8uaGFzaENvZGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc2hKU09iaihvKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhY2hlZEhhc2hTdHJpbmcoc3RyaW5nKSB7XG4gICAgdmFyIGhhc2ggPSBzdHJpbmdIYXNoQ2FjaGVbc3RyaW5nXTtcbiAgICBpZiAoaGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBoYXNoID0gaGFzaFN0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKFNUUklOR19IQVNIX0NBQ0hFX1NJWkUgPT09IFNUUklOR19IQVNIX0NBQ0hFX01BWF9TSVpFKSB7XG4gICAgICAgIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUgPSAwO1xuICAgICAgICBzdHJpbmdIYXNoQ2FjaGUgPSB7fTtcbiAgICAgIH1cbiAgICAgIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUrKztcbiAgICAgIHN0cmluZ0hhc2hDYWNoZVtzdHJpbmddID0gaGFzaDtcbiAgICB9XG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cblxuICAvLyBodHRwOi8vanNwZXJmLmNvbS9oYXNoaW5nLXN0cmluZ3NcbiAgZnVuY3Rpb24gaGFzaFN0cmluZyhzdHJpbmcpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBoYXNoIGZyb20gSlZNXG4gICAgLy8gVGhlIGhhc2ggY29kZSBmb3IgYSBzdHJpbmcgaXMgY29tcHV0ZWQgYXNcbiAgICAvLyBzWzBdICogMzEgXiAobiAtIDEpICsgc1sxXSAqIDMxIF4gKG4gLSAyKSArIC4uLiArIHNbbiAtIDFdLFxuICAgIC8vIHdoZXJlIHNbaV0gaXMgdGhlIGl0aCBjaGFyYWN0ZXIgb2YgdGhlIHN0cmluZyBhbmQgbiBpcyB0aGUgbGVuZ3RoIG9mXG4gICAgLy8gdGhlIHN0cmluZy4gV2UgXCJtb2RcIiB0aGUgcmVzdWx0IHRvIG1ha2UgaXQgYmV0d2VlbiAwIChpbmNsdXNpdmUpIGFuZCAyXjMxXG4gICAgLy8gKGV4Y2x1c2l2ZSkgYnkgZHJvcHBpbmcgaGlnaCBiaXRzLlxuICAgIHZhciBoYXNoID0gMDtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgc3RyaW5nLmxlbmd0aDsgaWkrKykge1xuICAgICAgaGFzaCA9IDMxICogaGFzaCArIHN0cmluZy5jaGFyQ29kZUF0KGlpKSB8IDA7XG4gICAgfVxuICAgIHJldHVybiBzbWkoaGFzaCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNoSlNPYmoob2JqKSB7XG4gICAgdmFyIGhhc2g7XG4gICAgaWYgKHVzaW5nV2Vha01hcCkge1xuICAgICAgaGFzaCA9IHdlYWtNYXAuZ2V0KG9iaik7XG4gICAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhc2ggPSBvYmpbVUlEX0hBU0hfS0VZXTtcbiAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG5cbiAgICBpZiAoIWNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICBoYXNoID0gb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlICYmIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZVtVSURfSEFTSF9LRVldO1xuICAgICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICAgIH1cblxuICAgICAgaGFzaCA9IGdldElFTm9kZUhhc2gob2JqKTtcbiAgICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGFzaCA9ICsrb2JqSGFzaFVJRDtcbiAgICBpZiAob2JqSGFzaFVJRCAmIDB4NDAwMDAwMDApIHtcbiAgICAgIG9iakhhc2hVSUQgPSAwO1xuICAgIH1cblxuICAgIGlmICh1c2luZ1dlYWtNYXApIHtcbiAgICAgIHdlYWtNYXAuc2V0KG9iaiwgaGFzaCk7XG4gICAgfSBlbHNlIGlmIChpc0V4dGVuc2libGUgIT09IHVuZGVmaW5lZCAmJiBpc0V4dGVuc2libGUob2JqKSA9PT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm9uLWV4dGVuc2libGUgb2JqZWN0cyBhcmUgbm90IGFsbG93ZWQgYXMga2V5cy4nKTtcbiAgICB9IGVsc2UgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBVSURfSEFTSF9LRVksIHtcbiAgICAgICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IGZhbHNlLFxuICAgICAgICAnd3JpdGFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3ZhbHVlJzogaGFzaFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChvYmoucHJvcGVydHlJc0VudW1lcmFibGUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlID09PSBvYmouY29uc3RydWN0b3IucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlKSB7XG4gICAgICAvLyBTaW5jZSB3ZSBjYW4ndCBkZWZpbmUgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0XG4gICAgICAvLyB3ZSdsbCBoaWphY2sgb25lIG9mIHRoZSBsZXNzLXVzZWQgbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyB0b1xuICAgICAgLy8gc2F2ZSBvdXIgaGFzaCBvbiBpdC4gU2luY2UgdGhpcyBpcyBhIGZ1bmN0aW9uIGl0IHdpbGwgbm90IHNob3cgdXAgaW5cbiAgICAgIC8vIGBKU09OLnN0cmluZ2lmeWAgd2hpY2ggaXMgd2hhdCB3ZSB3YW50LlxuICAgICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZVtVSURfSEFTSF9LRVldID0gaGFzaDtcbiAgICB9IGVsc2UgaWYgKG9iai5ub2RlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBdCB0aGlzIHBvaW50IHdlIGNvdWxkbid0IGdldCB0aGUgSUUgYHVuaXF1ZUlEYCB0byB1c2UgYXMgYSBoYXNoXG4gICAgICAvLyBhbmQgd2UgY291bGRuJ3QgdXNlIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgdG8gZXhwbG9pdCB0aGVcbiAgICAgIC8vIGRvbnRFbnVtIGJ1ZyBzbyB3ZSBzaW1wbHkgYWRkIHRoZSBgVUlEX0hBU0hfS0VZYCBvbiB0aGUgbm9kZVxuICAgICAgLy8gaXRzZWxmLlxuICAgICAgb2JqW1VJRF9IQVNIX0tFWV0gPSBoYXNoO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiBvYmplY3QuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cblxuICAvLyBHZXQgcmVmZXJlbmNlcyB0byBFUzUgb2JqZWN0IG1ldGhvZHMuXG4gIHZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlO1xuXG4gIC8vIFRydWUgaWYgT2JqZWN0LmRlZmluZVByb3BlcnR5IHdvcmtzIGFzIGV4cGVjdGVkLiBJRTggZmFpbHMgdGhpcyB0ZXN0LlxuICB2YXIgY2FuRGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ0AnLCB7fSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KCkpO1xuXG4gIC8vIElFIGhhcyBhIGB1bmlxdWVJRGAgcHJvcGVydHkgb24gRE9NIG5vZGVzLiBXZSBjYW4gY29uc3RydWN0IHRoZSBoYXNoIGZyb20gaXRcbiAgLy8gYW5kIGF2b2lkIG1lbW9yeSBsZWFrcyBmcm9tIHRoZSBJRSBjbG9uZU5vZGUgYnVnLlxuICBmdW5jdGlvbiBnZXRJRU5vZGVIYXNoKG5vZGUpIHtcbiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID4gMCkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgMTogLy8gRWxlbWVudFxuICAgICAgICAgIHJldHVybiBub2RlLnVuaXF1ZUlEO1xuICAgICAgICBjYXNlIDk6IC8vIERvY3VtZW50XG4gICAgICAgICAgcmV0dXJuIG5vZGUuZG9jdW1lbnRFbGVtZW50ICYmIG5vZGUuZG9jdW1lbnRFbGVtZW50LnVuaXF1ZUlEO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIElmIHBvc3NpYmxlLCB1c2UgYSBXZWFrTWFwLlxuICB2YXIgdXNpbmdXZWFrTWFwID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbic7XG4gIHZhciB3ZWFrTWFwO1xuICBpZiAodXNpbmdXZWFrTWFwKSB7XG4gICAgd2Vha01hcCA9IG5ldyBXZWFrTWFwKCk7XG4gIH1cblxuICB2YXIgb2JqSGFzaFVJRCA9IDA7XG5cbiAgdmFyIFVJRF9IQVNIX0tFWSA9ICdfX2ltbXV0YWJsZWhhc2hfXyc7XG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG4gICAgVUlEX0hBU0hfS0VZID0gU3ltYm9sKFVJRF9IQVNIX0tFWSk7XG4gIH1cblxuICB2YXIgU1RSSU5HX0hBU0hfQ0FDSEVfTUlOX1NUUkxFTiA9IDE2O1xuICB2YXIgU1RSSU5HX0hBU0hfQ0FDSEVfTUFYX1NJWkUgPSAyNTU7XG4gIHZhciBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID0gMDtcbiAgdmFyIHN0cmluZ0hhc2hDYWNoZSA9IHt9O1xuXG4gIGZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGVycm9yKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gIH1cblxuICBmdW5jdGlvbiBhc3NlcnROb3RJbmZpbml0ZShzaXplKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgc2l6ZSAhPT0gSW5maW5pdHksXG4gICAgICAnQ2Fubm90IHBlcmZvcm0gdGhpcyBhY3Rpb24gd2l0aCBhbiBpbmZpbml0ZSBzaXplLidcbiAgICApO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoVG9LZXllZFNlcXVlbmNlLCBLZXllZFNlcSk7XG4gICAgZnVuY3Rpb24gVG9LZXllZFNlcXVlbmNlKGluZGV4ZWQsIHVzZUtleXMpIHtcbiAgICAgIHRoaXMuX2l0ZXIgPSBpbmRleGVkO1xuICAgICAgdGhpcy5fdXNlS2V5cyA9IHVzZUtleXM7XG4gICAgICB0aGlzLnNpemUgPSBpbmRleGVkLnNpemU7XG4gICAgfVxuXG4gICAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5nZXQoa2V5LCBub3RTZXRWYWx1ZSk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5oYXMoa2V5KTtcbiAgICB9O1xuXG4gICAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS52YWx1ZVNlcSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIudmFsdWVTZXEoKTtcbiAgICB9O1xuXG4gICAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgcmV2ZXJzZWRTZXF1ZW5jZSA9IHJldmVyc2VGYWN0b3J5KHRoaXMsIHRydWUpO1xuICAgICAgaWYgKCF0aGlzLl91c2VLZXlzKSB7XG4gICAgICAgIHJldmVyc2VkU2VxdWVuY2UudmFsdWVTZXEgPSBmdW5jdGlvbigpICB7cmV0dXJuIHRoaXMkMC5faXRlci50b1NlcSgpLnJldmVyc2UoKX07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV2ZXJzZWRTZXF1ZW5jZTtcbiAgICB9O1xuXG4gICAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbihtYXBwZXIsIGNvbnRleHQpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBtYXBwZWRTZXF1ZW5jZSA9IG1hcEZhY3RvcnkodGhpcywgbWFwcGVyLCBjb250ZXh0KTtcbiAgICAgIGlmICghdGhpcy5fdXNlS2V5cykge1xuICAgICAgICBtYXBwZWRTZXF1ZW5jZS52YWx1ZVNlcSA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gdGhpcyQwLl9pdGVyLnRvU2VxKCkubWFwKG1hcHBlciwgY29udGV4dCl9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hcHBlZFNlcXVlbmNlO1xuICAgIH07XG5cbiAgICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaWk7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoXG4gICAgICAgIHRoaXMuX3VzZUtleXMgP1xuICAgICAgICAgIGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIGZuKHYsIGssIHRoaXMkMCl9IDpcbiAgICAgICAgICAoKGlpID0gcmV2ZXJzZSA/IHJlc29sdmVTaXplKHRoaXMpIDogMCksXG4gICAgICAgICAgICBmdW5jdGlvbih2ICkge3JldHVybiBmbih2LCByZXZlcnNlID8gLS1paSA6IGlpKyssIHRoaXMkMCl9KSxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHRoaXMuX3VzZUtleXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXIuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgaWkgPSByZXZlcnNlID8gcmVzb2x2ZVNpemUodGhpcykgOiAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBzdGVwLmRvbmUgPyBzdGVwIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIHJldmVyc2UgPyAtLWlpIDogaWkrKywgc3RlcC52YWx1ZSwgc3RlcCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuXG5cbiAgY3JlYXRlQ2xhc3MoVG9JbmRleGVkU2VxdWVuY2UsIEluZGV4ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIFRvSW5kZXhlZFNlcXVlbmNlKGl0ZXIpIHtcbiAgICAgIHRoaXMuX2l0ZXIgPSBpdGVyO1xuICAgICAgdGhpcy5zaXplID0gaXRlci5zaXplO1xuICAgIH1cblxuICAgIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5pbmNsdWRlcyh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIGZuKHYsIGl0ZXJhdGlvbnMrKywgdGhpcyQwKX0sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXIuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHN0ZXAuZG9uZSA/IHN0ZXAgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlLCBzdGVwKVxuICAgICAgfSk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoVG9TZXRTZXF1ZW5jZSwgU2V0U2VxKTtcbiAgICBmdW5jdGlvbiBUb1NldFNlcXVlbmNlKGl0ZXIpIHtcbiAgICAgIHRoaXMuX2l0ZXIgPSBpdGVyO1xuICAgICAgdGhpcy5zaXplID0gaXRlci5zaXplO1xuICAgIH1cblxuICAgIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXMoa2V5KTtcbiAgICB9O1xuXG4gICAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbih2ICkge3JldHVybiBmbih2LCB2LCB0aGlzJDApfSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBzdGVwLmRvbmUgPyBzdGVwIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIHN0ZXAudmFsdWUsIHN0ZXAudmFsdWUsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoRnJvbUVudHJpZXNTZXF1ZW5jZSwgS2V5ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIEZyb21FbnRyaWVzU2VxdWVuY2UoZW50cmllcykge1xuICAgICAgdGhpcy5faXRlciA9IGVudHJpZXM7XG4gICAgICB0aGlzLnNpemUgPSBlbnRyaWVzLnNpemU7XG4gICAgfVxuXG4gICAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuZW50cnlTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLnRvU2VxKCk7XG4gICAgfTtcblxuICAgIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24oZW50cnkgKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGVudHJ5IGV4aXN0cyBmaXJzdCBzbyBhcnJheSBhY2Nlc3MgZG9lc24ndCB0aHJvdyBmb3IgaG9sZXNcbiAgICAgICAgLy8gaW4gdGhlIHBhcmVudCBpdGVyYXRpb24uXG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgIHZhbGlkYXRlRW50cnkoZW50cnkpO1xuICAgICAgICAgIHZhciBpbmRleGVkSXRlcmFibGUgPSBpc0l0ZXJhYmxlKGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gZm4oXG4gICAgICAgICAgICBpbmRleGVkSXRlcmFibGUgPyBlbnRyeS5nZXQoMSkgOiBlbnRyeVsxXSxcbiAgICAgICAgICAgIGluZGV4ZWRJdGVyYWJsZSA/IGVudHJ5LmdldCgwKSA6IGVudHJ5WzBdLFxuICAgICAgICAgICAgdGhpcyQwXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAvLyBDaGVjayBpZiBlbnRyeSBleGlzdHMgZmlyc3Qgc28gYXJyYXkgYWNjZXNzIGRvZXNuJ3QgdGhyb3cgZm9yIGhvbGVzXG4gICAgICAgICAgLy8gaW4gdGhlIHBhcmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICAgIHZhciBpbmRleGVkSXRlcmFibGUgPSBpc0l0ZXJhYmxlKGVudHJ5KTtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBpbmRleGVkSXRlcmFibGUgPyBlbnRyeS5nZXQoMCkgOiBlbnRyeVswXSxcbiAgICAgICAgICAgICAgaW5kZXhlZEl0ZXJhYmxlID8gZW50cnkuZ2V0KDEpIDogZW50cnlbMV0sXG4gICAgICAgICAgICAgIHN0ZXBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG5cbiAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID1cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID1cbiAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICAgIGNhY2hlUmVzdWx0VGhyb3VnaDtcblxuXG4gIGZ1bmN0aW9uIGZsaXBGYWN0b3J5KGl0ZXJhYmxlKSB7XG4gICAgdmFyIGZsaXBTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgZmxpcFNlcXVlbmNlLl9pdGVyID0gaXRlcmFibGU7XG4gICAgZmxpcFNlcXVlbmNlLnNpemUgPSBpdGVyYWJsZS5zaXplO1xuICAgIGZsaXBTZXF1ZW5jZS5mbGlwID0gZnVuY3Rpb24oKSAge3JldHVybiBpdGVyYWJsZX07XG4gICAgZmxpcFNlcXVlbmNlLnJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmV2ZXJzZWRTZXF1ZW5jZSA9IGl0ZXJhYmxlLnJldmVyc2UuYXBwbHkodGhpcyk7IC8vIHN1cGVyLnJldmVyc2UoKVxuICAgICAgcmV2ZXJzZWRTZXF1ZW5jZS5mbGlwID0gZnVuY3Rpb24oKSAge3JldHVybiBpdGVyYWJsZS5yZXZlcnNlKCl9O1xuICAgICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gICAgfTtcbiAgICBmbGlwU2VxdWVuY2UuaGFzID0gZnVuY3Rpb24oa2V5ICkge3JldHVybiBpdGVyYWJsZS5pbmNsdWRlcyhrZXkpfTtcbiAgICBmbGlwU2VxdWVuY2UuaW5jbHVkZXMgPSBmdW5jdGlvbihrZXkgKSB7cmV0dXJuIGl0ZXJhYmxlLmhhcyhrZXkpfTtcbiAgICBmbGlwU2VxdWVuY2UuY2FjaGVSZXN1bHQgPSBjYWNoZVJlc3VsdFRocm91Z2g7XG4gICAgZmxpcFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIGZuKGssIHYsIHRoaXMkMCkgIT09IGZhbHNlfSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIGZsaXBTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICBpZiAodHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTKSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKCFzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIHZhciBrID0gc3RlcC52YWx1ZVswXTtcbiAgICAgICAgICAgIHN0ZXAudmFsdWVbMF0gPSBzdGVwLnZhbHVlWzFdO1xuICAgICAgICAgICAgc3RlcC52YWx1ZVsxXSA9IGs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdG9yKFxuICAgICAgICB0eXBlID09PSBJVEVSQVRFX1ZBTFVFUyA/IElURVJBVEVfS0VZUyA6IElURVJBVEVfVkFMVUVTLFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZmxpcFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBtYXBGYWN0b3J5KGl0ZXJhYmxlLCBtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgbWFwcGVkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIG1hcHBlZFNlcXVlbmNlLnNpemUgPSBpdGVyYWJsZS5zaXplO1xuICAgIG1hcHBlZFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uKGtleSApIHtyZXR1cm4gaXRlcmFibGUuaGFzKGtleSl9O1xuICAgIG1hcHBlZFNlcXVlbmNlLmdldCA9IGZ1bmN0aW9uKGtleSwgbm90U2V0VmFsdWUpICB7XG4gICAgICB2YXIgdiA9IGl0ZXJhYmxlLmdldChrZXksIE5PVF9TRVQpO1xuICAgICAgcmV0dXJuIHYgPT09IE5PVF9TRVQgP1xuICAgICAgICBub3RTZXRWYWx1ZSA6XG4gICAgICAgIG1hcHBlci5jYWxsKGNvbnRleHQsIHYsIGtleSwgaXRlcmFibGUpO1xuICAgIH07XG4gICAgbWFwcGVkU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdGUoXG4gICAgICAgIGZ1bmN0aW9uKHYsIGssIGMpICB7cmV0dXJuIGZuKG1hcHBlci5jYWxsKGNvbnRleHQsIHYsIGssIGMpLCBrLCB0aGlzJDApICE9PSBmYWxzZX0sXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfVxuICAgIG1hcHBlZFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uICh0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIHZhciBrZXkgPSBlbnRyeVswXTtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgbWFwcGVyLmNhbGwoY29udGV4dCwgZW50cnlbMV0sIGtleSwgaXRlcmFibGUpLFxuICAgICAgICAgIHN0ZXBcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbWFwcGVkU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHJldmVyc2VGYWN0b3J5KGl0ZXJhYmxlLCB1c2VLZXlzKSB7XG4gICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIHJldmVyc2VkU2VxdWVuY2UuX2l0ZXIgPSBpdGVyYWJsZTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLnNpemUgPSBpdGVyYWJsZS5zaXplO1xuICAgIHJldmVyc2VkU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGV9O1xuICAgIGlmIChpdGVyYWJsZS5mbGlwKSB7XG4gICAgICByZXZlcnNlZFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmbGlwU2VxdWVuY2UgPSBmbGlwRmFjdG9yeShpdGVyYWJsZSk7XG4gICAgICAgIGZsaXBTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24oKSAge3JldHVybiBpdGVyYWJsZS5mbGlwKCl9O1xuICAgICAgICByZXR1cm4gZmxpcFNlcXVlbmNlO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSBcbiAgICAgIHtyZXR1cm4gaXRlcmFibGUuZ2V0KHVzZUtleXMgPyBrZXkgOiAtMSAtIGtleSwgbm90U2V0VmFsdWUpfTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uKGtleSApXG4gICAgICB7cmV0dXJuIGl0ZXJhYmxlLmhhcyh1c2VLZXlzID8ga2V5IDogLTEgLSBrZXkpfTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLmluY2x1ZGVzID0gZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIGl0ZXJhYmxlLmluY2x1ZGVzKHZhbHVlKX07XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5jYWNoZVJlc3VsdCA9IGNhY2hlUmVzdWx0VGhyb3VnaDtcbiAgICByZXZlcnNlZFNlcXVlbmNlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge3JldHVybiBmbih2LCBrLCB0aGlzJDApfSwgIXJldmVyc2UpO1xuICAgIH07XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yID1cbiAgICAgIGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpICB7cmV0dXJuIGl0ZXJhYmxlLl9faXRlcmF0b3IodHlwZSwgIXJldmVyc2UpfTtcbiAgICByZXR1cm4gcmV2ZXJzZWRTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gZmlsdGVyRmFjdG9yeShpdGVyYWJsZSwgcHJlZGljYXRlLCBjb250ZXh0LCB1c2VLZXlzKSB7XG4gICAgdmFyIGZpbHRlclNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBpZiAodXNlS2V5cykge1xuICAgICAgZmlsdGVyU2VxdWVuY2UuaGFzID0gZnVuY3Rpb24oa2V5ICkge1xuICAgICAgICB2YXIgdiA9IGl0ZXJhYmxlLmdldChrZXksIE5PVF9TRVQpO1xuICAgICAgICByZXR1cm4gdiAhPT0gTk9UX1NFVCAmJiAhIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGtleSwgaXRlcmFibGUpO1xuICAgICAgfTtcbiAgICAgIGZpbHRlclNlcXVlbmNlLmdldCA9IGZ1bmN0aW9uKGtleSwgbm90U2V0VmFsdWUpICB7XG4gICAgICAgIHZhciB2ID0gaXRlcmFibGUuZ2V0KGtleSwgTk9UX1NFVCk7XG4gICAgICAgIHJldHVybiB2ICE9PSBOT1RfU0VUICYmIHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGtleSwgaXRlcmFibGUpID9cbiAgICAgICAgICB2IDogbm90U2V0VmFsdWU7XG4gICAgICB9O1xuICAgIH1cbiAgICBmaWx0ZXJTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkge1xuICAgICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgICByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zIC0gMSwgdGhpcyQwKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmV2ZXJzZSk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuICAgIGZpbHRlclNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uICh0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgIHZhciBrZXkgPSBlbnRyeVswXTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBlbnRyeVsxXTtcbiAgICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdmFsdWUsIGtleSwgaXRlcmFibGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCB1c2VLZXlzID8ga2V5IDogaXRlcmF0aW9ucysrLCB2YWx1ZSwgc3RlcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbHRlclNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBjb3VudEJ5RmFjdG9yeShpdGVyYWJsZSwgZ3JvdXBlciwgY29udGV4dCkge1xuICAgIHZhciBncm91cHMgPSBzcmNfTWFwX19NYXAoKS5hc011dGFibGUoKTtcbiAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgIGdyb3Vwcy51cGRhdGUoXG4gICAgICAgIGdyb3VwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBpdGVyYWJsZSksXG4gICAgICAgIDAsXG4gICAgICAgIGZ1bmN0aW9uKGEgKSB7cmV0dXJuIGEgKyAxfVxuICAgICAgKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZ3JvdXBzLmFzSW1tdXRhYmxlKCk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGdyb3VwQnlGYWN0b3J5KGl0ZXJhYmxlLCBncm91cGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIGlzS2V5ZWRJdGVyID0gaXNLZXllZChpdGVyYWJsZSk7XG4gICAgdmFyIGdyb3VwcyA9IChpc09yZGVyZWQoaXRlcmFibGUpID8gT3JkZXJlZE1hcCgpIDogc3JjX01hcF9fTWFwKCkpLmFzTXV0YWJsZSgpO1xuICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgZ3JvdXBzLnVwZGF0ZShcbiAgICAgICAgZ3JvdXBlci5jYWxsKGNvbnRleHQsIHYsIGssIGl0ZXJhYmxlKSxcbiAgICAgICAgZnVuY3Rpb24oYSApIHtyZXR1cm4gKGEgPSBhIHx8IFtdLCBhLnB1c2goaXNLZXllZEl0ZXIgPyBbaywgdl0gOiB2KSwgYSl9XG4gICAgICApO1xuICAgIH0pO1xuICAgIHZhciBjb2VyY2UgPSBpdGVyYWJsZUNsYXNzKGl0ZXJhYmxlKTtcbiAgICByZXR1cm4gZ3JvdXBzLm1hcChmdW5jdGlvbihhcnIgKSB7cmV0dXJuIHJlaWZ5KGl0ZXJhYmxlLCBjb2VyY2UoYXJyKSl9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gc2xpY2VGYWN0b3J5KGl0ZXJhYmxlLCBiZWdpbiwgZW5kLCB1c2VLZXlzKSB7XG4gICAgdmFyIG9yaWdpbmFsU2l6ZSA9IGl0ZXJhYmxlLnNpemU7XG5cbiAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCBvcmlnaW5hbFNpemUpKSB7XG4gICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgfVxuXG4gICAgdmFyIHJlc29sdmVkQmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIG9yaWdpbmFsU2l6ZSk7XG4gICAgdmFyIHJlc29sdmVkRW5kID0gcmVzb2x2ZUVuZChlbmQsIG9yaWdpbmFsU2l6ZSk7XG5cbiAgICAvLyBiZWdpbiBvciBlbmQgd2lsbCBiZSBOYU4gaWYgdGhleSB3ZXJlIHByb3ZpZGVkIGFzIG5lZ2F0aXZlIG51bWJlcnMgYW5kXG4gICAgLy8gdGhpcyBpdGVyYWJsZSdzIHNpemUgaXMgdW5rbm93bi4gSW4gdGhhdCBjYXNlLCBjYWNoZSBmaXJzdCBzbyB0aGVyZSBpc1xuICAgIC8vIGEga25vd24gc2l6ZSBhbmQgdGhlc2UgZG8gbm90IHJlc29sdmUgdG8gTmFOLlxuICAgIGlmIChyZXNvbHZlZEJlZ2luICE9PSByZXNvbHZlZEJlZ2luIHx8IHJlc29sdmVkRW5kICE9PSByZXNvbHZlZEVuZCkge1xuICAgICAgcmV0dXJuIHNsaWNlRmFjdG9yeShpdGVyYWJsZS50b1NlcSgpLmNhY2hlUmVzdWx0KCksIGJlZ2luLCBlbmQsIHVzZUtleXMpO1xuICAgIH1cblxuICAgIC8vIE5vdGU6IHJlc29sdmVkRW5kIGlzIHVuZGVmaW5lZCB3aGVuIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZSdzIGxlbmd0aCBpc1xuICAgIC8vIHVua25vd24gYW5kIHRoaXMgc2xpY2UgZGlkIG5vdCBzdXBwbHkgYW4gZW5kIGFuZCBzaG91bGQgY29udGFpbiBhbGxcbiAgICAvLyBlbGVtZW50cyBhZnRlciByZXNvbHZlZEJlZ2luLlxuICAgIC8vIEluIHRoYXQgY2FzZSwgcmVzb2x2ZWRTaXplIHdpbGwgYmUgTmFOIGFuZCBzbGljZVNpemUgd2lsbCByZW1haW4gdW5kZWZpbmVkLlxuICAgIHZhciByZXNvbHZlZFNpemUgPSByZXNvbHZlZEVuZCAtIHJlc29sdmVkQmVnaW47XG4gICAgdmFyIHNsaWNlU2l6ZTtcbiAgICBpZiAocmVzb2x2ZWRTaXplID09PSByZXNvbHZlZFNpemUpIHtcbiAgICAgIHNsaWNlU2l6ZSA9IHJlc29sdmVkU2l6ZSA8IDAgPyAwIDogcmVzb2x2ZWRTaXplO1xuICAgIH1cblxuICAgIHZhciBzbGljZVNlcSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG5cbiAgICBzbGljZVNlcS5zaXplID0gc2xpY2VTaXplO1xuXG4gICAgaWYgKCF1c2VLZXlzICYmIGlzU2VxKGl0ZXJhYmxlKSAmJiBzbGljZVNpemUgPj0gMCkge1xuICAgICAgc2xpY2VTZXEuZ2V0ID0gZnVuY3Rpb24gKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgc2xpY2VTaXplID9cbiAgICAgICAgICBpdGVyYWJsZS5nZXQoaW5kZXggKyByZXNvbHZlZEJlZ2luLCBub3RTZXRWYWx1ZSkgOlxuICAgICAgICAgIG5vdFNldFZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNsaWNlU2VxLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChzbGljZVNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgc2tpcHBlZCA9IDA7XG4gICAgICB2YXIgaXNTa2lwcGluZyA9IHRydWU7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgICAgaWYgKCEoaXNTa2lwcGluZyAmJiAoaXNTa2lwcGluZyA9IHNraXBwZWQrKyA8IHJlc29sdmVkQmVnaW4pKSkge1xuICAgICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgICByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zIC0gMSwgdGhpcyQwKSAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgaXRlcmF0aW9ucyAhPT0gc2xpY2VTaXplO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBzbGljZVNlcS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICBpZiAoc2xpY2VTaXplICE9PSAwICYmIHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgLy8gRG9uJ3QgYm90aGVyIGluc3RhbnRpYXRpbmcgcGFyZW50IGl0ZXJhdG9yIGlmIHRha2luZyAwLlxuICAgICAgdmFyIGl0ZXJhdG9yID0gc2xpY2VTaXplICE9PSAwICYmIGl0ZXJhYmxlLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB2YXIgc2tpcHBlZCA9IDA7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB3aGlsZSAoc2tpcHBlZCsrIDwgcmVzb2x2ZWRCZWdpbikge1xuICAgICAgICAgIGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKytpdGVyYXRpb25zID4gc2xpY2VTaXplKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAodXNlS2V5cyB8fCB0eXBlID09PSBJVEVSQVRFX1ZBTFVFUykge1xuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElURVJBVEVfS0VZUykge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMgLSAxLCB1bmRlZmluZWQsIHN0ZXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMgLSAxLCBzdGVwLnZhbHVlWzFdLCBzdGVwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNsaWNlU2VxO1xuICB9XG5cblxuICBmdW5jdGlvbiB0YWtlV2hpbGVGYWN0b3J5KGl0ZXJhYmxlLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgdGFrZVNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICB0YWtlU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpIFxuICAgICAgICB7cmV0dXJuIHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpICYmICsraXRlcmF0aW9ucyAmJiBmbih2LCBrLCB0aGlzJDApfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG4gICAgdGFrZVNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBpdGVyYXRpbmcgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgaWYgKCFpdGVyYXRpbmcpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICB2YXIgayA9IGVudHJ5WzBdO1xuICAgICAgICB2YXIgdiA9IGVudHJ5WzFdO1xuICAgICAgICBpZiAoIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIHRoaXMkMCkpIHtcbiAgICAgICAgICBpdGVyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IElURVJBVEVfRU5UUklFUyA/IHN0ZXAgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgc3RlcCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiB0YWtlU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHNraXBXaGlsZUZhY3RvcnkoaXRlcmFibGUsIHByZWRpY2F0ZSwgY29udGV4dCwgdXNlS2V5cykge1xuICAgIHZhciBza2lwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIHNraXBTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGlzU2tpcHBpbmcgPSB0cnVlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmICghKGlzU2tpcHBpbmcgJiYgKGlzU2tpcHBpbmcgPSBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkpKSB7XG4gICAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICAgIHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMgLSAxLCB0aGlzJDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG4gICAgc2tpcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBza2lwcGluZyA9IHRydWU7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcCwgaywgdjtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgaWYgKHVzZUtleXMgfHwgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElURVJBVEVfS0VZUykge1xuICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHVuZGVmaW5lZCwgc3RlcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWVbMV0sIHN0ZXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgIGsgPSBlbnRyeVswXTtcbiAgICAgICAgICB2ID0gZW50cnlbMV07XG4gICAgICAgICAgc2tpcHBpbmcgJiYgKHNraXBwaW5nID0gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgdGhpcyQwKSk7XG4gICAgICAgIH0gd2hpbGUgKHNraXBwaW5nKTtcbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IElURVJBVEVfRU5UUklFUyA/IHN0ZXAgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgc3RlcCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBza2lwU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNvbmNhdEZhY3RvcnkoaXRlcmFibGUsIHZhbHVlcykge1xuICAgIHZhciBpc0tleWVkSXRlcmFibGUgPSBpc0tleWVkKGl0ZXJhYmxlKTtcbiAgICB2YXIgaXRlcnMgPSBbaXRlcmFibGVdLmNvbmNhdCh2YWx1ZXMpLm1hcChmdW5jdGlvbih2ICkge1xuICAgICAgaWYgKCFpc0l0ZXJhYmxlKHYpKSB7XG4gICAgICAgIHYgPSBpc0tleWVkSXRlcmFibGUgP1xuICAgICAgICAgIGtleWVkU2VxRnJvbVZhbHVlKHYpIDpcbiAgICAgICAgICBpbmRleGVkU2VxRnJvbVZhbHVlKEFycmF5LmlzQXJyYXkodikgPyB2IDogW3ZdKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNLZXllZEl0ZXJhYmxlKSB7XG4gICAgICAgIHYgPSBLZXllZEl0ZXJhYmxlKHYpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHY7XG4gICAgfSkuZmlsdGVyKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIHYuc2l6ZSAhPT0gMH0pO1xuXG4gICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgIH1cblxuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBzaW5nbGV0b24gPSBpdGVyc1swXTtcbiAgICAgIGlmIChzaW5nbGV0b24gPT09IGl0ZXJhYmxlIHx8XG4gICAgICAgICAgaXNLZXllZEl0ZXJhYmxlICYmIGlzS2V5ZWQoc2luZ2xldG9uKSB8fFxuICAgICAgICAgIGlzSW5kZXhlZChpdGVyYWJsZSkgJiYgaXNJbmRleGVkKHNpbmdsZXRvbikpIHtcbiAgICAgICAgcmV0dXJuIHNpbmdsZXRvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY29uY2F0U2VxID0gbmV3IEFycmF5U2VxKGl0ZXJzKTtcbiAgICBpZiAoaXNLZXllZEl0ZXJhYmxlKSB7XG4gICAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEudG9LZXllZFNlcSgpO1xuICAgIH0gZWxzZSBpZiAoIWlzSW5kZXhlZChpdGVyYWJsZSkpIHtcbiAgICAgIGNvbmNhdFNlcSA9IGNvbmNhdFNlcS50b1NldFNlcSgpO1xuICAgIH1cbiAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEuZmxhdHRlbih0cnVlKTtcbiAgICBjb25jYXRTZXEuc2l6ZSA9IGl0ZXJzLnJlZHVjZShcbiAgICAgIGZ1bmN0aW9uKHN1bSwgc2VxKSAge1xuICAgICAgICBpZiAoc3VtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgc2l6ZSA9IHNlcS5zaXplO1xuICAgICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdW0gKyBzaXplO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIDBcbiAgICApO1xuICAgIHJldHVybiBjb25jYXRTZXE7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGZsYXR0ZW5GYWN0b3J5KGl0ZXJhYmxlLCBkZXB0aCwgdXNlS2V5cykge1xuICAgIHZhciBmbGF0U2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIGZsYXRTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgZnVuY3Rpb24gZmxhdERlZXAoaXRlciwgY3VycmVudERlcHRoKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICAgIGl0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICAgICAgaWYgKCghZGVwdGggfHwgY3VycmVudERlcHRoIDwgZGVwdGgpICYmIGlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICAgIGZsYXREZWVwKHYsIGN1cnJlbnREZXB0aCArIDEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zKyssIHRoaXMkMCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICFzdG9wcGVkO1xuICAgICAgICB9LCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIGZsYXREZWVwKGl0ZXJhYmxlLCAwKTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH1cbiAgICBmbGF0U2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIHZhciBzdGFjayA9IFtdO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgd2hpbGUgKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHYgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMpIHtcbiAgICAgICAgICAgIHYgPSB2WzFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKCFkZXB0aCB8fCBzdGFjay5sZW5ndGggPCBkZXB0aCkgJiYgaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaChpdGVyYXRvcik7XG4gICAgICAgICAgICBpdGVyYXRvciA9IHYuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVzZUtleXMgPyBzdGVwIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHYsIHN0ZXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZsYXRTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gZmxhdE1hcEZhY3RvcnkoaXRlcmFibGUsIG1hcHBlciwgY29udGV4dCkge1xuICAgIHZhciBjb2VyY2UgPSBpdGVyYWJsZUNsYXNzKGl0ZXJhYmxlKTtcbiAgICByZXR1cm4gaXRlcmFibGUudG9TZXEoKS5tYXAoXG4gICAgICBmdW5jdGlvbih2LCBrKSAge3JldHVybiBjb2VyY2UobWFwcGVyLmNhbGwoY29udGV4dCwgdiwgaywgaXRlcmFibGUpKX1cbiAgICApLmZsYXR0ZW4odHJ1ZSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGludGVycG9zZUZhY3RvcnkoaXRlcmFibGUsIHNlcGFyYXRvcikge1xuICAgIHZhciBpbnRlcnBvc2VkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIGludGVycG9zZWRTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZSAmJiBpdGVyYWJsZS5zaXplICogMiAtMTtcbiAgICBpbnRlcnBvc2VkU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspIFxuICAgICAgICB7cmV0dXJuICghaXRlcmF0aW9ucyB8fCBmbihzZXBhcmF0b3IsIGl0ZXJhdGlvbnMrKywgdGhpcyQwKSAhPT0gZmFsc2UpICYmXG4gICAgICAgIGZuKHYsIGl0ZXJhdGlvbnMrKywgdGhpcyQwKSAhPT0gZmFsc2V9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICBpbnRlcnBvc2VkU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIGlmICghc3RlcCB8fCBpdGVyYXRpb25zICUgMikge1xuICAgICAgICAgIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRpb25zICUgMiA/XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHNlcGFyYXRvcikgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGludGVycG9zZWRTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gc29ydEZhY3RvcnkoaXRlcmFibGUsIGNvbXBhcmF0b3IsIG1hcHBlcikge1xuICAgIGlmICghY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IGRlZmF1bHRDb21wYXJhdG9yO1xuICAgIH1cbiAgICB2YXIgaXNLZXllZEl0ZXJhYmxlID0gaXNLZXllZChpdGVyYWJsZSk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgZW50cmllcyA9IGl0ZXJhYmxlLnRvU2VxKCkubWFwKFxuICAgICAgZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gW2ssIHYsIGluZGV4KyssIG1hcHBlciA/IG1hcHBlcih2LCBrLCBpdGVyYWJsZSkgOiB2XX1cbiAgICApLnRvQXJyYXkoKTtcbiAgICBlbnRyaWVzLnNvcnQoZnVuY3Rpb24oYSwgYikgIHtyZXR1cm4gY29tcGFyYXRvcihhWzNdLCBiWzNdKSB8fCBhWzJdIC0gYlsyXX0pLmZvckVhY2goXG4gICAgICBpc0tleWVkSXRlcmFibGUgP1xuICAgICAgZnVuY3Rpb24odiwgaSkgIHsgZW50cmllc1tpXS5sZW5ndGggPSAyOyB9IDpcbiAgICAgIGZ1bmN0aW9uKHYsIGkpICB7IGVudHJpZXNbaV0gPSB2WzFdOyB9XG4gICAgKTtcbiAgICByZXR1cm4gaXNLZXllZEl0ZXJhYmxlID8gS2V5ZWRTZXEoZW50cmllcykgOlxuICAgICAgaXNJbmRleGVkKGl0ZXJhYmxlKSA/IEluZGV4ZWRTZXEoZW50cmllcykgOlxuICAgICAgU2V0U2VxKGVudHJpZXMpO1xuICB9XG5cblxuICBmdW5jdGlvbiBtYXhGYWN0b3J5KGl0ZXJhYmxlLCBjb21wYXJhdG9yLCBtYXBwZXIpIHtcbiAgICBpZiAoIWNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSBkZWZhdWx0Q29tcGFyYXRvcjtcbiAgICB9XG4gICAgaWYgKG1hcHBlcikge1xuICAgICAgdmFyIGVudHJ5ID0gaXRlcmFibGUudG9TZXEoKVxuICAgICAgICAubWFwKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIFt2LCBtYXBwZXIodiwgaywgaXRlcmFibGUpXX0pXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24oYSwgYikgIHtyZXR1cm4gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhWzFdLCBiWzFdKSA/IGIgOiBhfSk7XG4gICAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpdGVyYWJsZS5yZWR1Y2UoZnVuY3Rpb24oYSwgYikgIHtyZXR1cm4gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhLCBiKSA/IGIgOiBhfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhLCBiKSB7XG4gICAgdmFyIGNvbXAgPSBjb21wYXJhdG9yKGIsIGEpO1xuICAgIC8vIGIgaXMgY29uc2lkZXJlZCB0aGUgbmV3IG1heCBpZiB0aGUgY29tcGFyYXRvciBkZWNsYXJlcyB0aGVtIGVxdWFsLCBidXRcbiAgICAvLyB0aGV5IGFyZSBub3QgZXF1YWwgYW5kIGIgaXMgaW4gZmFjdCBhIG51bGxpc2ggdmFsdWUuXG4gICAgcmV0dXJuIChjb21wID09PSAwICYmIGIgIT09IGEgJiYgKGIgPT09IHVuZGVmaW5lZCB8fCBiID09PSBudWxsIHx8IGIgIT09IGIpKSB8fCBjb21wID4gMDtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gemlwV2l0aEZhY3Rvcnkoa2V5SXRlciwgemlwcGVyLCBpdGVycykge1xuICAgIHZhciB6aXBTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShrZXlJdGVyKTtcbiAgICB6aXBTZXF1ZW5jZS5zaXplID0gbmV3IEFycmF5U2VxKGl0ZXJzKS5tYXAoZnVuY3Rpb24oaSApIHtyZXR1cm4gaS5zaXplfSkubWluKCk7XG4gICAgLy8gTm90ZTogdGhpcyBhIGdlbmVyaWMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBfX2l0ZXJhdGUgaW4gdGVybXMgb2ZcbiAgICAvLyBfX2l0ZXJhdG9yIHdoaWNoIG1heSBiZSBtb3JlIGdlbmVyaWNhbGx5IHVzZWZ1bCBpbiB0aGUgZnV0dXJlLlxuICAgIHppcFNlcXVlbmNlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICAvKiBnZW5lcmljOlxuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICBpZiAoZm4oc3RlcC52YWx1ZVsxXSwgc3RlcC52YWx1ZVswXSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgICAgKi9cbiAgICAgIC8vIGluZGV4ZWQ6XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIGlmIChmbihzdGVwLnZhbHVlLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuICAgIHppcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvcnMgPSBpdGVycy5tYXAoZnVuY3Rpb24oaSApXG4gICAgICAgIHtyZXR1cm4gKGkgPSBJdGVyYWJsZShpKSwgZ2V0SXRlcmF0b3IocmV2ZXJzZSA/IGkucmV2ZXJzZSgpIDogaSkpfVxuICAgICAgKTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBpc0RvbmUgPSBmYWxzZTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwcztcbiAgICAgICAgaWYgKCFpc0RvbmUpIHtcbiAgICAgICAgICBzdGVwcyA9IGl0ZXJhdG9ycy5tYXAoZnVuY3Rpb24oaSApIHtyZXR1cm4gaS5uZXh0KCl9KTtcbiAgICAgICAgICBpc0RvbmUgPSBzdGVwcy5zb21lKGZ1bmN0aW9uKHMgKSB7cmV0dXJuIHMuZG9uZX0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBpdGVyYXRpb25zKyssXG4gICAgICAgICAgemlwcGVyLmFwcGx5KG51bGwsIHN0ZXBzLm1hcChmdW5jdGlvbihzICkge3JldHVybiBzLnZhbHVlfSkpXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiB6aXBTZXF1ZW5jZVxuICB9XG5cblxuICAvLyAjcHJhZ21hIEhlbHBlciBGdW5jdGlvbnNcblxuICBmdW5jdGlvbiByZWlmeShpdGVyLCBzZXEpIHtcbiAgICByZXR1cm4gaXNTZXEoaXRlcikgPyBzZXEgOiBpdGVyLmNvbnN0cnVjdG9yKHNlcSk7XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0ZUVudHJ5KGVudHJ5KSB7XG4gICAgaWYgKGVudHJ5ICE9PSBPYmplY3QoZW50cnkpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBbSywgVl0gdHVwbGU6ICcgKyBlbnRyeSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZVNpemUoaXRlcikge1xuICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgcmV0dXJuIGVuc3VyZVNpemUoaXRlcik7XG4gIH1cblxuICBmdW5jdGlvbiBpdGVyYWJsZUNsYXNzKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIGlzS2V5ZWQoaXRlcmFibGUpID8gS2V5ZWRJdGVyYWJsZSA6XG4gICAgICBpc0luZGV4ZWQoaXRlcmFibGUpID8gSW5kZXhlZEl0ZXJhYmxlIDpcbiAgICAgIFNldEl0ZXJhYmxlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUoXG4gICAgICAoXG4gICAgICAgIGlzS2V5ZWQoaXRlcmFibGUpID8gS2V5ZWRTZXEgOlxuICAgICAgICBpc0luZGV4ZWQoaXRlcmFibGUpID8gSW5kZXhlZFNlcSA6XG4gICAgICAgIFNldFNlcVxuICAgICAgKS5wcm90b3R5cGVcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FjaGVSZXN1bHRUaHJvdWdoKCkge1xuICAgIGlmICh0aGlzLl9pdGVyLmNhY2hlUmVzdWx0KSB7XG4gICAgICB0aGlzLl9pdGVyLmNhY2hlUmVzdWx0KCk7XG4gICAgICB0aGlzLnNpemUgPSB0aGlzLl9pdGVyLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFNlcS5wcm90b3R5cGUuY2FjaGVSZXN1bHQuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0Q29tcGFyYXRvcihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9yY2VJdGVyYXRvcihrZXlQYXRoKSB7XG4gICAgdmFyIGl0ZXIgPSBnZXRJdGVyYXRvcihrZXlQYXRoKTtcbiAgICBpZiAoIWl0ZXIpIHtcbiAgICAgIC8vIEFycmF5IG1pZ2h0IG5vdCBiZSBpdGVyYWJsZSBpbiB0aGlzIGVudmlyb25tZW50LCBzbyB3ZSBuZWVkIGEgZmFsbGJhY2tcbiAgICAgIC8vIHRvIG91ciB3cmFwcGVkIHR5cGUuXG4gICAgICBpZiAoIWlzQXJyYXlMaWtlKGtleVBhdGgpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGl0ZXJhYmxlIG9yIGFycmF5LWxpa2U6ICcgKyBrZXlQYXRoKTtcbiAgICAgIH1cbiAgICAgIGl0ZXIgPSBnZXRJdGVyYXRvcihJdGVyYWJsZShrZXlQYXRoKSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVyO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3Moc3JjX01hcF9fTWFwLCBLZXllZENvbGxlY3Rpb24pO1xuXG4gICAgLy8gQHByYWdtYSBDb25zdHJ1Y3Rpb25cblxuICAgIGZ1bmN0aW9uIHNyY19NYXBfX01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eU1hcCgpIDpcbiAgICAgICAgaXNNYXAodmFsdWUpID8gdmFsdWUgOlxuICAgICAgICBlbXB0eU1hcCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obWFwICkge1xuICAgICAgICAgIHZhciBpdGVyID0gS2V5ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gbWFwLnNldChrLCB2KX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdNYXAgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGssIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcm9vdCA/XG4gICAgICAgIHRoaXMuX3Jvb3QuZ2V0KDAsIHVuZGVmaW5lZCwgaywgbm90U2V0VmFsdWUpIDpcbiAgICAgICAgbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgIHJldHVybiB1cGRhdGVNYXAodGhpcywgaywgdik7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuc2V0SW4gPSBmdW5jdGlvbihrZXlQYXRoLCB2KSB7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVJbihrZXlQYXRoLCBOT1RfU0VULCBmdW5jdGlvbigpICB7cmV0dXJuIHZ9KTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrKSB7XG4gICAgICByZXR1cm4gdXBkYXRlTWFwKHRoaXMsIGssIE5PVF9TRVQpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLmRlbGV0ZUluID0gZnVuY3Rpb24oa2V5UGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oa2V5UGF0aCwgZnVuY3Rpb24oKSAge3JldHVybiBOT1RfU0VUfSk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oaywgbm90U2V0VmFsdWUsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cbiAgICAgICAgayh0aGlzKSA6XG4gICAgICAgIHRoaXMudXBkYXRlSW4oW2tdLCBub3RTZXRWYWx1ZSwgdXBkYXRlcik7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUudXBkYXRlSW4gPSBmdW5jdGlvbihrZXlQYXRoLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICAgICAgaWYgKCF1cGRhdGVyKSB7XG4gICAgICAgIHVwZGF0ZXIgPSBub3RTZXRWYWx1ZTtcbiAgICAgICAgbm90U2V0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgdXBkYXRlZFZhbHVlID0gdXBkYXRlSW5EZWVwTWFwKFxuICAgICAgICB0aGlzLFxuICAgICAgICBmb3JjZUl0ZXJhdG9yKGtleVBhdGgpLFxuICAgICAgICBub3RTZXRWYWx1ZSxcbiAgICAgICAgdXBkYXRlclxuICAgICAgKTtcbiAgICAgIHJldHVybiB1cGRhdGVkVmFsdWUgPT09IE5PVF9TRVQgPyB1bmRlZmluZWQgOiB1cGRhdGVkVmFsdWU7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5TWFwKCk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbigvKi4uLml0ZXJzKi8pIHtcbiAgICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIG1lcmdlciwgaXRlcnMpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlSW4gPSBmdW5jdGlvbihrZXlQYXRoKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVJbihcbiAgICAgICAga2V5UGF0aCxcbiAgICAgICAgZW1wdHlNYXAoKSxcbiAgICAgICAgZnVuY3Rpb24obSApIHtyZXR1cm4gdHlwZW9mIG0ubWVyZ2UgPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgIG0ubWVyZ2UuYXBwbHkobSwgaXRlcnMpIDpcbiAgICAgICAgICBpdGVyc1tpdGVycy5sZW5ndGggLSAxXX1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2VEZWVwID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCBkZWVwTWVyZ2VyKHVuZGVmaW5lZCksIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IGZ1bmN0aW9uKG1lcmdlcikge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgZGVlcE1lcmdlcihtZXJnZXIpLCBpdGVycyk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBmdW5jdGlvbihrZXlQYXRoKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVJbihcbiAgICAgICAga2V5UGF0aCxcbiAgICAgICAgZW1wdHlNYXAoKSxcbiAgICAgICAgZnVuY3Rpb24obSApIHtyZXR1cm4gdHlwZW9mIG0ubWVyZ2VEZWVwID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICBtLm1lcmdlRGVlcC5hcHBseShtLCBpdGVycykgOlxuICAgICAgICAgIGl0ZXJzW2l0ZXJzLmxlbmd0aCAtIDFdfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgICByZXR1cm4gT3JkZXJlZE1hcChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKSk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuc29ydEJ5ID0gZnVuY3Rpb24obWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICAgIHJldHVybiBPcmRlcmVkTWFwKHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcikpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE11dGFiaWxpdHlcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICB2YXIgbXV0YWJsZSA9IHRoaXMuYXNNdXRhYmxlKCk7XG4gICAgICBmbihtdXRhYmxlKTtcbiAgICAgIHJldHVybiBtdXRhYmxlLndhc0FsdGVyZWQoKSA/IG11dGFibGUuX19lbnN1cmVPd25lcih0aGlzLl9fb3duZXJJRCkgOiB0aGlzO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLmFzTXV0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19vd25lcklEID8gdGhpcyA6IHRoaXMuX19lbnN1cmVPd25lcihuZXcgT3duZXJJRCgpKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19lbnN1cmVPd25lcigpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fYWx0ZXJlZDtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLCB0eXBlLCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdGhpcy5fcm9vdCAmJiB0aGlzLl9yb290Lml0ZXJhdGUoZnVuY3Rpb24oZW50cnkgKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgcmV0dXJuIGZuKGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcyQwKTtcbiAgICAgIH0sIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICghb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VNYXAodGhpcy5zaXplLCB0aGlzLl9yb290LCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzTWFwKG1heWJlTWFwKSB7XG4gICAgcmV0dXJuICEhKG1heWJlTWFwICYmIG1heWJlTWFwW0lTX01BUF9TRU5USU5FTF0pO1xuICB9XG5cbiAgc3JjX01hcF9fTWFwLmlzTWFwID0gaXNNYXA7XG5cbiAgdmFyIElTX01BUF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX01BUF9fQEAnO1xuXG4gIHZhciBNYXBQcm90b3R5cGUgPSBzcmNfTWFwX19NYXAucHJvdG90eXBlO1xuICBNYXBQcm90b3R5cGVbSVNfTUFQX1NFTlRJTkVMXSA9IHRydWU7XG4gIE1hcFByb3RvdHlwZVtERUxFVEVdID0gTWFwUHJvdG90eXBlLnJlbW92ZTtcbiAgTWFwUHJvdG90eXBlLnJlbW92ZUluID0gTWFwUHJvdG90eXBlLmRlbGV0ZUluO1xuXG5cbiAgLy8gI3ByYWdtYSBUcmllIE5vZGVzXG5cblxuXG4gICAgZnVuY3Rpb24gQXJyYXlNYXBOb2RlKG93bmVySUQsIGVudHJpZXMpIHtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzO1xuICAgIH1cblxuICAgIEFycmF5TWFwTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgICAgZm9yICh2YXIgaWkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICAgICAgaWYgKGlzKGtleSwgZW50cmllc1tpaV1bMF0pKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJpZXNbaWldWzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEFycmF5TWFwTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24ob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gICAgICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuXG4gICAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICAgIHZhciBpZHggPSAwO1xuICAgICAgZm9yICh2YXIgbGVuID0gZW50cmllcy5sZW5ndGg7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICAgICAgaWYgKGlzKGtleSwgZW50cmllc1tpZHhdWzBdKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgZXhpc3RzID0gaWR4IDwgbGVuO1xuXG4gICAgICBpZiAoZXhpc3RzID8gZW50cmllc1tpZHhdWzFdID09PSB2YWx1ZSA6IHJlbW92ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgICAocmVtb3ZlZCB8fCAhZXhpc3RzKSAmJiBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG5cbiAgICAgIGlmIChyZW1vdmVkICYmIGVudHJpZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGlmICghZXhpc3RzICYmICFyZW1vdmVkICYmIGVudHJpZXMubGVuZ3RoID49IE1BWF9BUlJBWV9NQVBfU0laRSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTm9kZXMob3duZXJJRCwgZW50cmllcywga2V5LCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gICAgICB2YXIgbmV3RW50cmllcyA9IGlzRWRpdGFibGUgPyBlbnRyaWVzIDogYXJyQ29weShlbnRyaWVzKTtcblxuICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgIGlkeCA9PT0gbGVuIC0gMSA/IG5ld0VudHJpZXMucG9wKCkgOiAobmV3RW50cmllc1tpZHhdID0gbmV3RW50cmllcy5wb3AoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3RW50cmllc1tpZHhdID0gW2tleSwgdmFsdWVdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdFbnRyaWVzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gbmV3RW50cmllcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQXJyYXlNYXBOb2RlKG93bmVySUQsIG5ld0VudHJpZXMpO1xuICAgIH07XG5cblxuXG5cbiAgICBmdW5jdGlvbiBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCBiaXRtYXAsIG5vZGVzKSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5iaXRtYXAgPSBiaXRtYXA7XG4gICAgICB0aGlzLm5vZGVzID0gbm9kZXM7XG4gICAgfVxuXG4gICAgQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gICAgICB9XG4gICAgICB2YXIgYml0ID0gKDEgPDwgKChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLKSk7XG4gICAgICB2YXIgYml0bWFwID0gdGhpcy5iaXRtYXA7XG4gICAgICByZXR1cm4gKGJpdG1hcCAmIGJpdCkgPT09IDAgPyBub3RTZXRWYWx1ZSA6XG4gICAgICAgIHRoaXMubm9kZXNbcG9wQ291bnQoYml0bWFwICYgKGJpdCAtIDEpKV0uZ2V0KHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpO1xuICAgIH07XG5cbiAgICBCaXRtYXBJbmRleGVkTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24ob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gICAgICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gICAgICB9XG4gICAgICB2YXIga2V5SGFzaEZyYWcgPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgICAgIHZhciBiaXQgPSAxIDw8IGtleUhhc2hGcmFnO1xuICAgICAgdmFyIGJpdG1hcCA9IHRoaXMuYml0bWFwO1xuICAgICAgdmFyIGV4aXN0cyA9IChiaXRtYXAgJiBiaXQpICE9PSAwO1xuXG4gICAgICBpZiAoIWV4aXN0cyAmJiB2YWx1ZSA9PT0gTk9UX1NFVCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGlkeCA9IHBvcENvdW50KGJpdG1hcCAmIChiaXQgLSAxKSk7XG4gICAgICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzO1xuICAgICAgdmFyIG5vZGUgPSBleGlzdHMgPyBub2Rlc1tpZHhdIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIG5ld05vZGUgPSB1cGRhdGVOb2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKTtcblxuICAgICAgaWYgKG5ld05vZGUgPT09IG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmICghZXhpc3RzICYmIG5ld05vZGUgJiYgbm9kZXMubGVuZ3RoID49IE1BWF9CSVRNQVBfSU5ERVhFRF9TSVpFKSB7XG4gICAgICAgIHJldHVybiBleHBhbmROb2Rlcyhvd25lcklELCBub2RlcywgYml0bWFwLCBrZXlIYXNoRnJhZywgbmV3Tm9kZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChleGlzdHMgJiYgIW5ld05vZGUgJiYgbm9kZXMubGVuZ3RoID09PSAyICYmIGlzTGVhZk5vZGUobm9kZXNbaWR4IF4gMV0pKSB7XG4gICAgICAgIHJldHVybiBub2Rlc1tpZHggXiAxXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV4aXN0cyAmJiBuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA9PT0gMSAmJiBpc0xlYWZOb2RlKG5ld05vZGUpKSB7XG4gICAgICAgIHJldHVybiBuZXdOb2RlO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICAgICAgdmFyIG5ld0JpdG1hcCA9IGV4aXN0cyA/IG5ld05vZGUgPyBiaXRtYXAgOiBiaXRtYXAgXiBiaXQgOiBiaXRtYXAgfCBiaXQ7XG4gICAgICB2YXIgbmV3Tm9kZXMgPSBleGlzdHMgPyBuZXdOb2RlID9cbiAgICAgICAgc2V0SW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSkgOlxuICAgICAgICBzcGxpY2VPdXQobm9kZXMsIGlkeCwgaXNFZGl0YWJsZSkgOlxuICAgICAgICBzcGxpY2VJbihub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKTtcblxuICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgdGhpcy5iaXRtYXAgPSBuZXdCaXRtYXA7XG4gICAgICAgIHRoaXMubm9kZXMgPSBuZXdOb2RlcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgbmV3Qml0bWFwLCBuZXdOb2Rlcyk7XG4gICAgfTtcblxuXG5cblxuICAgIGZ1bmN0aW9uIEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgY291bnQsIG5vZGVzKSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5jb3VudCA9IGNvdW50O1xuICAgICAgdGhpcy5ub2RlcyA9IG5vZGVzO1xuICAgIH1cblxuICAgIEhhc2hBcnJheU1hcE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gICAgICB9XG4gICAgICB2YXIgaWR4ID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZXNbaWR4XTtcbiAgICAgIHJldHVybiBub2RlID8gbm9kZS5nZXQoc2hpZnQgKyBTSElGVCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgSGFzaEFycmF5TWFwTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24ob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gICAgICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gICAgICB9XG4gICAgICB2YXIgaWR4ID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gICAgICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuICAgICAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgICAgIHZhciBub2RlID0gbm9kZXNbaWR4XTtcblxuICAgICAgaWYgKHJlbW92ZWQgJiYgIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdOb2RlID0gdXBkYXRlTm9kZShub2RlLCBvd25lcklELCBzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcik7XG4gICAgICBpZiAobmV3Tm9kZSA9PT0gbm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld0NvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICBuZXdDb3VudCsrO1xuICAgICAgfSBlbHNlIGlmICghbmV3Tm9kZSkge1xuICAgICAgICBuZXdDb3VudC0tO1xuICAgICAgICBpZiAobmV3Q291bnQgPCBNSU5fSEFTSF9BUlJBWV9NQVBfU0laRSkge1xuICAgICAgICAgIHJldHVybiBwYWNrTm9kZXMob3duZXJJRCwgbm9kZXMsIG5ld0NvdW50LCBpZHgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gICAgICB2YXIgbmV3Tm9kZXMgPSBzZXRJbihub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKTtcblxuICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgdGhpcy5jb3VudCA9IG5ld0NvdW50O1xuICAgICAgICB0aGlzLm5vZGVzID0gbmV3Tm9kZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgbmV3Q291bnQsIG5ld05vZGVzKTtcbiAgICB9O1xuXG5cblxuXG4gICAgZnVuY3Rpb24gSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwga2V5SGFzaCwgZW50cmllcykge1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMua2V5SGFzaCA9IGtleUhhc2g7XG4gICAgICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzO1xuICAgIH1cblxuICAgIEhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgICBmb3IgKHZhciBpaSA9IDAsIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpaSA8IGxlbjsgaWkrKykge1xuICAgICAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lpXVswXSkpIHtcbiAgICAgICAgICByZXR1cm4gZW50cmllc1tpaV1bMV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgSGFzaENvbGxpc2lvbk5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuXG4gICAgICBpZiAoa2V5SGFzaCAhPT0gdGhpcy5rZXlIYXNoKSB7XG4gICAgICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICAgICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgICAgICByZXR1cm4gbWVyZ2VJbnRvTm9kZSh0aGlzLCBvd25lcklELCBzaGlmdCwga2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgICB2YXIgaWR4ID0gMDtcbiAgICAgIGZvciAodmFyIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpZHggPCBsZW47IGlkeCsrKSB7XG4gICAgICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWR4XVswXSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGV4aXN0cyA9IGlkeCA8IGxlbjtcblxuICAgICAgaWYgKGV4aXN0cyA/IGVudHJpZXNbaWR4XVsxXSA9PT0gdmFsdWUgOiByZW1vdmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgICAgKHJlbW92ZWQgfHwgIWV4aXN0cykgJiYgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuXG4gICAgICBpZiAocmVtb3ZlZCAmJiBsZW4gPT09IDIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBlbnRyaWVzW2lkeCBeIDFdKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgICAgIHZhciBuZXdFbnRyaWVzID0gaXNFZGl0YWJsZSA/IGVudHJpZXMgOiBhcnJDb3B5KGVudHJpZXMpO1xuXG4gICAgICBpZiAoZXhpc3RzKSB7XG4gICAgICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICAgICAgaWR4ID09PSBsZW4gLSAxID8gbmV3RW50cmllcy5wb3AoKSA6IChuZXdFbnRyaWVzW2lkeF0gPSBuZXdFbnRyaWVzLnBvcCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdFbnRyaWVzW2lkeF0gPSBba2V5LCB2YWx1ZV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0VudHJpZXMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICB0aGlzLmVudHJpZXMgPSBuZXdFbnRyaWVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBIYXNoQ29sbGlzaW9uTm9kZShvd25lcklELCB0aGlzLmtleUhhc2gsIG5ld0VudHJpZXMpO1xuICAgIH07XG5cblxuXG5cbiAgICBmdW5jdGlvbiBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgZW50cnkpIHtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLmtleUhhc2ggPSBrZXlIYXNoO1xuICAgICAgdGhpcy5lbnRyeSA9IGVudHJ5O1xuICAgIH1cblxuICAgIFZhbHVlTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiBpcyhrZXksIHRoaXMuZW50cnlbMF0pID8gdGhpcy5lbnRyeVsxXSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBWYWx1ZU5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcbiAgICAgIHZhciBrZXlNYXRjaCA9IGlzKGtleSwgdGhpcy5lbnRyeVswXSk7XG4gICAgICBpZiAoa2V5TWF0Y2ggPyB2YWx1ZSA9PT0gdGhpcy5lbnRyeVsxXSA6IHJlbW92ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIFNldFJlZihkaWRBbHRlcik7XG5cbiAgICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICAgICAgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgICAgIH1cblxuICAgICAgaWYgKGtleU1hdGNoKSB7XG4gICAgICAgIGlmIChvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRCkge1xuICAgICAgICAgIHRoaXMuZW50cnlbMV0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlTm9kZShvd25lcklELCB0aGlzLmtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gICAgICB9XG5cbiAgICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9Ob2RlKHRoaXMsIG93bmVySUQsIHNoaWZ0LCBoYXNoKGtleSksIFtrZXksIHZhbHVlXSk7XG4gICAgfTtcblxuXG5cbiAgLy8gI3ByYWdtYSBJdGVyYXRvcnNcblxuICBBcnJheU1hcE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPVxuICBIYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgIGZvciAodmFyIGlpID0gMCwgbWF4SW5kZXggPSBlbnRyaWVzLmxlbmd0aCAtIDE7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICBpZiAoZm4oZW50cmllc1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBCaXRtYXBJbmRleGVkTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9XG4gIEhhc2hBcnJheU1hcE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzO1xuICAgIGZvciAodmFyIGlpID0gMCwgbWF4SW5kZXggPSBub2Rlcy5sZW5ndGggLSAxOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgdmFyIG5vZGUgPSBub2Rlc1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICAgIGlmIChub2RlICYmIG5vZGUuaXRlcmF0ZShmbiwgcmV2ZXJzZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBWYWx1ZU5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICByZXR1cm4gZm4odGhpcy5lbnRyeSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhNYXBJdGVyYXRvciwgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcik7XG5cbiAgICBmdW5jdGlvbiBNYXBJdGVyYXRvcihtYXAsIHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgICAgdGhpcy5fcmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgICB0aGlzLl9zdGFjayA9IG1hcC5fcm9vdCAmJiBtYXBJdGVyYXRvckZyYW1lKG1hcC5fcm9vdCk7XG4gICAgfVxuXG4gICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0eXBlID0gdGhpcy5fdHlwZTtcbiAgICAgIHZhciBzdGFjayA9IHRoaXMuX3N0YWNrO1xuICAgICAgd2hpbGUgKHN0YWNrKSB7XG4gICAgICAgIHZhciBub2RlID0gc3RhY2subm9kZTtcbiAgICAgICAgdmFyIGluZGV4ID0gc3RhY2suaW5kZXgrKztcbiAgICAgICAgdmFyIG1heEluZGV4O1xuICAgICAgICBpZiAobm9kZS5lbnRyeSkge1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgbm9kZS5lbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5vZGUuZW50cmllcykge1xuICAgICAgICAgIG1heEluZGV4ID0gbm9kZS5lbnRyaWVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgaWYgKGluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBub2RlLmVudHJpZXNbdGhpcy5fcmV2ZXJzZSA/IG1heEluZGV4IC0gaW5kZXggOiBpbmRleF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXhJbmRleCA9IG5vZGUubm9kZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpZiAoaW5kZXggPD0gbWF4SW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBzdWJOb2RlID0gbm9kZS5ub2Rlc1t0aGlzLl9yZXZlcnNlID8gbWF4SW5kZXggLSBpbmRleCA6IGluZGV4XTtcbiAgICAgICAgICAgIGlmIChzdWJOb2RlKSB7XG4gICAgICAgICAgICAgIGlmIChzdWJOb2RlLmVudHJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgc3ViTm9kZS5lbnRyeSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3RhY2sgPSB0aGlzLl9zdGFjayA9IG1hcEl0ZXJhdG9yRnJhbWUoc3ViTm9kZSwgc3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YWNrID0gdGhpcy5fc3RhY2sgPSB0aGlzLl9zdGFjay5fX3ByZXY7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgZW50cnkpIHtcbiAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFwSXRlcmF0b3JGcmFtZShub2RlLCBwcmV2KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICBpbmRleDogMCxcbiAgICAgIF9fcHJldjogcHJldlxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlTWFwKHNpemUsIHJvb3QsIG93bmVySUQsIGhhc2gpIHtcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShNYXBQcm90b3R5cGUpO1xuICAgIG1hcC5zaXplID0gc2l6ZTtcbiAgICBtYXAuX3Jvb3QgPSByb290O1xuICAgIG1hcC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIG1hcC5fX2hhc2ggPSBoYXNoO1xuICAgIG1hcC5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gbWFwO1xuICB9XG5cbiAgdmFyIEVNUFRZX01BUDtcbiAgZnVuY3Rpb24gZW1wdHlNYXAoKSB7XG4gICAgcmV0dXJuIEVNUFRZX01BUCB8fCAoRU1QVFlfTUFQID0gbWFrZU1hcCgwKSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNYXAobWFwLCBrLCB2KSB7XG4gICAgdmFyIG5ld1Jvb3Q7XG4gICAgdmFyIG5ld1NpemU7XG4gICAgaWYgKCFtYXAuX3Jvb3QpIHtcbiAgICAgIGlmICh2ID09PSBOT1RfU0VUKSB7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9XG4gICAgICBuZXdTaXplID0gMTtcbiAgICAgIG5ld1Jvb3QgPSBuZXcgQXJyYXlNYXBOb2RlKG1hcC5fX293bmVySUQsIFtbaywgdl1dKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGRpZENoYW5nZVNpemUgPSBNYWtlUmVmKENIQU5HRV9MRU5HVEgpO1xuICAgICAgdmFyIGRpZEFsdGVyID0gTWFrZVJlZihESURfQUxURVIpO1xuICAgICAgbmV3Um9vdCA9IHVwZGF0ZU5vZGUobWFwLl9yb290LCBtYXAuX19vd25lcklELCAwLCB1bmRlZmluZWQsIGssIHYsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKTtcbiAgICAgIGlmICghZGlkQWx0ZXIudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgIH1cbiAgICAgIG5ld1NpemUgPSBtYXAuc2l6ZSArIChkaWRDaGFuZ2VTaXplLnZhbHVlID8gdiA9PT0gTk9UX1NFVCA/IC0xIDogMSA6IDApO1xuICAgIH1cbiAgICBpZiAobWFwLl9fb3duZXJJRCkge1xuICAgICAgbWFwLnNpemUgPSBuZXdTaXplO1xuICAgICAgbWFwLl9yb290ID0gbmV3Um9vdDtcbiAgICAgIG1hcC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICBtYXAuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuICAgIHJldHVybiBuZXdSb290ID8gbWFrZU1hcChuZXdTaXplLCBuZXdSb290KSA6IGVtcHR5TWFwKCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVOb2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgIGlmICghbm9kZSkge1xuICAgICAgaWYgKHZhbHVlID09PSBOT1RfU0VUKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gICAgfVxuICAgIHJldHVybiBub2RlLnVwZGF0ZShvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNMZWFmTm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuY29uc3RydWN0b3IgPT09IFZhbHVlTm9kZSB8fCBub2RlLmNvbnN0cnVjdG9yID09PSBIYXNoQ29sbGlzaW9uTm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlSW50b05vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGVudHJ5KSB7XG4gICAgaWYgKG5vZGUua2V5SGFzaCA9PT0ga2V5SGFzaCkge1xuICAgICAgcmV0dXJuIG5ldyBIYXNoQ29sbGlzaW9uTm9kZShvd25lcklELCBrZXlIYXNoLCBbbm9kZS5lbnRyeSwgZW50cnldKTtcbiAgICB9XG5cbiAgICB2YXIgaWR4MSA9IChzaGlmdCA9PT0gMCA/IG5vZGUua2V5SGFzaCA6IG5vZGUua2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgICB2YXIgaWR4MiA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuXG4gICAgdmFyIG5ld05vZGU7XG4gICAgdmFyIG5vZGVzID0gaWR4MSA9PT0gaWR4MiA/XG4gICAgICBbbWVyZ2VJbnRvTm9kZShub2RlLCBvd25lcklELCBzaGlmdCArIFNISUZULCBrZXlIYXNoLCBlbnRyeSldIDpcbiAgICAgICgobmV3Tm9kZSA9IG5ldyBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgZW50cnkpKSwgaWR4MSA8IGlkeDIgPyBbbm9kZSwgbmV3Tm9kZV0gOiBbbmV3Tm9kZSwgbm9kZV0pO1xuXG4gICAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCAoMSA8PCBpZHgxKSB8ICgxIDw8IGlkeDIpLCBub2Rlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVOb2Rlcyhvd25lcklELCBlbnRyaWVzLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKCFvd25lcklEKSB7XG4gICAgICBvd25lcklEID0gbmV3IE93bmVySUQoKTtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGhhc2goa2V5KSwgW2tleSwgdmFsdWVdKTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgZW50cmllcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaWldO1xuICAgICAgbm9kZSA9IG5vZGUudXBkYXRlKG93bmVySUQsIDAsIHVuZGVmaW5lZCwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBmdW5jdGlvbiBwYWNrTm9kZXMob3duZXJJRCwgbm9kZXMsIGNvdW50LCBleGNsdWRpbmcpIHtcbiAgICB2YXIgYml0bWFwID0gMDtcbiAgICB2YXIgcGFja2VkSUkgPSAwO1xuICAgIHZhciBwYWNrZWROb2RlcyA9IG5ldyBBcnJheShjb3VudCk7XG4gICAgZm9yICh2YXIgaWkgPSAwLCBiaXQgPSAxLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGlpIDwgbGVuOyBpaSsrLCBiaXQgPDw9IDEpIHtcbiAgICAgIHZhciBub2RlID0gbm9kZXNbaWldO1xuICAgICAgaWYgKG5vZGUgIT09IHVuZGVmaW5lZCAmJiBpaSAhPT0gZXhjbHVkaW5nKSB7XG4gICAgICAgIGJpdG1hcCB8PSBiaXQ7XG4gICAgICAgIHBhY2tlZE5vZGVzW3BhY2tlZElJKytdID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCBiaXRtYXAsIHBhY2tlZE5vZGVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGFuZE5vZGVzKG93bmVySUQsIG5vZGVzLCBiaXRtYXAsIGluY2x1ZGluZywgbm9kZSkge1xuICAgIHZhciBjb3VudCA9IDA7XG4gICAgdmFyIGV4cGFuZGVkTm9kZXMgPSBuZXcgQXJyYXkoU0laRSk7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBiaXRtYXAgIT09IDA7IGlpKyssIGJpdG1hcCA+Pj49IDEpIHtcbiAgICAgIGV4cGFuZGVkTm9kZXNbaWldID0gYml0bWFwICYgMSA/IG5vZGVzW2NvdW50KytdIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBleHBhbmRlZE5vZGVzW2luY2x1ZGluZ10gPSBub2RlO1xuICAgIHJldHVybiBuZXcgSGFzaEFycmF5TWFwTm9kZShvd25lcklELCBjb3VudCArIDEsIGV4cGFuZGVkTm9kZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvTWFwV2l0aChtYXAsIG1lcmdlciwgaXRlcmFibGVzKSB7XG4gICAgdmFyIGl0ZXJzID0gW107XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJhYmxlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGl0ZXJhYmxlc1tpaV07XG4gICAgICB2YXIgaXRlciA9IEtleWVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgaWYgKCFpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICBpdGVyID0gaXRlci5tYXAoZnVuY3Rpb24odiApIHtyZXR1cm4gZnJvbUpTKHYpfSk7XG4gICAgICB9XG4gICAgICBpdGVycy5wdXNoKGl0ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VJbnRvQ29sbGVjdGlvbldpdGgobWFwLCBtZXJnZXIsIGl0ZXJzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBNZXJnZXIobWVyZ2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV4aXN0aW5nLCB2YWx1ZSwga2V5KSBcbiAgICAgIHtyZXR1cm4gZXhpc3RpbmcgJiYgZXhpc3RpbmcubWVyZ2VEZWVwV2l0aCAmJiBpc0l0ZXJhYmxlKHZhbHVlKSA/XG4gICAgICAgIGV4aXN0aW5nLm1lcmdlRGVlcFdpdGgobWVyZ2VyLCB2YWx1ZSkgOlxuICAgICAgICBtZXJnZXIgPyBtZXJnZXIoZXhpc3RpbmcsIHZhbHVlLCBrZXkpIDogdmFsdWV9O1xuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvQ29sbGVjdGlvbldpdGgoY29sbGVjdGlvbiwgbWVyZ2VyLCBpdGVycykge1xuICAgIGl0ZXJzID0gaXRlcnMuZmlsdGVyKGZ1bmN0aW9uKHggKSB7cmV0dXJuIHguc2l6ZSAhPT0gMH0pO1xuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH1cbiAgICBpZiAoY29sbGVjdGlvbi5zaXplID09PSAwICYmICFjb2xsZWN0aW9uLl9fb3duZXJJRCAmJiBpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uLmNvbnN0cnVjdG9yKGl0ZXJzWzBdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24ud2l0aE11dGF0aW9ucyhmdW5jdGlvbihjb2xsZWN0aW9uICkge1xuICAgICAgdmFyIG1lcmdlSW50b01hcCA9IG1lcmdlciA/XG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlLCBrZXkpICB7XG4gICAgICAgICAgY29sbGVjdGlvbi51cGRhdGUoa2V5LCBOT1RfU0VULCBmdW5jdGlvbihleGlzdGluZyApXG4gICAgICAgICAgICB7cmV0dXJuIGV4aXN0aW5nID09PSBOT1RfU0VUID8gdmFsdWUgOiBtZXJnZXIoZXhpc3RpbmcsIHZhbHVlLCBrZXkpfVxuICAgICAgICAgICk7XG4gICAgICAgIH0gOlxuICAgICAgICBmdW5jdGlvbih2YWx1ZSwga2V5KSAge1xuICAgICAgICAgIGNvbGxlY3Rpb24uc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgIGl0ZXJzW2lpXS5mb3JFYWNoKG1lcmdlSW50b01hcCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVJbkRlZXBNYXAoZXhpc3RpbmcsIGtleVBhdGhJdGVyLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICAgIHZhciBpc05vdFNldCA9IGV4aXN0aW5nID09PSBOT1RfU0VUO1xuICAgIHZhciBzdGVwID0ga2V5UGF0aEl0ZXIubmV4dCgpO1xuICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgIHZhciBleGlzdGluZ1ZhbHVlID0gaXNOb3RTZXQgPyBub3RTZXRWYWx1ZSA6IGV4aXN0aW5nO1xuICAgICAgdmFyIG5ld1ZhbHVlID0gdXBkYXRlcihleGlzdGluZ1ZhbHVlKTtcbiAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gZXhpc3RpbmdWYWx1ZSA/IGV4aXN0aW5nIDogbmV3VmFsdWU7XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIGlzTm90U2V0IHx8IChleGlzdGluZyAmJiBleGlzdGluZy5zZXQpLFxuICAgICAgJ2ludmFsaWQga2V5UGF0aCdcbiAgICApO1xuICAgIHZhciBrZXkgPSBzdGVwLnZhbHVlO1xuICAgIHZhciBuZXh0RXhpc3RpbmcgPSBpc05vdFNldCA/IE5PVF9TRVQgOiBleGlzdGluZy5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICB2YXIgbmV4dFVwZGF0ZWQgPSB1cGRhdGVJbkRlZXBNYXAoXG4gICAgICBuZXh0RXhpc3RpbmcsXG4gICAgICBrZXlQYXRoSXRlcixcbiAgICAgIG5vdFNldFZhbHVlLFxuICAgICAgdXBkYXRlclxuICAgICk7XG4gICAgcmV0dXJuIG5leHRVcGRhdGVkID09PSBuZXh0RXhpc3RpbmcgPyBleGlzdGluZyA6XG4gICAgICBuZXh0VXBkYXRlZCA9PT0gTk9UX1NFVCA/IGV4aXN0aW5nLnJlbW92ZShrZXkpIDpcbiAgICAgIChpc05vdFNldCA/IGVtcHR5TWFwKCkgOiBleGlzdGluZykuc2V0KGtleSwgbmV4dFVwZGF0ZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wQ291bnQoeCkge1xuICAgIHggPSB4IC0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSk7XG4gICAgeCA9ICh4ICYgMHgzMzMzMzMzMykgKyAoKHggPj4gMikgJiAweDMzMzMzMzMzKTtcbiAgICB4ID0gKHggKyAoeCA+PiA0KSkgJiAweDBmMGYwZjBmO1xuICAgIHggPSB4ICsgKHggPj4gOCk7XG4gICAgeCA9IHggKyAoeCA+PiAxNik7XG4gICAgcmV0dXJuIHggJiAweDdmO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW4oYXJyYXksIGlkeCwgdmFsLCBjYW5FZGl0KSB7XG4gICAgdmFyIG5ld0FycmF5ID0gY2FuRWRpdCA/IGFycmF5IDogYXJyQ29weShhcnJheSk7XG4gICAgbmV3QXJyYXlbaWR4XSA9IHZhbDtcbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH1cblxuICBmdW5jdGlvbiBzcGxpY2VJbihhcnJheSwgaWR4LCB2YWwsIGNhbkVkaXQpIHtcbiAgICB2YXIgbmV3TGVuID0gYXJyYXkubGVuZ3RoICsgMTtcbiAgICBpZiAoY2FuRWRpdCAmJiBpZHggKyAxID09PSBuZXdMZW4pIHtcbiAgICAgIGFycmF5W2lkeF0gPSB2YWw7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuICAgIHZhciBuZXdBcnJheSA9IG5ldyBBcnJheShuZXdMZW4pO1xuICAgIHZhciBhZnRlciA9IDA7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG5ld0xlbjsgaWkrKykge1xuICAgICAgaWYgKGlpID09PSBpZHgpIHtcbiAgICAgICAgbmV3QXJyYXlbaWldID0gdmFsO1xuICAgICAgICBhZnRlciA9IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3QXJyYXlbaWldID0gYXJyYXlbaWkgKyBhZnRlcl07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXdBcnJheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGljZU91dChhcnJheSwgaWR4LCBjYW5FZGl0KSB7XG4gICAgdmFyIG5ld0xlbiA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgaWYgKGNhbkVkaXQgJiYgaWR4ID09PSBuZXdMZW4pIHtcbiAgICAgIGFycmF5LnBvcCgpO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgICB2YXIgbmV3QXJyYXkgPSBuZXcgQXJyYXkobmV3TGVuKTtcbiAgICB2YXIgYWZ0ZXIgPSAwO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBuZXdMZW47IGlpKyspIHtcbiAgICAgIGlmIChpaSA9PT0gaWR4KSB7XG4gICAgICAgIGFmdGVyID0gMTtcbiAgICAgIH1cbiAgICAgIG5ld0FycmF5W2lpXSA9IGFycmF5W2lpICsgYWZ0ZXJdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH1cblxuICB2YXIgTUFYX0FSUkFZX01BUF9TSVpFID0gU0laRSAvIDQ7XG4gIHZhciBNQVhfQklUTUFQX0lOREVYRURfU0laRSA9IFNJWkUgLyAyO1xuICB2YXIgTUlOX0hBU0hfQVJSQVlfTUFQX1NJWkUgPSBTSVpFIC8gNDtcblxuICBjcmVhdGVDbGFzcyhMaXN0LCBJbmRleGVkQ29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gTGlzdCh2YWx1ZSkge1xuICAgICAgdmFyIGVtcHR5ID0gZW1wdHlMaXN0KCk7XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgICB9XG4gICAgICBpZiAoaXNMaXN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXRlciA9IEluZGV4ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICB2YXIgc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICAgIGlmIChzaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICAgIH1cbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHNpemUpO1xuICAgICAgaWYgKHNpemUgPiAwICYmIHNpemUgPCBTSVpFKSB7XG4gICAgICAgIHJldHVybiBtYWtlTGlzdCgwLCBzaXplLCBTSElGVCwgbnVsbCwgbmV3IFZOb2RlKGl0ZXIudG9BcnJheSgpKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBsaXN0LnNldFNpemUoc2l6ZSk7XG4gICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbih2LCBpKSAge3JldHVybiBsaXN0LnNldChpLCB2KX0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgTGlzdC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdMaXN0IFsnLCAnXScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgTGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuc2l6ZSkge1xuICAgICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgICB9XG4gICAgICBpbmRleCArPSB0aGlzLl9vcmlnaW47XG4gICAgICB2YXIgbm9kZSA9IGxpc3ROb2RlRm9yKHRoaXMsIGluZGV4KTtcbiAgICAgIHJldHVybiBub2RlICYmIG5vZGUuYXJyYXlbaW5kZXggJiBNQVNLXTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICAgIExpc3QucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHVwZGF0ZUxpc3QodGhpcywgaW5kZXgsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIHJldHVybiAhdGhpcy5oYXMoaW5kZXgpID8gdGhpcyA6XG4gICAgICAgIGluZGV4ID09PSAwID8gdGhpcy5zaGlmdCgpIDpcbiAgICAgICAgaW5kZXggPT09IHRoaXMuc2l6ZSAtIDEgPyB0aGlzLnBvcCgpIDpcbiAgICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSB0aGlzLl9vcmlnaW4gPSB0aGlzLl9jYXBhY2l0eSA9IDA7XG4gICAgICAgIHRoaXMuX2xldmVsID0gU0hJRlQ7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSB0aGlzLl90YWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlMaXN0KCk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICB2YXIgdmFsdWVzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIG9sZFNpemUgPSB0aGlzLnNpemU7XG4gICAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKGxpc3QgKSB7XG4gICAgICAgIHNldExpc3RCb3VuZHMobGlzdCwgMCwgb2xkU2l6ZSArIHZhbHVlcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgdmFsdWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgIGxpc3Quc2V0KG9sZFNpemUgKyBpaSwgdmFsdWVzW2lpXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKHRoaXMsIDAsIC0xKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBhcmd1bWVudHM7XG4gICAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKGxpc3QgKSB7XG4gICAgICAgIHNldExpc3RCb3VuZHMobGlzdCwgLXZhbHVlcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgdmFsdWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgIGxpc3Quc2V0KGlpLCB2YWx1ZXNbaWldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAxKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBDb21wb3NpdGlvblxuXG4gICAgTGlzdC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbigvKi4uLml0ZXJzKi8pIHtcbiAgICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCB1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLm1lcmdlV2l0aCA9IGZ1bmN0aW9uKG1lcmdlcikge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIG1lcmdlSW50b0xpc3RXaXRoKHRoaXMsIG1lcmdlciwgaXRlcnMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5tZXJnZURlZXAgPSBmdW5jdGlvbigvKi4uLml0ZXJzKi8pIHtcbiAgICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCBkZWVwTWVyZ2VyKHVuZGVmaW5lZCksIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCBkZWVwTWVyZ2VyKG1lcmdlciksIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uKHNpemUpIHtcbiAgICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKHRoaXMsIDAsIHNpemUpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEl0ZXJhdGlvblxuXG4gICAgTGlzdC5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XG4gICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldExpc3RCb3VuZHMoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHJlc29sdmVCZWdpbihiZWdpbiwgc2l6ZSksXG4gICAgICAgIHJlc29sdmVFbmQoZW5kLCBzaXplKVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgdmFsdWVzID0gaXRlcmF0ZUxpc3QodGhpcywgcmV2ZXJzZSk7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXMoKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBET05FID9cbiAgICAgICAgICBpdGVyYXRvckRvbmUoKSA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBpbmRleCsrLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgdmFsdWVzID0gaXRlcmF0ZUxpc3QodGhpcywgcmV2ZXJzZSk7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICB3aGlsZSAoKHZhbHVlID0gdmFsdWVzKCkpICE9PSBET05FKSB7XG4gICAgICAgIGlmIChmbih2YWx1ZSwgaW5kZXgrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICghb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VMaXN0KHRoaXMuX29yaWdpbiwgdGhpcy5fY2FwYWNpdHksIHRoaXMuX2xldmVsLCB0aGlzLl9yb290LCB0aGlzLl90YWlsLCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzTGlzdChtYXliZUxpc3QpIHtcbiAgICByZXR1cm4gISEobWF5YmVMaXN0ICYmIG1heWJlTGlzdFtJU19MSVNUX1NFTlRJTkVMXSk7XG4gIH1cblxuICBMaXN0LmlzTGlzdCA9IGlzTGlzdDtcblxuICB2YXIgSVNfTElTVF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0xJU1RfX0BAJztcblxuICB2YXIgTGlzdFByb3RvdHlwZSA9IExpc3QucHJvdG90eXBlO1xuICBMaXN0UHJvdG90eXBlW0lTX0xJU1RfU0VOVElORUxdID0gdHJ1ZTtcbiAgTGlzdFByb3RvdHlwZVtERUxFVEVdID0gTGlzdFByb3RvdHlwZS5yZW1vdmU7XG4gIExpc3RQcm90b3R5cGUuc2V0SW4gPSBNYXBQcm90b3R5cGUuc2V0SW47XG4gIExpc3RQcm90b3R5cGUuZGVsZXRlSW4gPVxuICBMaXN0UHJvdG90eXBlLnJlbW92ZUluID0gTWFwUHJvdG90eXBlLnJlbW92ZUluO1xuICBMaXN0UHJvdG90eXBlLnVwZGF0ZSA9IE1hcFByb3RvdHlwZS51cGRhdGU7XG4gIExpc3RQcm90b3R5cGUudXBkYXRlSW4gPSBNYXBQcm90b3R5cGUudXBkYXRlSW47XG4gIExpc3RQcm90b3R5cGUubWVyZ2VJbiA9IE1hcFByb3RvdHlwZS5tZXJnZUluO1xuICBMaXN0UHJvdG90eXBlLm1lcmdlRGVlcEluID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcEluO1xuICBMaXN0UHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBNYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucztcbiAgTGlzdFByb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuICBMaXN0UHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuICBMaXN0UHJvdG90eXBlLndhc0FsdGVyZWQgPSBNYXBQcm90b3R5cGUud2FzQWx0ZXJlZDtcblxuXG5cbiAgICBmdW5jdGlvbiBWTm9kZShhcnJheSwgb3duZXJJRCkge1xuICAgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBzZWVtcyBsaWtlIHRoZXNlIG1ldGhvZHMgYXJlIHZlcnkgc2ltaWxhclxuXG4gICAgVk5vZGUucHJvdG90eXBlLnJlbW92ZUJlZm9yZSA9IGZ1bmN0aW9uKG93bmVySUQsIGxldmVsLCBpbmRleCkge1xuICAgICAgaWYgKGluZGV4ID09PSBsZXZlbCA/IDEgPDwgbGV2ZWwgOiAwIHx8IHRoaXMuYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG9yaWdpbkluZGV4ID0gKGluZGV4ID4+PiBsZXZlbCkgJiBNQVNLO1xuICAgICAgaWYgKG9yaWdpbkluZGV4ID49IHRoaXMuYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVk5vZGUoW10sIG93bmVySUQpO1xuICAgICAgfVxuICAgICAgdmFyIHJlbW92aW5nRmlyc3QgPSBvcmlnaW5JbmRleCA9PT0gMDtcbiAgICAgIHZhciBuZXdDaGlsZDtcbiAgICAgIGlmIChsZXZlbCA+IDApIHtcbiAgICAgICAgdmFyIG9sZENoaWxkID0gdGhpcy5hcnJheVtvcmlnaW5JbmRleF07XG4gICAgICAgIG5ld0NoaWxkID0gb2xkQ2hpbGQgJiYgb2xkQ2hpbGQucmVtb3ZlQmVmb3JlKG93bmVySUQsIGxldmVsIC0gU0hJRlQsIGluZGV4KTtcbiAgICAgICAgaWYgKG5ld0NoaWxkID09PSBvbGRDaGlsZCAmJiByZW1vdmluZ0ZpcnN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZW1vdmluZ0ZpcnN0ICYmICFuZXdDaGlsZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRhYmxlVk5vZGUodGhpcywgb3duZXJJRCk7XG4gICAgICBpZiAoIXJlbW92aW5nRmlyc3QpIHtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG9yaWdpbkluZGV4OyBpaSsrKSB7XG4gICAgICAgICAgZWRpdGFibGUuYXJyYXlbaWldID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobmV3Q2hpbGQpIHtcbiAgICAgICAgZWRpdGFibGUuYXJyYXlbb3JpZ2luSW5kZXhdID0gbmV3Q2hpbGQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWRpdGFibGU7XG4gICAgfTtcblxuICAgIFZOb2RlLnByb3RvdHlwZS5yZW1vdmVBZnRlciA9IGZ1bmN0aW9uKG93bmVySUQsIGxldmVsLCBpbmRleCkge1xuICAgICAgaWYgKGluZGV4ID09PSBsZXZlbCA/IDEgPDwgbGV2ZWwgOiAwIHx8IHRoaXMuYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIHNpemVJbmRleCA9ICgoaW5kZXggLSAxKSA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgIGlmIChzaXplSW5kZXggPj0gdGhpcy5hcnJheS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgcmVtb3ZpbmdMYXN0ID0gc2l6ZUluZGV4ID09PSB0aGlzLmFycmF5Lmxlbmd0aCAtIDE7XG4gICAgICB2YXIgbmV3Q2hpbGQ7XG4gICAgICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgICAgIHZhciBvbGRDaGlsZCA9IHRoaXMuYXJyYXlbc2l6ZUluZGV4XTtcbiAgICAgICAgbmV3Q2hpbGQgPSBvbGRDaGlsZCAmJiBvbGRDaGlsZC5yZW1vdmVBZnRlcihvd25lcklELCBsZXZlbCAtIFNISUZULCBpbmRleCk7XG4gICAgICAgIGlmIChuZXdDaGlsZCA9PT0gb2xkQ2hpbGQgJiYgcmVtb3ZpbmdMYXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZW1vdmluZ0xhc3QgJiYgIW5ld0NoaWxkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIGVkaXRhYmxlID0gZWRpdGFibGVWTm9kZSh0aGlzLCBvd25lcklEKTtcbiAgICAgIGlmICghcmVtb3ZpbmdMYXN0KSB7XG4gICAgICAgIGVkaXRhYmxlLmFycmF5LnBvcCgpO1xuICAgICAgfVxuICAgICAgaWYgKG5ld0NoaWxkKSB7XG4gICAgICAgIGVkaXRhYmxlLmFycmF5W3NpemVJbmRleF0gPSBuZXdDaGlsZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlZGl0YWJsZTtcbiAgICB9O1xuXG5cblxuICB2YXIgRE9ORSA9IHt9O1xuXG4gIGZ1bmN0aW9uIGl0ZXJhdGVMaXN0KGxpc3QsIHJldmVyc2UpIHtcbiAgICB2YXIgbGVmdCA9IGxpc3QuX29yaWdpbjtcbiAgICB2YXIgcmlnaHQgPSBsaXN0Ll9jYXBhY2l0eTtcbiAgICB2YXIgdGFpbFBvcyA9IGdldFRhaWxPZmZzZXQocmlnaHQpO1xuICAgIHZhciB0YWlsID0gbGlzdC5fdGFpbDtcblxuICAgIHJldHVybiBpdGVyYXRlTm9kZU9yTGVhZihsaXN0Ll9yb290LCBsaXN0Ll9sZXZlbCwgMCk7XG5cbiAgICBmdW5jdGlvbiBpdGVyYXRlTm9kZU9yTGVhZihub2RlLCBsZXZlbCwgb2Zmc2V0KSB7XG4gICAgICByZXR1cm4gbGV2ZWwgPT09IDAgP1xuICAgICAgICBpdGVyYXRlTGVhZihub2RlLCBvZmZzZXQpIDpcbiAgICAgICAgaXRlcmF0ZU5vZGUobm9kZSwgbGV2ZWwsIG9mZnNldCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXRlcmF0ZUxlYWYobm9kZSwgb2Zmc2V0KSB7XG4gICAgICB2YXIgYXJyYXkgPSBvZmZzZXQgPT09IHRhaWxQb3MgPyB0YWlsICYmIHRhaWwuYXJyYXkgOiBub2RlICYmIG5vZGUuYXJyYXk7XG4gICAgICB2YXIgZnJvbSA9IG9mZnNldCA+IGxlZnQgPyAwIDogbGVmdCAtIG9mZnNldDtcbiAgICAgIHZhciB0byA9IHJpZ2h0IC0gb2Zmc2V0O1xuICAgICAgaWYgKHRvID4gU0laRSkge1xuICAgICAgICB0byA9IFNJWkU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSAge1xuICAgICAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgICAgICByZXR1cm4gRE9ORTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWR4ID0gcmV2ZXJzZSA/IC0tdG8gOiBmcm9tKys7XG4gICAgICAgIHJldHVybiBhcnJheSAmJiBhcnJheVtpZHhdO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpdGVyYXRlTm9kZShub2RlLCBsZXZlbCwgb2Zmc2V0KSB7XG4gICAgICB2YXIgdmFsdWVzO1xuICAgICAgdmFyIGFycmF5ID0gbm9kZSAmJiBub2RlLmFycmF5O1xuICAgICAgdmFyIGZyb20gPSBvZmZzZXQgPiBsZWZ0ID8gMCA6IChsZWZ0IC0gb2Zmc2V0KSA+PiBsZXZlbDtcbiAgICAgIHZhciB0byA9ICgocmlnaHQgLSBvZmZzZXQpID4+IGxldmVsKSArIDE7XG4gICAgICBpZiAodG8gPiBTSVpFKSB7XG4gICAgICAgIHRvID0gU0laRTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpICB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXMoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gRE9ORSkge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZXMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgICAgICAgIHJldHVybiBET05FO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaWR4ID0gcmV2ZXJzZSA/IC0tdG8gOiBmcm9tKys7XG4gICAgICAgICAgdmFsdWVzID0gaXRlcmF0ZU5vZGVPckxlYWYoXG4gICAgICAgICAgICBhcnJheSAmJiBhcnJheVtpZHhdLCBsZXZlbCAtIFNISUZULCBvZmZzZXQgKyAoaWR4IDw8IGxldmVsKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlTGlzdChvcmlnaW4sIGNhcGFjaXR5LCBsZXZlbCwgcm9vdCwgdGFpbCwgb3duZXJJRCwgaGFzaCkge1xuICAgIHZhciBsaXN0ID0gT2JqZWN0LmNyZWF0ZShMaXN0UHJvdG90eXBlKTtcbiAgICBsaXN0LnNpemUgPSBjYXBhY2l0eSAtIG9yaWdpbjtcbiAgICBsaXN0Ll9vcmlnaW4gPSBvcmlnaW47XG4gICAgbGlzdC5fY2FwYWNpdHkgPSBjYXBhY2l0eTtcbiAgICBsaXN0Ll9sZXZlbCA9IGxldmVsO1xuICAgIGxpc3QuX3Jvb3QgPSByb290O1xuICAgIGxpc3QuX3RhaWwgPSB0YWlsO1xuICAgIGxpc3QuX19vd25lcklEID0gb3duZXJJRDtcbiAgICBsaXN0Ll9faGFzaCA9IGhhc2g7XG4gICAgbGlzdC5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIHZhciBFTVBUWV9MSVNUO1xuICBmdW5jdGlvbiBlbXB0eUxpc3QoKSB7XG4gICAgcmV0dXJuIEVNUFRZX0xJU1QgfHwgKEVNUFRZX0xJU1QgPSBtYWtlTGlzdCgwLCAwLCBTSElGVCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGlzdChsaXN0LCBpbmRleCwgdmFsdWUpIHtcbiAgICBpbmRleCA9IHdyYXBJbmRleChsaXN0LCBpbmRleCk7XG5cbiAgICBpZiAoaW5kZXggPj0gbGlzdC5zaXplIHx8IGluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuIGxpc3Qud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBpbmRleCA8IDAgP1xuICAgICAgICAgIHNldExpc3RCb3VuZHMobGlzdCwgaW5kZXgpLnNldCgwLCB2YWx1ZSkgOlxuICAgICAgICAgIHNldExpc3RCb3VuZHMobGlzdCwgMCwgaW5kZXggKyAxKS5zZXQoaW5kZXgsIHZhbHVlKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5kZXggKz0gbGlzdC5fb3JpZ2luO1xuXG4gICAgdmFyIG5ld1RhaWwgPSBsaXN0Ll90YWlsO1xuICAgIHZhciBuZXdSb290ID0gbGlzdC5fcm9vdDtcbiAgICB2YXIgZGlkQWx0ZXIgPSBNYWtlUmVmKERJRF9BTFRFUik7XG4gICAgaWYgKGluZGV4ID49IGdldFRhaWxPZmZzZXQobGlzdC5fY2FwYWNpdHkpKSB7XG4gICAgICBuZXdUYWlsID0gdXBkYXRlVk5vZGUobmV3VGFpbCwgbGlzdC5fX293bmVySUQsIDAsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdSb290ID0gdXBkYXRlVk5vZGUobmV3Um9vdCwgbGlzdC5fX293bmVySUQsIGxpc3QuX2xldmVsLCBpbmRleCwgdmFsdWUsIGRpZEFsdGVyKTtcbiAgICB9XG5cbiAgICBpZiAoIWRpZEFsdGVyLnZhbHVlKSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBpZiAobGlzdC5fX293bmVySUQpIHtcbiAgICAgIGxpc3QuX3Jvb3QgPSBuZXdSb290O1xuICAgICAgbGlzdC5fdGFpbCA9IG5ld1RhaWw7XG4gICAgICBsaXN0Ll9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIGxpc3QuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICByZXR1cm4gbWFrZUxpc3QobGlzdC5fb3JpZ2luLCBsaXN0Ll9jYXBhY2l0eSwgbGlzdC5fbGV2ZWwsIG5ld1Jvb3QsIG5ld1RhaWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVk5vZGUobm9kZSwgb3duZXJJRCwgbGV2ZWwsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpIHtcbiAgICB2YXIgaWR4ID0gKGluZGV4ID4+PiBsZXZlbCkgJiBNQVNLO1xuICAgIHZhciBub2RlSGFzID0gbm9kZSAmJiBpZHggPCBub2RlLmFycmF5Lmxlbmd0aDtcbiAgICBpZiAoIW5vZGVIYXMgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgdmFyIG5ld05vZGU7XG5cbiAgICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgICB2YXIgbG93ZXJOb2RlID0gbm9kZSAmJiBub2RlLmFycmF5W2lkeF07XG4gICAgICB2YXIgbmV3TG93ZXJOb2RlID0gdXBkYXRlVk5vZGUobG93ZXJOb2RlLCBvd25lcklELCBsZXZlbCAtIFNISUZULCBpbmRleCwgdmFsdWUsIGRpZEFsdGVyKTtcbiAgICAgIGlmIChuZXdMb3dlck5vZGUgPT09IGxvd2VyTm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICAgIG5ld05vZGUgPSBlZGl0YWJsZVZOb2RlKG5vZGUsIG93bmVySUQpO1xuICAgICAgbmV3Tm9kZS5hcnJheVtpZHhdID0gbmV3TG93ZXJOb2RlO1xuICAgICAgcmV0dXJuIG5ld05vZGU7XG4gICAgfVxuXG4gICAgaWYgKG5vZGVIYXMgJiYgbm9kZS5hcnJheVtpZHhdID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgU2V0UmVmKGRpZEFsdGVyKTtcblxuICAgIG5ld05vZGUgPSBlZGl0YWJsZVZOb2RlKG5vZGUsIG93bmVySUQpO1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGlkeCA9PT0gbmV3Tm9kZS5hcnJheS5sZW5ndGggLSAxKSB7XG4gICAgICBuZXdOb2RlLmFycmF5LnBvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdOb2RlLmFycmF5W2lkeF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld05vZGU7XG4gIH1cblxuICBmdW5jdGlvbiBlZGl0YWJsZVZOb2RlKG5vZGUsIG93bmVySUQpIHtcbiAgICBpZiAob3duZXJJRCAmJiBub2RlICYmIG93bmVySUQgPT09IG5vZGUub3duZXJJRCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVk5vZGUobm9kZSA/IG5vZGUuYXJyYXkuc2xpY2UoKSA6IFtdLCBvd25lcklEKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3ROb2RlRm9yKGxpc3QsIHJhd0luZGV4KSB7XG4gICAgaWYgKHJhd0luZGV4ID49IGdldFRhaWxPZmZzZXQobGlzdC5fY2FwYWNpdHkpKSB7XG4gICAgICByZXR1cm4gbGlzdC5fdGFpbDtcbiAgICB9XG4gICAgaWYgKHJhd0luZGV4IDwgMSA8PCAobGlzdC5fbGV2ZWwgKyBTSElGVCkpIHtcbiAgICAgIHZhciBub2RlID0gbGlzdC5fcm9vdDtcbiAgICAgIHZhciBsZXZlbCA9IGxpc3QuX2xldmVsO1xuICAgICAgd2hpbGUgKG5vZGUgJiYgbGV2ZWwgPiAwKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLmFycmF5WyhyYXdJbmRleCA+Pj4gbGV2ZWwpICYgTUFTS107XG4gICAgICAgIGxldmVsIC09IFNISUZUO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0TGlzdEJvdW5kcyhsaXN0LCBiZWdpbiwgZW5kKSB7XG4gICAgdmFyIG93bmVyID0gbGlzdC5fX293bmVySUQgfHwgbmV3IE93bmVySUQoKTtcbiAgICB2YXIgb2xkT3JpZ2luID0gbGlzdC5fb3JpZ2luO1xuICAgIHZhciBvbGRDYXBhY2l0eSA9IGxpc3QuX2NhcGFjaXR5O1xuICAgIHZhciBuZXdPcmlnaW4gPSBvbGRPcmlnaW4gKyBiZWdpbjtcbiAgICB2YXIgbmV3Q2FwYWNpdHkgPSBlbmQgPT09IHVuZGVmaW5lZCA/IG9sZENhcGFjaXR5IDogZW5kIDwgMCA/IG9sZENhcGFjaXR5ICsgZW5kIDogb2xkT3JpZ2luICsgZW5kO1xuICAgIGlmIChuZXdPcmlnaW4gPT09IG9sZE9yaWdpbiAmJiBuZXdDYXBhY2l0eSA9PT0gb2xkQ2FwYWNpdHkpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIC8vIElmIGl0J3MgZ29pbmcgdG8gZW5kIGFmdGVyIGl0IHN0YXJ0cywgaXQncyBlbXB0eS5cbiAgICBpZiAobmV3T3JpZ2luID49IG5ld0NhcGFjaXR5KSB7XG4gICAgICByZXR1cm4gbGlzdC5jbGVhcigpO1xuICAgIH1cblxuICAgIHZhciBuZXdMZXZlbCA9IGxpc3QuX2xldmVsO1xuICAgIHZhciBuZXdSb290ID0gbGlzdC5fcm9vdDtcblxuICAgIC8vIE5ldyBvcmlnaW4gbWlnaHQgbmVlZCBjcmVhdGluZyBhIGhpZ2hlciByb290LlxuICAgIHZhciBvZmZzZXRTaGlmdCA9IDA7XG4gICAgd2hpbGUgKG5ld09yaWdpbiArIG9mZnNldFNoaWZ0IDwgMCkge1xuICAgICAgbmV3Um9vdCA9IG5ldyBWTm9kZShuZXdSb290ICYmIG5ld1Jvb3QuYXJyYXkubGVuZ3RoID8gW3VuZGVmaW5lZCwgbmV3Um9vdF0gOiBbXSwgb3duZXIpO1xuICAgICAgbmV3TGV2ZWwgKz0gU0hJRlQ7XG4gICAgICBvZmZzZXRTaGlmdCArPSAxIDw8IG5ld0xldmVsO1xuICAgIH1cbiAgICBpZiAob2Zmc2V0U2hpZnQpIHtcbiAgICAgIG5ld09yaWdpbiArPSBvZmZzZXRTaGlmdDtcbiAgICAgIG9sZE9yaWdpbiArPSBvZmZzZXRTaGlmdDtcbiAgICAgIG5ld0NhcGFjaXR5ICs9IG9mZnNldFNoaWZ0O1xuICAgICAgb2xkQ2FwYWNpdHkgKz0gb2Zmc2V0U2hpZnQ7XG4gICAgfVxuXG4gICAgdmFyIG9sZFRhaWxPZmZzZXQgPSBnZXRUYWlsT2Zmc2V0KG9sZENhcGFjaXR5KTtcbiAgICB2YXIgbmV3VGFpbE9mZnNldCA9IGdldFRhaWxPZmZzZXQobmV3Q2FwYWNpdHkpO1xuXG4gICAgLy8gTmV3IHNpemUgbWlnaHQgbmVlZCBjcmVhdGluZyBhIGhpZ2hlciByb290LlxuICAgIHdoaWxlIChuZXdUYWlsT2Zmc2V0ID49IDEgPDwgKG5ld0xldmVsICsgU0hJRlQpKSB7XG4gICAgICBuZXdSb290ID0gbmV3IFZOb2RlKG5ld1Jvb3QgJiYgbmV3Um9vdC5hcnJheS5sZW5ndGggPyBbbmV3Um9vdF0gOiBbXSwgb3duZXIpO1xuICAgICAgbmV3TGV2ZWwgKz0gU0hJRlQ7XG4gICAgfVxuXG4gICAgLy8gTG9jYXRlIG9yIGNyZWF0ZSB0aGUgbmV3IHRhaWwuXG4gICAgdmFyIG9sZFRhaWwgPSBsaXN0Ll90YWlsO1xuICAgIHZhciBuZXdUYWlsID0gbmV3VGFpbE9mZnNldCA8IG9sZFRhaWxPZmZzZXQgP1xuICAgICAgbGlzdE5vZGVGb3IobGlzdCwgbmV3Q2FwYWNpdHkgLSAxKSA6XG4gICAgICBuZXdUYWlsT2Zmc2V0ID4gb2xkVGFpbE9mZnNldCA/IG5ldyBWTm9kZShbXSwgb3duZXIpIDogb2xkVGFpbDtcblxuICAgIC8vIE1lcmdlIFRhaWwgaW50byB0cmVlLlxuICAgIGlmIChvbGRUYWlsICYmIG5ld1RhaWxPZmZzZXQgPiBvbGRUYWlsT2Zmc2V0ICYmIG5ld09yaWdpbiA8IG9sZENhcGFjaXR5ICYmIG9sZFRhaWwuYXJyYXkubGVuZ3RoKSB7XG4gICAgICBuZXdSb290ID0gZWRpdGFibGVWTm9kZShuZXdSb290LCBvd25lcik7XG4gICAgICB2YXIgbm9kZSA9IG5ld1Jvb3Q7XG4gICAgICBmb3IgKHZhciBsZXZlbCA9IG5ld0xldmVsOyBsZXZlbCA+IFNISUZUOyBsZXZlbCAtPSBTSElGVCkge1xuICAgICAgICB2YXIgaWR4ID0gKG9sZFRhaWxPZmZzZXQgPj4+IGxldmVsKSAmIE1BU0s7XG4gICAgICAgIG5vZGUgPSBub2RlLmFycmF5W2lkeF0gPSBlZGl0YWJsZVZOb2RlKG5vZGUuYXJyYXlbaWR4XSwgb3duZXIpO1xuICAgICAgfVxuICAgICAgbm9kZS5hcnJheVsob2xkVGFpbE9mZnNldCA+Pj4gU0hJRlQpICYgTUFTS10gPSBvbGRUYWlsO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzaXplIGhhcyBiZWVuIHJlZHVjZWQsIHRoZXJlJ3MgYSBjaGFuY2UgdGhlIHRhaWwgbmVlZHMgdG8gYmUgdHJpbW1lZC5cbiAgICBpZiAobmV3Q2FwYWNpdHkgPCBvbGRDYXBhY2l0eSkge1xuICAgICAgbmV3VGFpbCA9IG5ld1RhaWwgJiYgbmV3VGFpbC5yZW1vdmVBZnRlcihvd25lciwgMCwgbmV3Q2FwYWNpdHkpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBuZXcgb3JpZ2luIGlzIHdpdGhpbiB0aGUgdGFpbCwgdGhlbiB3ZSBkbyBub3QgbmVlZCBhIHJvb3QuXG4gICAgaWYgKG5ld09yaWdpbiA+PSBuZXdUYWlsT2Zmc2V0KSB7XG4gICAgICBuZXdPcmlnaW4gLT0gbmV3VGFpbE9mZnNldDtcbiAgICAgIG5ld0NhcGFjaXR5IC09IG5ld1RhaWxPZmZzZXQ7XG4gICAgICBuZXdMZXZlbCA9IFNISUZUO1xuICAgICAgbmV3Um9vdCA9IG51bGw7XG4gICAgICBuZXdUYWlsID0gbmV3VGFpbCAmJiBuZXdUYWlsLnJlbW92ZUJlZm9yZShvd25lciwgMCwgbmV3T3JpZ2luKTtcblxuICAgIC8vIE90aGVyd2lzZSwgaWYgdGhlIHJvb3QgaGFzIGJlZW4gdHJpbW1lZCwgZ2FyYmFnZSBjb2xsZWN0LlxuICAgIH0gZWxzZSBpZiAobmV3T3JpZ2luID4gb2xkT3JpZ2luIHx8IG5ld1RhaWxPZmZzZXQgPCBvbGRUYWlsT2Zmc2V0KSB7XG4gICAgICBvZmZzZXRTaGlmdCA9IDA7XG5cbiAgICAgIC8vIElkZW50aWZ5IHRoZSBuZXcgdG9wIHJvb3Qgbm9kZSBvZiB0aGUgc3VidHJlZSBvZiB0aGUgb2xkIHJvb3QuXG4gICAgICB3aGlsZSAobmV3Um9vdCkge1xuICAgICAgICB2YXIgYmVnaW5JbmRleCA9IChuZXdPcmlnaW4gPj4+IG5ld0xldmVsKSAmIE1BU0s7XG4gICAgICAgIGlmIChiZWdpbkluZGV4ICE9PSAobmV3VGFpbE9mZnNldCA+Pj4gbmV3TGV2ZWwpICYgTUFTSykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiZWdpbkluZGV4KSB7XG4gICAgICAgICAgb2Zmc2V0U2hpZnQgKz0gKDEgPDwgbmV3TGV2ZWwpICogYmVnaW5JbmRleDtcbiAgICAgICAgfVxuICAgICAgICBuZXdMZXZlbCAtPSBTSElGVDtcbiAgICAgICAgbmV3Um9vdCA9IG5ld1Jvb3QuYXJyYXlbYmVnaW5JbmRleF07XG4gICAgICB9XG5cbiAgICAgIC8vIFRyaW0gdGhlIG5ldyBzaWRlcyBvZiB0aGUgbmV3IHJvb3QuXG4gICAgICBpZiAobmV3Um9vdCAmJiBuZXdPcmlnaW4gPiBvbGRPcmlnaW4pIHtcbiAgICAgICAgbmV3Um9vdCA9IG5ld1Jvb3QucmVtb3ZlQmVmb3JlKG93bmVyLCBuZXdMZXZlbCwgbmV3T3JpZ2luIC0gb2Zmc2V0U2hpZnQpO1xuICAgICAgfVxuICAgICAgaWYgKG5ld1Jvb3QgJiYgbmV3VGFpbE9mZnNldCA8IG9sZFRhaWxPZmZzZXQpIHtcbiAgICAgICAgbmV3Um9vdCA9IG5ld1Jvb3QucmVtb3ZlQWZ0ZXIob3duZXIsIG5ld0xldmVsLCBuZXdUYWlsT2Zmc2V0IC0gb2Zmc2V0U2hpZnQpO1xuICAgICAgfVxuICAgICAgaWYgKG9mZnNldFNoaWZ0KSB7XG4gICAgICAgIG5ld09yaWdpbiAtPSBvZmZzZXRTaGlmdDtcbiAgICAgICAgbmV3Q2FwYWNpdHkgLT0gb2Zmc2V0U2hpZnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxpc3QuX19vd25lcklEKSB7XG4gICAgICBsaXN0LnNpemUgPSBuZXdDYXBhY2l0eSAtIG5ld09yaWdpbjtcbiAgICAgIGxpc3QuX29yaWdpbiA9IG5ld09yaWdpbjtcbiAgICAgIGxpc3QuX2NhcGFjaXR5ID0gbmV3Q2FwYWNpdHk7XG4gICAgICBsaXN0Ll9sZXZlbCA9IG5ld0xldmVsO1xuICAgICAgbGlzdC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgICBsaXN0Ll90YWlsID0gbmV3VGFpbDtcbiAgICAgIGxpc3QuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgbGlzdC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuICAgIHJldHVybiBtYWtlTGlzdChuZXdPcmlnaW4sIG5ld0NhcGFjaXR5LCBuZXdMZXZlbCwgbmV3Um9vdCwgbmV3VGFpbCk7XG4gIH1cblxuICBmdW5jdGlvbiBtZXJnZUludG9MaXN0V2l0aChsaXN0LCBtZXJnZXIsIGl0ZXJhYmxlcykge1xuICAgIHZhciBpdGVycyA9IFtdO1xuICAgIHZhciBtYXhTaXplID0gMDtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcmFibGVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaXRlcmFibGVzW2lpXTtcbiAgICAgIHZhciBpdGVyID0gSW5kZXhlZEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgIGlmIChpdGVyLnNpemUgPiBtYXhTaXplKSB7XG4gICAgICAgIG1heFNpemUgPSBpdGVyLnNpemU7XG4gICAgICB9XG4gICAgICBpZiAoIWlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgIGl0ZXIgPSBpdGVyLm1hcChmdW5jdGlvbih2ICkge3JldHVybiBmcm9tSlModil9KTtcbiAgICAgIH1cbiAgICAgIGl0ZXJzLnB1c2goaXRlcik7XG4gICAgfVxuICAgIGlmIChtYXhTaXplID4gbGlzdC5zaXplKSB7XG4gICAgICBsaXN0ID0gbGlzdC5zZXRTaXplKG1heFNpemUpO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VJbnRvQ29sbGVjdGlvbldpdGgobGlzdCwgbWVyZ2VyLCBpdGVycyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYWlsT2Zmc2V0KHNpemUpIHtcbiAgICByZXR1cm4gc2l6ZSA8IFNJWkUgPyAwIDogKCgoc2l6ZSAtIDEpID4+PiBTSElGVCkgPDwgU0hJRlQpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoT3JkZXJlZE1hcCwgc3JjX01hcF9fTWFwKTtcblxuICAgIC8vIEBwcmFnbWEgQ29uc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBPcmRlcmVkTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5T3JkZXJlZE1hcCgpIDpcbiAgICAgICAgaXNPcmRlcmVkTWFwKHZhbHVlKSA/IHZhbHVlIDpcbiAgICAgICAgZW1wdHlPcmRlcmVkTWFwKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihtYXAgKSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBLZXllZEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbih2LCBrKSAge3JldHVybiBtYXAuc2V0KGssIHYpfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIE9yZGVyZWRNYXAub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnT3JkZXJlZE1hcCB7JywgJ30nKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGssIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLl9tYXAuZ2V0KGspO1xuICAgICAgcmV0dXJuIGluZGV4ICE9PSB1bmRlZmluZWQgPyB0aGlzLl9saXN0LmdldChpbmRleClbMV0gOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX21hcC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9saXN0LmNsZWFyKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5T3JkZXJlZE1hcCgpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrLCB2KSB7XG4gICAgICByZXR1cm4gdXBkYXRlT3JkZXJlZE1hcCh0aGlzLCBrLCB2KTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaykge1xuICAgICAgcmV0dXJuIHVwZGF0ZU9yZGVyZWRNYXAodGhpcywgaywgTk9UX1NFVCk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAud2FzQWx0ZXJlZCgpIHx8IHRoaXMuX2xpc3Qud2FzQWx0ZXJlZCgpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMuX2xpc3QuX19pdGVyYXRlKFxuICAgICAgICBmdW5jdGlvbihlbnRyeSApIHtyZXR1cm4gZW50cnkgJiYgZm4oZW50cnlbMV0sIGVudHJ5WzBdLCB0aGlzJDApfSxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9saXN0LmZyb21FbnRyeVNlcSgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgICB2YXIgbmV3TGlzdCA9IHRoaXMuX2xpc3QuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICAgIGlmICghb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ld01hcDtcbiAgICAgICAgdGhpcy5fbGlzdCA9IG5ld0xpc3Q7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VPcmRlcmVkTWFwKG5ld01hcCwgbmV3TGlzdCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc09yZGVyZWRNYXAobWF5YmVPcmRlcmVkTWFwKSB7XG4gICAgcmV0dXJuIGlzTWFwKG1heWJlT3JkZXJlZE1hcCkgJiYgaXNPcmRlcmVkKG1heWJlT3JkZXJlZE1hcCk7XG4gIH1cblxuICBPcmRlcmVkTWFwLmlzT3JkZXJlZE1hcCA9IGlzT3JkZXJlZE1hcDtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG4gIE9yZGVyZWRNYXAucHJvdG90eXBlW0RFTEVURV0gPSBPcmRlcmVkTWFwLnByb3RvdHlwZS5yZW1vdmU7XG5cblxuXG4gIGZ1bmN0aW9uIG1ha2VPcmRlcmVkTWFwKG1hcCwgbGlzdCwgb3duZXJJRCwgaGFzaCkge1xuICAgIHZhciBvbWFwID0gT2JqZWN0LmNyZWF0ZShPcmRlcmVkTWFwLnByb3RvdHlwZSk7XG4gICAgb21hcC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICAgIG9tYXAuX21hcCA9IG1hcDtcbiAgICBvbWFwLl9saXN0ID0gbGlzdDtcbiAgICBvbWFwLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgb21hcC5fX2hhc2ggPSBoYXNoO1xuICAgIHJldHVybiBvbWFwO1xuICB9XG5cbiAgdmFyIEVNUFRZX09SREVSRURfTUFQO1xuICBmdW5jdGlvbiBlbXB0eU9yZGVyZWRNYXAoKSB7XG4gICAgcmV0dXJuIEVNUFRZX09SREVSRURfTUFQIHx8IChFTVBUWV9PUkRFUkVEX01BUCA9IG1ha2VPcmRlcmVkTWFwKGVtcHR5TWFwKCksIGVtcHR5TGlzdCgpKSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVPcmRlcmVkTWFwKG9tYXAsIGssIHYpIHtcbiAgICB2YXIgbWFwID0gb21hcC5fbWFwO1xuICAgIHZhciBsaXN0ID0gb21hcC5fbGlzdDtcbiAgICB2YXIgaSA9IG1hcC5nZXQoayk7XG4gICAgdmFyIGhhcyA9IGkgIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgbmV3TWFwO1xuICAgIHZhciBuZXdMaXN0O1xuICAgIGlmICh2ID09PSBOT1RfU0VUKSB7IC8vIHJlbW92ZWRcbiAgICAgIGlmICghaGFzKSB7XG4gICAgICAgIHJldHVybiBvbWFwO1xuICAgICAgfVxuICAgICAgaWYgKGxpc3Quc2l6ZSA+PSBTSVpFICYmIGxpc3Quc2l6ZSA+PSBtYXAuc2l6ZSAqIDIpIHtcbiAgICAgICAgbmV3TGlzdCA9IGxpc3QuZmlsdGVyKGZ1bmN0aW9uKGVudHJ5LCBpZHgpICB7cmV0dXJuIGVudHJ5ICE9PSB1bmRlZmluZWQgJiYgaSAhPT0gaWR4fSk7XG4gICAgICAgIG5ld01hcCA9IG5ld0xpc3QudG9LZXllZFNlcSgpLm1hcChmdW5jdGlvbihlbnRyeSApIHtyZXR1cm4gZW50cnlbMF19KS5mbGlwKCkudG9NYXAoKTtcbiAgICAgICAgaWYgKG9tYXAuX19vd25lcklEKSB7XG4gICAgICAgICAgbmV3TWFwLl9fb3duZXJJRCA9IG5ld0xpc3QuX19vd25lcklEID0gb21hcC5fX293bmVySUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld01hcCA9IG1hcC5yZW1vdmUoayk7XG4gICAgICAgIG5ld0xpc3QgPSBpID09PSBsaXN0LnNpemUgLSAxID8gbGlzdC5wb3AoKSA6IGxpc3Quc2V0KGksIHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChoYXMpIHtcbiAgICAgICAgaWYgKHYgPT09IGxpc3QuZ2V0KGkpWzFdKSB7XG4gICAgICAgICAgcmV0dXJuIG9tYXA7XG4gICAgICAgIH1cbiAgICAgICAgbmV3TWFwID0gbWFwO1xuICAgICAgICBuZXdMaXN0ID0gbGlzdC5zZXQoaSwgW2ssIHZdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld01hcCA9IG1hcC5zZXQoaywgbGlzdC5zaXplKTtcbiAgICAgICAgbmV3TGlzdCA9IGxpc3Quc2V0KGxpc3Quc2l6ZSwgW2ssIHZdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9tYXAuX19vd25lcklEKSB7XG4gICAgICBvbWFwLnNpemUgPSBuZXdNYXAuc2l6ZTtcbiAgICAgIG9tYXAuX21hcCA9IG5ld01hcDtcbiAgICAgIG9tYXAuX2xpc3QgPSBuZXdMaXN0O1xuICAgICAgb21hcC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb21hcDtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VPcmRlcmVkTWFwKG5ld01hcCwgbmV3TGlzdCk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhTdGFjaywgSW5kZXhlZENvbGxlY3Rpb24pO1xuXG4gICAgLy8gQHByYWdtYSBDb25zdHJ1Y3Rpb25cblxuICAgIGZ1bmN0aW9uIFN0YWNrKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5U3RhY2soKSA6XG4gICAgICAgIGlzU3RhY2sodmFsdWUpID8gdmFsdWUgOlxuICAgICAgICBlbXB0eVN0YWNrKCkudW5zaGlmdEFsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgU3RhY2sub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1N0YWNrIFsnLCAnXScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgU3RhY2sucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgICAgd2hpbGUgKGhlYWQgJiYgaW5kZXgtLSkge1xuICAgICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhlYWQgPyBoZWFkLnZhbHVlIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGVhZCAmJiB0aGlzLl9oZWFkLnZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gICAgU3RhY2sucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdTaXplID0gdGhpcy5zaXplICsgYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICAgIGZvciAodmFyIGlpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGlpID49IDA7IGlpLS0pIHtcbiAgICAgICAgaGVhZCA9IHtcbiAgICAgICAgICB2YWx1ZTogYXJndW1lbnRzW2lpXSxcbiAgICAgICAgICBuZXh0OiBoZWFkXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gbmV3U2l6ZTtcbiAgICAgICAgdGhpcy5faGVhZCA9IGhlYWQ7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VTdGFjayhuZXdTaXplLCBoZWFkKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnB1c2hBbGwgPSBmdW5jdGlvbihpdGVyKSB7XG4gICAgICBpdGVyID0gSW5kZXhlZEl0ZXJhYmxlKGl0ZXIpO1xuICAgICAgaWYgKGl0ZXIuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICAgIGl0ZXIucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24odmFsdWUgKSB7XG4gICAgICAgIG5ld1NpemUrKztcbiAgICAgICAgaGVhZCA9IHtcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgbmV4dDogaGVhZFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gbmV3U2l6ZTtcbiAgICAgICAgdGhpcy5faGVhZCA9IGhlYWQ7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VTdGFjayhuZXdTaXplLCBoZWFkKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoMSk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIHRoaXMucHVzaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUudW5zaGlmdEFsbCA9IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLnB1c2hBbGwoaXRlcik7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucG9wLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLl9oZWFkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbXB0eVN0YWNrKCk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcbiAgICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHRoaXMuc2l6ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgcmVzb2x2ZWRCZWdpbiA9IHJlc29sdmVCZWdpbihiZWdpbiwgdGhpcy5zaXplKTtcbiAgICAgIHZhciByZXNvbHZlZEVuZCA9IHJlc29sdmVFbmQoZW5kLCB0aGlzLnNpemUpO1xuICAgICAgaWYgKHJlc29sdmVkRW5kICE9PSB0aGlzLnNpemUpIHtcbiAgICAgICAgLy8gc3VwZXIuc2xpY2UoYmVnaW4sIGVuZCk7XG4gICAgICAgIHJldHVybiBJbmRleGVkQ29sbGVjdGlvbi5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLCBiZWdpbiwgZW5kKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdTaXplID0gdGhpcy5zaXplIC0gcmVzb2x2ZWRCZWdpbjtcbiAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICAgIHdoaWxlIChyZXNvbHZlZEJlZ2luLS0pIHtcbiAgICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE11dGFiaWxpdHlcblxuICAgIFN0YWNrLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24ob3duZXJJRCkge1xuICAgICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKCFvd25lcklEKSB7XG4gICAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVN0YWNrKHRoaXMuc2l6ZSwgdGhpcy5faGVhZCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEl0ZXJhdGlvblxuXG4gICAgU3RhY2sucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuX19pdGVyYXRlKGZuKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChmbihub2RlLnZhbHVlLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuX19pdGVyYXRvcih0eXBlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gbm9kZS52YWx1ZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc1N0YWNrKG1heWJlU3RhY2spIHtcbiAgICByZXR1cm4gISEobWF5YmVTdGFjayAmJiBtYXliZVN0YWNrW0lTX1NUQUNLX1NFTlRJTkVMXSk7XG4gIH1cblxuICBTdGFjay5pc1N0YWNrID0gaXNTdGFjaztcblxuICB2YXIgSVNfU1RBQ0tfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9TVEFDS19fQEAnO1xuXG4gIHZhciBTdGFja1Byb3RvdHlwZSA9IFN0YWNrLnByb3RvdHlwZTtcbiAgU3RhY2tQcm90b3R5cGVbSVNfU1RBQ0tfU0VOVElORUxdID0gdHJ1ZTtcbiAgU3RhY2tQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuICBTdGFja1Byb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuICBTdGFja1Byb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcbiAgU3RhY2tQcm90b3R5cGUud2FzQWx0ZXJlZCA9IE1hcFByb3RvdHlwZS53YXNBbHRlcmVkO1xuXG5cbiAgZnVuY3Rpb24gbWFrZVN0YWNrKHNpemUsIGhlYWQsIG93bmVySUQsIGhhc2gpIHtcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShTdGFja1Byb3RvdHlwZSk7XG4gICAgbWFwLnNpemUgPSBzaXplO1xuICAgIG1hcC5faGVhZCA9IGhlYWQ7XG4gICAgbWFwLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgbWFwLl9faGFzaCA9IGhhc2g7XG4gICAgbWFwLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgIHJldHVybiBtYXA7XG4gIH1cblxuICB2YXIgRU1QVFlfU1RBQ0s7XG4gIGZ1bmN0aW9uIGVtcHR5U3RhY2soKSB7XG4gICAgcmV0dXJuIEVNUFRZX1NUQUNLIHx8IChFTVBUWV9TVEFDSyA9IG1ha2VTdGFjaygwKSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhzcmNfU2V0X19TZXQsIFNldENvbGxlY3Rpb24pO1xuXG4gICAgLy8gQHByYWdtYSBDb25zdHJ1Y3Rpb25cblxuICAgIGZ1bmN0aW9uIHNyY19TZXRfX1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eVNldCgpIDpcbiAgICAgICAgaXNTZXQodmFsdWUpID8gdmFsdWUgOlxuICAgICAgICBlbXB0eVNldCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oc2V0ICkge1xuICAgICAgICAgIHZhciBpdGVyID0gU2V0SXRlcmFibGUodmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIHNldC5hZGQodil9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3JjX1NldF9fU2V0Lm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LmZyb21LZXlzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzKEtleWVkSXRlcmFibGUodmFsdWUpLmtleVNlcSgpKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU2V0IHsnLCAnfScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC5oYXModmFsdWUpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHVwZGF0ZVNldCh0aGlzLCB0aGlzLl9tYXAuc2V0KHZhbHVlLCB0cnVlKSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLnJlbW92ZSh2YWx1ZSkpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5jbGVhcigpKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBDb21wb3NpdGlvblxuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS51bmlvbiA9IGZ1bmN0aW9uKCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgaXRlcnMgPSBpdGVycy5maWx0ZXIoZnVuY3Rpb24oeCApIHtyZXR1cm4geC5zaXplICE9PSAwfSk7XG4gICAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCAmJiAhdGhpcy5fX293bmVySUQgJiYgaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKGl0ZXJzWzBdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oc2V0ICkge1xuICAgICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgU2V0SXRlcmFibGUoaXRlcnNbaWldKS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBzZXQuYWRkKHZhbHVlKX0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5pbnRlcnNlY3QgPSBmdW5jdGlvbigpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpdGVycyA9IGl0ZXJzLm1hcChmdW5jdGlvbihpdGVyICkge3JldHVybiBTZXRJdGVyYWJsZShpdGVyKX0pO1xuICAgICAgdmFyIG9yaWdpbmFsU2V0ID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oc2V0ICkge1xuICAgICAgICBvcmlnaW5hbFNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlICkge1xuICAgICAgICAgIGlmICghaXRlcnMuZXZlcnkoZnVuY3Rpb24oaXRlciApIHtyZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSl9KSkge1xuICAgICAgICAgICAgc2V0LnJlbW92ZSh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLnN1YnRyYWN0ID0gZnVuY3Rpb24oKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaXRlcnMgPSBpdGVycy5tYXAoZnVuY3Rpb24oaXRlciApIHtyZXR1cm4gU2V0SXRlcmFibGUoaXRlcil9KTtcbiAgICAgIHZhciBvcmlnaW5hbFNldCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHNldCApIHtcbiAgICAgICAgb3JpZ2luYWxTZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSApIHtcbiAgICAgICAgICBpZiAoaXRlcnMuc29tZShmdW5jdGlvbihpdGVyICkge3JldHVybiBpdGVyLmluY2x1ZGVzKHZhbHVlKX0pKSB7XG4gICAgICAgICAgICBzZXQucmVtb3ZlKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnVuaW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUubWVyZ2VXaXRoID0gZnVuY3Rpb24obWVyZ2VyKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gdGhpcy51bmlvbi5hcHBseSh0aGlzLCBpdGVycyk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uKGNvbXBhcmF0b3IpIHtcbiAgICAgIC8vIExhdGUgYmluZGluZ1xuICAgICAgcmV0dXJuIE9yZGVyZWRTZXQoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvcikpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgICByZXR1cm4gT3JkZXJlZFNldChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC5fX2l0ZXJhdGUoZnVuY3Rpb24oXywgaykgIHtyZXR1cm4gZm4oaywgaywgdGhpcyQwKX0sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLm1hcChmdW5jdGlvbihfLCBrKSAge3JldHVybiBrfSkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24ob3duZXJJRCkge1xuICAgICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgICAgaWYgKCFvd25lcklEKSB7XG4gICAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9fbWFrZShuZXdNYXAsIG93bmVySUQpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc1NldChtYXliZVNldCkge1xuICAgIHJldHVybiAhIShtYXliZVNldCAmJiBtYXliZVNldFtJU19TRVRfU0VOVElORUxdKTtcbiAgfVxuXG4gIHNyY19TZXRfX1NldC5pc1NldCA9IGlzU2V0O1xuXG4gIHZhciBJU19TRVRfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9TRVRfX0BAJztcblxuICB2YXIgU2V0UHJvdG90eXBlID0gc3JjX1NldF9fU2V0LnByb3RvdHlwZTtcbiAgU2V0UHJvdG90eXBlW0lTX1NFVF9TRU5USU5FTF0gPSB0cnVlO1xuICBTZXRQcm90b3R5cGVbREVMRVRFXSA9IFNldFByb3RvdHlwZS5yZW1vdmU7XG4gIFNldFByb3RvdHlwZS5tZXJnZURlZXAgPSBTZXRQcm90b3R5cGUubWVyZ2U7XG4gIFNldFByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gU2V0UHJvdG90eXBlLm1lcmdlV2l0aDtcbiAgU2V0UHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBNYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucztcbiAgU2V0UHJvdG90eXBlLmFzTXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc011dGFibGU7XG4gIFNldFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcblxuICBTZXRQcm90b3R5cGUuX19lbXB0eSA9IGVtcHR5U2V0O1xuICBTZXRQcm90b3R5cGUuX19tYWtlID0gbWFrZVNldDtcblxuICBmdW5jdGlvbiB1cGRhdGVTZXQoc2V0LCBuZXdNYXApIHtcbiAgICBpZiAoc2V0Ll9fb3duZXJJRCkge1xuICAgICAgc2V0LnNpemUgPSBuZXdNYXAuc2l6ZTtcbiAgICAgIHNldC5fbWFwID0gbmV3TWFwO1xuICAgICAgcmV0dXJuIHNldDtcbiAgICB9XG4gICAgcmV0dXJuIG5ld01hcCA9PT0gc2V0Ll9tYXAgPyBzZXQgOlxuICAgICAgbmV3TWFwLnNpemUgPT09IDAgPyBzZXQuX19lbXB0eSgpIDpcbiAgICAgIHNldC5fX21ha2UobmV3TWFwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VTZXQobWFwLCBvd25lcklEKSB7XG4gICAgdmFyIHNldCA9IE9iamVjdC5jcmVhdGUoU2V0UHJvdG90eXBlKTtcbiAgICBzZXQuc2l6ZSA9IG1hcCA/IG1hcC5zaXplIDogMDtcbiAgICBzZXQuX21hcCA9IG1hcDtcbiAgICBzZXQuX19vd25lcklEID0gb3duZXJJRDtcbiAgICByZXR1cm4gc2V0O1xuICB9XG5cbiAgdmFyIEVNUFRZX1NFVDtcbiAgZnVuY3Rpb24gZW1wdHlTZXQoKSB7XG4gICAgcmV0dXJuIEVNUFRZX1NFVCB8fCAoRU1QVFlfU0VUID0gbWFrZVNldChlbXB0eU1hcCgpKSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhPcmRlcmVkU2V0LCBzcmNfU2V0X19TZXQpO1xuXG4gICAgLy8gQHByYWdtYSBDb25zdHJ1Y3Rpb25cblxuICAgIGZ1bmN0aW9uIE9yZGVyZWRTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlPcmRlcmVkU2V0KCkgOlxuICAgICAgICBpc09yZGVyZWRTZXQodmFsdWUpID8gdmFsdWUgOlxuICAgICAgICBlbXB0eU9yZGVyZWRTZXQoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHNldCApIHtcbiAgICAgICAgICB2YXIgaXRlciA9IFNldEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbih2ICkge3JldHVybiBzZXQuYWRkKHYpfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIE9yZGVyZWRTZXQub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkU2V0LmZyb21LZXlzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzKEtleWVkSXRlcmFibGUodmFsdWUpLmtleVNlcSgpKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZFNldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ09yZGVyZWRTZXQgeycsICd9Jyk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzT3JkZXJlZFNldChtYXliZU9yZGVyZWRTZXQpIHtcbiAgICByZXR1cm4gaXNTZXQobWF5YmVPcmRlcmVkU2V0KSAmJiBpc09yZGVyZWQobWF5YmVPcmRlcmVkU2V0KTtcbiAgfVxuXG4gIE9yZGVyZWRTZXQuaXNPcmRlcmVkU2V0ID0gaXNPcmRlcmVkU2V0O1xuXG4gIHZhciBPcmRlcmVkU2V0UHJvdG90eXBlID0gT3JkZXJlZFNldC5wcm90b3R5cGU7XG4gIE9yZGVyZWRTZXRQcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuXG4gIE9yZGVyZWRTZXRQcm90b3R5cGUuX19lbXB0eSA9IGVtcHR5T3JkZXJlZFNldDtcbiAgT3JkZXJlZFNldFByb3RvdHlwZS5fX21ha2UgPSBtYWtlT3JkZXJlZFNldDtcblxuICBmdW5jdGlvbiBtYWtlT3JkZXJlZFNldChtYXAsIG93bmVySUQpIHtcbiAgICB2YXIgc2V0ID0gT2JqZWN0LmNyZWF0ZShPcmRlcmVkU2V0UHJvdG90eXBlKTtcbiAgICBzZXQuc2l6ZSA9IG1hcCA/IG1hcC5zaXplIDogMDtcbiAgICBzZXQuX21hcCA9IG1hcDtcbiAgICBzZXQuX19vd25lcklEID0gb3duZXJJRDtcbiAgICByZXR1cm4gc2V0O1xuICB9XG5cbiAgdmFyIEVNUFRZX09SREVSRURfU0VUO1xuICBmdW5jdGlvbiBlbXB0eU9yZGVyZWRTZXQoKSB7XG4gICAgcmV0dXJuIEVNUFRZX09SREVSRURfU0VUIHx8IChFTVBUWV9PUkRFUkVEX1NFVCA9IG1ha2VPcmRlcmVkU2V0KGVtcHR5T3JkZXJlZE1hcCgpKSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhSZWNvcmQsIEtleWVkQ29sbGVjdGlvbik7XG5cbiAgICBmdW5jdGlvbiBSZWNvcmQoZGVmYXVsdFZhbHVlcywgbmFtZSkge1xuICAgICAgdmFyIGhhc0luaXRpYWxpemVkO1xuXG4gICAgICB2YXIgUmVjb3JkVHlwZSA9IGZ1bmN0aW9uIFJlY29yZCh2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFJlY29yZFR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWNvcmRUeXBlKSkge1xuICAgICAgICAgIHJldHVybiBuZXcgUmVjb3JkVHlwZSh2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICBoYXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkZWZhdWx0VmFsdWVzKTtcbiAgICAgICAgICBzZXRQcm9wcyhSZWNvcmRUeXBlUHJvdG90eXBlLCBrZXlzKTtcbiAgICAgICAgICBSZWNvcmRUeXBlUHJvdG90eXBlLnNpemUgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgICBSZWNvcmRUeXBlUHJvdG90eXBlLl9uYW1lID0gbmFtZTtcbiAgICAgICAgICBSZWNvcmRUeXBlUHJvdG90eXBlLl9rZXlzID0ga2V5cztcbiAgICAgICAgICBSZWNvcmRUeXBlUHJvdG90eXBlLl9kZWZhdWx0VmFsdWVzID0gZGVmYXVsdFZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXAgPSBzcmNfTWFwX19NYXAodmFsdWVzKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBSZWNvcmRUeXBlUHJvdG90eXBlID0gUmVjb3JkVHlwZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJlY29yZFByb3RvdHlwZSk7XG4gICAgICBSZWNvcmRUeXBlUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVjb3JkVHlwZTtcblxuICAgICAgcmV0dXJuIFJlY29yZFR5cGU7XG4gICAgfVxuXG4gICAgUmVjb3JkLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZyhyZWNvcmROYW1lKHRoaXMpICsgJyB7JywgJ30nKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICAgIFJlY29yZC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oaykge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRWYWx1ZXMuaGFzT3duUHJvcGVydHkoayk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaywgbm90U2V0VmFsdWUpIHtcbiAgICAgIGlmICghdGhpcy5oYXMoaykpIHtcbiAgICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGRlZmF1bHRWYWwgPSB0aGlzLl9kZWZhdWx0VmFsdWVzW2tdO1xuICAgICAgcmV0dXJuIHRoaXMuX21hcCA/IHRoaXMuX21hcC5nZXQoaywgZGVmYXVsdFZhbCkgOiBkZWZhdWx0VmFsO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuX21hcCAmJiB0aGlzLl9tYXAuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgUmVjb3JkVHlwZSA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gUmVjb3JkVHlwZS5fZW1wdHkgfHwgKFJlY29yZFR5cGUuX2VtcHR5ID0gbWFrZVJlY29yZCh0aGlzLCBlbXB0eU1hcCgpKSk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oaywgdikge1xuICAgICAgaWYgKCF0aGlzLmhhcyhrKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzZXQgdW5rbm93biBrZXkgXCInICsgayArICdcIiBvbiAnICsgcmVjb3JkTmFtZSh0aGlzKSk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwICYmIHRoaXMuX21hcC5zZXQoaywgdik7XG4gICAgICBpZiAodGhpcy5fX293bmVySUQgfHwgbmV3TWFwID09PSB0aGlzLl9tYXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVJlY29yZCh0aGlzLCBuZXdNYXApO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGspIHtcbiAgICAgIGlmICghdGhpcy5oYXMoaykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwICYmIHRoaXMuX21hcC5yZW1vdmUoayk7XG4gICAgICBpZiAodGhpcy5fX293bmVySUQgfHwgbmV3TWFwID09PSB0aGlzLl9tYXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVJlY29yZCh0aGlzLCBuZXdNYXApO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAud2FzQWx0ZXJlZCgpO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gS2V5ZWRJdGVyYWJsZSh0aGlzLl9kZWZhdWx0VmFsdWVzKS5tYXAoZnVuY3Rpb24oXywgaykgIHtyZXR1cm4gdGhpcyQwLmdldChrKX0pLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBLZXllZEl0ZXJhYmxlKHRoaXMuX2RlZmF1bHRWYWx1ZXMpLm1hcChmdW5jdGlvbihfLCBrKSAge3JldHVybiB0aGlzJDAuZ2V0KGspfSkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24ob3duZXJJRCkge1xuICAgICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcCAmJiB0aGlzLl9tYXAuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICAgIGlmICghb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ld01hcDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVJlY29yZCh0aGlzLCBuZXdNYXAsIG93bmVySUQpO1xuICAgIH07XG5cblxuICB2YXIgUmVjb3JkUHJvdG90eXBlID0gUmVjb3JkLnByb3RvdHlwZTtcbiAgUmVjb3JkUHJvdG90eXBlW0RFTEVURV0gPSBSZWNvcmRQcm90b3R5cGUucmVtb3ZlO1xuICBSZWNvcmRQcm90b3R5cGUuZGVsZXRlSW4gPVxuICBSZWNvcmRQcm90b3R5cGUucmVtb3ZlSW4gPSBNYXBQcm90b3R5cGUucmVtb3ZlSW47XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZSA9IE1hcFByb3RvdHlwZS5tZXJnZTtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlV2l0aCA9IE1hcFByb3RvdHlwZS5tZXJnZVdpdGg7XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZUluID0gTWFwUHJvdG90eXBlLm1lcmdlSW47XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZURlZXAgPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBXaXRoO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwSW47XG4gIFJlY29yZFByb3RvdHlwZS5zZXRJbiA9IE1hcFByb3RvdHlwZS5zZXRJbjtcbiAgUmVjb3JkUHJvdG90eXBlLnVwZGF0ZSA9IE1hcFByb3RvdHlwZS51cGRhdGU7XG4gIFJlY29yZFByb3RvdHlwZS51cGRhdGVJbiA9IE1hcFByb3RvdHlwZS51cGRhdGVJbjtcbiAgUmVjb3JkUHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBNYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucztcbiAgUmVjb3JkUHJvdG90eXBlLmFzTXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc011dGFibGU7XG4gIFJlY29yZFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcblxuXG4gIGZ1bmN0aW9uIG1ha2VSZWNvcmQobGlrZVJlY29yZCwgbWFwLCBvd25lcklEKSB7XG4gICAgdmFyIHJlY29yZCA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGxpa2VSZWNvcmQpKTtcbiAgICByZWNvcmQuX21hcCA9IG1hcDtcbiAgICByZWNvcmQuX19vd25lcklEID0gb3duZXJJRDtcbiAgICByZXR1cm4gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb3JkTmFtZShyZWNvcmQpIHtcbiAgICByZXR1cm4gcmVjb3JkLl9uYW1lIHx8IHJlY29yZC5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdSZWNvcmQnO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0UHJvcHMocHJvdG90eXBlLCBuYW1lcykge1xuICAgIHRyeSB7XG4gICAgICBuYW1lcy5mb3JFYWNoKHNldFByb3AuYmluZCh1bmRlZmluZWQsIHByb3RvdHlwZSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydHkgZmFpbGVkLiBQcm9iYWJseSBJRTguXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0UHJvcChwcm90b3R5cGUsIG5hbWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCBuYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQobmFtZSk7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpbnZhcmlhbnQodGhpcy5fX293bmVySUQsICdDYW5ub3Qgc2V0IG9uIGFuIGltbXV0YWJsZSByZWNvcmQuJyk7XG4gICAgICAgIHRoaXMuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiKSB7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICFpc0l0ZXJhYmxlKGIpIHx8XG4gICAgICBhLnNpemUgIT09IHVuZGVmaW5lZCAmJiBiLnNpemUgIT09IHVuZGVmaW5lZCAmJiBhLnNpemUgIT09IGIuc2l6ZSB8fFxuICAgICAgYS5fX2hhc2ggIT09IHVuZGVmaW5lZCAmJiBiLl9faGFzaCAhPT0gdW5kZWZpbmVkICYmIGEuX19oYXNoICE9PSBiLl9faGFzaCB8fFxuICAgICAgaXNLZXllZChhKSAhPT0gaXNLZXllZChiKSB8fFxuICAgICAgaXNJbmRleGVkKGEpICE9PSBpc0luZGV4ZWQoYikgfHxcbiAgICAgIGlzT3JkZXJlZChhKSAhPT0gaXNPcmRlcmVkKGIpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGEuc2l6ZSA9PT0gMCAmJiBiLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBub3RBc3NvY2lhdGl2ZSA9ICFpc0Fzc29jaWF0aXZlKGEpO1xuXG4gICAgaWYgKGlzT3JkZXJlZChhKSkge1xuICAgICAgdmFyIGVudHJpZXMgPSBhLmVudHJpZXMoKTtcbiAgICAgIHJldHVybiBiLmV2ZXJ5KGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXMubmV4dCgpLnZhbHVlO1xuICAgICAgICByZXR1cm4gZW50cnkgJiYgaXMoZW50cnlbMV0sIHYpICYmIChub3RBc3NvY2lhdGl2ZSB8fCBpcyhlbnRyeVswXSwgaykpO1xuICAgICAgfSkgJiYgZW50cmllcy5uZXh0KCkuZG9uZTtcbiAgICB9XG5cbiAgICB2YXIgZmxpcHBlZCA9IGZhbHNlO1xuXG4gICAgaWYgKGEuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoYi5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhLmNhY2hlUmVzdWx0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgYS5jYWNoZVJlc3VsdCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbGlwcGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIF8gPSBhO1xuICAgICAgICBhID0gYjtcbiAgICAgICAgYiA9IF87XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFsbEVxdWFsID0gdHJ1ZTtcbiAgICB2YXIgYlNpemUgPSBiLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgaWYgKG5vdEFzc29jaWF0aXZlID8gIWEuaGFzKHYpIDpcbiAgICAgICAgICBmbGlwcGVkID8gIWlzKHYsIGEuZ2V0KGssIE5PVF9TRVQpKSA6ICFpcyhhLmdldChrLCBOT1RfU0VUKSwgdikpIHtcbiAgICAgICAgYWxsRXF1YWwgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFsbEVxdWFsICYmIGEuc2l6ZSA9PT0gYlNpemU7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhSYW5nZSwgSW5kZXhlZFNlcSk7XG5cbiAgICBmdW5jdGlvbiBSYW5nZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmFuZ2UpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCk7XG4gICAgICB9XG4gICAgICBpbnZhcmlhbnQoc3RlcCAhPT0gMCwgJ0Nhbm5vdCBzdGVwIGEgUmFuZ2UgYnkgMCcpO1xuICAgICAgc3RhcnQgPSBzdGFydCB8fCAwO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IEluZmluaXR5O1xuICAgICAgfVxuICAgICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IDEgOiBNYXRoLmFicyhzdGVwKTtcbiAgICAgIGlmIChlbmQgPCBzdGFydCkge1xuICAgICAgICBzdGVwID0gLXN0ZXA7XG4gICAgICB9XG4gICAgICB0aGlzLl9zdGFydCA9IHN0YXJ0O1xuICAgICAgdGhpcy5fZW5kID0gZW5kO1xuICAgICAgdGhpcy5fc3RlcCA9IHN0ZXA7XG4gICAgICB0aGlzLnNpemUgPSBNYXRoLm1heCgwLCBNYXRoLmNlaWwoKGVuZCAtIHN0YXJ0KSAvIHN0ZXAgLSAxKSArIDEpO1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBpZiAoRU1QVFlfUkFOR0UpIHtcbiAgICAgICAgICByZXR1cm4gRU1QVFlfUkFOR0U7XG4gICAgICAgIH1cbiAgICAgICAgRU1QVFlfUkFOR0UgPSB0aGlzO1xuICAgICAgfVxuICAgIH1cblxuICAgIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJ1JhbmdlIFtdJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnUmFuZ2UgWyAnICtcbiAgICAgICAgdGhpcy5fc3RhcnQgKyAnLi4uJyArIHRoaXMuX2VuZCArXG4gICAgICAgICh0aGlzLl9zdGVwID4gMSA/ICcgYnkgJyArIHRoaXMuX3N0ZXAgOiAnJykgK1xuICAgICAgJyBdJztcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzKGluZGV4KSA/XG4gICAgICAgIHRoaXMuX3N0YXJ0ICsgd3JhcEluZGV4KHRoaXMsIGluZGV4KSAqIHRoaXMuX3N0ZXAgOlxuICAgICAgICBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHZhciBwb3NzaWJsZUluZGV4ID0gKHNlYXJjaFZhbHVlIC0gdGhpcy5fc3RhcnQpIC8gdGhpcy5fc3RlcDtcbiAgICAgIHJldHVybiBwb3NzaWJsZUluZGV4ID49IDAgJiZcbiAgICAgICAgcG9zc2libGVJbmRleCA8IHRoaXMuc2l6ZSAmJlxuICAgICAgICBwb3NzaWJsZUluZGV4ID09PSBNYXRoLmZsb29yKHBvc3NpYmxlSW5kZXgpO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XG4gICAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCB0aGlzLnNpemUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgYmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIHRoaXMuc2l6ZSk7XG4gICAgICBlbmQgPSByZXNvbHZlRW5kKGVuZCwgdGhpcy5zaXplKTtcbiAgICAgIGlmIChlbmQgPD0gYmVnaW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSgwLCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5nZXQoYmVnaW4sIHRoaXMuX2VuZCksIHRoaXMuZ2V0KGVuZCwgdGhpcy5fZW5kKSwgdGhpcy5fc3RlcCk7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHZhciBvZmZzZXRWYWx1ZSA9IHNlYXJjaFZhbHVlIC0gdGhpcy5fc3RhcnQ7XG4gICAgICBpZiAob2Zmc2V0VmFsdWUgJSB0aGlzLl9zdGVwID09PSAwKSB7XG4gICAgICAgIHZhciBpbmRleCA9IG9mZnNldFZhbHVlIC8gdGhpcy5fc3RlcDtcbiAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLnNpemUpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXhcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihzZWFyY2hWYWx1ZSk7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgdmFyIG1heEluZGV4ID0gdGhpcy5zaXplIC0gMTtcbiAgICAgIHZhciBzdGVwID0gdGhpcy5fc3RlcDtcbiAgICAgIHZhciB2YWx1ZSA9IHJldmVyc2UgPyB0aGlzLl9zdGFydCArIG1heEluZGV4ICogc3RlcCA6IHRoaXMuX3N0YXJ0O1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgICBpZiAoZm4odmFsdWUsIGlpLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaWkgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlICs9IHJldmVyc2UgPyAtc3RlcCA6IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gaWk7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIG1heEluZGV4ID0gdGhpcy5zaXplIC0gMTtcbiAgICAgIHZhciBzdGVwID0gdGhpcy5fc3RlcDtcbiAgICAgIHZhciB2YWx1ZSA9IHJldmVyc2UgPyB0aGlzLl9zdGFydCArIG1heEluZGV4ICogc3RlcCA6IHRoaXMuX3N0YXJ0O1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciB2ID0gdmFsdWU7XG4gICAgICAgIHZhbHVlICs9IHJldmVyc2UgPyAtc3RlcCA6IHN0ZXA7XG4gICAgICAgIHJldHVybiBpaSA+IG1heEluZGV4ID8gaXRlcmF0b3JEb25lKCkgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGlpKyssIHYpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgUmFuZ2UgP1xuICAgICAgICB0aGlzLl9zdGFydCA9PT0gb3RoZXIuX3N0YXJ0ICYmXG4gICAgICAgIHRoaXMuX2VuZCA9PT0gb3RoZXIuX2VuZCAmJlxuICAgICAgICB0aGlzLl9zdGVwID09PSBvdGhlci5fc3RlcCA6XG4gICAgICAgIGRlZXBFcXVhbCh0aGlzLCBvdGhlcik7XG4gICAgfTtcblxuXG4gIHZhciBFTVBUWV9SQU5HRTtcblxuICBjcmVhdGVDbGFzcyhSZXBlYXQsIEluZGV4ZWRTZXEpO1xuXG4gICAgZnVuY3Rpb24gUmVwZWF0KHZhbHVlLCB0aW1lcykge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlcGVhdCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXBlYXQodmFsdWUsIHRpbWVzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICB0aGlzLnNpemUgPSB0aW1lcyA9PT0gdW5kZWZpbmVkID8gSW5maW5pdHkgOiBNYXRoLm1heCgwLCB0aW1lcyk7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIGlmIChFTVBUWV9SRVBFQVQpIHtcbiAgICAgICAgICByZXR1cm4gRU1QVFlfUkVQRUFUO1xuICAgICAgICB9XG4gICAgICAgIEVNUFRZX1JFUEVBVCA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgUmVwZWF0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJ1JlcGVhdCBbXSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ1JlcGVhdCBbICcgKyB0aGlzLl92YWx1ZSArICcgJyArIHRoaXMuc2l6ZSArICcgdGltZXMgXSc7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID8gdGhpcy5fdmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcbiAgICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSkgPyB0aGlzIDpcbiAgICAgICAgbmV3IFJlcGVhdCh0aGlzLl92YWx1ZSwgcmVzb2x2ZUVuZChlbmQsIHNpemUpIC0gcmVzb2x2ZUJlZ2luKGJlZ2luLCBzaXplKSk7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICBpZiAoaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICBpZiAoaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgdGhpcy5zaXplOyBpaSsrKSB7XG4gICAgICAgIGlmIChmbih0aGlzLl92YWx1ZSwgaWksIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpIFxuICAgICAgICB7cmV0dXJuIGlpIDwgdGhpcyQwLnNpemUgPyBpdGVyYXRvclZhbHVlKHR5cGUsIGlpKyssIHRoaXMkMC5fdmFsdWUpIDogaXRlcmF0b3JEb25lKCl9XG4gICAgICApO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBSZXBlYXQgP1xuICAgICAgICBpcyh0aGlzLl92YWx1ZSwgb3RoZXIuX3ZhbHVlKSA6XG4gICAgICAgIGRlZXBFcXVhbChvdGhlcik7XG4gICAgfTtcblxuXG4gIHZhciBFTVBUWV9SRVBFQVQ7XG5cbiAgLyoqXG4gICAqIENvbnRyaWJ1dGVzIGFkZGl0aW9uYWwgbWV0aG9kcyB0byBhIGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBtaXhpbihjdG9yLCBtZXRob2RzKSB7XG4gICAgdmFyIGtleUNvcGllciA9IGZ1bmN0aW9uKGtleSApIHsgY3Rvci5wcm90b3R5cGVba2V5XSA9IG1ldGhvZHNba2V5XTsgfTtcbiAgICBPYmplY3Qua2V5cyhtZXRob2RzKS5mb3JFYWNoKGtleUNvcGllcik7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJlxuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhtZXRob2RzKS5mb3JFYWNoKGtleUNvcGllcik7XG4gICAgcmV0dXJuIGN0b3I7XG4gIH1cblxuICBJdGVyYWJsZS5JdGVyYXRvciA9IHNyY19JdGVyYXRvcl9fSXRlcmF0b3I7XG5cbiAgbWl4aW4oSXRlcmFibGUsIHtcblxuICAgIC8vICMjIyBDb252ZXJzaW9uIHRvIG90aGVyIHR5cGVzXG5cbiAgICB0b0FycmF5OiBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkodGhpcy5zaXplIHx8IDApO1xuICAgICAgdGhpcy52YWx1ZVNlcSgpLl9faXRlcmF0ZShmdW5jdGlvbih2LCBpKSAgeyBhcnJheVtpXSA9IHY7IH0pO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH0sXG5cbiAgICB0b0luZGV4ZWRTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBUb0luZGV4ZWRTZXF1ZW5jZSh0aGlzKTtcbiAgICB9LFxuXG4gICAgdG9KUzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcChcbiAgICAgICAgZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50b0pTID09PSAnZnVuY3Rpb24nID8gdmFsdWUudG9KUygpIDogdmFsdWV9XG4gICAgICApLl9fdG9KUygpO1xuICAgIH0sXG5cbiAgICB0b0pTT046IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5tYXAoXG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudG9KU09OID09PSAnZnVuY3Rpb24nID8gdmFsdWUudG9KU09OKCkgOiB2YWx1ZX1cbiAgICAgICkuX190b0pTKCk7XG4gICAgfSxcblxuICAgIHRvS2V5ZWRTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBUb0tleWVkU2VxdWVuY2UodGhpcywgdHJ1ZSk7XG4gICAgfSxcblxuICAgIHRvTWFwOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBzcmNfTWFwX19NYXAodGhpcy50b0tleWVkU2VxKCkpO1xuICAgIH0sXG5cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHsgb2JqZWN0W2tdID0gdjsgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICB0b09yZGVyZWRNYXA6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIE9yZGVyZWRNYXAodGhpcy50b0tleWVkU2VxKCkpO1xuICAgIH0sXG5cbiAgICB0b09yZGVyZWRTZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIE9yZGVyZWRTZXQoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b1NldDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gc3JjX1NldF9fU2V0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgICB9LFxuXG4gICAgdG9TZXRTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBUb1NldFNlcXVlbmNlKHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b1NlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNJbmRleGVkKHRoaXMpID8gdGhpcy50b0luZGV4ZWRTZXEoKSA6XG4gICAgICAgIGlzS2V5ZWQodGhpcykgPyB0aGlzLnRvS2V5ZWRTZXEoKSA6XG4gICAgICAgIHRoaXMudG9TZXRTZXEoKTtcbiAgICB9LFxuXG4gICAgdG9TdGFjazogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gU3RhY2soaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b0xpc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIExpc3QoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBDb21tb24gSmF2YVNjcmlwdCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzXG5cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJ1tJdGVyYWJsZV0nO1xuICAgIH0sXG5cbiAgICBfX3RvU3RyaW5nOiBmdW5jdGlvbihoZWFkLCB0YWlsKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBoZWFkICsgdGFpbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWFkICsgJyAnICsgdGhpcy50b1NlcSgpLm1hcCh0aGlzLl9fdG9TdHJpbmdNYXBwZXIpLmpvaW4oJywgJykgKyAnICcgKyB0YWlsO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICAgIGNvbmNhdDogZnVuY3Rpb24oKSB7dmFyIHZhbHVlcyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGNvbmNhdEZhY3RvcnkodGhpcywgdmFsdWVzKSk7XG4gICAgfSxcblxuICAgIGNvbnRhaW5zOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5jbHVkZXMoc2VhcmNoVmFsdWUpO1xuICAgIH0sXG5cbiAgICBpbmNsdWRlczogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnNvbWUoZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIGlzKHZhbHVlLCBzZWFyY2hWYWx1ZSl9KTtcbiAgICB9LFxuXG4gICAgZW50cmllczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUyk7XG4gICAgfSxcblxuICAgIGV2ZXJ5OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgICB2YXIgcmV0dXJuVmFsdWUgPSB0cnVlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaywgYykgIHtcbiAgICAgICAgaWYgKCFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkge1xuICAgICAgICAgIHJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9LFxuXG4gICAgZmlsdGVyOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmaWx0ZXJGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBmaW5kOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGVudHJ5ID8gZW50cnlbMV0gOiBub3RTZXRWYWx1ZTtcbiAgICB9LFxuXG4gICAgZmluZEVudHJ5OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBmb3VuZDtcbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkge1xuICAgICAgICAgIGZvdW5kID0gW2ssIHZdO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZm91bmQ7XG4gICAgfSxcblxuICAgIGZpbmRMYXN0RW50cnk6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIGZvckVhY2g6IGZ1bmN0aW9uKHNpZGVFZmZlY3QsIGNvbnRleHQpIHtcbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdGUoY29udGV4dCA/IHNpZGVFZmZlY3QuYmluZChjb250ZXh0KSA6IHNpZGVFZmZlY3QpO1xuICAgIH0sXG5cbiAgICBqb2luOiBmdW5jdGlvbihzZXBhcmF0b3IpIHtcbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgICBzZXBhcmF0b3IgPSBzZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/ICcnICsgc2VwYXJhdG9yIDogJywnO1xuICAgICAgdmFyIGpvaW5lZCA9ICcnO1xuICAgICAgdmFyIGlzRmlyc3QgPSB0cnVlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24odiApIHtcbiAgICAgICAgaXNGaXJzdCA/IChpc0ZpcnN0ID0gZmFsc2UpIDogKGpvaW5lZCArPSBzZXBhcmF0b3IpO1xuICAgICAgICBqb2luZWQgKz0gdiAhPT0gbnVsbCAmJiB2ICE9PSB1bmRlZmluZWQgPyB2LnRvU3RyaW5nKCkgOiAnJztcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGpvaW5lZDtcbiAgICB9LFxuXG4gICAga2V5czogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfS0VZUyk7XG4gICAgfSxcblxuICAgIG1hcDogZnVuY3Rpb24obWFwcGVyLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgbWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpKTtcbiAgICB9LFxuXG4gICAgcmVkdWNlOiBmdW5jdGlvbihyZWR1Y2VyLCBpbml0aWFsUmVkdWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgdmFyIHJlZHVjdGlvbjtcbiAgICAgIHZhciB1c2VGaXJzdDtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgICB1c2VGaXJzdCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWR1Y3Rpb24gPSBpbml0aWFsUmVkdWN0aW9uO1xuICAgICAgfVxuICAgICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaywgYykgIHtcbiAgICAgICAgaWYgKHVzZUZpcnN0KSB7XG4gICAgICAgICAgdXNlRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICByZWR1Y3Rpb24gPSB2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZHVjdGlvbiA9IHJlZHVjZXIuY2FsbChjb250ZXh0LCByZWR1Y3Rpb24sIHYsIGssIGMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZWR1Y3Rpb247XG4gICAgfSxcblxuICAgIHJlZHVjZVJpZ2h0OiBmdW5jdGlvbihyZWR1Y2VyLCBpbml0aWFsUmVkdWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmV2ZXJzZWQgPSB0aGlzLnRvS2V5ZWRTZXEoKS5yZXZlcnNlKCk7XG4gICAgICByZXR1cm4gcmV2ZXJzZWQucmVkdWNlLmFwcGx5KHJldmVyc2VkLCBhcmd1bWVudHMpO1xuICAgIH0sXG5cbiAgICByZXZlcnNlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCByZXZlcnNlRmFjdG9yeSh0aGlzLCB0cnVlKSk7XG4gICAgfSxcblxuICAgIHNsaWNlOiBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc2xpY2VGYWN0b3J5KHRoaXMsIGJlZ2luLCBlbmQsIHRydWUpKTtcbiAgICB9LFxuXG4gICAgc29tZTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gIXRoaXMuZXZlcnkobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBzb3J0OiBmdW5jdGlvbihjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvcikpO1xuICAgIH0sXG5cbiAgICB2YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUyk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAgICBidXRMYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNsaWNlKDAsIC0xKTtcbiAgICB9LFxuXG4gICAgaXNFbXB0eTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaXplICE9PSB1bmRlZmluZWQgPyB0aGlzLnNpemUgPT09IDAgOiAhdGhpcy5zb21lKGZ1bmN0aW9uKCkgIHtyZXR1cm4gdHJ1ZX0pO1xuICAgIH0sXG5cbiAgICBjb3VudDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gZW5zdXJlU2l6ZShcbiAgICAgICAgcHJlZGljYXRlID8gdGhpcy50b1NlcSgpLmZpbHRlcihwcmVkaWNhdGUsIGNvbnRleHQpIDogdGhpc1xuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY291bnRCeTogZnVuY3Rpb24oZ3JvdXBlciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvdW50QnlGYWN0b3J5KHRoaXMsIGdyb3VwZXIsIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICByZXR1cm4gZGVlcEVxdWFsKHRoaXMsIG90aGVyKTtcbiAgICB9LFxuXG4gICAgZW50cnlTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGl0ZXJhYmxlID0gdGhpcztcbiAgICAgIGlmIChpdGVyYWJsZS5fY2FjaGUpIHtcbiAgICAgICAgLy8gV2UgY2FjaGUgYXMgYW4gZW50cmllcyBhcnJheSwgc28gd2UgY2FuIGp1c3QgcmV0dXJuIHRoZSBjYWNoZSFcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheVNlcShpdGVyYWJsZS5fY2FjaGUpO1xuICAgICAgfVxuICAgICAgdmFyIGVudHJpZXNTZXF1ZW5jZSA9IGl0ZXJhYmxlLnRvU2VxKCkubWFwKGVudHJ5TWFwcGVyKS50b0luZGV4ZWRTZXEoKTtcbiAgICAgIGVudHJpZXNTZXF1ZW5jZS5mcm9tRW50cnlTZXEgPSBmdW5jdGlvbigpICB7cmV0dXJuIGl0ZXJhYmxlLnRvU2VxKCl9O1xuICAgICAgcmV0dXJuIGVudHJpZXNTZXF1ZW5jZTtcbiAgICB9LFxuXG4gICAgZmlsdGVyTm90OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIGZpbmRMYXN0OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSk7XG4gICAgfSxcblxuICAgIGZpcnN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmQocmV0dXJuVHJ1ZSk7XG4gICAgfSxcblxuICAgIGZsYXRNYXA6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXRNYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCkpO1xuICAgIH0sXG5cbiAgICBmbGF0dGVuOiBmdW5jdGlvbihkZXB0aCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXR0ZW5GYWN0b3J5KHRoaXMsIGRlcHRoLCB0cnVlKSk7XG4gICAgfSxcblxuICAgIGZyb21FbnRyeVNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IEZyb21FbnRyaWVzU2VxdWVuY2UodGhpcyk7XG4gICAgfSxcblxuICAgIGdldDogZnVuY3Rpb24oc2VhcmNoS2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZChmdW5jdGlvbihfLCBrZXkpICB7cmV0dXJuIGlzKGtleSwgc2VhcmNoS2V5KX0sIHVuZGVmaW5lZCwgbm90U2V0VmFsdWUpO1xuICAgIH0sXG5cbiAgICBnZXRJbjogZnVuY3Rpb24oc2VhcmNoS2V5UGF0aCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBuZXN0ZWQgPSB0aGlzO1xuICAgICAgLy8gTm90ZTogaW4gYW4gRVM2IGVudmlyb25tZW50LCB3ZSB3b3VsZCBwcmVmZXI6XG4gICAgICAvLyBmb3IgKHZhciBrZXkgb2Ygc2VhcmNoS2V5UGF0aCkge1xuICAgICAgdmFyIGl0ZXIgPSBmb3JjZUl0ZXJhdG9yKHNlYXJjaEtleVBhdGgpO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgdmFyIGtleSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIG5lc3RlZCA9IG5lc3RlZCAmJiBuZXN0ZWQuZ2V0ID8gbmVzdGVkLmdldChrZXksIE5PVF9TRVQpIDogTk9UX1NFVDtcbiAgICAgICAgaWYgKG5lc3RlZCA9PT0gTk9UX1NFVCkge1xuICAgICAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5lc3RlZDtcbiAgICB9LFxuXG4gICAgZ3JvdXBCeTogZnVuY3Rpb24oZ3JvdXBlciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIGdyb3VwQnlGYWN0b3J5KHRoaXMsIGdyb3VwZXIsIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBoYXM6IGZ1bmN0aW9uKHNlYXJjaEtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KHNlYXJjaEtleSwgTk9UX1NFVCkgIT09IE5PVF9TRVQ7XG4gICAgfSxcblxuICAgIGhhc0luOiBmdW5jdGlvbihzZWFyY2hLZXlQYXRoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbihzZWFyY2hLZXlQYXRoLCBOT1RfU0VUKSAhPT0gTk9UX1NFVDtcbiAgICB9LFxuXG4gICAgaXNTdWJzZXQ6IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgICAgIGl0ZXIgPSB0eXBlb2YgaXRlci5pbmNsdWRlcyA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZXIgOiBJdGVyYWJsZShpdGVyKTtcbiAgICAgIHJldHVybiB0aGlzLmV2ZXJ5KGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpdGVyLmluY2x1ZGVzKHZhbHVlKX0pO1xuICAgIH0sXG5cbiAgICBpc1N1cGVyc2V0OiBmdW5jdGlvbihpdGVyKSB7XG4gICAgICBpdGVyID0gdHlwZW9mIGl0ZXIuaXNTdWJzZXQgPT09ICdmdW5jdGlvbicgPyBpdGVyIDogSXRlcmFibGUoaXRlcik7XG4gICAgICByZXR1cm4gaXRlci5pc1N1YnNldCh0aGlzKTtcbiAgICB9LFxuXG4gICAga2V5U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkubWFwKGtleU1hcHBlcikudG9JbmRleGVkU2VxKCk7XG4gICAgfSxcblxuICAgIGxhc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuZmlyc3QoKTtcbiAgICB9LFxuXG4gICAgbWF4OiBmdW5jdGlvbihjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gbWF4RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKTtcbiAgICB9LFxuXG4gICAgbWF4Qnk6IGZ1bmN0aW9uKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKTtcbiAgICB9LFxuXG4gICAgbWluOiBmdW5jdGlvbihjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gbWF4RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yID8gbmVnKGNvbXBhcmF0b3IpIDogZGVmYXVsdE5lZ0NvbXBhcmF0b3IpO1xuICAgIH0sXG5cbiAgICBtaW5CeTogZnVuY3Rpb24obWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gbWF4RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yID8gbmVnKGNvbXBhcmF0b3IpIDogZGVmYXVsdE5lZ0NvbXBhcmF0b3IsIG1hcHBlcik7XG4gICAgfSxcblxuICAgIHJlc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoMSk7XG4gICAgfSxcblxuICAgIHNraXA6IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoTWF0aC5tYXgoMCwgYW1vdW50KSk7XG4gICAgfSxcblxuICAgIHNraXBMYXN0OiBmdW5jdGlvbihhbW91bnQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLnNraXAoYW1vdW50KS5yZXZlcnNlKCkpO1xuICAgIH0sXG5cbiAgICBza2lwV2hpbGU6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNraXBXaGlsZUZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCB0cnVlKSk7XG4gICAgfSxcblxuICAgIHNraXBVbnRpbDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5za2lwV2hpbGUobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBzb3J0Qnk6IGZ1bmN0aW9uKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcikpO1xuICAgIH0sXG5cbiAgICB0YWtlOiBmdW5jdGlvbihhbW91bnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnNsaWNlKDAsIE1hdGgubWF4KDAsIGFtb3VudCkpO1xuICAgIH0sXG5cbiAgICB0YWtlTGFzdDogZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgdGhpcy50b1NlcSgpLnJldmVyc2UoKS50YWtlKGFtb3VudCkucmV2ZXJzZSgpKTtcbiAgICB9LFxuXG4gICAgdGFrZVdoaWxlOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCB0YWtlV2hpbGVGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCkpO1xuICAgIH0sXG5cbiAgICB0YWtlVW50aWw6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFrZVdoaWxlKG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgdmFsdWVTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9JbmRleGVkU2VxKCk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIEhhc2hhYmxlIE9iamVjdFxuXG4gICAgaGFzaENvZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19oYXNoIHx8ICh0aGlzLl9faGFzaCA9IGhhc2hJdGVyYWJsZSh0aGlzKSk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIEludGVybmFsXG5cbiAgICAvLyBhYnN0cmFjdCBfX2l0ZXJhdGUoZm4sIHJldmVyc2UpXG5cbiAgICAvLyBhYnN0cmFjdCBfX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpXG4gIH0pO1xuXG4gIC8vIHZhciBJU19JVEVSQUJMRV9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lURVJBQkxFX19AQCc7XG4gIC8vIHZhciBJU19LRVlFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0tFWUVEX19AQCc7XG4gIC8vIHZhciBJU19JTkRFWEVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfSU5ERVhFRF9fQEAnO1xuICAvLyB2YXIgSVNfT1JERVJFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX09SREVSRURfX0BAJztcblxuICB2YXIgSXRlcmFibGVQcm90b3R5cGUgPSBJdGVyYWJsZS5wcm90b3R5cGU7XG4gIEl0ZXJhYmxlUHJvdG90eXBlW0lTX0lURVJBQkxFX1NFTlRJTkVMXSA9IHRydWU7XG4gIEl0ZXJhYmxlUHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBJdGVyYWJsZVByb3RvdHlwZS52YWx1ZXM7XG4gIEl0ZXJhYmxlUHJvdG90eXBlLl9fdG9KUyA9IEl0ZXJhYmxlUHJvdG90eXBlLnRvQXJyYXk7XG4gIEl0ZXJhYmxlUHJvdG90eXBlLl9fdG9TdHJpbmdNYXBwZXIgPSBxdW90ZVN0cmluZztcbiAgSXRlcmFibGVQcm90b3R5cGUuaW5zcGVjdCA9XG4gIEl0ZXJhYmxlUHJvdG90eXBlLnRvU291cmNlID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnRvU3RyaW5nKCk7IH07XG4gIEl0ZXJhYmxlUHJvdG90eXBlLmNoYWluID0gSXRlcmFibGVQcm90b3R5cGUuZmxhdE1hcDtcblxuICAvLyBUZW1wb3Jhcnkgd2FybmluZyBhYm91dCB1c2luZyBsZW5ndGhcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEl0ZXJhYmxlUHJvdG90eXBlLCAnbGVuZ3RoJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIUl0ZXJhYmxlLm5vTGVuZ3RoV2FybmluZykge1xuICAgICAgICAgICAgdmFyIHN0YWNrO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBzdGFjayA9IGVycm9yLnN0YWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YWNrLmluZGV4T2YoJ193cmFwT2JqZWN0JykgPT09IC0xKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUgJiYgY29uc29sZS53YXJuICYmIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAnaXRlcmFibGUubGVuZ3RoIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcrXG4gICAgICAgICAgICAgICAgJ3VzZSBpdGVyYWJsZS5zaXplIG9yIGl0ZXJhYmxlLmNvdW50KCkuICcrXG4gICAgICAgICAgICAgICAgJ1RoaXMgd2FybmluZyB3aWxsIGJlY29tZSBhIHNpbGVudCBlcnJvciBpbiBhIGZ1dHVyZSB2ZXJzaW9uLiAnICtcbiAgICAgICAgICAgICAgICBzdGFja1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSkoKTtcblxuXG5cbiAgbWl4aW4oS2V5ZWRJdGVyYWJsZSwge1xuXG4gICAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAgICBmbGlwOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGlwRmFjdG9yeSh0aGlzKSk7XG4gICAgfSxcblxuICAgIGZpbmRLZXk6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeVswXTtcbiAgICB9LFxuXG4gICAgZmluZExhc3RLZXk6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuZmluZEtleShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBrZXlPZjogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmRLZXkoZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIGlzKHZhbHVlLCBzZWFyY2hWYWx1ZSl9KTtcbiAgICB9LFxuXG4gICAgbGFzdEtleU9mOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZExhc3RLZXkoZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIGlzKHZhbHVlLCBzZWFyY2hWYWx1ZSl9KTtcbiAgICB9LFxuXG4gICAgbWFwRW50cmllczogZnVuY3Rpb24obWFwcGVyLCBjb250ZXh0KSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcyxcbiAgICAgICAgdGhpcy50b1NlcSgpLm1hcChcbiAgICAgICAgICBmdW5jdGlvbih2LCBrKSAge3JldHVybiBtYXBwZXIuY2FsbChjb250ZXh0LCBbaywgdl0sIGl0ZXJhdGlvbnMrKywgdGhpcyQwKX1cbiAgICAgICAgKS5mcm9tRW50cnlTZXEoKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgbWFwS2V5czogZnVuY3Rpb24obWFwcGVyLCBjb250ZXh0KSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcyxcbiAgICAgICAgdGhpcy50b1NlcSgpLmZsaXAoKS5tYXAoXG4gICAgICAgICAgZnVuY3Rpb24oaywgdikgIHtyZXR1cm4gbWFwcGVyLmNhbGwoY29udGV4dCwgaywgdiwgdGhpcyQwKX1cbiAgICAgICAgKS5mbGlwKClcbiAgICAgICk7XG4gICAgfSxcblxuICB9KTtcblxuICB2YXIgS2V5ZWRJdGVyYWJsZVByb3RvdHlwZSA9IEtleWVkSXRlcmFibGUucHJvdG90eXBlO1xuICBLZXllZEl0ZXJhYmxlUHJvdG90eXBlW0lTX0tFWUVEX1NFTlRJTkVMXSA9IHRydWU7XG4gIEtleWVkSXRlcmFibGVQcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IEl0ZXJhYmxlUHJvdG90eXBlLmVudHJpZXM7XG4gIEtleWVkSXRlcmFibGVQcm90b3R5cGUuX190b0pTID0gSXRlcmFibGVQcm90b3R5cGUudG9PYmplY3Q7XG4gIEtleWVkSXRlcmFibGVQcm90b3R5cGUuX190b1N0cmluZ01hcHBlciA9IGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGspICsgJzogJyArIHF1b3RlU3RyaW5nKHYpfTtcblxuXG5cbiAgbWl4aW4oSW5kZXhlZEl0ZXJhYmxlLCB7XG5cbiAgICAvLyAjIyMgQ29udmVyc2lvbiB0byBvdGhlciB0eXBlc1xuXG4gICAgdG9LZXllZFNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFRvS2V5ZWRTZXF1ZW5jZSh0aGlzLCBmYWxzZSk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gICAgZmlsdGVyOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmaWx0ZXJGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgZmFsc2UpKTtcbiAgICB9LFxuXG4gICAgZmluZEluZGV4OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgICByZXR1cm4gZW50cnkgPyBlbnRyeVswXSA6IC0xO1xuICAgIH0sXG5cbiAgICBpbmRleE9mOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgdmFyIGtleSA9IHRoaXMudG9LZXllZFNlcSgpLmtleU9mKHNlYXJjaFZhbHVlKTtcbiAgICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/IC0xIDoga2V5O1xuICAgIH0sXG5cbiAgICBsYXN0SW5kZXhPZjogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmluZGV4T2Yoc2VhcmNoVmFsdWUpO1xuICAgIH0sXG5cbiAgICByZXZlcnNlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCByZXZlcnNlRmFjdG9yeSh0aGlzLCBmYWxzZSkpO1xuICAgIH0sXG5cbiAgICBzbGljZTogZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNsaWNlRmFjdG9yeSh0aGlzLCBiZWdpbiwgZW5kLCBmYWxzZSkpO1xuICAgIH0sXG5cbiAgICBzcGxpY2U6IGZ1bmN0aW9uKGluZGV4LCByZW1vdmVOdW0gLyosIC4uLnZhbHVlcyovKSB7XG4gICAgICB2YXIgbnVtQXJncyA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICByZW1vdmVOdW0gPSBNYXRoLm1heChyZW1vdmVOdW0gfCAwLCAwKTtcbiAgICAgIGlmIChudW1BcmdzID09PSAwIHx8IChudW1BcmdzID09PSAyICYmICFyZW1vdmVOdW0pKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaW5kZXggPSByZXNvbHZlQmVnaW4oaW5kZXgsIHRoaXMuc2l6ZSk7XG4gICAgICB2YXIgc3BsaWNlZCA9IHRoaXMuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgcmV0dXJuIHJlaWZ5KFxuICAgICAgICB0aGlzLFxuICAgICAgICBudW1BcmdzID09PSAxID9cbiAgICAgICAgICBzcGxpY2VkIDpcbiAgICAgICAgICBzcGxpY2VkLmNvbmNhdChhcnJDb3B5KGFyZ3VtZW50cywgMiksIHRoaXMuc2xpY2UoaW5kZXggKyByZW1vdmVOdW0pKVxuICAgICAgKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgTW9yZSBjb2xsZWN0aW9uIG1ldGhvZHNcblxuICAgIGZpbmRMYXN0SW5kZXg6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGtleSA9IHRoaXMudG9LZXllZFNlcSgpLmZpbmRMYXN0S2V5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgPyAtMSA6IGtleTtcbiAgICB9LFxuXG4gICAgZmlyc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KDApO1xuICAgIH0sXG5cbiAgICBmbGF0dGVuOiBmdW5jdGlvbihkZXB0aCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXR0ZW5GYWN0b3J5KHRoaXMsIGRlcHRoLCBmYWxzZSkpO1xuICAgIH0sXG5cbiAgICBnZXQ6IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgICAgcmV0dXJuIChpbmRleCA8IDAgfHwgKHRoaXMuc2l6ZSA9PT0gSW5maW5pdHkgfHxcbiAgICAgICAgICAodGhpcy5zaXplICE9PSB1bmRlZmluZWQgJiYgaW5kZXggPiB0aGlzLnNpemUpKSkgP1xuICAgICAgICBub3RTZXRWYWx1ZSA6XG4gICAgICAgIHRoaXMuZmluZChmdW5jdGlvbihfLCBrZXkpICB7cmV0dXJuIGtleSA9PT0gaW5kZXh9LCB1bmRlZmluZWQsIG5vdFNldFZhbHVlKTtcbiAgICB9LFxuXG4gICAgaGFzOiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgICAgcmV0dXJuIGluZGV4ID49IDAgJiYgKHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgdGhpcy5zaXplID09PSBJbmZpbml0eSB8fCBpbmRleCA8IHRoaXMuc2l6ZSA6XG4gICAgICAgIHRoaXMuaW5kZXhPZihpbmRleCkgIT09IC0xXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBpbnRlcnBvc2U6IGZ1bmN0aW9uKHNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGludGVycG9zZUZhY3RvcnkodGhpcywgc2VwYXJhdG9yKSk7XG4gICAgfSxcblxuICAgIGludGVybGVhdmU6IGZ1bmN0aW9uKC8qLi4uaXRlcmFibGVzKi8pIHtcbiAgICAgIHZhciBpdGVyYWJsZXMgPSBbdGhpc10uY29uY2F0KGFyckNvcHkoYXJndW1lbnRzKSk7XG4gICAgICB2YXIgemlwcGVkID0gemlwV2l0aEZhY3RvcnkodGhpcy50b1NlcSgpLCBJbmRleGVkU2VxLm9mLCBpdGVyYWJsZXMpO1xuICAgICAgdmFyIGludGVybGVhdmVkID0gemlwcGVkLmZsYXR0ZW4odHJ1ZSk7XG4gICAgICBpZiAoemlwcGVkLnNpemUpIHtcbiAgICAgICAgaW50ZXJsZWF2ZWQuc2l6ZSA9IHppcHBlZC5zaXplICogaXRlcmFibGVzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBpbnRlcmxlYXZlZCk7XG4gICAgfSxcblxuICAgIGxhc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KC0xKTtcbiAgICB9LFxuXG4gICAgc2tpcFdoaWxlOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBza2lwV2hpbGVGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgZmFsc2UpKTtcbiAgICB9LFxuXG4gICAgemlwOiBmdW5jdGlvbigvKiwgLi4uaXRlcmFibGVzICovKSB7XG4gICAgICB2YXIgaXRlcmFibGVzID0gW3RoaXNdLmNvbmNhdChhcnJDb3B5KGFyZ3VtZW50cykpO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHppcFdpdGhGYWN0b3J5KHRoaXMsIGRlZmF1bHRaaXBwZXIsIGl0ZXJhYmxlcykpO1xuICAgIH0sXG5cbiAgICB6aXBXaXRoOiBmdW5jdGlvbih6aXBwZXIvKiwgLi4uaXRlcmFibGVzICovKSB7XG4gICAgICB2YXIgaXRlcmFibGVzID0gYXJyQ29weShhcmd1bWVudHMpO1xuICAgICAgaXRlcmFibGVzWzBdID0gdGhpcztcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCB6aXBXaXRoRmFjdG9yeSh0aGlzLCB6aXBwZXIsIGl0ZXJhYmxlcykpO1xuICAgIH0sXG5cbiAgfSk7XG5cbiAgSW5kZXhlZEl0ZXJhYmxlLnByb3RvdHlwZVtJU19JTkRFWEVEX1NFTlRJTkVMXSA9IHRydWU7XG4gIEluZGV4ZWRJdGVyYWJsZS5wcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuXG5cblxuICBtaXhpbihTZXRJdGVyYWJsZSwge1xuXG4gICAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gICAgZ2V0OiBmdW5jdGlvbih2YWx1ZSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyh2YWx1ZSkgPyB2YWx1ZSA6IG5vdFNldFZhbHVlO1xuICAgIH0sXG5cbiAgICBpbmNsdWRlczogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyh2YWx1ZSk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAgICBrZXlTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWVTZXEoKTtcbiAgICB9LFxuXG4gIH0pO1xuXG4gIFNldEl0ZXJhYmxlLnByb3RvdHlwZS5oYXMgPSBJdGVyYWJsZVByb3RvdHlwZS5pbmNsdWRlcztcblxuXG4gIC8vIE1peGluIHN1YmNsYXNzZXNcblxuICBtaXhpbihLZXllZFNlcSwgS2V5ZWRJdGVyYWJsZS5wcm90b3R5cGUpO1xuICBtaXhpbihJbmRleGVkU2VxLCBJbmRleGVkSXRlcmFibGUucHJvdG90eXBlKTtcbiAgbWl4aW4oU2V0U2VxLCBTZXRJdGVyYWJsZS5wcm90b3R5cGUpO1xuXG4gIG1peGluKEtleWVkQ29sbGVjdGlvbiwgS2V5ZWRJdGVyYWJsZS5wcm90b3R5cGUpO1xuICBtaXhpbihJbmRleGVkQ29sbGVjdGlvbiwgSW5kZXhlZEl0ZXJhYmxlLnByb3RvdHlwZSk7XG4gIG1peGluKFNldENvbGxlY3Rpb24sIFNldEl0ZXJhYmxlLnByb3RvdHlwZSk7XG5cblxuICAvLyAjcHJhZ21hIEhlbHBlciBmdW5jdGlvbnNcblxuICBmdW5jdGlvbiBrZXlNYXBwZXIodiwgaykge1xuICAgIHJldHVybiBrO1xuICB9XG5cbiAgZnVuY3Rpb24gZW50cnlNYXBwZXIodiwgaykge1xuICAgIHJldHVybiBbaywgdl07XG4gIH1cblxuICBmdW5jdGlvbiBub3QocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBuZWcocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIC1wcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBxdW90ZVN0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0WmlwcGVyKCkge1xuICAgIHJldHVybiBhcnJDb3B5KGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0TmVnQ29tcGFyYXRvcihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPCBiID8gMSA6IGEgPiBiID8gLTEgOiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzaEl0ZXJhYmxlKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlLnNpemUgPT09IEluZmluaXR5KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIG9yZGVyZWQgPSBpc09yZGVyZWQoaXRlcmFibGUpO1xuICAgIHZhciBrZXllZCA9IGlzS2V5ZWQoaXRlcmFibGUpO1xuICAgIHZhciBoID0gb3JkZXJlZCA/IDEgOiAwO1xuICAgIHZhciBzaXplID0gaXRlcmFibGUuX19pdGVyYXRlKFxuICAgICAga2V5ZWQgP1xuICAgICAgICBvcmRlcmVkID9cbiAgICAgICAgICBmdW5jdGlvbih2LCBrKSAgeyBoID0gMzEgKiBoICsgaGFzaE1lcmdlKGhhc2godiksIGhhc2goaykpIHwgMDsgfSA6XG4gICAgICAgICAgZnVuY3Rpb24odiwgaykgIHsgaCA9IGggKyBoYXNoTWVyZ2UoaGFzaCh2KSwgaGFzaChrKSkgfCAwOyB9IDpcbiAgICAgICAgb3JkZXJlZCA/XG4gICAgICAgICAgZnVuY3Rpb24odiApIHsgaCA9IDMxICogaCArIGhhc2godikgfCAwOyB9IDpcbiAgICAgICAgICBmdW5jdGlvbih2ICkgeyBoID0gaCArIGhhc2godikgfCAwOyB9XG4gICAgKTtcbiAgICByZXR1cm4gbXVybXVySGFzaE9mU2l6ZShzaXplLCBoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG11cm11ckhhc2hPZlNpemUoc2l6ZSwgaCkge1xuICAgIGggPSBzcmNfTWF0aF9faW11bChoLCAweENDOUUyRDUxKTtcbiAgICBoID0gc3JjX01hdGhfX2ltdWwoaCA8PCAxNSB8IGggPj4+IC0xNSwgMHgxQjg3MzU5Myk7XG4gICAgaCA9IHNyY19NYXRoX19pbXVsKGggPDwgMTMgfCBoID4+PiAtMTMsIDUpO1xuICAgIGggPSAoaCArIDB4RTY1NDZCNjQgfCAwKSBeIHNpemU7XG4gICAgaCA9IHNyY19NYXRoX19pbXVsKGggXiBoID4+PiAxNiwgMHg4NUVCQ0E2Qik7XG4gICAgaCA9IHNyY19NYXRoX19pbXVsKGggXiBoID4+PiAxMywgMHhDMkIyQUUzNSk7XG4gICAgaCA9IHNtaShoIF4gaCA+Pj4gMTYpO1xuICAgIHJldHVybiBoO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzaE1lcmdlKGEsIGIpIHtcbiAgICByZXR1cm4gYSBeIGIgKyAweDlFMzc3OUI5ICsgKGEgPDwgNikgKyAoYSA+PiAyKSB8IDA7IC8vIGludFxuICB9XG5cbiAgdmFyIEltbXV0YWJsZSA9IHtcblxuICAgIEl0ZXJhYmxlOiBJdGVyYWJsZSxcblxuICAgIFNlcTogU2VxLFxuICAgIENvbGxlY3Rpb246IENvbGxlY3Rpb24sXG4gICAgTWFwOiBzcmNfTWFwX19NYXAsXG4gICAgT3JkZXJlZE1hcDogT3JkZXJlZE1hcCxcbiAgICBMaXN0OiBMaXN0LFxuICAgIFN0YWNrOiBTdGFjayxcbiAgICBTZXQ6IHNyY19TZXRfX1NldCxcbiAgICBPcmRlcmVkU2V0OiBPcmRlcmVkU2V0LFxuXG4gICAgUmVjb3JkOiBSZWNvcmQsXG4gICAgUmFuZ2U6IFJhbmdlLFxuICAgIFJlcGVhdDogUmVwZWF0LFxuXG4gICAgaXM6IGlzLFxuICAgIGZyb21KUzogZnJvbUpTLFxuXG4gIH07XG5cbiAgcmV0dXJuIEltbXV0YWJsZTtcblxufSkpOyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgIFwiZGVmYXVsdFwiOiBvYmpcbiAgfTtcbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iajtcbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfQXJyYXkkZnJvbSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvYXJyYXkvZnJvbVwiKVtcImRlZmF1bHRcIl07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICAgIHJldHVybiBhcnIyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBfQXJyYXkkZnJvbShhcnIpO1xuICB9XG59O1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuYXJyYXkuZnJvbScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKS5jb3JlLkFycmF5LmZyb207IiwidmFyICQgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpe1xuICByZXR1cm4gJC5jcmVhdGUoUCwgRCk7XG59OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zdGF0aWNzLWFjY2VwdC1wcmltaXRpdmVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpLmNvcmUuT2JqZWN0LmtleXM7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpLmNvcmUuU3ltYm9sOyIsInZhciAkID0gcmVxdWlyZSgnLi8kJyk7XG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtc2cxLCBtc2cyKXtcbiAgaWYoIWNvbmRpdGlvbil0aHJvdyBUeXBlRXJyb3IobXNnMiA/IG1zZzEgKyBtc2cyIDogbXNnMSk7XG59XG5hc3NlcnQuZGVmID0gJC5hc3NlcnREZWZpbmVkO1xuYXNzZXJ0LmZuID0gZnVuY3Rpb24oaXQpe1xuICBpZighJC5pc0Z1bmN0aW9uKGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuYXNzZXJ0Lm9iaiA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoISQuaXNPYmplY3QoaXQpKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbmFzc2VydC5pbnN0ID0gZnVuY3Rpb24oaXQsIENvbnN0cnVjdG9yLCBuYW1lKXtcbiAgaWYoIShpdCBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBUeXBlRXJyb3IobmFtZSArIFwiOiB1c2UgdGhlICduZXcnIG9wZXJhdG9yIVwiKTtcbiAgcmV0dXJuIGl0O1xufTtcbm1vZHVsZS5leHBvcnRzID0gYXNzZXJ0OyIsInZhciAkICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgVEFHICAgICAgPSByZXF1aXJlKCcuLyQud2tzJykoJ3RvU3RyaW5nVGFnJylcbiAgLCB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuZnVuY3Rpb24gY29mKGl0KXtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn1cbmNvZi5jbGFzc29mID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgTywgVDtcbiAgcmV0dXJuIGl0ID09IHVuZGVmaW5lZCA/IGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6ICdOdWxsJ1xuICAgIDogdHlwZW9mIChUID0gKE8gPSBPYmplY3QoaXQpKVtUQUddKSA9PSAnc3RyaW5nJyA/IFQgOiBjb2YoTyk7XG59O1xuY29mLnNldCA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuICBpZihpdCAmJiAhJC5oYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpJC5oaWRlKGl0LCBUQUcsIHRhZyk7XG59O1xubW9kdWxlLmV4cG9ydHMgPSBjb2Y7IiwiLy8gT3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYXNzZXJ0RnVuY3Rpb24gPSByZXF1aXJlKCcuLyQuYXNzZXJ0JykuZm47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhc3NlcnRGdW5jdGlvbihmbik7XG4gIGlmKH5sZW5ndGggJiYgdGhhdCA9PT0gdW5kZWZpbmVkKXJldHVybiBmbjtcbiAgc3dpdGNoKGxlbmd0aCl7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH0gcmV0dXJuIGZ1bmN0aW9uKC8qIC4uLmFyZ3MgKi8pe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn07IiwidmFyICQgICAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIGdsb2JhbCAgICAgPSAkLmdcbiAgLCBjb3JlICAgICAgID0gJC5jb3JlXG4gICwgaXNGdW5jdGlvbiA9ICQuaXNGdW5jdGlvbjtcbmZ1bmN0aW9uIGN0eChmbiwgdGhhdCl7XG4gIHJldHVybiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufVxuLy8gdHlwZSBiaXRtYXBcbiRkZWYuRiA9IDE7ICAvLyBmb3JjZWRcbiRkZWYuRyA9IDI7ICAvLyBnbG9iYWxcbiRkZWYuUyA9IDQ7ICAvLyBzdGF0aWNcbiRkZWYuUCA9IDg7ICAvLyBwcm90b1xuJGRlZi5CID0gMTY7IC8vIGJpbmRcbiRkZWYuVyA9IDMyOyAvLyB3cmFwXG5mdW5jdGlvbiAkZGVmKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBrZXksIG93biwgb3V0LCBleHBcbiAgICAsIGlzR2xvYmFsID0gdHlwZSAmICRkZWYuR1xuICAgICwgaXNQcm90byAgPSB0eXBlICYgJGRlZi5QXG4gICAgLCB0YXJnZXQgICA9IGlzR2xvYmFsID8gZ2xvYmFsIDogdHlwZSAmICRkZWYuU1xuICAgICAgICA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pLnByb3RvdHlwZVxuICAgICwgZXhwb3J0cyAgPSBpc0dsb2JhbCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICBpZihpc0dsb2JhbClzb3VyY2UgPSBuYW1lO1xuICBmb3Ioa2V5IGluIHNvdXJjZSl7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gISh0eXBlICYgJGRlZi5GKSAmJiB0YXJnZXQgJiYga2V5IGluIHRhcmdldDtcbiAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGlmKGlzR2xvYmFsICYmICFpc0Z1bmN0aW9uKHRhcmdldFtrZXldKSlleHAgPSBzb3VyY2Vba2V5XTtcbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIGVsc2UgaWYodHlwZSAmICRkZWYuQiAmJiBvd24pZXhwID0gY3R4KG91dCwgZ2xvYmFsKTtcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIGVsc2UgaWYodHlwZSAmICRkZWYuVyAmJiB0YXJnZXRba2V5XSA9PSBvdXQpIWZ1bmN0aW9uKEMpe1xuICAgICAgZXhwID0gZnVuY3Rpb24ocGFyYW0pe1xuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEMgPyBuZXcgQyhwYXJhbSkgOiBDKHBhcmFtKTtcbiAgICAgIH07XG4gICAgICBleHAucHJvdG90eXBlID0gQy5wcm90b3R5cGU7XG4gICAgfShvdXQpO1xuICAgIGVsc2UgZXhwID0gaXNQcm90byAmJiBpc0Z1bmN0aW9uKG91dCkgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnRcbiAgICBleHBvcnRzW2tleV0gPSBleHA7XG4gICAgaWYoaXNQcm90bykoZXhwb3J0cy5wcm90b3R5cGUgfHwgKGV4cG9ydHMucHJvdG90eXBlID0ge30pKVtrZXldID0gb3V0O1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9ICRkZWY7IiwidmFyICQgPSByZXF1aXJlKCcuLyQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIga2V5cyAgICAgICA9ICQuZ2V0S2V5cyhpdClcbiAgICAsIGdldERlc2MgICAgPSAkLmdldERlc2NcbiAgICAsIGdldFN5bWJvbHMgPSAkLmdldFN5bWJvbHM7XG4gIGlmKGdldFN5bWJvbHMpJC5lYWNoLmNhbGwoZ2V0U3ltYm9scyhpdCksIGZ1bmN0aW9uKGtleSl7XG4gICAgaWYoZ2V0RGVzYyhpdCwga2V5KS5lbnVtZXJhYmxlKWtleXMucHVzaChrZXkpO1xuICB9KTtcbiAgcmV0dXJuIGtleXM7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oJCl7XG4gICQuRlcgICA9IGZhbHNlO1xuICAkLnBhdGggPSAkLmNvcmU7XG4gIHJldHVybiAkO1xufTsiLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XHJcbnZhciAkID0gcmVxdWlyZSgnLi8kJylcclxuICAsIHRvU3RyaW5nID0ge30udG9TdHJpbmdcclxuICAsIGdldE5hbWVzID0gJC5nZXROYW1lcztcclxuXHJcbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcclxuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcclxuXHJcbmZ1bmN0aW9uIGdldFdpbmRvd05hbWVzKGl0KXtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGdldE5hbWVzKGl0KTtcclxuICB9IGNhdGNoKGUpe1xyXG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcclxuICBpZih3aW5kb3dOYW1lcyAmJiB0b1N0cmluZy5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJylyZXR1cm4gZ2V0V2luZG93TmFtZXMoaXQpO1xyXG4gIHJldHVybiBnZXROYW1lcygkLnRvT2JqZWN0KGl0KSk7XHJcbn07IiwidmFyIGFzc2VydE9iamVjdCA9IHJlcXVpcmUoJy4vJC5hc3NlcnQnKS5vYmo7XG5mdW5jdGlvbiBjbG9zZShpdGVyYXRvcil7XG4gIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFzc2VydE9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xufVxuZnVuY3Rpb24gY2FsbChpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFzc2VydE9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgfSBjYXRjaChlKXtcbiAgICBjbG9zZShpdGVyYXRvcik7XG4gICAgdGhyb3cgZTtcbiAgfVxufVxuY2FsbC5jbG9zZSA9IGNsb3NlO1xubW9kdWxlLmV4cG9ydHMgPSBjYWxsOyIsInZhciAkZGVmICAgICAgICAgICAgPSByZXF1aXJlKCcuLyQuZGVmJylcbiAgLCAkcmVkZWYgICAgICAgICAgPSByZXF1aXJlKCcuLyQucmVkZWYnKVxuICAsICQgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJCcpXG4gICwgY29mICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLmNvZicpXG4gICwgJGl0ZXIgICAgICAgICAgID0gcmVxdWlyZSgnLi8kLml0ZXInKVxuICAsIFNZTUJPTF9JVEVSQVRPUiA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKVxuICAsIEZGX0lURVJBVE9SICAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgICA9ICdrZXlzJ1xuICAsIFZBTFVFUyAgICAgICAgICA9ICd2YWx1ZXMnXG4gICwgSXRlcmF0b3JzICAgICAgID0gJGl0ZXIuSXRlcmF0b3JzO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRSl7XG4gICRpdGVyLmNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIGZ1bmN0aW9uIGNyZWF0ZU1ldGhvZChraW5kKXtcbiAgICBmdW5jdGlvbiAkJCh0aGF0KXtcbiAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhhdCwga2luZCk7XG4gICAgfVxuICAgIHN3aXRjaChraW5kKXtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuICQkKHRoaXMpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICQkKHRoaXMpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKXsgcmV0dXJuICQkKHRoaXMpOyB9O1xuICB9XG4gIHZhciBUQUcgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuICAgICwgcHJvdG8gICAgPSBCYXNlLnByb3RvdHlwZVxuICAgICwgX25hdGl2ZSAgPSBwcm90b1tTWU1CT0xfSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCBfZGVmYXVsdCA9IF9uYXRpdmUgfHwgY3JlYXRlTWV0aG9kKERFRkFVTFQpXG4gICAgLCBtZXRob2RzLCBrZXk7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYoX25hdGl2ZSl7XG4gICAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gJC5nZXRQcm90byhfZGVmYXVsdC5jYWxsKG5ldyBCYXNlKSk7XG4gICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgIGNvZi5zZXQoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgLy8gRkYgZml4XG4gICAgaWYoJC5GVyAmJiAkLmhhcyhwcm90bywgRkZfSVRFUkFUT1IpKSRpdGVyLnNldChJdGVyYXRvclByb3RvdHlwZSwgJC50aGF0KTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoJC5GVyB8fCBGT1JDRSkkaXRlci5zZXQocHJvdG8sIF9kZWZhdWx0KTtcbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSBfZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gJC50aGF0O1xuICBpZihERUZBVUxUKXtcbiAgICBtZXRob2RzID0ge1xuICAgICAga2V5czogICAgSVNfU0VUICAgICAgICAgICAgPyBfZGVmYXVsdCA6IGNyZWF0ZU1ldGhvZChLRVlTKSxcbiAgICAgIHZhbHVlczogIERFRkFVTFQgPT0gVkFMVUVTID8gX2RlZmF1bHQgOiBjcmVhdGVNZXRob2QoVkFMVUVTKSxcbiAgICAgIGVudHJpZXM6IERFRkFVTFQgIT0gVkFMVUVTID8gX2RlZmF1bHQgOiBjcmVhdGVNZXRob2QoJ2VudHJpZXMnKVxuICAgIH07XG4gICAgaWYoRk9SQ0UpZm9yKGtleSBpbiBtZXRob2RzKXtcbiAgICAgIGlmKCEoa2V5IGluIHByb3RvKSkkcmVkZWYocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgJGRlZigkZGVmLlAgKyAkZGVmLkYgKiAkaXRlci5CVUdHWSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbn07IiwidmFyIFNZTUJPTF9JVEVSQVRPUiA9IHJlcXVpcmUoJy4vJC53a3MnKSgnaXRlcmF0b3InKVxuICAsIFNBRkVfQ0xPU0lORyAgICA9IGZhbHNlO1xudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW1NZTUJPTF9JVEVSQVRPUl0oKTtcbiAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKXsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcbiAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG59IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICBpZighU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyICA9IFs3XVxuICAgICAgLCBpdGVyID0gYXJyW1NZTUJPTF9JVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyBzYWZlID0gdHJ1ZTsgfTtcbiAgICBhcnJbU1lNQk9MX0lURVJBVE9SXSA9IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyOyB9O1xuICAgIGV4ZWMoYXJyKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gc2FmZTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCBjb2YgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5jb2YnKVxuICAsIGNsYXNzb2YgICAgICAgICAgID0gY29mLmNsYXNzb2ZcbiAgLCBhc3NlcnQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vJC5hc3NlcnQnKVxuICAsIGFzc2VydE9iamVjdCAgICAgID0gYXNzZXJ0Lm9ialxuICAsIFNZTUJPTF9JVEVSQVRPUiAgID0gcmVxdWlyZSgnLi8kLndrcycpKCdpdGVyYXRvcicpXG4gICwgRkZfSVRFUkFUT1IgICAgICAgPSAnQEBpdGVyYXRvcidcbiAgLCBJdGVyYXRvcnMgICAgICAgICA9IHJlcXVpcmUoJy4vJC5zaGFyZWQnKSgnaXRlcmF0b3JzJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnNldEl0ZXJhdG9yKEl0ZXJhdG9yUHJvdG90eXBlLCAkLnRoYXQpO1xuZnVuY3Rpb24gc2V0SXRlcmF0b3IoTywgdmFsdWUpe1xuICAkLmhpZGUoTywgU1lNQk9MX0lURVJBVE9SLCB2YWx1ZSk7XG4gIC8vIEFkZCBpdGVyYXRvciBmb3IgRkYgaXRlcmF0b3IgcHJvdG9jb2xcbiAgaWYoRkZfSVRFUkFUT1IgaW4gW10pJC5oaWRlKE8sIEZGX0lURVJBVE9SLCB2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG4gIEJVR0dZOiAna2V5cycgaW4gW10gJiYgISgnbmV4dCcgaW4gW10ua2V5cygpKSxcbiAgSXRlcmF0b3JzOiBJdGVyYXRvcnMsXG4gIHN0ZXA6IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lfTtcbiAgfSxcbiAgaXM6IGZ1bmN0aW9uKGl0KXtcbiAgICB2YXIgTyAgICAgID0gT2JqZWN0KGl0KVxuICAgICAgLCBTeW1ib2wgPSAkLmcuU3ltYm9sO1xuICAgIHJldHVybiAoU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvciB8fCBGRl9JVEVSQVRPUikgaW4gT1xuICAgICAgfHwgU1lNQk9MX0lURVJBVE9SIGluIE9cbiAgICAgIHx8ICQuaGFzKEl0ZXJhdG9ycywgY2xhc3NvZihPKSk7XG4gIH0sXG4gIGdldDogZnVuY3Rpb24oaXQpe1xuICAgIHZhciBTeW1ib2wgPSAkLmcuU3ltYm9sXG4gICAgICAsIGdldEl0ZXI7XG4gICAgaWYoaXQgIT0gdW5kZWZpbmVkKXtcbiAgICAgIGdldEl0ZXIgPSBpdFtTeW1ib2wgJiYgU3ltYm9sLml0ZXJhdG9yIHx8IEZGX0lURVJBVE9SXVxuICAgICAgICB8fCBpdFtTWU1CT0xfSVRFUkFUT1JdXG4gICAgICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG4gICAgfVxuICAgIGFzc2VydCgkLmlzRnVuY3Rpb24oZ2V0SXRlciksIGl0LCAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgICByZXR1cm4gYXNzZXJ0T2JqZWN0KGdldEl0ZXIuY2FsbChpdCkpO1xuICB9LFxuICBzZXQ6IHNldEl0ZXJhdG9yLFxuICBjcmVhdGU6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0LCBwcm90byl7XG4gICAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gJC5jcmVhdGUocHJvdG8gfHwgSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiAkLmRlc2MoMSwgbmV4dCl9KTtcbiAgICBjb2Yuc2V0KENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xuICB9XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpXG4gICwgY29yZSAgID0ge31cbiAgLCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAsIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHlcbiAgLCBjZWlsICA9IE1hdGguY2VpbFxuICAsIGZsb29yID0gTWF0aC5mbG9vclxuICAsIG1heCAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICA9IE1hdGgubWluO1xuLy8gVGhlIGVuZ2luZSB3b3JrcyBmaW5lIHdpdGggZGVzY3JpcHRvcnM/IFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHkuXG52YXIgREVTQyA9ICEhZnVuY3Rpb24oKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDI7IH19KS5hID09IDI7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbn0oKTtcbnZhciBoaWRlID0gY3JlYXRlRGVmaW5lcigxKTtcbi8vIDcuMS40IFRvSW50ZWdlclxuZnVuY3Rpb24gdG9JbnRlZ2VyKGl0KXtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59XG5mdW5jdGlvbiBkZXNjKGJpdG1hcCwgdmFsdWUpe1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlICAgICAgIDogdmFsdWVcbiAgfTtcbn1cbmZ1bmN0aW9uIHNpbXBsZVNldChvYmplY3QsIGtleSwgdmFsdWUpe1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufVxuZnVuY3Rpb24gY3JlYXRlRGVmaW5lcihiaXRtYXApe1xuICByZXR1cm4gREVTQyA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gICAgcmV0dXJuICQuc2V0RGVzYyhvYmplY3QsIGtleSwgZGVzYyhiaXRtYXAsIHZhbHVlKSk7XG4gIH0gOiBzaW1wbGVTZXQ7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGl0KXtcbiAgcmV0dXJuIGl0ICE9PSBudWxsICYmICh0eXBlb2YgaXQgPT0gJ29iamVjdCcgfHwgdHlwZW9mIGl0ID09ICdmdW5jdGlvbicpO1xufVxuZnVuY3Rpb24gaXNGdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGFzc2VydERlZmluZWQoaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59XG5cbnZhciAkID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLyQuZncnKSh7XG4gIGc6IGdsb2JhbCxcbiAgY29yZTogY29yZSxcbiAgaHRtbDogZ2xvYmFsLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vY29yZS1qcy1pc29iamVjdFxuICBpc09iamVjdDogICBpc09iamVjdCxcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgdGhhdDogZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgLy8gNy4xLjQgVG9JbnRlZ2VyXG4gIHRvSW50ZWdlcjogdG9JbnRlZ2VyLFxuICAvLyA3LjEuMTUgVG9MZW5ndGhcbiAgdG9MZW5ndGg6IGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxuICB9LFxuICB0b0luZGV4OiBmdW5jdGlvbihpbmRleCwgbGVuZ3RoKXtcbiAgICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gICAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG4gIH0sXG4gIGhhczogZnVuY3Rpb24oaXQsIGtleSl7XG4gICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG4gIH0sXG4gIGNyZWF0ZTogICAgIE9iamVjdC5jcmVhdGUsXG4gIGdldFByb3RvOiAgIE9iamVjdC5nZXRQcm90b3R5cGVPZixcbiAgREVTQzogICAgICAgREVTQyxcbiAgZGVzYzogICAgICAgZGVzYyxcbiAgZ2V0RGVzYzogICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgc2V0RGVzYzogICAgZGVmaW5lUHJvcGVydHksXG4gIHNldERlc2NzOiAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLFxuICBnZXRLZXlzOiAgICBPYmplY3Qua2V5cyxcbiAgZ2V0TmFtZXM6ICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsXG4gIGdldFN5bWJvbHM6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gIGFzc2VydERlZmluZWQ6IGFzc2VydERlZmluZWQsXG4gIC8vIER1bW15LCBmaXggZm9yIG5vdCBhcnJheS1saWtlIEVTMyBzdHJpbmcgaW4gZXM1IG1vZHVsZVxuICBFUzVPYmplY3Q6IE9iamVjdCxcbiAgdG9PYmplY3Q6IGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gJC5FUzVPYmplY3QoYXNzZXJ0RGVmaW5lZChpdCkpO1xuICB9LFxuICBoaWRlOiBoaWRlLFxuICBkZWY6IGNyZWF0ZURlZmluZXIoMCksXG4gIHNldDogZ2xvYmFsLlN5bWJvbCA/IHNpbXBsZVNldCA6IGhpZGUsXG4gIGVhY2g6IFtdLmZvckVhY2hcbn0pO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmlmKHR5cGVvZiBfX2UgIT0gJ3VuZGVmaW5lZCcpX19lID0gY29yZTtcbmlmKHR5cGVvZiBfX2cgIT0gJ3VuZGVmaW5lZCcpX19nID0gZ2xvYmFsOyIsInZhciAkID0gcmVxdWlyZSgnLi8kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgZWwpe1xuICB2YXIgTyAgICAgID0gJC50b09iamVjdChvYmplY3QpXG4gICAgLCBrZXlzICAgPSAkLmdldEtleXMoTylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKGxlbmd0aCA+IGluZGV4KWlmKE9ba2V5ID0ga2V5c1tpbmRleCsrXV0gPT09IGVsKXJldHVybiBrZXk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi8kJykuaGlkZTsiLCJ2YXIgJCAgICAgID0gcmVxdWlyZSgnLi8kJylcclxuICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXHJcbiAgLCBzdG9yZSAgPSAkLmdbU0hBUkVEXSB8fCAoJC5nW1NIQVJFRF0gPSB7fSk7XHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcclxuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcclxufTsiLCIvLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxudmFyICQgPSByZXF1aXJlKCcuLyQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG4gICAgdmFyIHMgPSBTdHJpbmcoJC5hc3NlcnREZWZpbmVkKHRoYXQpKVxuICAgICAgLCBpID0gJC50b0ludGVnZXIocG9zKVxuICAgICAgLCBsID0gcy5sZW5ndGhcbiAgICAgICwgYSwgYjtcbiAgICBpZihpIDwgMCB8fCBpID49IGwpcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbFxuICAgICAgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTsiLCJ2YXIgc2lkID0gMDtcbmZ1bmN0aW9uIHVpZChrZXkpe1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytzaWQgKyBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygzNikpO1xufVxudWlkLnNhZmUgPSByZXF1aXJlKCcuLyQnKS5nLlN5bWJvbCB8fCB1aWQ7XG5tb2R1bGUuZXhwb3J0cyA9IHVpZDsiLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi8kJykuZ1xuICAsIHN0b3JlICA9IHJlcXVpcmUoJy4vJC5zaGFyZWQnKSgnd2tzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBnbG9iYWwuU3ltYm9sICYmIGdsb2JhbC5TeW1ib2xbbmFtZV0gfHwgcmVxdWlyZSgnLi8kLnVpZCcpLnNhZmUoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTsiLCJ2YXIgJCAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIGN0eCAgID0gcmVxdWlyZSgnLi8kLmN0eCcpXG4gICwgJGRlZiAgPSByZXF1aXJlKCcuLyQuZGVmJylcbiAgLCAkaXRlciA9IHJlcXVpcmUoJy4vJC5pdGVyJylcbiAgLCBjYWxsICA9IHJlcXVpcmUoJy4vJC5pdGVyLWNhbGwnKTtcbiRkZWYoJGRlZi5TICsgJGRlZi5GICogIXJlcXVpcmUoJy4vJC5pdGVyLWRldGVjdCcpKGZ1bmN0aW9uKGl0ZXIpeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlLyosIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkKi8pe1xuICAgIHZhciBPICAgICAgID0gT2JqZWN0KCQuYXNzZXJ0RGVmaW5lZChhcnJheUxpa2UpKVxuICAgICAgLCBtYXBmbiAgID0gYXJndW1lbnRzWzFdXG4gICAgICAsIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkXG4gICAgICAsIGYgICAgICAgPSBtYXBwaW5nID8gY3R4KG1hcGZuLCBhcmd1bWVudHNbMl0sIDIpIDogdW5kZWZpbmVkXG4gICAgICAsIGluZGV4ICAgPSAwXG4gICAgICAsIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICBpZigkaXRlci5pcyhPKSl7XG4gICAgICBpdGVyYXRvciA9ICRpdGVyLmdldChPKTtcbiAgICAgIC8vIHN0cmFuZ2UgSUUgcXVpcmtzIG1vZGUgYnVnIC0+IHVzZSB0eXBlb2YgaW5zdGVhZCBvZiBpc0Z1bmN0aW9uXG4gICAgICByZXN1bHQgICA9IG5ldyAodHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheSk7XG4gICAgICBmb3IoOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4Kyspe1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gbWFwcGluZyA/IGNhbGwoaXRlcmF0b3IsIGYsIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc3RyYW5nZSBJRSBxdWlya3MgbW9kZSBidWcgLT4gdXNlIHR5cGVvZiBpbnN0ZWFkIG9mIGlzRnVuY3Rpb25cbiAgICAgIHJlc3VsdCA9IG5ldyAodHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheSkobGVuZ3RoID0gJC50b0xlbmd0aChPLmxlbmd0aCkpO1xuICAgICAgZm9yKDsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gbWFwcGluZyA/IGYoT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7IiwidmFyICQgICAgICAgID0gcmVxdWlyZSgnLi8kJylcbiAgLCAkZGVmICAgICA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAsIGlzT2JqZWN0ID0gJC5pc09iamVjdFxuICAsIHRvT2JqZWN0ID0gJC50b09iamVjdDtcbiQuZWFjaC5jYWxsKCgnZnJlZXplLHNlYWwscHJldmVudEV4dGVuc2lvbnMsaXNGcm96ZW4saXNTZWFsZWQsaXNFeHRlbnNpYmxlLCcgK1xuICAnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLGdldFByb3RvdHlwZU9mLGtleXMsZ2V0T3duUHJvcGVydHlOYW1lcycpLnNwbGl0KCcsJylcbiwgZnVuY3Rpb24oS0VZLCBJRCl7XG4gIHZhciBmbiAgICAgPSAoJC5jb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZm9yY2VkID0gMFxuICAgICwgbWV0aG9kID0ge307XG4gIG1ldGhvZFtLRVldID0gSUQgPT0gMCA/IGZ1bmN0aW9uIGZyZWV6ZShpdCl7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGl0KSA/IGZuKGl0KSA6IGl0O1xuICB9IDogSUQgPT0gMSA/IGZ1bmN0aW9uIHNlYWwoaXQpe1xuICAgIHJldHVybiBpc09iamVjdChpdCkgPyBmbihpdCkgOiBpdDtcbiAgfSA6IElEID09IDIgPyBmdW5jdGlvbiBwcmV2ZW50RXh0ZW5zaW9ucyhpdCl7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGl0KSA/IGZuKGl0KSA6IGl0O1xuICB9IDogSUQgPT0gMyA/IGZ1bmN0aW9uIGlzRnJvemVuKGl0KXtcbiAgICByZXR1cm4gaXNPYmplY3QoaXQpID8gZm4oaXQpIDogdHJ1ZTtcbiAgfSA6IElEID09IDQgPyBmdW5jdGlvbiBpc1NlYWxlZChpdCl7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGl0KSA/IGZuKGl0KSA6IHRydWU7XG4gIH0gOiBJRCA9PSA1ID8gZnVuY3Rpb24gaXNFeHRlbnNpYmxlKGl0KXtcbiAgICByZXR1cm4gaXNPYmplY3QoaXQpID8gZm4oaXQpIDogZmFsc2U7XG4gIH0gOiBJRCA9PSA2ID8gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICAgIHJldHVybiBmbih0b09iamVjdChpdCksIGtleSk7XG4gIH0gOiBJRCA9PSA3ID8gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpe1xuICAgIHJldHVybiBmbihPYmplY3QoJC5hc3NlcnREZWZpbmVkKGl0KSkpO1xuICB9IDogSUQgPT0gOCA/IGZ1bmN0aW9uIGtleXMoaXQpe1xuICAgIHJldHVybiBmbih0b09iamVjdChpdCkpO1xuICB9IDogcmVxdWlyZSgnLi8kLmdldC1uYW1lcycpLmdldDtcbiAgdHJ5IHtcbiAgICBmbigneicpO1xuICB9IGNhdGNoKGUpe1xuICAgIGZvcmNlZCA9IDE7XG4gIH1cbiAgJGRlZigkZGVmLlMgKyAkZGVmLkYgKiBmb3JjZWQsICdPYmplY3QnLCBtZXRob2QpO1xufSk7IiwidmFyIHNldCAgID0gcmVxdWlyZSgnLi8kJykuc2V0XG4gICwgJGF0ICAgPSByZXF1aXJlKCcuLyQuc3RyaW5nLWF0JykodHJ1ZSlcbiAgLCBJVEVSICA9IHJlcXVpcmUoJy4vJC51aWQnKS5zYWZlKCdpdGVyJylcbiAgLCAkaXRlciA9IHJlcXVpcmUoJy4vJC5pdGVyJylcbiAgLCBzdGVwICA9ICRpdGVyLnN0ZXA7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vJC5pdGVyLWRlZmluZScpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcbiAgc2V0KHRoaXMsIElURVIsIHtvOiBTdHJpbmcoaXRlcmF0ZWQpLCBpOiAwfSk7XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgaXRlciAgPSB0aGlzW0lURVJdXG4gICAgLCBPICAgICA9IGl0ZXIub1xuICAgICwgaW5kZXggPSBpdGVyLmlcbiAgICAsIHBvaW50O1xuICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4gc3RlcCgxKTtcbiAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICBpdGVyLmkgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4gc3RlcCgwLCBwb2ludCk7XG59KTsiLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgJCAgICAgICAgPSByZXF1aXJlKCcuLyQnKVxuICAsIHNldFRhZyAgID0gcmVxdWlyZSgnLi8kLmNvZicpLnNldFxuICAsIHVpZCAgICAgID0gcmVxdWlyZSgnLi8kLnVpZCcpXG4gICwgc2hhcmVkICAgPSByZXF1aXJlKCcuLyQuc2hhcmVkJylcbiAgLCAkZGVmICAgICA9IHJlcXVpcmUoJy4vJC5kZWYnKVxuICAsICRyZWRlZiAgID0gcmVxdWlyZSgnLi8kLnJlZGVmJylcbiAgLCBrZXlPZiAgICA9IHJlcXVpcmUoJy4vJC5rZXlvZicpXG4gICwgZW51bUtleXMgPSByZXF1aXJlKCcuLyQuZW51bS1rZXlzJylcbiAgLCBhc3NlcnRPYmplY3QgPSByZXF1aXJlKCcuLyQuYXNzZXJ0Jykub2JqXG4gICwgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlXG4gICwgREVTQyAgICAgPSAkLkRFU0NcbiAgLCBoYXMgICAgICA9ICQuaGFzXG4gICwgJGNyZWF0ZSAgPSAkLmNyZWF0ZVxuICAsIGdldERlc2MgID0gJC5nZXREZXNjXG4gICwgc2V0RGVzYyAgPSAkLnNldERlc2NcbiAgLCBkZXNjICAgICA9ICQuZGVzY1xuICAsICRuYW1lcyAgID0gcmVxdWlyZSgnLi8kLmdldC1uYW1lcycpXG4gICwgZ2V0TmFtZXMgPSAkbmFtZXMuZ2V0XG4gICwgdG9PYmplY3QgPSAkLnRvT2JqZWN0XG4gICwgJFN5bWJvbCAgPSAkLmcuU3ltYm9sXG4gICwgc2V0dGVyICAgPSBmYWxzZVxuICAsIFRBRyAgICAgID0gdWlkKCd0YWcnKVxuICAsIEhJRERFTiAgID0gdWlkKCdoaWRkZW4nKVxuICAsIF9wcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlXG4gICwgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpXG4gICwgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpXG4gICwgdXNlTmF0aXZlID0gJC5pc0Z1bmN0aW9uKCRTeW1ib2wpO1xuXG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0MgPyBmdW5jdGlvbigpeyAvLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWRcbiAgdHJ5IHtcbiAgICByZXR1cm4gJGNyZWF0ZShzZXREZXNjKHt9LCBISURERU4sIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHNldERlc2ModGhpcywgSElEREVOLCB7dmFsdWU6IGZhbHNlfSlbSElEREVOXTtcbiAgICAgIH1cbiAgICB9KSlbSElEREVOXSB8fCBzZXREZXNjO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiBmdW5jdGlvbihpdCwga2V5LCBEKXtcbiAgICAgIHZhciBwcm90b0Rlc2MgPSBnZXREZXNjKE9iamVjdFByb3RvLCBrZXkpO1xuICAgICAgaWYocHJvdG9EZXNjKWRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICAgICAgc2V0RGVzYyhpdCwga2V5LCBEKTtcbiAgICAgIGlmKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pc2V0RGVzYyhPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xuICAgIH07XG4gIH1cbn0oKSA6IHNldERlc2M7XG5cbmZ1bmN0aW9uIHdyYXAodGFnKXtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9ICQuc2V0KCRjcmVhdGUoJFN5bWJvbC5wcm90b3R5cGUpLCBUQUcsIHRhZyk7XG4gIERFU0MgJiYgc2V0dGVyICYmIHNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBkZXNjKDEsIHZhbHVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN5bTtcbn1cblxuZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCl7XG4gIGlmKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkpe1xuICAgIGlmKCFELmVudW1lcmFibGUpe1xuICAgICAgaWYoIWhhcyhpdCwgSElEREVOKSlzZXREZXNjKGl0LCBISURERU4sIGRlc2MoMSwge30pKTtcbiAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0paXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gJGNyZWF0ZShELCB7ZW51bWVyYWJsZTogZGVzYygwLCBmYWxzZSl9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBzZXREZXNjKGl0LCBrZXksIEQpO1xufVxuZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG4gIGFzc2VydE9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvT2JqZWN0KFApKVxuICAgICwgaSAgICA9IDBcbiAgICAsIGwgPSBrZXlzLmxlbmd0aFxuICAgICwga2V5O1xuICB3aGlsZShsID4gaSlkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59XG5mdW5jdGlvbiBjcmVhdGUoaXQsIFApe1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gJGNyZWF0ZShpdCkgOiBkZWZpbmVQcm9wZXJ0aWVzKCRjcmVhdGUoaXQpLCBQKTtcbn1cbmZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSl7XG4gIHZhciBFID0gX3Byb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodGhpcywga2V5KTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XVxuICAgID8gRSA6IHRydWU7XG59XG5mdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gIHZhciBEID0gZ2V0RGVzYyhpdCA9IHRvT2JqZWN0KGl0KSwga2V5KTtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKUQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufVxuZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHZhciBuYW1lcyAgPSBnZXROYW1lcyh0b09iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTilyZXN1bHQucHVzaChrZXkpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KXtcbiAgdmFyIG5hbWVzICA9IGdldE5hbWVzKHRvT2JqZWN0KGl0KSlcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYoIXVzZU5hdGl2ZSl7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKXtcbiAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuICAgIHJldHVybiB3cmFwKHVpZChhcmd1bWVudHNbMF0pKTtcbiAgfTtcbiAgJHJlZGVmKCRTeW1ib2wucHJvdG90eXBlLCAndG9TdHJpbmcnLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzW1RBR107XG4gIH0pO1xuXG4gICQuY3JlYXRlICAgICA9IGNyZWF0ZTtcbiAgJC5zZXREZXNjICAgID0gZGVmaW5lUHJvcGVydHk7XG4gICQuZ2V0RGVzYyAgICA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgJC5zZXREZXNjcyAgID0gZGVmaW5lUHJvcGVydGllcztcbiAgJC5nZXROYW1lcyAgID0gJG5hbWVzLmdldCA9IGdldE93blByb3BlcnR5TmFtZXM7XG4gICQuZ2V0U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZigkLkRFU0MgJiYgJC5GVykkcmVkZWYoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsIHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbn1cblxudmFyIHN5bWJvbFN0YXRpY3MgPSB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24oa2V5KXtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKGtleSl7XG4gICAgcmV0dXJuIGtleU9mKFN5bWJvbFJlZ2lzdHJ5LCBrZXkpO1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uKCl7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24oKXsgc2V0dGVyID0gZmFsc2U7IH1cbn07XG4vLyAxOS40LjIuMiBTeW1ib2wuaGFzSW5zdGFuY2Vcbi8vIDE5LjQuMi4zIFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGVcbi8vIDE5LjQuMi40IFN5bWJvbC5pdGVyYXRvclxuLy8gMTkuNC4yLjYgU3ltYm9sLm1hdGNoXG4vLyAxOS40LjIuOCBTeW1ib2wucmVwbGFjZVxuLy8gMTkuNC4yLjkgU3ltYm9sLnNlYXJjaFxuLy8gMTkuNC4yLjEwIFN5bWJvbC5zcGVjaWVzXG4vLyAxOS40LjIuMTEgU3ltYm9sLnNwbGl0XG4vLyAxOS40LjIuMTIgU3ltYm9sLnRvUHJpbWl0aXZlXG4vLyAxOS40LjIuMTMgU3ltYm9sLnRvU3RyaW5nVGFnXG4vLyAxOS40LjIuMTQgU3ltYm9sLnVuc2NvcGFibGVzXG4kLmVhY2guY2FsbCgoXG4gICAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCwnICtcbiAgICAnc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbiAgKS5zcGxpdCgnLCcpLCBmdW5jdGlvbihpdCl7XG4gICAgdmFyIHN5bSA9IHJlcXVpcmUoJy4vJC53a3MnKShpdCk7XG4gICAgc3ltYm9sU3RhdGljc1tpdF0gPSB1c2VOYXRpdmUgPyBzeW0gOiB3cmFwKHN5bSk7XG4gIH1cbik7XG5cbnNldHRlciA9IHRydWU7XG5cbiRkZWYoJGRlZi5HICsgJGRlZi5XLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cbiRkZWYoJGRlZi5TLCAnU3ltYm9sJywgc3ltYm9sU3RhdGljcyk7XG5cbiRkZWYoJGRlZi5TICsgJGRlZi5GICogIXVzZU5hdGl2ZSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6IGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiBkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6IGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6IGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUYWcoJC5nLkpTT04sICdKU09OJywgdHJ1ZSk7IiwiLyoqXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiAgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiAgb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgZ2xvYmFsLkltbXV0YWJsZSA9IGZhY3RvcnkoKVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0Jzt2YXIgU0xJQ0UkMCA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuICBmdW5jdGlvbiBjcmVhdGVDbGFzcyhjdG9yLCBzdXBlckNsYXNzKSB7XG4gICAgaWYgKHN1cGVyQ2xhc3MpIHtcbiAgICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gICAgfVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvcjtcbiAgfVxuXG4gIC8vIFVzZWQgZm9yIHNldHRpbmcgcHJvdG90eXBlIG1ldGhvZHMgdGhhdCBJRTggY2hva2VzIG9uLlxuICB2YXIgREVMRVRFID0gJ2RlbGV0ZSc7XG5cbiAgLy8gQ29uc3RhbnRzIGRlc2NyaWJpbmcgdGhlIHNpemUgb2YgdHJpZSBub2Rlcy5cbiAgdmFyIFNISUZUID0gNTsgLy8gUmVzdWx0ZWQgaW4gYmVzdCBwZXJmb3JtYW5jZSBhZnRlciBfX19fX18/XG4gIHZhciBTSVpFID0gMSA8PCBTSElGVDtcbiAgdmFyIE1BU0sgPSBTSVpFIC0gMTtcblxuICAvLyBBIGNvbnNpc3RlbnQgc2hhcmVkIHZhbHVlIHJlcHJlc2VudGluZyBcIm5vdCBzZXRcIiB3aGljaCBlcXVhbHMgbm90aGluZyBvdGhlclxuICAvLyB0aGFuIGl0c2VsZiwgYW5kIG5vdGhpbmcgdGhhdCBjb3VsZCBiZSBwcm92aWRlZCBleHRlcm5hbGx5LlxuICB2YXIgTk9UX1NFVCA9IHt9O1xuXG4gIC8vIEJvb2xlYW4gcmVmZXJlbmNlcywgUm91Z2ggZXF1aXZhbGVudCBvZiBgYm9vbCAmYC5cbiAgdmFyIENIQU5HRV9MRU5HVEggPSB7IHZhbHVlOiBmYWxzZSB9O1xuICB2YXIgRElEX0FMVEVSID0geyB2YWx1ZTogZmFsc2UgfTtcblxuICBmdW5jdGlvbiBNYWtlUmVmKHJlZikge1xuICAgIHJlZi52YWx1ZSA9IGZhbHNlO1xuICAgIHJldHVybiByZWY7XG4gIH1cblxuICBmdW5jdGlvbiBTZXRSZWYocmVmKSB7XG4gICAgcmVmICYmIChyZWYudmFsdWUgPSB0cnVlKTtcbiAgfVxuXG4gIC8vIEEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIHZhbHVlIHJlcHJlc2VudGluZyBhbiBcIm93bmVyXCIgZm9yIHRyYW5zaWVudCB3cml0ZXNcbiAgLy8gdG8gdHJpZXMuIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBvbmx5IGV2ZXIgZXF1YWwgaXRzZWxmLCBhbmQgd2lsbCBub3QgZXF1YWxcbiAgLy8gdGhlIHJldHVybiBvZiBhbnkgc3Vic2VxdWVudCBjYWxsIG9mIHRoaXMgZnVuY3Rpb24uXG4gIGZ1bmN0aW9uIE93bmVySUQoKSB7fVxuXG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2NvcHktYXJyYXktaW5saW5lXG4gIGZ1bmN0aW9uIGFyckNvcHkoYXJyLCBvZmZzZXQpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgICB2YXIgbGVuID0gTWF0aC5tYXgoMCwgYXJyLmxlbmd0aCAtIG9mZnNldCk7XG4gICAgdmFyIG5ld0FyciA9IG5ldyBBcnJheShsZW4pO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICAgIG5ld0FycltpaV0gPSBhcnJbaWkgKyBvZmZzZXRdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3QXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5zdXJlU2l6ZShpdGVyKSB7XG4gICAgaWYgKGl0ZXIuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpdGVyLnNpemUgPSBpdGVyLl9faXRlcmF0ZShyZXR1cm5UcnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZXIuc2l6ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXBJbmRleChpdGVyLCBpbmRleCkge1xuICAgIHJldHVybiBpbmRleCA+PSAwID8gKCtpbmRleCkgOiBlbnN1cmVTaXplKGl0ZXIpICsgKCtpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gd2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKSB7XG4gICAgcmV0dXJuIChiZWdpbiA9PT0gMCB8fCAoc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGJlZ2luIDw9IC1zaXplKSkgJiZcbiAgICAgIChlbmQgPT09IHVuZGVmaW5lZCB8fCAoc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGVuZCA+PSBzaXplKSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUluZGV4KGJlZ2luLCBzaXplLCAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVFbmQoZW5kLCBzaXplKSB7XG4gICAgcmV0dXJuIHJlc29sdmVJbmRleChlbmQsIHNpemUsIHNpemUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUluZGV4KGluZGV4LCBzaXplLCBkZWZhdWx0SW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggPT09IHVuZGVmaW5lZCA/XG4gICAgICBkZWZhdWx0SW5kZXggOlxuICAgICAgaW5kZXggPCAwID9cbiAgICAgICAgTWF0aC5tYXgoMCwgc2l6ZSArIGluZGV4KSA6XG4gICAgICAgIHNpemUgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgaW5kZXggOlxuICAgICAgICAgIE1hdGgubWluKHNpemUsIGluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJdGVyYWJsZSh2YWx1ZSkgPyB2YWx1ZSA6IFNlcSh2YWx1ZSk7XG4gICAgfVxuXG5cbiAgY3JlYXRlQ2xhc3MoS2V5ZWRJdGVyYWJsZSwgSXRlcmFibGUpO1xuICAgIGZ1bmN0aW9uIEtleWVkSXRlcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0tleWVkKHZhbHVlKSA/IHZhbHVlIDogS2V5ZWRTZXEodmFsdWUpO1xuICAgIH1cblxuXG4gIGNyZWF0ZUNsYXNzKEluZGV4ZWRJdGVyYWJsZSwgSXRlcmFibGUpO1xuICAgIGZ1bmN0aW9uIEluZGV4ZWRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW5kZXhlZCh2YWx1ZSkgPyB2YWx1ZSA6IEluZGV4ZWRTZXEodmFsdWUpO1xuICAgIH1cblxuXG4gIGNyZWF0ZUNsYXNzKFNldEl0ZXJhYmxlLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gU2V0SXRlcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0l0ZXJhYmxlKHZhbHVlKSAmJiAhaXNBc3NvY2lhdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IFNldFNlcSh2YWx1ZSk7XG4gICAgfVxuXG5cblxuICBmdW5jdGlvbiBpc0l0ZXJhYmxlKG1heWJlSXRlcmFibGUpIHtcbiAgICByZXR1cm4gISEobWF5YmVJdGVyYWJsZSAmJiBtYXliZUl0ZXJhYmxlW0lTX0lURVJBQkxFX1NFTlRJTkVMXSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0tleWVkKG1heWJlS2V5ZWQpIHtcbiAgICByZXR1cm4gISEobWF5YmVLZXllZCAmJiBtYXliZUtleWVkW0lTX0tFWUVEX1NFTlRJTkVMXSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0luZGV4ZWQobWF5YmVJbmRleGVkKSB7XG4gICAgcmV0dXJuICEhKG1heWJlSW5kZXhlZCAmJiBtYXliZUluZGV4ZWRbSVNfSU5ERVhFRF9TRU5USU5FTF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNBc3NvY2lhdGl2ZShtYXliZUFzc29jaWF0aXZlKSB7XG4gICAgcmV0dXJuIGlzS2V5ZWQobWF5YmVBc3NvY2lhdGl2ZSkgfHwgaXNJbmRleGVkKG1heWJlQXNzb2NpYXRpdmUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNPcmRlcmVkKG1heWJlT3JkZXJlZCkge1xuICAgIHJldHVybiAhIShtYXliZU9yZGVyZWQgJiYgbWF5YmVPcmRlcmVkW0lTX09SREVSRURfU0VOVElORUxdKTtcbiAgfVxuXG4gIEl0ZXJhYmxlLmlzSXRlcmFibGUgPSBpc0l0ZXJhYmxlO1xuICBJdGVyYWJsZS5pc0tleWVkID0gaXNLZXllZDtcbiAgSXRlcmFibGUuaXNJbmRleGVkID0gaXNJbmRleGVkO1xuICBJdGVyYWJsZS5pc0Fzc29jaWF0aXZlID0gaXNBc3NvY2lhdGl2ZTtcbiAgSXRlcmFibGUuaXNPcmRlcmVkID0gaXNPcmRlcmVkO1xuXG4gIEl0ZXJhYmxlLktleWVkID0gS2V5ZWRJdGVyYWJsZTtcbiAgSXRlcmFibGUuSW5kZXhlZCA9IEluZGV4ZWRJdGVyYWJsZTtcbiAgSXRlcmFibGUuU2V0ID0gU2V0SXRlcmFibGU7XG5cblxuICB2YXIgSVNfSVRFUkFCTEVfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9JVEVSQUJMRV9fQEAnO1xuICB2YXIgSVNfS0VZRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9LRVlFRF9fQEAnO1xuICB2YXIgSVNfSU5ERVhFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lOREVYRURfX0BAJztcbiAgdmFyIElTX09SREVSRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCc7XG5cbiAgLyogZ2xvYmFsIFN5bWJvbCAqL1xuXG4gIHZhciBJVEVSQVRFX0tFWVMgPSAwO1xuICB2YXIgSVRFUkFURV9WQUxVRVMgPSAxO1xuICB2YXIgSVRFUkFURV9FTlRSSUVTID0gMjtcblxuICB2YXIgUkVBTF9JVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbiAgdmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuXG4gIHZhciBJVEVSQVRPUl9TWU1CT0wgPSBSRUFMX0lURVJBVE9SX1NZTUJPTCB8fCBGQVVYX0lURVJBVE9SX1NZTUJPTDtcblxuXG4gIGZ1bmN0aW9uIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IobmV4dCkge1xuICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcbiAgICB9XG5cbiAgICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICdbSXRlcmF0b3JdJztcbiAgICB9O1xuXG5cbiAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5LRVlTID0gSVRFUkFURV9LRVlTO1xuICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLlZBTFVFUyA9IElURVJBVEVfVkFMVUVTO1xuICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLkVOVFJJRVMgPSBJVEVSQVRFX0VOVFJJRVM7XG5cbiAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5wcm90b3R5cGUuaW5zcGVjdCA9XG4gIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IucHJvdG90eXBlLnRvU291cmNlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy50b1N0cmluZygpOyB9XG4gIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IucHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxuICBmdW5jdGlvbiBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIGl0ZXJhdG9yUmVzdWx0KSB7XG4gICAgdmFyIHZhbHVlID0gdHlwZSA9PT0gMCA/IGsgOiB0eXBlID09PSAxID8gdiA6IFtrLCB2XTtcbiAgICBpdGVyYXRvclJlc3VsdCA/IChpdGVyYXRvclJlc3VsdC52YWx1ZSA9IHZhbHVlKSA6IChpdGVyYXRvclJlc3VsdCA9IHtcbiAgICAgIHZhbHVlOiB2YWx1ZSwgZG9uZTogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm4gaXRlcmF0b3JSZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBpdGVyYXRvckRvbmUoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzSXRlcmF0b3IobWF5YmVJdGVyYWJsZSkge1xuICAgIHJldHVybiAhIWdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0l0ZXJhdG9yKG1heWJlSXRlcmF0b3IpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvciAmJiB0eXBlb2YgbWF5YmVJdGVyYXRvci5uZXh0ID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SXRlcmF0b3IoaXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oaXRlcmFibGUpO1xuICAgIHJldHVybiBpdGVyYXRvckZuICYmIGl0ZXJhdG9yRm4uY2FsbChpdGVyYWJsZSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKGl0ZXJhYmxlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBpdGVyYWJsZSAmJiAoXG4gICAgICAoUkVBTF9JVEVSQVRPUl9TWU1CT0wgJiYgaXRlcmFibGVbUkVBTF9JVEVSQVRPUl9TWU1CT0xdKSB8fFxuICAgICAgaXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdXG4gICAgKTtcbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT09ICdudW1iZXInO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU2VxLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gU2VxKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5U2VxdWVuY2UoKSA6XG4gICAgICAgIGlzSXRlcmFibGUodmFsdWUpID8gdmFsdWUudG9TZXEoKSA6IHNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgU2VxLm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIFNlcShhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBTZXEucHJvdG90eXBlLnRvU2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgU2VxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU2VxIHsnLCAnfScpO1xuICAgIH07XG5cbiAgICBTZXEucHJvdG90eXBlLmNhY2hlUmVzdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX2NhY2hlICYmIHRoaXMuX19pdGVyYXRlVW5jYWNoZWQpIHtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSB0aGlzLmVudHJ5U2VxKCkudG9BcnJheSgpO1xuICAgICAgICB0aGlzLnNpemUgPSB0aGlzLl9jYWNoZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLy8gYWJzdHJhY3QgX19pdGVyYXRlVW5jYWNoZWQoZm4sIHJldmVyc2UpXG5cbiAgICBTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gc2VxSXRlcmF0ZSh0aGlzLCBmbiwgcmV2ZXJzZSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIC8vIGFic3RyYWN0IF9faXRlcmF0b3JVbmNhY2hlZCh0eXBlLCByZXZlcnNlKVxuXG4gICAgU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHNlcUl0ZXJhdG9yKHRoaXMsIHR5cGUsIHJldmVyc2UsIHRydWUpO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKEtleWVkU2VxLCBTZXEpO1xuICAgIGZ1bmN0aW9uIEtleWVkU2VxKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgIGVtcHR5U2VxdWVuY2UoKS50b0tleWVkU2VxKCkgOlxuICAgICAgICBpc0l0ZXJhYmxlKHZhbHVlKSA/XG4gICAgICAgICAgKGlzS2V5ZWQodmFsdWUpID8gdmFsdWUudG9TZXEoKSA6IHZhbHVlLmZyb21FbnRyeVNlcSgpKSA6XG4gICAgICAgICAga2V5ZWRTZXFGcm9tVmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIEtleWVkU2VxLnByb3RvdHlwZS50b0tleWVkU2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhJbmRleGVkU2VxLCBTZXEpO1xuICAgIGZ1bmN0aW9uIEluZGV4ZWRTZXEodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTZXF1ZW5jZSgpIDpcbiAgICAgICAgIWlzSXRlcmFibGUodmFsdWUpID8gaW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkgOlxuICAgICAgICBpc0tleWVkKHZhbHVlKSA/IHZhbHVlLmVudHJ5U2VxKCkgOiB2YWx1ZS50b0luZGV4ZWRTZXEoKTtcbiAgICB9XG5cbiAgICBJbmRleGVkU2VxLm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIEluZGV4ZWRTZXEoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgSW5kZXhlZFNlcS5wcm90b3R5cGUudG9JbmRleGVkU2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgSW5kZXhlZFNlcS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1NlcSBbJywgJ10nKTtcbiAgICB9O1xuXG4gICAgSW5kZXhlZFNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBzZXFJdGVyYXRlKHRoaXMsIGZuLCByZXZlcnNlLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIEluZGV4ZWRTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gc2VxSXRlcmF0b3IodGhpcywgdHlwZSwgcmV2ZXJzZSwgZmFsc2UpO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKFNldFNlcSwgU2VxKTtcbiAgICBmdW5jdGlvbiBTZXRTZXEodmFsdWUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eVNlcXVlbmNlKCkgOlxuICAgICAgICAhaXNJdGVyYWJsZSh2YWx1ZSkgPyBpbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSA6XG4gICAgICAgIGlzS2V5ZWQodmFsdWUpID8gdmFsdWUuZW50cnlTZXEoKSA6IHZhbHVlXG4gICAgICApLnRvU2V0U2VxKCk7XG4gICAgfVxuXG4gICAgU2V0U2VxLm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIFNldFNlcShhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBTZXRTZXEucHJvdG90eXBlLnRvU2V0U2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5cblxuICBTZXEuaXNTZXEgPSBpc1NlcTtcbiAgU2VxLktleWVkID0gS2V5ZWRTZXE7XG4gIFNlcS5TZXQgPSBTZXRTZXE7XG4gIFNlcS5JbmRleGVkID0gSW5kZXhlZFNlcTtcblxuICB2YXIgSVNfU0VRX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfU0VRX19AQCc7XG5cbiAgU2VxLnByb3RvdHlwZVtJU19TRVFfU0VOVElORUxdID0gdHJ1ZTtcblxuXG5cbiAgLy8gI3ByYWdtYSBSb290IFNlcXVlbmNlc1xuXG4gIGNyZWF0ZUNsYXNzKEFycmF5U2VxLCBJbmRleGVkU2VxKTtcbiAgICBmdW5jdGlvbiBBcnJheVNlcShhcnJheSkge1xuICAgICAgdGhpcy5fYXJyYXkgPSBhcnJheTtcbiAgICAgIHRoaXMuc2l6ZSA9IGFycmF5Lmxlbmd0aDtcbiAgICB9XG5cbiAgICBBcnJheVNlcS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID8gdGhpcy5fYXJyYXlbd3JhcEluZGV4KHRoaXMsIGluZGV4KV0gOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgQXJyYXlTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9hcnJheTtcbiAgICAgIHZhciBtYXhJbmRleCA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICAgIGlmIChmbihhcnJheVtyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXSwgaWksIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9O1xuXG4gICAgQXJyYXlTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9hcnJheTtcbiAgICAgIHZhciBtYXhJbmRleCA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgICB2YXIgaWkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgXG4gICAgICAgIHtyZXR1cm4gaWkgPiBtYXhJbmRleCA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaWksIGFycmF5W3JldmVyc2UgPyBtYXhJbmRleCAtIGlpKysgOiBpaSsrXSl9XG4gICAgICApO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKE9iamVjdFNlcSwgS2V5ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIE9iamVjdFNlcShvYmplY3QpIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcbiAgICAgIHRoaXMuX29iamVjdCA9IG9iamVjdDtcbiAgICAgIHRoaXMuX2tleXMgPSBrZXlzO1xuICAgICAgdGhpcy5zaXplID0ga2V5cy5sZW5ndGg7XG4gICAgfVxuXG4gICAgT2JqZWN0U2VxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICBpZiAobm90U2V0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5oYXMoa2V5KSkge1xuICAgICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fb2JqZWN0W2tleV07XG4gICAgfTtcblxuICAgIE9iamVjdFNlcS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fb2JqZWN0Lmhhc093blByb3BlcnR5KGtleSk7XG4gICAgfTtcblxuICAgIE9iamVjdFNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHZhciBvYmplY3QgPSB0aGlzLl9vYmplY3Q7XG4gICAgICB2YXIga2V5cyA9IHRoaXMuX2tleXM7XG4gICAgICB2YXIgbWF4SW5kZXggPSBrZXlzLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgICBpZiAoZm4ob2JqZWN0W2tleV0sIGtleSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGlpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlpO1xuICAgIH07XG5cbiAgICBPYmplY3RTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gdGhpcy5fb2JqZWN0O1xuICAgICAgdmFyIGtleXMgPSB0aGlzLl9rZXlzO1xuICAgICAgdmFyIG1heEluZGV4ID0ga2V5cy5sZW5ndGggLSAxO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgICByZXR1cm4gaWkrKyA+IG1heEluZGV4ID9cbiAgICAgICAgICBpdGVyYXRvckRvbmUoKSA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBrZXksIG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgT2JqZWN0U2VxLnByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cblxuICBjcmVhdGVDbGFzcyhJdGVyYWJsZVNlcSwgSW5kZXhlZFNlcSk7XG4gICAgZnVuY3Rpb24gSXRlcmFibGVTZXEoaXRlcmFibGUpIHtcbiAgICAgIHRoaXMuX2l0ZXJhYmxlID0gaXRlcmFibGU7XG4gICAgICB0aGlzLnNpemUgPSBpdGVyYWJsZS5sZW5ndGggfHwgaXRlcmFibGUuc2l6ZTtcbiAgICB9XG5cbiAgICBJdGVyYWJsZVNlcS5wcm90b3R5cGUuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhYmxlID0gdGhpcy5faXRlcmFibGU7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihpdGVyYWJsZSk7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpZiAoaXNJdGVyYXRvcihpdGVyYXRvcikpIHtcbiAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICBpZiAoZm4oc3RlcC52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcblxuICAgIEl0ZXJhYmxlU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmFibGUgPSB0aGlzLl9pdGVyYWJsZTtcbiAgICAgIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGl0ZXJhYmxlKTtcbiAgICAgIGlmICghaXNJdGVyYXRvcihpdGVyYXRvcikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGl0ZXJhdG9yRG9uZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHN0ZXAuZG9uZSA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhJdGVyYXRvclNlcSwgSW5kZXhlZFNlcSk7XG4gICAgZnVuY3Rpb24gSXRlcmF0b3JTZXEoaXRlcmF0b3IpIHtcbiAgICAgIHRoaXMuX2l0ZXJhdG9yID0gaXRlcmF0b3I7XG4gICAgICB0aGlzLl9pdGVyYXRvckNhY2hlID0gW107XG4gICAgfVxuXG4gICAgSXRlcmF0b3JTZXEucHJvdG90eXBlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXJhdG9yO1xuICAgICAgdmFyIGNhY2hlID0gdGhpcy5faXRlcmF0b3JDYWNoZTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHdoaWxlIChpdGVyYXRpb25zIDwgY2FjaGUubGVuZ3RoKSB7XG4gICAgICAgIGlmIChmbihjYWNoZVtpdGVyYXRpb25zXSwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHN0ZXA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIHZhciB2YWwgPSBzdGVwLnZhbHVlO1xuICAgICAgICBjYWNoZVtpdGVyYXRpb25zXSA9IHZhbDtcbiAgICAgICAgaWYgKGZuKHZhbCwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcblxuICAgIEl0ZXJhdG9yU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyYXRvcjtcbiAgICAgIHZhciBjYWNoZSA9IHRoaXMuX2l0ZXJhdG9yQ2FjaGU7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICBpZiAoaXRlcmF0aW9ucyA+PSBjYWNoZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FjaGVbaXRlcmF0aW9uc10gPSBzdGVwLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMsIGNhY2hlW2l0ZXJhdGlvbnMrK10pO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG5cblxuICAvLyAjIHByYWdtYSBIZWxwZXIgZnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24gaXNTZXEobWF5YmVTZXEpIHtcbiAgICByZXR1cm4gISEobWF5YmVTZXEgJiYgbWF5YmVTZXFbSVNfU0VRX1NFTlRJTkVMXSk7XG4gIH1cblxuICB2YXIgRU1QVFlfU0VRO1xuXG4gIGZ1bmN0aW9uIGVtcHR5U2VxdWVuY2UoKSB7XG4gICAgcmV0dXJuIEVNUFRZX1NFUSB8fCAoRU1QVFlfU0VRID0gbmV3IEFycmF5U2VxKFtdKSk7XG4gIH1cblxuICBmdW5jdGlvbiBrZXllZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICAgIHZhciBzZXEgPVxuICAgICAgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBuZXcgQXJyYXlTZXEodmFsdWUpLmZyb21FbnRyeVNlcSgpIDpcbiAgICAgIGlzSXRlcmF0b3IodmFsdWUpID8gbmV3IEl0ZXJhdG9yU2VxKHZhbHVlKS5mcm9tRW50cnlTZXEoKSA6XG4gICAgICBoYXNJdGVyYXRvcih2YWx1ZSkgPyBuZXcgSXRlcmFibGVTZXEodmFsdWUpLmZyb21FbnRyeVNlcSgpIDpcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgPyBuZXcgT2JqZWN0U2VxKHZhbHVlKSA6XG4gICAgICB1bmRlZmluZWQ7XG4gICAgaWYgKCFzZXEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdFeHBlY3RlZCBBcnJheSBvciBpdGVyYWJsZSBvYmplY3Qgb2YgW2ssIHZdIGVudHJpZXMsICcrXG4gICAgICAgICdvciBrZXllZCBvYmplY3Q6ICcgKyB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgICB2YXIgc2VxID0gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgICBpZiAoIXNlcSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ0V4cGVjdGVkIEFycmF5IG9yIGl0ZXJhYmxlIG9iamVjdCBvZiB2YWx1ZXM6ICcgKyB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICAgIHZhciBzZXEgPSBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHx8XG4gICAgICAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBuZXcgT2JqZWN0U2VxKHZhbHVlKSk7XG4gICAgaWYgKCFzZXEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdFeHBlY3RlZCBBcnJheSBvciBpdGVyYWJsZSBvYmplY3Qgb2YgdmFsdWVzLCBvciBrZXllZCBvYmplY3Q6ICcgKyB2YWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiAoXG4gICAgICBpc0FycmF5TGlrZSh2YWx1ZSkgPyBuZXcgQXJyYXlTZXEodmFsdWUpIDpcbiAgICAgIGlzSXRlcmF0b3IodmFsdWUpID8gbmV3IEl0ZXJhdG9yU2VxKHZhbHVlKSA6XG4gICAgICBoYXNJdGVyYXRvcih2YWx1ZSkgPyBuZXcgSXRlcmFibGVTZXEodmFsdWUpIDpcbiAgICAgIHVuZGVmaW5lZFxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXFJdGVyYXRlKHNlcSwgZm4sIHJldmVyc2UsIHVzZUtleXMpIHtcbiAgICB2YXIgY2FjaGUgPSBzZXEuX2NhY2hlO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgdmFyIG1heEluZGV4ID0gY2FjaGUubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gY2FjaGVbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICAgIGlmIChmbihlbnRyeVsxXSwgdXNlS2V5cyA/IGVudHJ5WzBdIDogaWksIHNlcSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGlpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlpO1xuICAgIH1cbiAgICByZXR1cm4gc2VxLl9faXRlcmF0ZVVuY2FjaGVkKGZuLCByZXZlcnNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcUl0ZXJhdG9yKHNlcSwgdHlwZSwgcmV2ZXJzZSwgdXNlS2V5cykge1xuICAgIHZhciBjYWNoZSA9IHNlcS5fY2FjaGU7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICB2YXIgbWF4SW5kZXggPSBjYWNoZS5sZW5ndGggLSAxO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBlbnRyeSA9IGNhY2hlW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgICByZXR1cm4gaWkrKyA+IG1heEluZGV4ID9cbiAgICAgICAgICBpdGVyYXRvckRvbmUoKSA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCB1c2VLZXlzID8gZW50cnlbMF0gOiBpaSAtIDEsIGVudHJ5WzFdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VxLl9faXRlcmF0b3JVbmNhY2hlZCh0eXBlLCByZXZlcnNlKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKENvbGxlY3Rpb24sIEl0ZXJhYmxlKTtcbiAgICBmdW5jdGlvbiBDb2xsZWN0aW9uKCkge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdBYnN0cmFjdCcpO1xuICAgIH1cblxuXG4gIGNyZWF0ZUNsYXNzKEtleWVkQ29sbGVjdGlvbiwgQ29sbGVjdGlvbik7ZnVuY3Rpb24gS2V5ZWRDb2xsZWN0aW9uKCkge31cblxuICBjcmVhdGVDbGFzcyhJbmRleGVkQ29sbGVjdGlvbiwgQ29sbGVjdGlvbik7ZnVuY3Rpb24gSW5kZXhlZENvbGxlY3Rpb24oKSB7fVxuXG4gIGNyZWF0ZUNsYXNzKFNldENvbGxlY3Rpb24sIENvbGxlY3Rpb24pO2Z1bmN0aW9uIFNldENvbGxlY3Rpb24oKSB7fVxuXG5cbiAgQ29sbGVjdGlvbi5LZXllZCA9IEtleWVkQ29sbGVjdGlvbjtcbiAgQ29sbGVjdGlvbi5JbmRleGVkID0gSW5kZXhlZENvbGxlY3Rpb247XG4gIENvbGxlY3Rpb24uU2V0ID0gU2V0Q29sbGVjdGlvbjtcblxuICAvKipcbiAgICogQW4gZXh0ZW5zaW9uIG9mIHRoZSBcInNhbWUtdmFsdWVcIiBhbGdvcml0aG0gYXMgW2Rlc2NyaWJlZCBmb3IgdXNlIGJ5IEVTNiBNYXBcbiAgICogYW5kIFNldF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWFwI0tleV9lcXVhbGl0eSlcbiAgICpcbiAgICogTmFOIGlzIGNvbnNpZGVyZWQgdGhlIHNhbWUgYXMgTmFOLCBob3dldmVyIC0wIGFuZCAwIGFyZSBjb25zaWRlcmVkIHRoZSBzYW1lXG4gICAqIHZhbHVlLCB3aGljaCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYWxnb3JpdGhtIGRlc2NyaWJlZCBieVxuICAgKiBbYE9iamVjdC5pc2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pcykuXG4gICAqXG4gICAqIFRoaXMgaXMgZXh0ZW5kZWQgZnVydGhlciB0byBhbGxvdyBPYmplY3RzIHRvIGRlc2NyaWJlIHRoZSB2YWx1ZXMgdGhleVxuICAgKiByZXByZXNlbnQsIGJ5IHdheSBvZiBgdmFsdWVPZmAgb3IgYGVxdWFsc2AgKGFuZCBgaGFzaENvZGVgKS5cbiAgICpcbiAgICogTm90ZTogYmVjYXVzZSBvZiB0aGlzIGV4dGVuc2lvbiwgdGhlIGtleSBlcXVhbGl0eSBvZiBJbW11dGFibGUuTWFwIGFuZCB0aGVcbiAgICogdmFsdWUgZXF1YWxpdHkgb2YgSW1tdXRhYmxlLlNldCB3aWxsIGRpZmZlciBmcm9tIEVTNiBNYXAgYW5kIFNldC5cbiAgICpcbiAgICogIyMjIERlZmluaW5nIGN1c3RvbSB2YWx1ZXNcbiAgICpcbiAgICogVGhlIGVhc2llc3Qgd2F5IHRvIGRlc2NyaWJlIHRoZSB2YWx1ZSBhbiBvYmplY3QgcmVwcmVzZW50cyBpcyBieSBpbXBsZW1lbnRpbmdcbiAgICogYHZhbHVlT2ZgLiBGb3IgZXhhbXBsZSwgYERhdGVgIHJlcHJlc2VudHMgYSB2YWx1ZSBieSByZXR1cm5pbmcgYSB1bml4XG4gICAqIHRpbWVzdGFtcCBmb3IgYHZhbHVlT2ZgOlxuICAgKlxuICAgKiAgICAgdmFyIGRhdGUxID0gbmV3IERhdGUoMTIzNDU2Nzg5MDAwMCk7IC8vIEZyaSBGZWIgMTMgMjAwOSAuLi5cbiAgICogICAgIHZhciBkYXRlMiA9IG5ldyBEYXRlKDEyMzQ1Njc4OTAwMDApO1xuICAgKiAgICAgZGF0ZTEudmFsdWVPZigpOyAvLyAxMjM0NTY3ODkwMDAwXG4gICAqICAgICBhc3NlcnQoIGRhdGUxICE9PSBkYXRlMiApO1xuICAgKiAgICAgYXNzZXJ0KCBJbW11dGFibGUuaXMoIGRhdGUxLCBkYXRlMiApICk7XG4gICAqXG4gICAqIE5vdGU6IG92ZXJyaWRpbmcgYHZhbHVlT2ZgIG1heSBoYXZlIG90aGVyIGltcGxpY2F0aW9ucyBpZiB5b3UgdXNlIHRoaXMgb2JqZWN0XG4gICAqIHdoZXJlIEphdmFTY3JpcHQgZXhwZWN0cyBhIHByaW1pdGl2ZSwgc3VjaCBhcyBpbXBsaWNpdCBzdHJpbmcgY29lcmNpb24uXG4gICAqXG4gICAqIEZvciBtb3JlIGNvbXBsZXggdHlwZXMsIGVzcGVjaWFsbHkgY29sbGVjdGlvbnMsIGltcGxlbWVudGluZyBgdmFsdWVPZmAgbWF5XG4gICAqIG5vdCBiZSBwZXJmb3JtYW50LiBBbiBhbHRlcm5hdGl2ZSBpcyB0byBpbXBsZW1lbnQgYGVxdWFsc2AgYW5kIGBoYXNoQ29kZWAuXG4gICAqXG4gICAqIGBlcXVhbHNgIHRha2VzIGFub3RoZXIgb2JqZWN0LCBwcmVzdW1hYmx5IG9mIHNpbWlsYXIgdHlwZSwgYW5kIHJldHVybnMgdHJ1ZVxuICAgKiBpZiB0aGUgaXQgaXMgZXF1YWwuIEVxdWFsaXR5IGlzIHN5bW1ldHJpY2FsLCBzbyB0aGUgc2FtZSByZXN1bHQgc2hvdWxkIGJlXG4gICAqIHJldHVybmVkIGlmIHRoaXMgYW5kIHRoZSBhcmd1bWVudCBhcmUgZmxpcHBlZC5cbiAgICpcbiAgICogICAgIGFzc2VydCggYS5lcXVhbHMoYikgPT09IGIuZXF1YWxzKGEpICk7XG4gICAqXG4gICAqIGBoYXNoQ29kZWAgcmV0dXJucyBhIDMyYml0IGludGVnZXIgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgb2JqZWN0IHdoaWNoIHdpbGxcbiAgICogYmUgdXNlZCB0byBkZXRlcm1pbmUgaG93IHRvIHN0b3JlIHRoZSB2YWx1ZSBvYmplY3QgaW4gYSBNYXAgb3IgU2V0LiBZb3UgbXVzdFxuICAgKiBwcm92aWRlIGJvdGggb3IgbmVpdGhlciBtZXRob2RzLCBvbmUgbXVzdCBub3QgZXhpc3Qgd2l0aG91dCB0aGUgb3RoZXIuXG4gICAqXG4gICAqIEFsc28sIGFuIGltcG9ydGFudCByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGVzZSBtZXRob2RzIG11c3QgYmUgdXBoZWxkOiBpZiB0d29cbiAgICogdmFsdWVzIGFyZSBlcXVhbCwgdGhleSAqbXVzdCogcmV0dXJuIHRoZSBzYW1lIGhhc2hDb2RlLiBJZiB0aGUgdmFsdWVzIGFyZSBub3RcbiAgICogZXF1YWwsIHRoZXkgbWlnaHQgaGF2ZSB0aGUgc2FtZSBoYXNoQ29kZTsgdGhpcyBpcyBjYWxsZWQgYSBoYXNoIGNvbGxpc2lvbixcbiAgICogYW5kIHdoaWxlIHVuZGVzaXJhYmxlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLCBpdCBpcyBhY2NlcHRhYmxlLlxuICAgKlxuICAgKiAgICAgaWYgKGEuZXF1YWxzKGIpKSB7XG4gICAqICAgICAgIGFzc2VydCggYS5oYXNoQ29kZSgpID09PSBiLmhhc2hDb2RlKCkgKTtcbiAgICogICAgIH1cbiAgICpcbiAgICogQWxsIEltbXV0YWJsZSBjb2xsZWN0aW9ucyBpbXBsZW1lbnQgYGVxdWFsc2AgYW5kIGBoYXNoQ29kZWAuXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBpcyh2YWx1ZUEsIHZhbHVlQikge1xuICAgIGlmICh2YWx1ZUEgPT09IHZhbHVlQiB8fCAodmFsdWVBICE9PSB2YWx1ZUEgJiYgdmFsdWVCICE9PSB2YWx1ZUIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCF2YWx1ZUEgfHwgIXZhbHVlQikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlQS52YWx1ZU9mID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHR5cGVvZiB2YWx1ZUIudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsdWVBID0gdmFsdWVBLnZhbHVlT2YoKTtcbiAgICAgIHZhbHVlQiA9IHZhbHVlQi52YWx1ZU9mKCk7XG4gICAgICBpZiAodmFsdWVBID09PSB2YWx1ZUIgfHwgKHZhbHVlQSAhPT0gdmFsdWVBICYmIHZhbHVlQiAhPT0gdmFsdWVCKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghdmFsdWVBIHx8ICF2YWx1ZUIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlQS5lcXVhbHMgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgdHlwZW9mIHZhbHVlQi5lcXVhbHMgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgdmFsdWVBLmVxdWFscyh2YWx1ZUIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZnJvbUpTKGpzb24sIGNvbnZlcnRlcikge1xuICAgIHJldHVybiBjb252ZXJ0ZXIgP1xuICAgICAgZnJvbUpTV2l0aChjb252ZXJ0ZXIsIGpzb24sICcnLCB7Jyc6IGpzb259KSA6XG4gICAgICBmcm9tSlNEZWZhdWx0KGpzb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gZnJvbUpTV2l0aChjb252ZXJ0ZXIsIGpzb24sIGtleSwgcGFyZW50SlNPTikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICByZXR1cm4gY29udmVydGVyLmNhbGwocGFyZW50SlNPTiwga2V5LCBJbmRleGVkU2VxKGpzb24pLm1hcChmdW5jdGlvbih2LCBrKSAge3JldHVybiBmcm9tSlNXaXRoKGNvbnZlcnRlciwgdiwgaywganNvbil9KSk7XG4gICAgfVxuICAgIGlmIChpc1BsYWluT2JqKGpzb24pKSB7XG4gICAgICByZXR1cm4gY29udmVydGVyLmNhbGwocGFyZW50SlNPTiwga2V5LCBLZXllZFNlcShqc29uKS5tYXAoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZnJvbUpTV2l0aChjb252ZXJ0ZXIsIHYsIGssIGpzb24pfSkpO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZyb21KU0RlZmF1bHQoanNvbikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICByZXR1cm4gSW5kZXhlZFNlcShqc29uKS5tYXAoZnJvbUpTRGVmYXVsdCkudG9MaXN0KCk7XG4gICAgfVxuICAgIGlmIChpc1BsYWluT2JqKGpzb24pKSB7XG4gICAgICByZXR1cm4gS2V5ZWRTZXEoanNvbikubWFwKGZyb21KU0RlZmF1bHQpLnRvTWFwKCk7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNQbGFpbk9iaih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiAodmFsdWUuY29uc3RydWN0b3IgPT09IE9iamVjdCB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKTtcbiAgfVxuXG4gIHZhciBzcmNfTWF0aF9faW11bCA9XG4gICAgdHlwZW9mIE1hdGguaW11bCA9PT0gJ2Z1bmN0aW9uJyAmJiBNYXRoLmltdWwoMHhmZmZmZmZmZiwgMikgPT09IC0yID9cbiAgICBNYXRoLmltdWwgOlxuICAgIGZ1bmN0aW9uIHNyY19NYXRoX19pbXVsKGEsIGIpIHtcbiAgICAgIGEgPSBhIHwgMDsgLy8gaW50XG4gICAgICBiID0gYiB8IDA7IC8vIGludFxuICAgICAgdmFyIGMgPSBhICYgMHhmZmZmO1xuICAgICAgdmFyIGQgPSBiICYgMHhmZmZmO1xuICAgICAgLy8gU2hpZnQgYnkgMCBmaXhlcyB0aGUgc2lnbiBvbiB0aGUgaGlnaCBwYXJ0LlxuICAgICAgcmV0dXJuIChjICogZCkgKyAoKCgoYSA+Pj4gMTYpICogZCArIGMgKiAoYiA+Pj4gMTYpKSA8PCAxNikgPj4+IDApIHwgMDsgLy8gaW50XG4gICAgfTtcblxuICAvLyB2OCBoYXMgYW4gb3B0aW1pemF0aW9uIGZvciBzdG9yaW5nIDMxLWJpdCBzaWduZWQgbnVtYmVycy5cbiAgLy8gVmFsdWVzIHdoaWNoIGhhdmUgZWl0aGVyIDAwIG9yIDExIGFzIHRoZSBoaWdoIG9yZGVyIGJpdHMgcXVhbGlmeS5cbiAgLy8gVGhpcyBmdW5jdGlvbiBkcm9wcyB0aGUgaGlnaGVzdCBvcmRlciBiaXQgaW4gYSBzaWduZWQgbnVtYmVyLCBtYWludGFpbmluZ1xuICAvLyB0aGUgc2lnbiBiaXQuXG4gIGZ1bmN0aW9uIHNtaShpMzIpIHtcbiAgICByZXR1cm4gKChpMzIgPj4+IDEpICYgMHg0MDAwMDAwMCkgfCAoaTMyICYgMHhCRkZGRkZGRik7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNoKG8pIHtcbiAgICBpZiAobyA9PT0gZmFsc2UgfHwgbyA9PT0gbnVsbCB8fCBvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG8udmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbyA9IG8udmFsdWVPZigpO1xuICAgICAgaWYgKG8gPT09IGZhbHNlIHx8IG8gPT09IG51bGwgfHwgbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobyA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHZhciB0eXBlID0gdHlwZW9mIG87XG4gICAgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICB2YXIgaCA9IG8gfCAwO1xuICAgICAgaWYgKGggIT09IG8pIHtcbiAgICAgICAgaCBePSBvICogMHhGRkZGRkZGRjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChvID4gMHhGRkZGRkZGRikge1xuICAgICAgICBvIC89IDB4RkZGRkZGRkY7XG4gICAgICAgIGggXj0gbztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzbWkoaCk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG8ubGVuZ3RoID4gU1RSSU5HX0hBU0hfQ0FDSEVfTUlOX1NUUkxFTiA/IGNhY2hlZEhhc2hTdHJpbmcobykgOiBoYXNoU3RyaW5nKG8pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG8uaGFzaENvZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBvLmhhc2hDb2RlKCk7XG4gICAgfVxuICAgIHJldHVybiBoYXNoSlNPYmoobyk7XG4gIH1cblxuICBmdW5jdGlvbiBjYWNoZWRIYXNoU3RyaW5nKHN0cmluZykge1xuICAgIHZhciBoYXNoID0gc3RyaW5nSGFzaENhY2hlW3N0cmluZ107XG4gICAgaWYgKGhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgaGFzaCA9IGhhc2hTdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID09PSBTVFJJTkdfSEFTSF9DQUNIRV9NQVhfU0laRSkge1xuICAgICAgICBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID0gMDtcbiAgICAgICAgc3RyaW5nSGFzaENhY2hlID0ge307XG4gICAgICB9XG4gICAgICBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFKys7XG4gICAgICBzdHJpbmdIYXNoQ2FjaGVbc3RyaW5nXSA9IGhhc2g7XG4gICAgfVxuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vaGFzaGluZy1zdHJpbmdzXG4gIGZ1bmN0aW9uIGhhc2hTdHJpbmcoc3RyaW5nKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgaGFzaCBmcm9tIEpWTVxuICAgIC8vIFRoZSBoYXNoIGNvZGUgZm9yIGEgc3RyaW5nIGlzIGNvbXB1dGVkIGFzXG4gICAgLy8gc1swXSAqIDMxIF4gKG4gLSAxKSArIHNbMV0gKiAzMSBeIChuIC0gMikgKyAuLi4gKyBzW24gLSAxXSxcbiAgICAvLyB3aGVyZSBzW2ldIGlzIHRoZSBpdGggY2hhcmFjdGVyIG9mIHRoZSBzdHJpbmcgYW5kIG4gaXMgdGhlIGxlbmd0aCBvZlxuICAgIC8vIHRoZSBzdHJpbmcuIFdlIFwibW9kXCIgdGhlIHJlc3VsdCB0byBtYWtlIGl0IGJldHdlZW4gMCAoaW5jbHVzaXZlKSBhbmQgMl4zMVxuICAgIC8vIChleGNsdXNpdmUpIGJ5IGRyb3BwaW5nIGhpZ2ggYml0cy5cbiAgICB2YXIgaGFzaCA9IDA7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHN0cmluZy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIGhhc2ggPSAzMSAqIGhhc2ggKyBzdHJpbmcuY2hhckNvZGVBdChpaSkgfCAwO1xuICAgIH1cbiAgICByZXR1cm4gc21pKGhhc2gpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzaEpTT2JqKG9iaikge1xuICAgIHZhciBoYXNoO1xuICAgIGlmICh1c2luZ1dlYWtNYXApIHtcbiAgICAgIGhhc2ggPSB3ZWFrTWFwLmdldChvYmopO1xuICAgICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNoID0gb2JqW1VJRF9IQVNIX0tFWV07XG4gICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuXG4gICAgaWYgKCFjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgaGFzaCA9IG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSAmJiBvYmoucHJvcGVydHlJc0VudW1lcmFibGVbVUlEX0hBU0hfS0VZXTtcbiAgICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgICB9XG5cbiAgICAgIGhhc2ggPSBnZXRJRU5vZGVIYXNoKG9iaik7XG4gICAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhc2ggPSArK29iakhhc2hVSUQ7XG4gICAgaWYgKG9iakhhc2hVSUQgJiAweDQwMDAwMDAwKSB7XG4gICAgICBvYmpIYXNoVUlEID0gMDtcbiAgICB9XG5cbiAgICBpZiAodXNpbmdXZWFrTWFwKSB7XG4gICAgICB3ZWFrTWFwLnNldChvYmosIGhhc2gpO1xuICAgIH0gZWxzZSBpZiAoaXNFeHRlbnNpYmxlICE9PSB1bmRlZmluZWQgJiYgaXNFeHRlbnNpYmxlKG9iaikgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vbi1leHRlbnNpYmxlIG9iamVjdHMgYXJlIG5vdCBhbGxvd2VkIGFzIGtleXMuJyk7XG4gICAgfSBlbHNlIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgVUlEX0hBU0hfS0VZLCB7XG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICdjb25maWd1cmFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3dyaXRhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGhhc2hcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAob2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9PT0gb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSkge1xuICAgICAgLy8gU2luY2Ugd2UgY2FuJ3QgZGVmaW5lIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gdGhlIG9iamVjdFxuICAgICAgLy8gd2UnbGwgaGlqYWNrIG9uZSBvZiB0aGUgbGVzcy11c2VkIG5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXMgdG9cbiAgICAgIC8vIHNhdmUgb3VyIGhhc2ggb24gaXQuIFNpbmNlIHRoaXMgaXMgYSBmdW5jdGlvbiBpdCB3aWxsIG5vdCBzaG93IHVwIGluXG4gICAgICAvLyBgSlNPTi5zdHJpbmdpZnlgIHdoaWNoIGlzIHdoYXQgd2Ugd2FudC5cbiAgICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGVbVUlEX0hBU0hfS0VZXSA9IGhhc2g7XG4gICAgfSBlbHNlIGlmIChvYmoubm9kZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBjb3VsZG4ndCBnZXQgdGhlIElFIGB1bmlxdWVJRGAgdG8gdXNlIGFzIGEgaGFzaFxuICAgICAgLy8gYW5kIHdlIGNvdWxkbid0IHVzZSBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IHRvIGV4cGxvaXQgdGhlXG4gICAgICAvLyBkb250RW51bSBidWcgc28gd2Ugc2ltcGx5IGFkZCB0aGUgYFVJRF9IQVNIX0tFWWAgb24gdGhlIG5vZGVcbiAgICAgIC8vIGl0c2VsZi5cbiAgICAgIG9ialtVSURfSEFTSF9LRVldID0gaGFzaDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gb2JqZWN0LicpO1xuICAgIH1cblxuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgLy8gR2V0IHJlZmVyZW5jZXMgdG8gRVM1IG9iamVjdCBtZXRob2RzLlxuICB2YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZTtcblxuICAvLyBUcnVlIGlmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB3b3JrcyBhcyBleHBlY3RlZC4gSUU4IGZhaWxzIHRoaXMgdGVzdC5cbiAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdAJywge30pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSgpKTtcblxuICAvLyBJRSBoYXMgYSBgdW5pcXVlSURgIHByb3BlcnR5IG9uIERPTSBub2Rlcy4gV2UgY2FuIGNvbnN0cnVjdCB0aGUgaGFzaCBmcm9tIGl0XG4gIC8vIGFuZCBhdm9pZCBtZW1vcnkgbGVha3MgZnJvbSB0aGUgSUUgY2xvbmVOb2RlIGJ1Zy5cbiAgZnVuY3Rpb24gZ2V0SUVOb2RlSGFzaChub2RlKSB7XG4gICAgaWYgKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA+IDApIHtcbiAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICBjYXNlIDE6IC8vIEVsZW1lbnRcbiAgICAgICAgICByZXR1cm4gbm9kZS51bmlxdWVJRDtcbiAgICAgICAgY2FzZSA5OiAvLyBEb2N1bWVudFxuICAgICAgICAgIHJldHVybiBub2RlLmRvY3VtZW50RWxlbWVudCAmJiBub2RlLmRvY3VtZW50RWxlbWVudC51bmlxdWVJRDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBJZiBwb3NzaWJsZSwgdXNlIGEgV2Vha01hcC5cbiAgdmFyIHVzaW5nV2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nO1xuICB2YXIgd2Vha01hcDtcbiAgaWYgKHVzaW5nV2Vha01hcCkge1xuICAgIHdlYWtNYXAgPSBuZXcgV2Vha01hcCgpO1xuICB9XG5cbiAgdmFyIG9iakhhc2hVSUQgPSAwO1xuXG4gIHZhciBVSURfSEFTSF9LRVkgPSAnX19pbW11dGFibGVoYXNoX18nO1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFVJRF9IQVNIX0tFWSA9IFN5bWJvbChVSURfSEFTSF9LRVkpO1xuICB9XG5cbiAgdmFyIFNUUklOR19IQVNIX0NBQ0hFX01JTl9TVFJMRU4gPSAxNjtcbiAgdmFyIFNUUklOR19IQVNIX0NBQ0hFX01BWF9TSVpFID0gMjU1O1xuICB2YXIgU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSA9IDA7XG4gIHZhciBzdHJpbmdIYXNoQ2FjaGUgPSB7fTtcblxuICBmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBlcnJvcikge1xuICAgIGlmICghY29uZGl0aW9uKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gYXNzZXJ0Tm90SW5maW5pdGUoc2l6ZSkge1xuICAgIGludmFyaWFudChcbiAgICAgIHNpemUgIT09IEluZmluaXR5LFxuICAgICAgJ0Nhbm5vdCBwZXJmb3JtIHRoaXMgYWN0aW9uIHdpdGggYW4gaW5maW5pdGUgc2l6ZS4nXG4gICAgKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFRvS2V5ZWRTZXF1ZW5jZSwgS2V5ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIFRvS2V5ZWRTZXF1ZW5jZShpbmRleGVkLCB1c2VLZXlzKSB7XG4gICAgICB0aGlzLl9pdGVyID0gaW5kZXhlZDtcbiAgICAgIHRoaXMuX3VzZUtleXMgPSB1c2VLZXlzO1xuICAgICAgdGhpcy5zaXplID0gaW5kZXhlZC5zaXplO1xuICAgIH1cblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuZ2V0KGtleSwgbm90U2V0VmFsdWUpO1xuICAgIH07XG5cbiAgICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuaGFzKGtleSk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUudmFsdWVTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLnZhbHVlU2VxKCk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSByZXZlcnNlRmFjdG9yeSh0aGlzLCB0cnVlKTtcbiAgICAgIGlmICghdGhpcy5fdXNlS2V5cykge1xuICAgICAgICByZXZlcnNlZFNlcXVlbmNlLnZhbHVlU2VxID0gZnVuY3Rpb24oKSAge3JldHVybiB0aGlzJDAuX2l0ZXIudG9TZXEoKS5yZXZlcnNlKCl9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24obWFwcGVyLCBjb250ZXh0KSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgbWFwcGVkU2VxdWVuY2UgPSBtYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCk7XG4gICAgICBpZiAoIXRoaXMuX3VzZUtleXMpIHtcbiAgICAgICAgbWFwcGVkU2VxdWVuY2UudmFsdWVTZXEgPSBmdW5jdGlvbigpICB7cmV0dXJuIHRoaXMkMC5faXRlci50b1NlcSgpLm1hcChtYXBwZXIsIGNvbnRleHQpfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXBwZWRTZXF1ZW5jZTtcbiAgICB9O1xuXG4gICAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGlpO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKFxuICAgICAgICB0aGlzLl91c2VLZXlzID9cbiAgICAgICAgICBmdW5jdGlvbih2LCBrKSAge3JldHVybiBmbih2LCBrLCB0aGlzJDApfSA6XG4gICAgICAgICAgKChpaSA9IHJldmVyc2UgPyByZXNvbHZlU2l6ZSh0aGlzKSA6IDApLFxuICAgICAgICAgICAgZnVuY3Rpb24odiApIHtyZXR1cm4gZm4odiwgcmV2ZXJzZSA/IC0taWkgOiBpaSsrLCB0aGlzJDApfSksXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmICh0aGlzLl91c2VLZXlzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGlpID0gcmV2ZXJzZSA/IHJlc29sdmVTaXplKHRoaXMpIDogMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCByZXZlcnNlID8gLS1paSA6IGlpKyssIHN0ZXAudmFsdWUsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxuXG4gIGNyZWF0ZUNsYXNzKFRvSW5kZXhlZFNlcXVlbmNlLCBJbmRleGVkU2VxKTtcbiAgICBmdW5jdGlvbiBUb0luZGV4ZWRTZXF1ZW5jZShpdGVyKSB7XG4gICAgICB0aGlzLl9pdGVyID0gaXRlcjtcbiAgICAgIHRoaXMuc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICB9XG5cbiAgICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXModmFsdWUpO1xuICAgIH07XG5cbiAgICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbih2ICkge3JldHVybiBmbih2LCBpdGVyYXRpb25zKyssIHRoaXMkMCl9LCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBzdGVwLmRvbmUgPyBzdGVwIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZSwgc3RlcClcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKFRvU2V0U2VxdWVuY2UsIFNldFNlcSk7XG4gICAgZnVuY3Rpb24gVG9TZXRTZXF1ZW5jZShpdGVyKSB7XG4gICAgICB0aGlzLl9pdGVyID0gaXRlcjtcbiAgICAgIHRoaXMuc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICB9XG5cbiAgICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKGtleSk7XG4gICAgfTtcblxuICAgIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24odiApIHtyZXR1cm4gZm4odiwgdiwgdGhpcyQwKX0sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBzdGVwLnZhbHVlLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKEZyb21FbnRyaWVzU2VxdWVuY2UsIEtleWVkU2VxKTtcbiAgICBmdW5jdGlvbiBGcm9tRW50cmllc1NlcXVlbmNlKGVudHJpZXMpIHtcbiAgICAgIHRoaXMuX2l0ZXIgPSBlbnRyaWVzO1xuICAgICAgdGhpcy5zaXplID0gZW50cmllcy5zaXplO1xuICAgIH1cblxuICAgIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmVudHJ5U2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci50b1NlcSgpO1xuICAgIH07XG5cbiAgICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uKGVudHJ5ICkge1xuICAgICAgICAvLyBDaGVjayBpZiBlbnRyeSBleGlzdHMgZmlyc3Qgc28gYXJyYXkgYWNjZXNzIGRvZXNuJ3QgdGhyb3cgZm9yIGhvbGVzXG4gICAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICB2YWxpZGF0ZUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB2YXIgaW5kZXhlZEl0ZXJhYmxlID0gaXNJdGVyYWJsZShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIGZuKFxuICAgICAgICAgICAgaW5kZXhlZEl0ZXJhYmxlID8gZW50cnkuZ2V0KDEpIDogZW50cnlbMV0sXG4gICAgICAgICAgICBpbmRleGVkSXRlcmFibGUgPyBlbnRyeS5nZXQoMCkgOiBlbnRyeVswXSxcbiAgICAgICAgICAgIHRoaXMkMFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgZW50cnkgZXhpc3RzIGZpcnN0IHNvIGFycmF5IGFjY2VzcyBkb2Vzbid0IHRocm93IGZvciBob2xlc1xuICAgICAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgdmFsaWRhdGVFbnRyeShlbnRyeSk7XG4gICAgICAgICAgICB2YXIgaW5kZXhlZEl0ZXJhYmxlID0gaXNJdGVyYWJsZShlbnRyeSk7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgaW5kZXhlZEl0ZXJhYmxlID8gZW50cnkuZ2V0KDApIDogZW50cnlbMF0sXG4gICAgICAgICAgICAgIGluZGV4ZWRJdGVyYWJsZSA/IGVudHJ5LmdldCgxKSA6IGVudHJ5WzFdLFxuICAgICAgICAgICAgICBzdGVwXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuXG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID1cbiAgICBjYWNoZVJlc3VsdFRocm91Z2g7XG5cblxuICBmdW5jdGlvbiBmbGlwRmFjdG9yeShpdGVyYWJsZSkge1xuICAgIHZhciBmbGlwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIGZsaXBTZXF1ZW5jZS5faXRlciA9IGl0ZXJhYmxlO1xuICAgIGZsaXBTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZTtcbiAgICBmbGlwU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGV9O1xuICAgIGZsaXBTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSBpdGVyYWJsZS5yZXZlcnNlLmFwcGx5KHRoaXMpOyAvLyBzdXBlci5yZXZlcnNlKClcbiAgICAgIHJldmVyc2VkU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGUucmV2ZXJzZSgpfTtcbiAgICAgIHJldHVybiByZXZlcnNlZFNlcXVlbmNlO1xuICAgIH07XG4gICAgZmxpcFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uKGtleSApIHtyZXR1cm4gaXRlcmFibGUuaW5jbHVkZXMoa2V5KX07XG4gICAgZmxpcFNlcXVlbmNlLmluY2x1ZGVzID0gZnVuY3Rpb24oa2V5ICkge3JldHVybiBpdGVyYWJsZS5oYXMoa2V5KX07XG4gICAgZmxpcFNlcXVlbmNlLmNhY2hlUmVzdWx0ID0gY2FjaGVSZXN1bHRUaHJvdWdoO1xuICAgIGZsaXBTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge3JldHVybiBmbihrLCB2LCB0aGlzJDApICE9PSBmYWxzZX0sIHJldmVyc2UpO1xuICAgIH1cbiAgICBmbGlwU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfRU5UUklFUykge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmICghc3RlcC5kb25lKSB7XG4gICAgICAgICAgICB2YXIgayA9IHN0ZXAudmFsdWVbMF07XG4gICAgICAgICAgICBzdGVwLnZhbHVlWzBdID0gc3RlcC52YWx1ZVsxXTtcbiAgICAgICAgICAgIHN0ZXAudmFsdWVbMV0gPSBrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmFibGUuX19pdGVyYXRvcihcbiAgICAgICAgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMgPyBJVEVSQVRFX0tFWVMgOiBJVEVSQVRFX1ZBTFVFUyxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gbWFwRmFjdG9yeShpdGVyYWJsZSwgbWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIG1hcHBlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBtYXBwZWRTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZTtcbiAgICBtYXBwZWRTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbihrZXkgKSB7cmV0dXJuIGl0ZXJhYmxlLmhhcyhrZXkpfTtcbiAgICBtYXBwZWRTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSAge1xuICAgICAgdmFyIHYgPSBpdGVyYWJsZS5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgIHJldHVybiB2ID09PSBOT1RfU0VUID9cbiAgICAgICAgbm90U2V0VmFsdWUgOlxuICAgICAgICBtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKTtcbiAgICB9O1xuICAgIG1hcHBlZFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gaXRlcmFibGUuX19pdGVyYXRlKFxuICAgICAgICBmdW5jdGlvbih2LCBrLCBjKSAge3JldHVybiBmbihtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBjKSwgaywgdGhpcyQwKSAhPT0gZmFsc2V9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH1cbiAgICBtYXBwZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG1hcHBlci5jYWxsKGNvbnRleHQsIGVudHJ5WzFdLCBrZXksIGl0ZXJhYmxlKSxcbiAgICAgICAgICBzdGVwXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcHBlZFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiByZXZlcnNlRmFjdG9yeShpdGVyYWJsZSwgdXNlS2V5cykge1xuICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLl9pdGVyID0gaXRlcmFibGU7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLnJldmVyc2UgPSBmdW5jdGlvbigpICB7cmV0dXJuIGl0ZXJhYmxlfTtcbiAgICBpZiAoaXRlcmFibGUuZmxpcCkge1xuICAgICAgcmV2ZXJzZWRTZXF1ZW5jZS5mbGlwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmxpcFNlcXVlbmNlID0gZmxpcEZhY3RvcnkoaXRlcmFibGUpO1xuICAgICAgICBmbGlwU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGUuZmxpcCgpfTtcbiAgICAgICAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldmVyc2VkU2VxdWVuY2UuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkgXG4gICAgICB7cmV0dXJuIGl0ZXJhYmxlLmdldCh1c2VLZXlzID8ga2V5IDogLTEgLSBrZXksIG5vdFNldFZhbHVlKX07XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbihrZXkgKVxuICAgICAge3JldHVybiBpdGVyYWJsZS5oYXModXNlS2V5cyA/IGtleSA6IC0xIC0ga2V5KX07XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpdGVyYWJsZS5pbmNsdWRlcyh2YWx1ZSl9O1xuICAgIHJldmVyc2VkU2VxdWVuY2UuY2FjaGVSZXN1bHQgPSBjYWNoZVJlc3VsdFRocm91Z2g7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZm4odiwgaywgdGhpcyQwKX0sICFyZXZlcnNlKTtcbiAgICB9O1xuICAgIHJldmVyc2VkU2VxdWVuY2UuX19pdGVyYXRvciA9XG4gICAgICBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSAge3JldHVybiBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsICFyZXZlcnNlKX07XG4gICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGZpbHRlckZhY3RvcnkoaXRlcmFibGUsIHByZWRpY2F0ZSwgY29udGV4dCwgdXNlS2V5cykge1xuICAgIHZhciBmaWx0ZXJTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgaWYgKHVzZUtleXMpIHtcbiAgICAgIGZpbHRlclNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uKGtleSApIHtcbiAgICAgICAgdmFyIHYgPSBpdGVyYWJsZS5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgICAgcmV0dXJuIHYgIT09IE5PVF9TRVQgJiYgISFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKTtcbiAgICAgIH07XG4gICAgICBmaWx0ZXJTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSAge1xuICAgICAgICB2YXIgdiA9IGl0ZXJhYmxlLmdldChrZXksIE5PVF9TRVQpO1xuICAgICAgICByZXR1cm4gdiAhPT0gTk9UX1NFVCAmJiBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKSA/XG4gICAgICAgICAgdiA6IG5vdFNldFZhbHVlO1xuICAgICAgfTtcbiAgICB9XG4gICAgZmlsdGVyU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICBmaWx0ZXJTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gZW50cnlbMV07XG4gICAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHZhbHVlLCBrZXksIGl0ZXJhYmxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgdXNlS2V5cyA/IGtleSA6IGl0ZXJhdGlvbnMrKywgdmFsdWUsIHN0ZXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY291bnRCeUZhY3RvcnkoaXRlcmFibGUsIGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgZ3JvdXBzID0gc3JjX01hcF9fTWFwKCkuYXNNdXRhYmxlKCk7XG4gICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICBncm91cHMudXBkYXRlKFxuICAgICAgICBncm91cGVyLmNhbGwoY29udGV4dCwgdiwgaywgaXRlcmFibGUpLFxuICAgICAgICAwLFxuICAgICAgICBmdW5jdGlvbihhICkge3JldHVybiBhICsgMX1cbiAgICAgICk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGdyb3Vwcy5hc0ltbXV0YWJsZSgpO1xuICB9XG5cblxuICBmdW5jdGlvbiBncm91cEJ5RmFjdG9yeShpdGVyYWJsZSwgZ3JvdXBlciwgY29udGV4dCkge1xuICAgIHZhciBpc0tleWVkSXRlciA9IGlzS2V5ZWQoaXRlcmFibGUpO1xuICAgIHZhciBncm91cHMgPSAoaXNPcmRlcmVkKGl0ZXJhYmxlKSA/IE9yZGVyZWRNYXAoKSA6IHNyY19NYXBfX01hcCgpKS5hc011dGFibGUoKTtcbiAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgIGdyb3Vwcy51cGRhdGUoXG4gICAgICAgIGdyb3VwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBpdGVyYWJsZSksXG4gICAgICAgIGZ1bmN0aW9uKGEgKSB7cmV0dXJuIChhID0gYSB8fCBbXSwgYS5wdXNoKGlzS2V5ZWRJdGVyID8gW2ssIHZdIDogdiksIGEpfVxuICAgICAgKTtcbiAgICB9KTtcbiAgICB2YXIgY29lcmNlID0gaXRlcmFibGVDbGFzcyhpdGVyYWJsZSk7XG4gICAgcmV0dXJuIGdyb3Vwcy5tYXAoZnVuY3Rpb24oYXJyICkge3JldHVybiByZWlmeShpdGVyYWJsZSwgY29lcmNlKGFycikpfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHNsaWNlRmFjdG9yeShpdGVyYWJsZSwgYmVnaW4sIGVuZCwgdXNlS2V5cykge1xuICAgIHZhciBvcmlnaW5hbFNpemUgPSBpdGVyYWJsZS5zaXplO1xuXG4gICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgb3JpZ2luYWxTaXplKSkge1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgIH1cblxuICAgIHZhciByZXNvbHZlZEJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCBvcmlnaW5hbFNpemUpO1xuICAgIHZhciByZXNvbHZlZEVuZCA9IHJlc29sdmVFbmQoZW5kLCBvcmlnaW5hbFNpemUpO1xuXG4gICAgLy8gYmVnaW4gb3IgZW5kIHdpbGwgYmUgTmFOIGlmIHRoZXkgd2VyZSBwcm92aWRlZCBhcyBuZWdhdGl2ZSBudW1iZXJzIGFuZFxuICAgIC8vIHRoaXMgaXRlcmFibGUncyBzaXplIGlzIHVua25vd24uIEluIHRoYXQgY2FzZSwgY2FjaGUgZmlyc3Qgc28gdGhlcmUgaXNcbiAgICAvLyBhIGtub3duIHNpemUgYW5kIHRoZXNlIGRvIG5vdCByZXNvbHZlIHRvIE5hTi5cbiAgICBpZiAocmVzb2x2ZWRCZWdpbiAhPT0gcmVzb2x2ZWRCZWdpbiB8fCByZXNvbHZlZEVuZCAhPT0gcmVzb2x2ZWRFbmQpIHtcbiAgICAgIHJldHVybiBzbGljZUZhY3RvcnkoaXRlcmFibGUudG9TZXEoKS5jYWNoZVJlc3VsdCgpLCBiZWdpbiwgZW5kLCB1c2VLZXlzKTtcbiAgICB9XG5cbiAgICAvLyBOb3RlOiByZXNvbHZlZEVuZCBpcyB1bmRlZmluZWQgd2hlbiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UncyBsZW5ndGggaXNcbiAgICAvLyB1bmtub3duIGFuZCB0aGlzIHNsaWNlIGRpZCBub3Qgc3VwcGx5IGFuIGVuZCBhbmQgc2hvdWxkIGNvbnRhaW4gYWxsXG4gICAgLy8gZWxlbWVudHMgYWZ0ZXIgcmVzb2x2ZWRCZWdpbi5cbiAgICAvLyBJbiB0aGF0IGNhc2UsIHJlc29sdmVkU2l6ZSB3aWxsIGJlIE5hTiBhbmQgc2xpY2VTaXplIHdpbGwgcmVtYWluIHVuZGVmaW5lZC5cbiAgICB2YXIgcmVzb2x2ZWRTaXplID0gcmVzb2x2ZWRFbmQgLSByZXNvbHZlZEJlZ2luO1xuICAgIHZhciBzbGljZVNpemU7XG4gICAgaWYgKHJlc29sdmVkU2l6ZSA9PT0gcmVzb2x2ZWRTaXplKSB7XG4gICAgICBzbGljZVNpemUgPSByZXNvbHZlZFNpemUgPCAwID8gMCA6IHJlc29sdmVkU2l6ZTtcbiAgICB9XG5cbiAgICB2YXIgc2xpY2VTZXEgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuXG4gICAgc2xpY2VTZXEuc2l6ZSA9IHNsaWNlU2l6ZTtcblxuICAgIGlmICghdXNlS2V5cyAmJiBpc1NlcShpdGVyYWJsZSkgJiYgc2xpY2VTaXplID49IDApIHtcbiAgICAgIHNsaWNlU2VxLmdldCA9IGZ1bmN0aW9uIChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8IHNsaWNlU2l6ZSA/XG4gICAgICAgICAgaXRlcmFibGUuZ2V0KGluZGV4ICsgcmVzb2x2ZWRCZWdpbiwgbm90U2V0VmFsdWUpIDpcbiAgICAgICAgICBub3RTZXRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzbGljZVNlcS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICBpZiAoc2xpY2VTaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIHNraXBwZWQgPSAwO1xuICAgICAgdmFyIGlzU2tpcHBpbmcgPSB0cnVlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICAgIGlmICghKGlzU2tpcHBpbmcgJiYgKGlzU2tpcHBpbmcgPSBza2lwcGVkKysgPCByZXNvbHZlZEJlZ2luKSkpIHtcbiAgICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMCkgIT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnMgIT09IHNsaWNlU2l6ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuXG4gICAgc2xpY2VTZXEuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHNsaWNlU2l6ZSAhPT0gMCAmJiByZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIC8vIERvbid0IGJvdGhlciBpbnN0YW50aWF0aW5nIHBhcmVudCBpdGVyYXRvciBpZiB0YWtpbmcgMC5cbiAgICAgIHZhciBpdGVyYXRvciA9IHNsaWNlU2l6ZSAhPT0gMCAmJiBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgdmFyIHNraXBwZWQgPSAwO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgd2hpbGUgKHNraXBwZWQrKyA8IHJlc29sdmVkQmVnaW4pIHtcbiAgICAgICAgICBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCsraXRlcmF0aW9ucyA+IHNsaWNlU2l6ZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHVzZUtleXMgfHwgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBJVEVSQVRFX0tFWVMpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zIC0gMSwgdW5kZWZpbmVkLCBzdGVwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zIC0gMSwgc3RlcC52YWx1ZVsxXSwgc3RlcCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBzbGljZVNlcTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gdGFrZVdoaWxlRmFjdG9yeShpdGVyYWJsZSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHRha2VTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgdGFrZVNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSBcbiAgICAgICAge3JldHVybiBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSAmJiArK2l0ZXJhdGlvbnMgJiYgZm4odiwgaywgdGhpcyQwKX1cbiAgICAgICk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuICAgIHRha2VTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgaXRlcmF0aW5nID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIGlmICghaXRlcmF0aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgdmFyIGsgPSBlbnRyeVswXTtcbiAgICAgICAgdmFyIHYgPSBlbnRyeVsxXTtcbiAgICAgICAgaWYgKCFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCB0aGlzJDApKSB7XG4gICAgICAgICAgaXRlcmF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMgPyBzdGVwIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gdGFrZVNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBza2lwV2hpbGVGYWN0b3J5KGl0ZXJhYmxlLCBwcmVkaWNhdGUsIGNvbnRleHQsIHVzZUtleXMpIHtcbiAgICB2YXIgc2tpcFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBza2lwU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1NraXBwaW5nID0gdHJ1ZTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAoIShpc1NraXBwaW5nICYmIChpc1NraXBwaW5nID0gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpKSkge1xuICAgICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgICByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zIC0gMSwgdGhpcyQwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuICAgIHNraXBTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgc2tpcHBpbmcgPSB0cnVlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAsIGssIHY7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIGlmICh1c2VLZXlzIHx8IHR5cGUgPT09IElURVJBVEVfVkFMVUVTKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBJVEVSQVRFX0tFWVMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB1bmRlZmluZWQsIHN0ZXApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlWzFdLCBzdGVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICBrID0gZW50cnlbMF07XG4gICAgICAgICAgdiA9IGVudHJ5WzFdO1xuICAgICAgICAgIHNraXBwaW5nICYmIChza2lwcGluZyA9IHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIHRoaXMkMCkpO1xuICAgICAgICB9IHdoaWxlIChza2lwcGluZyk7XG4gICAgICAgIHJldHVybiB0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMgPyBzdGVwIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gc2tpcFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiBjb25jYXRGYWN0b3J5KGl0ZXJhYmxlLCB2YWx1ZXMpIHtcbiAgICB2YXIgaXNLZXllZEl0ZXJhYmxlID0gaXNLZXllZChpdGVyYWJsZSk7XG4gICAgdmFyIGl0ZXJzID0gW2l0ZXJhYmxlXS5jb25jYXQodmFsdWVzKS5tYXAoZnVuY3Rpb24odiApIHtcbiAgICAgIGlmICghaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICB2ID0gaXNLZXllZEl0ZXJhYmxlID9cbiAgICAgICAgICBrZXllZFNlcUZyb21WYWx1ZSh2KSA6XG4gICAgICAgICAgaW5kZXhlZFNlcUZyb21WYWx1ZShBcnJheS5pc0FycmF5KHYpID8gdiA6IFt2XSk7XG4gICAgICB9IGVsc2UgaWYgKGlzS2V5ZWRJdGVyYWJsZSkge1xuICAgICAgICB2ID0gS2V5ZWRJdGVyYWJsZSh2KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2O1xuICAgIH0pLmZpbHRlcihmdW5jdGlvbih2ICkge3JldHVybiB2LnNpemUgIT09IDB9KTtcblxuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICB9XG5cbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgc2luZ2xldG9uID0gaXRlcnNbMF07XG4gICAgICBpZiAoc2luZ2xldG9uID09PSBpdGVyYWJsZSB8fFxuICAgICAgICAgIGlzS2V5ZWRJdGVyYWJsZSAmJiBpc0tleWVkKHNpbmdsZXRvbikgfHxcbiAgICAgICAgICBpc0luZGV4ZWQoaXRlcmFibGUpICYmIGlzSW5kZXhlZChzaW5nbGV0b24pKSB7XG4gICAgICAgIHJldHVybiBzaW5nbGV0b247XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNvbmNhdFNlcSA9IG5ldyBBcnJheVNlcShpdGVycyk7XG4gICAgaWYgKGlzS2V5ZWRJdGVyYWJsZSkge1xuICAgICAgY29uY2F0U2VxID0gY29uY2F0U2VxLnRvS2V5ZWRTZXEoKTtcbiAgICB9IGVsc2UgaWYgKCFpc0luZGV4ZWQoaXRlcmFibGUpKSB7XG4gICAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEudG9TZXRTZXEoKTtcbiAgICB9XG4gICAgY29uY2F0U2VxID0gY29uY2F0U2VxLmZsYXR0ZW4odHJ1ZSk7XG4gICAgY29uY2F0U2VxLnNpemUgPSBpdGVycy5yZWR1Y2UoXG4gICAgICBmdW5jdGlvbihzdW0sIHNlcSkgIHtcbiAgICAgICAgaWYgKHN1bSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIHNpemUgPSBzZXEuc2l6ZTtcbiAgICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VtICsgc2l6ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAwXG4gICAgKTtcbiAgICByZXR1cm4gY29uY2F0U2VxO1xuICB9XG5cblxuICBmdW5jdGlvbiBmbGF0dGVuRmFjdG9yeShpdGVyYWJsZSwgZGVwdGgsIHVzZUtleXMpIHtcbiAgICB2YXIgZmxhdFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBmbGF0U2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgIGZ1bmN0aW9uIGZsYXREZWVwKGl0ZXIsIGN1cnJlbnREZXB0aCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgICBpdGVyLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgICAgIGlmICgoIWRlcHRoIHx8IGN1cnJlbnREZXB0aCA8IGRlcHRoKSAmJiBpc0l0ZXJhYmxlKHYpKSB7XG4gICAgICAgICAgICBmbGF0RGVlcCh2LCBjdXJyZW50RGVwdGggKyAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucysrLCB0aGlzJDApID09PSBmYWxzZSkge1xuICAgICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhc3RvcHBlZDtcbiAgICAgICAgfSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICBmbGF0RGVlcChpdGVyYWJsZSwgMCk7XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9XG4gICAgZmxhdFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHdoaWxlIChpdGVyYXRvcikge1xuICAgICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICBpZiAodHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTKSB7XG4gICAgICAgICAgICB2ID0gdlsxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCghZGVwdGggfHwgc3RhY2subGVuZ3RoIDwgZGVwdGgpICYmIGlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goaXRlcmF0b3IpO1xuICAgICAgICAgICAgaXRlcmF0b3IgPSB2Ll9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1c2VLZXlzID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB2LCBzdGVwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmbGF0U2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGZsYXRNYXBGYWN0b3J5KGl0ZXJhYmxlLCBtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgY29lcmNlID0gaXRlcmFibGVDbGFzcyhpdGVyYWJsZSk7XG4gICAgcmV0dXJuIGl0ZXJhYmxlLnRvU2VxKCkubWFwKFxuICAgICAgZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gY29lcmNlKG1hcHBlci5jYWxsKGNvbnRleHQsIHYsIGssIGl0ZXJhYmxlKSl9XG4gICAgKS5mbGF0dGVuKHRydWUpO1xuICB9XG5cblxuICBmdW5jdGlvbiBpbnRlcnBvc2VGYWN0b3J5KGl0ZXJhYmxlLCBzZXBhcmF0b3IpIHtcbiAgICB2YXIgaW50ZXJwb3NlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBpbnRlcnBvc2VkU2VxdWVuY2Uuc2l6ZSA9IGl0ZXJhYmxlLnNpemUgJiYgaXRlcmFibGUuc2l6ZSAqIDIgLTE7XG4gICAgaW50ZXJwb3NlZFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSBcbiAgICAgICAge3JldHVybiAoIWl0ZXJhdGlvbnMgfHwgZm4oc2VwYXJhdG9yLCBpdGVyYXRpb25zKyssIHRoaXMkMCkgIT09IGZhbHNlKSAmJlxuICAgICAgICBmbih2LCBpdGVyYXRpb25zKyssIHRoaXMkMCkgIT09IGZhbHNlfSxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG4gICAgaW50ZXJwb3NlZFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICBpZiAoIXN0ZXAgfHwgaXRlcmF0aW9ucyAlIDIpIHtcbiAgICAgICAgICBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlcmF0aW9ucyAlIDIgP1xuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzZXBhcmF0b3IpIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZSwgc3RlcCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBpbnRlcnBvc2VkU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHNvcnRGYWN0b3J5KGl0ZXJhYmxlLCBjb21wYXJhdG9yLCBtYXBwZXIpIHtcbiAgICBpZiAoIWNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSBkZWZhdWx0Q29tcGFyYXRvcjtcbiAgICB9XG4gICAgdmFyIGlzS2V5ZWRJdGVyYWJsZSA9IGlzS2V5ZWQoaXRlcmFibGUpO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGVudHJpZXMgPSBpdGVyYWJsZS50b1NlcSgpLm1hcChcbiAgICAgIGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIFtrLCB2LCBpbmRleCsrLCBtYXBwZXIgPyBtYXBwZXIodiwgaywgaXRlcmFibGUpIDogdl19XG4gICAgKS50b0FycmF5KCk7XG4gICAgZW50cmllcy5zb3J0KGZ1bmN0aW9uKGEsIGIpICB7cmV0dXJuIGNvbXBhcmF0b3IoYVszXSwgYlszXSkgfHwgYVsyXSAtIGJbMl19KS5mb3JFYWNoKFxuICAgICAgaXNLZXllZEl0ZXJhYmxlID9cbiAgICAgIGZ1bmN0aW9uKHYsIGkpICB7IGVudHJpZXNbaV0ubGVuZ3RoID0gMjsgfSA6XG4gICAgICBmdW5jdGlvbih2LCBpKSAgeyBlbnRyaWVzW2ldID0gdlsxXTsgfVxuICAgICk7XG4gICAgcmV0dXJuIGlzS2V5ZWRJdGVyYWJsZSA/IEtleWVkU2VxKGVudHJpZXMpIDpcbiAgICAgIGlzSW5kZXhlZChpdGVyYWJsZSkgPyBJbmRleGVkU2VxKGVudHJpZXMpIDpcbiAgICAgIFNldFNlcShlbnRyaWVzKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gbWF4RmFjdG9yeShpdGVyYWJsZSwgY29tcGFyYXRvciwgbWFwcGVyKSB7XG4gICAgaWYgKCFjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gZGVmYXVsdENvbXBhcmF0b3I7XG4gICAgfVxuICAgIGlmIChtYXBwZXIpIHtcbiAgICAgIHZhciBlbnRyeSA9IGl0ZXJhYmxlLnRvU2VxKClcbiAgICAgICAgLm1hcChmdW5jdGlvbih2LCBrKSAge3JldHVybiBbdiwgbWFwcGVyKHYsIGssIGl0ZXJhYmxlKV19KVxuICAgICAgICAucmVkdWNlKGZ1bmN0aW9uKGEsIGIpICB7cmV0dXJuIG1heENvbXBhcmUoY29tcGFyYXRvciwgYVsxXSwgYlsxXSkgPyBiIDogYX0pO1xuICAgICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5WzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaXRlcmFibGUucmVkdWNlKGZ1bmN0aW9uKGEsIGIpICB7cmV0dXJuIG1heENvbXBhcmUoY29tcGFyYXRvciwgYSwgYikgPyBiIDogYX0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1heENvbXBhcmUoY29tcGFyYXRvciwgYSwgYikge1xuICAgIHZhciBjb21wID0gY29tcGFyYXRvcihiLCBhKTtcbiAgICAvLyBiIGlzIGNvbnNpZGVyZWQgdGhlIG5ldyBtYXggaWYgdGhlIGNvbXBhcmF0b3IgZGVjbGFyZXMgdGhlbSBlcXVhbCwgYnV0XG4gICAgLy8gdGhleSBhcmUgbm90IGVxdWFsIGFuZCBiIGlzIGluIGZhY3QgYSBudWxsaXNoIHZhbHVlLlxuICAgIHJldHVybiAoY29tcCA9PT0gMCAmJiBiICE9PSBhICYmIChiID09PSB1bmRlZmluZWQgfHwgYiA9PT0gbnVsbCB8fCBiICE9PSBiKSkgfHwgY29tcCA+IDA7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHppcFdpdGhGYWN0b3J5KGtleUl0ZXIsIHppcHBlciwgaXRlcnMpIHtcbiAgICB2YXIgemlwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2Uoa2V5SXRlcik7XG4gICAgemlwU2VxdWVuY2Uuc2l6ZSA9IG5ldyBBcnJheVNlcShpdGVycykubWFwKGZ1bmN0aW9uKGkgKSB7cmV0dXJuIGkuc2l6ZX0pLm1pbigpO1xuICAgIC8vIE5vdGU6IHRoaXMgYSBnZW5lcmljIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgX19pdGVyYXRlIGluIHRlcm1zIG9mXG4gICAgLy8gX19pdGVyYXRvciB3aGljaCBtYXkgYmUgbW9yZSBnZW5lcmljYWxseSB1c2VmdWwgaW4gdGhlIGZ1dHVyZS5cbiAgICB6aXBTZXF1ZW5jZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgLyogZ2VuZXJpYzpcbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgaWYgKGZuKHN0ZXAudmFsdWVbMV0sIHN0ZXAudmFsdWVbMF0sIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICAgICovXG4gICAgICAvLyBpbmRleGVkOlxuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICBpZiAoZm4oc3RlcC52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICB6aXBTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JzID0gaXRlcnMubWFwKGZ1bmN0aW9uKGkgKVxuICAgICAgICB7cmV0dXJuIChpID0gSXRlcmFibGUoaSksIGdldEl0ZXJhdG9yKHJldmVyc2UgPyBpLnJldmVyc2UoKSA6IGkpKX1cbiAgICAgICk7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgaXNEb25lID0gZmFsc2U7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcHM7XG4gICAgICAgIGlmICghaXNEb25lKSB7XG4gICAgICAgICAgc3RlcHMgPSBpdGVyYXRvcnMubWFwKGZ1bmN0aW9uKGkgKSB7cmV0dXJuIGkubmV4dCgpfSk7XG4gICAgICAgICAgaXNEb25lID0gc3RlcHMuc29tZShmdW5jdGlvbihzICkge3JldHVybiBzLmRvbmV9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgaXRlcmF0aW9ucysrLFxuICAgICAgICAgIHppcHBlci5hcHBseShudWxsLCBzdGVwcy5tYXAoZnVuY3Rpb24ocyApIHtyZXR1cm4gcy52YWx1ZX0pKVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gemlwU2VxdWVuY2VcbiAgfVxuXG5cbiAgLy8gI3ByYWdtYSBIZWxwZXIgRnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24gcmVpZnkoaXRlciwgc2VxKSB7XG4gICAgcmV0dXJuIGlzU2VxKGl0ZXIpID8gc2VxIDogaXRlci5jb25zdHJ1Y3RvcihzZXEpO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVFbnRyeShlbnRyeSkge1xuICAgIGlmIChlbnRyeSAhPT0gT2JqZWN0KGVudHJ5KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgW0ssIFZdIHR1cGxlOiAnICsgZW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVTaXplKGl0ZXIpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgIHJldHVybiBlbnN1cmVTaXplKGl0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXRlcmFibGVDbGFzcyhpdGVyYWJsZSkge1xuICAgIHJldHVybiBpc0tleWVkKGl0ZXJhYmxlKSA/IEtleWVkSXRlcmFibGUgOlxuICAgICAgaXNJbmRleGVkKGl0ZXJhYmxlKSA/IEluZGV4ZWRJdGVyYWJsZSA6XG4gICAgICBTZXRJdGVyYWJsZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VTZXF1ZW5jZShpdGVyYWJsZSkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKFxuICAgICAgKFxuICAgICAgICBpc0tleWVkKGl0ZXJhYmxlKSA/IEtleWVkU2VxIDpcbiAgICAgICAgaXNJbmRleGVkKGl0ZXJhYmxlKSA/IEluZGV4ZWRTZXEgOlxuICAgICAgICBTZXRTZXFcbiAgICAgICkucHJvdG90eXBlXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhY2hlUmVzdWx0VGhyb3VnaCgpIHtcbiAgICBpZiAodGhpcy5faXRlci5jYWNoZVJlc3VsdCkge1xuICAgICAgdGhpcy5faXRlci5jYWNoZVJlc3VsdCgpO1xuICAgICAgdGhpcy5zaXplID0gdGhpcy5faXRlci5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTZXEucHJvdG90eXBlLmNhY2hlUmVzdWx0LmNhbGwodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdENvbXBhcmF0b3IoYSwgYikge1xuICAgIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcmNlSXRlcmF0b3Ioa2V5UGF0aCkge1xuICAgIHZhciBpdGVyID0gZ2V0SXRlcmF0b3Ioa2V5UGF0aCk7XG4gICAgaWYgKCFpdGVyKSB7XG4gICAgICAvLyBBcnJheSBtaWdodCBub3QgYmUgaXRlcmFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCwgc28gd2UgbmVlZCBhIGZhbGxiYWNrXG4gICAgICAvLyB0byBvdXIgd3JhcHBlZCB0eXBlLlxuICAgICAgaWYgKCFpc0FycmF5TGlrZShrZXlQYXRoKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBpdGVyYWJsZSBvciBhcnJheS1saWtlOiAnICsga2V5UGF0aCk7XG4gICAgICB9XG4gICAgICBpdGVyID0gZ2V0SXRlcmF0b3IoSXRlcmFibGUoa2V5UGF0aCkpO1xuICAgIH1cbiAgICByZXR1cm4gaXRlcjtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKHNyY19NYXBfX01hcCwgS2V5ZWRDb2xsZWN0aW9uKTtcblxuICAgIC8vIEBwcmFnbWEgQ29uc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBzcmNfTWFwX19NYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlNYXAoKSA6XG4gICAgICAgIGlzTWFwKHZhbHVlKSA/IHZhbHVlIDpcbiAgICAgICAgZW1wdHlNYXAoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKG1hcCApIHtcbiAgICAgICAgICB2YXIgaXRlciA9IEtleWVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIG1hcC5zZXQoaywgdil9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnTWFwIHsnLCAnfScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrLCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QgP1xuICAgICAgICB0aGlzLl9yb290LmdldCgwLCB1bmRlZmluZWQsIGssIG5vdFNldFZhbHVlKSA6XG4gICAgICAgIG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrLCB2KSB7XG4gICAgICByZXR1cm4gdXBkYXRlTWFwKHRoaXMsIGssIHYpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnNldEluID0gZnVuY3Rpb24oa2V5UGF0aCwgdikge1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oa2V5UGF0aCwgTk9UX1NFVCwgZnVuY3Rpb24oKSAge3JldHVybiB2fSk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaykge1xuICAgICAgcmV0dXJuIHVwZGF0ZU1hcCh0aGlzLCBrLCBOT1RfU0VUKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5kZWxldGVJbiA9IGZ1bmN0aW9uKGtleVBhdGgpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKGtleVBhdGgsIGZ1bmN0aW9uKCkgIHtyZXR1cm4gTk9UX1NFVH0pO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGssIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/XG4gICAgICAgIGsodGhpcykgOlxuICAgICAgICB0aGlzLnVwZGF0ZUluKFtrXSwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnVwZGF0ZUluID0gZnVuY3Rpb24oa2V5UGF0aCwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpIHtcbiAgICAgIGlmICghdXBkYXRlcikge1xuICAgICAgICB1cGRhdGVyID0gbm90U2V0VmFsdWU7XG4gICAgICAgIG5vdFNldFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIHVwZGF0ZWRWYWx1ZSA9IHVwZGF0ZUluRGVlcE1hcChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgZm9yY2VJdGVyYXRvcihrZXlQYXRoKSxcbiAgICAgICAgbm90U2V0VmFsdWUsXG4gICAgICAgIHVwZGF0ZXJcbiAgICAgICk7XG4gICAgICByZXR1cm4gdXBkYXRlZFZhbHVlID09PSBOT1RfU0VUID8gdW5kZWZpbmVkIDogdXBkYXRlZFZhbHVlO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbXB0eU1hcCgpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCB1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2VXaXRoID0gZnVuY3Rpb24obWVyZ2VyKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCBtZXJnZXIsIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5tZXJnZUluID0gZnVuY3Rpb24oa2V5UGF0aCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oXG4gICAgICAgIGtleVBhdGgsXG4gICAgICAgIGVtcHR5TWFwKCksXG4gICAgICAgIGZ1bmN0aW9uKG0gKSB7cmV0dXJuIHR5cGVvZiBtLm1lcmdlID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICBtLm1lcmdlLmFwcGx5KG0sIGl0ZXJzKSA6XG4gICAgICAgICAgaXRlcnNbaXRlcnMubGVuZ3RoIC0gMV19XG4gICAgICApO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlRGVlcCA9IGZ1bmN0aW9uKC8qLi4uaXRlcnMqLykge1xuICAgICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgZGVlcE1lcmdlcih1bmRlZmluZWQpLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIGRlZXBNZXJnZXIobWVyZ2VyKSwgaXRlcnMpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlRGVlcEluID0gZnVuY3Rpb24oa2V5UGF0aCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oXG4gICAgICAgIGtleVBhdGgsXG4gICAgICAgIGVtcHR5TWFwKCksXG4gICAgICAgIGZ1bmN0aW9uKG0gKSB7cmV0dXJuIHR5cGVvZiBtLm1lcmdlRGVlcCA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgbS5tZXJnZURlZXAuYXBwbHkobSwgaXRlcnMpIDpcbiAgICAgICAgICBpdGVyc1tpdGVycy5sZW5ndGggLSAxXX1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uKGNvbXBhcmF0b3IpIHtcbiAgICAgIC8vIExhdGUgYmluZGluZ1xuICAgICAgcmV0dXJuIE9yZGVyZWRNYXAoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvcikpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgICByZXR1cm4gT3JkZXJlZE1hcChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNdXRhYmlsaXR5XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBmdW5jdGlvbihmbikge1xuICAgICAgdmFyIG11dGFibGUgPSB0aGlzLmFzTXV0YWJsZSgpO1xuICAgICAgZm4obXV0YWJsZSk7XG4gICAgICByZXR1cm4gbXV0YWJsZS53YXNBbHRlcmVkKCkgPyBtdXRhYmxlLl9fZW5zdXJlT3duZXIodGhpcy5fX293bmVySUQpIDogdGhpcztcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5hc011dGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fb3duZXJJRCA/IHRoaXMgOiB0aGlzLl9fZW5zdXJlT3duZXIobmV3IE93bmVySUQoKSk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuYXNJbW11dGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZW5zdXJlT3duZXIoKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2FsdGVyZWQ7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcywgdHlwZSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHRoaXMuX3Jvb3QgJiYgdGhpcy5fcm9vdC5pdGVyYXRlKGZ1bmN0aW9uKGVudHJ5ICkge1xuICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgIHJldHVybiBmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMkMCk7XG4gICAgICB9LCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlTWFwKHRoaXMuc2l6ZSwgdGhpcy5fcm9vdCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc01hcChtYXliZU1hcCkge1xuICAgIHJldHVybiAhIShtYXliZU1hcCAmJiBtYXliZU1hcFtJU19NQVBfU0VOVElORUxdKTtcbiAgfVxuXG4gIHNyY19NYXBfX01hcC5pc01hcCA9IGlzTWFwO1xuXG4gIHZhciBJU19NQVBfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9NQVBfX0BAJztcblxuICB2YXIgTWFwUHJvdG90eXBlID0gc3JjX01hcF9fTWFwLnByb3RvdHlwZTtcbiAgTWFwUHJvdG90eXBlW0lTX01BUF9TRU5USU5FTF0gPSB0cnVlO1xuICBNYXBQcm90b3R5cGVbREVMRVRFXSA9IE1hcFByb3RvdHlwZS5yZW1vdmU7XG4gIE1hcFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5kZWxldGVJbjtcblxuXG4gIC8vICNwcmFnbWEgVHJpZSBOb2Rlc1xuXG5cblxuICAgIGZ1bmN0aW9uIEFycmF5TWFwTm9kZShvd25lcklELCBlbnRyaWVzKSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbiAgICB9XG5cbiAgICBBcnJheU1hcE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICAgIGZvciAodmFyIGlpID0gMCwgbGVuID0gZW50cmllcy5sZW5ndGg7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWldWzBdKSkge1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzW2lpXVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBBcnJheU1hcE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcblxuICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgICB2YXIgaWR4ID0gMDtcbiAgICAgIGZvciAodmFyIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpZHggPCBsZW47IGlkeCsrKSB7XG4gICAgICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWR4XVswXSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGV4aXN0cyA9IGlkeCA8IGxlbjtcblxuICAgICAgaWYgKGV4aXN0cyA/IGVudHJpZXNbaWR4XVsxXSA9PT0gdmFsdWUgOiByZW1vdmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgICAgKHJlbW92ZWQgfHwgIWV4aXN0cykgJiYgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuXG4gICAgICBpZiAocmVtb3ZlZCAmJiBlbnRyaWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm47IC8vIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICBpZiAoIWV4aXN0cyAmJiAhcmVtb3ZlZCAmJiBlbnRyaWVzLmxlbmd0aCA+PSBNQVhfQVJSQVlfTUFQX1NJWkUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU5vZGVzKG93bmVySUQsIGVudHJpZXMsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICAgICAgdmFyIG5ld0VudHJpZXMgPSBpc0VkaXRhYmxlID8gZW50cmllcyA6IGFyckNvcHkoZW50cmllcyk7XG5cbiAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgICAgICBpZHggPT09IGxlbiAtIDEgPyBuZXdFbnRyaWVzLnBvcCgpIDogKG5ld0VudHJpZXNbaWR4XSA9IG5ld0VudHJpZXMucG9wKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0VudHJpZXNbaWR4XSA9IFtrZXksIHZhbHVlXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEFycmF5TWFwTm9kZShvd25lcklELCBuZXdFbnRyaWVzKTtcbiAgICB9O1xuXG5cblxuXG4gICAgZnVuY3Rpb24gQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgYml0bWFwLCBub2Rlcykge1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuYml0bWFwID0gYml0bWFwO1xuICAgICAgdGhpcy5ub2RlcyA9IG5vZGVzO1xuICAgIH1cblxuICAgIEJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGJpdCA9ICgxIDw8ICgoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSykpO1xuICAgICAgdmFyIGJpdG1hcCA9IHRoaXMuYml0bWFwO1xuICAgICAgcmV0dXJuIChiaXRtYXAgJiBiaXQpID09PSAwID8gbm90U2V0VmFsdWUgOlxuICAgICAgICB0aGlzLm5vZGVzW3BvcENvdW50KGJpdG1hcCAmIChiaXQgLSAxKSldLmdldChzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKTtcbiAgICB9O1xuXG4gICAgQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGtleUhhc2hGcmFnID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gICAgICB2YXIgYml0ID0gMSA8PCBrZXlIYXNoRnJhZztcbiAgICAgIHZhciBiaXRtYXAgPSB0aGlzLmJpdG1hcDtcbiAgICAgIHZhciBleGlzdHMgPSAoYml0bWFwICYgYml0KSAhPT0gMDtcblxuICAgICAgaWYgKCFleGlzdHMgJiYgdmFsdWUgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBpZHggPSBwb3BDb3VudChiaXRtYXAgJiAoYml0IC0gMSkpO1xuICAgICAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgICAgIHZhciBub2RlID0gZXhpc3RzID8gbm9kZXNbaWR4XSA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciBuZXdOb2RlID0gdXBkYXRlTm9kZShub2RlLCBvd25lcklELCBzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcik7XG5cbiAgICAgIGlmIChuZXdOb2RlID09PSBub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV4aXN0cyAmJiBuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA+PSBNQVhfQklUTUFQX0lOREVYRURfU0laRSkge1xuICAgICAgICByZXR1cm4gZXhwYW5kTm9kZXMob3duZXJJRCwgbm9kZXMsIGJpdG1hcCwga2V5SGFzaEZyYWcsIG5ld05vZGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXhpc3RzICYmICFuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA9PT0gMiAmJiBpc0xlYWZOb2RlKG5vZGVzW2lkeCBeIDFdKSkge1xuICAgICAgICByZXR1cm4gbm9kZXNbaWR4IF4gMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChleGlzdHMgJiYgbmV3Tm9kZSAmJiBub2Rlcy5sZW5ndGggPT09IDEgJiYgaXNMZWFmTm9kZShuZXdOb2RlKSkge1xuICAgICAgICByZXR1cm4gbmV3Tm9kZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgICAgIHZhciBuZXdCaXRtYXAgPSBleGlzdHMgPyBuZXdOb2RlID8gYml0bWFwIDogYml0bWFwIF4gYml0IDogYml0bWFwIHwgYml0O1xuICAgICAgdmFyIG5ld05vZGVzID0gZXhpc3RzID8gbmV3Tm9kZSA/XG4gICAgICAgIHNldEluKG5vZGVzLCBpZHgsIG5ld05vZGUsIGlzRWRpdGFibGUpIDpcbiAgICAgICAgc3BsaWNlT3V0KG5vZGVzLCBpZHgsIGlzRWRpdGFibGUpIDpcbiAgICAgICAgc3BsaWNlSW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSk7XG5cbiAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgIHRoaXMuYml0bWFwID0gbmV3Qml0bWFwO1xuICAgICAgICB0aGlzLm5vZGVzID0gbmV3Tm9kZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIG5ld0JpdG1hcCwgbmV3Tm9kZXMpO1xuICAgIH07XG5cblxuXG5cbiAgICBmdW5jdGlvbiBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIGNvdW50LCBub2Rlcykge1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICAgIHRoaXMubm9kZXMgPSBub2RlcztcbiAgICB9XG5cbiAgICBIYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGlkeCA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGVzW2lkeF07XG4gICAgICByZXR1cm4gbm9kZSA/IG5vZGUuZ2V0KHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEhhc2hBcnJheU1hcE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuICAgICAgdmFyIGlkeCA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcbiAgICAgIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gICAgICB2YXIgbm9kZSA9IG5vZGVzW2lkeF07XG5cbiAgICAgIGlmIChyZW1vdmVkICYmICFub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3Tm9kZSA9IHVwZGF0ZU5vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQgKyBTSElGVCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpO1xuICAgICAgaWYgKG5ld05vZGUgPT09IG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdDb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgbmV3Q291bnQrKztcbiAgICAgIH0gZWxzZSBpZiAoIW5ld05vZGUpIHtcbiAgICAgICAgbmV3Q291bnQtLTtcbiAgICAgICAgaWYgKG5ld0NvdW50IDwgTUlOX0hBU0hfQVJSQVlfTUFQX1NJWkUpIHtcbiAgICAgICAgICByZXR1cm4gcGFja05vZGVzKG93bmVySUQsIG5vZGVzLCBuZXdDb3VudCwgaWR4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICAgICAgdmFyIG5ld05vZGVzID0gc2V0SW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSk7XG5cbiAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgIHRoaXMuY291bnQgPSBuZXdDb3VudDtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG5ld05vZGVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIG5ld0NvdW50LCBuZXdOb2Rlcyk7XG4gICAgfTtcblxuXG5cblxuICAgIGZ1bmN0aW9uIEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJpZXMpIHtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLmtleUhhc2ggPSBrZXlIYXNoO1xuICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbiAgICB9XG5cbiAgICBIYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgICAgZm9yICh2YXIgaWkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICAgICAgaWYgKGlzKGtleSwgZW50cmllc1tpaV1bMF0pKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJpZXNbaWldWzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICAgIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcblxuICAgICAgaWYgKGtleUhhc2ggIT09IHRoaXMua2V5SGFzaCkge1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICAgICAgcmV0dXJuIG1lcmdlSW50b05vZGUodGhpcywgb3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICBmb3IgKHZhciBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWR4IDwgbGVuOyBpZHgrKykge1xuICAgICAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lkeF1bMF0pKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBleGlzdHMgPSBpZHggPCBsZW47XG5cbiAgICAgIGlmIChleGlzdHMgPyBlbnRyaWVzW2lkeF1bMV0gPT09IHZhbHVlIDogcmVtb3ZlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICAgIChyZW1vdmVkIHx8ICFleGlzdHMpICYmIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcblxuICAgICAgaWYgKHJlbW92ZWQgJiYgbGVuID09PSAyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgZW50cmllc1tpZHggXiAxXSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gICAgICB2YXIgbmV3RW50cmllcyA9IGlzRWRpdGFibGUgPyBlbnRyaWVzIDogYXJyQ29weShlbnRyaWVzKTtcblxuICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgIGlkeCA9PT0gbGVuIC0gMSA/IG5ld0VudHJpZXMucG9wKCkgOiAobmV3RW50cmllc1tpZHhdID0gbmV3RW50cmllcy5wb3AoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3RW50cmllc1tpZHhdID0gW2tleSwgdmFsdWVdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdFbnRyaWVzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gbmV3RW50cmllcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBuZXdFbnRyaWVzKTtcbiAgICB9O1xuXG5cblxuXG4gICAgZnVuY3Rpb24gVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJ5KSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5rZXlIYXNoID0ga2V5SGFzaDtcbiAgICAgIHRoaXMuZW50cnkgPSBlbnRyeTtcbiAgICB9XG5cbiAgICBWYWx1ZU5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gaXMoa2V5LCB0aGlzLmVudHJ5WzBdKSA/IHRoaXMuZW50cnlbMV0gOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgVmFsdWVOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICAgIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG4gICAgICB2YXIga2V5TWF0Y2ggPSBpcyhrZXksIHRoaXMuZW50cnlbMF0pO1xuICAgICAgaWYgKGtleU1hdGNoID8gdmFsdWUgPT09IHRoaXMuZW50cnlbMV0gOiByZW1vdmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuXG4gICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgICAgIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGlmIChrZXlNYXRjaCkge1xuICAgICAgICBpZiAob3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQpIHtcbiAgICAgICAgICB0aGlzLmVudHJ5WzFdID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBba2V5LCB2YWx1ZV0pO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTm9kZSh0aGlzLCBvd25lcklELCBzaGlmdCwgaGFzaChrZXkpLCBba2V5LCB2YWx1ZV0pO1xuICAgIH07XG5cblxuXG4gIC8vICNwcmFnbWEgSXRlcmF0b3JzXG5cbiAgQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5pdGVyYXRlID1cbiAgSGFzaENvbGxpc2lvbk5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICBmb3IgKHZhciBpaSA9IDAsIG1heEluZGV4ID0gZW50cmllcy5sZW5ndGggLSAxOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgaWYgKGZuKGVudHJpZXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV0pID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPVxuICBIYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgICBmb3IgKHZhciBpaSA9IDAsIG1heEluZGV4ID0gbm9kZXMubGVuZ3RoIC0gMTsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgIHZhciBub2RlID0gbm9kZXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgICBpZiAobm9kZSAmJiBub2RlLml0ZXJhdGUoZm4sIHJldmVyc2UpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgVmFsdWVOb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7XG4gICAgcmV0dXJuIGZuKHRoaXMuZW50cnkpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoTWFwSXRlcmF0b3IsIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IpO1xuXG4gICAgZnVuY3Rpb24gTWFwSXRlcmF0b3IobWFwLCB0eXBlLCByZXZlcnNlKSB7XG4gICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgIHRoaXMuX3JldmVyc2UgPSByZXZlcnNlO1xuICAgICAgdGhpcy5fc3RhY2sgPSBtYXAuX3Jvb3QgJiYgbWFwSXRlcmF0b3JGcmFtZShtYXAuX3Jvb3QpO1xuICAgIH1cblxuICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdHlwZSA9IHRoaXMuX3R5cGU7XG4gICAgICB2YXIgc3RhY2sgPSB0aGlzLl9zdGFjaztcbiAgICAgIHdoaWxlIChzdGFjaykge1xuICAgICAgICB2YXIgbm9kZSA9IHN0YWNrLm5vZGU7XG4gICAgICAgIHZhciBpbmRleCA9IHN0YWNrLmluZGV4Kys7XG4gICAgICAgIHZhciBtYXhJbmRleDtcbiAgICAgICAgaWYgKG5vZGUuZW50cnkpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIG5vZGUuZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChub2RlLmVudHJpZXMpIHtcbiAgICAgICAgICBtYXhJbmRleCA9IG5vZGUuZW50cmllcy5sZW5ndGggLSAxO1xuICAgICAgICAgIGlmIChpbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgbm9kZS5lbnRyaWVzW3RoaXMuX3JldmVyc2UgPyBtYXhJbmRleCAtIGluZGV4IDogaW5kZXhdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF4SW5kZXggPSBub2RlLm5vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgaWYgKGluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgc3ViTm9kZSA9IG5vZGUubm9kZXNbdGhpcy5fcmV2ZXJzZSA/IG1heEluZGV4IC0gaW5kZXggOiBpbmRleF07XG4gICAgICAgICAgICBpZiAoc3ViTm9kZSkge1xuICAgICAgICAgICAgICBpZiAoc3ViTm9kZS5lbnRyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIHN1Yk5vZGUuZW50cnkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN0YWNrID0gdGhpcy5fc3RhY2sgPSBtYXBJdGVyYXRvckZyYW1lKHN1Yk5vZGUsIHN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGFjayA9IHRoaXMuX3N0YWNrID0gdGhpcy5fc3RhY2suX19wcmV2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIGVudHJ5KSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcEl0ZXJhdG9yRnJhbWUobm9kZSwgcHJldikge1xuICAgIHJldHVybiB7XG4gICAgICBub2RlOiBub2RlLFxuICAgICAgaW5kZXg6IDAsXG4gICAgICBfX3ByZXY6IHByZXZcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZU1hcChzaXplLCByb290LCBvd25lcklELCBoYXNoKSB7XG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUoTWFwUHJvdG90eXBlKTtcbiAgICBtYXAuc2l6ZSA9IHNpemU7XG4gICAgbWFwLl9yb290ID0gcm9vdDtcbiAgICBtYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgICBtYXAuX19oYXNoID0gaGFzaDtcbiAgICBtYXAuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuXG4gIHZhciBFTVBUWV9NQVA7XG4gIGZ1bmN0aW9uIGVtcHR5TWFwKCkge1xuICAgIHJldHVybiBFTVBUWV9NQVAgfHwgKEVNUFRZX01BUCA9IG1ha2VNYXAoMCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTWFwKG1hcCwgaywgdikge1xuICAgIHZhciBuZXdSb290O1xuICAgIHZhciBuZXdTaXplO1xuICAgIGlmICghbWFwLl9yb290KSB7XG4gICAgICBpZiAodiA9PT0gTk9UX1NFVCkge1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgfVxuICAgICAgbmV3U2l6ZSA9IDE7XG4gICAgICBuZXdSb290ID0gbmV3IEFycmF5TWFwTm9kZShtYXAuX19vd25lcklELCBbW2ssIHZdXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkaWRDaGFuZ2VTaXplID0gTWFrZVJlZihDSEFOR0VfTEVOR1RIKTtcbiAgICAgIHZhciBkaWRBbHRlciA9IE1ha2VSZWYoRElEX0FMVEVSKTtcbiAgICAgIG5ld1Jvb3QgPSB1cGRhdGVOb2RlKG1hcC5fcm9vdCwgbWFwLl9fb3duZXJJRCwgMCwgdW5kZWZpbmVkLCBrLCB2LCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcik7XG4gICAgICBpZiAoIWRpZEFsdGVyLnZhbHVlKSB7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9XG4gICAgICBuZXdTaXplID0gbWFwLnNpemUgKyAoZGlkQ2hhbmdlU2l6ZS52YWx1ZSA/IHYgPT09IE5PVF9TRVQgPyAtMSA6IDEgOiAwKTtcbiAgICB9XG4gICAgaWYgKG1hcC5fX293bmVySUQpIHtcbiAgICAgIG1hcC5zaXplID0gbmV3U2l6ZTtcbiAgICAgIG1hcC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgICBtYXAuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgbWFwLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Um9vdCA/IG1ha2VNYXAobmV3U2l6ZSwgbmV3Um9vdCkgOiBlbXB0eU1hcCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTm9kZShub2RlLCBvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gTk9UX1NFVCkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgICByZXR1cm4gbmV3IFZhbHVlTm9kZShvd25lcklELCBrZXlIYXNoLCBba2V5LCB2YWx1ZV0pO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS51cGRhdGUob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTGVhZk5vZGUobm9kZSkge1xuICAgIHJldHVybiBub2RlLmNvbnN0cnVjdG9yID09PSBWYWx1ZU5vZGUgfHwgbm9kZS5jb25zdHJ1Y3RvciA9PT0gSGFzaENvbGxpc2lvbk5vZGU7XG4gIH1cblxuICBmdW5jdGlvbiBtZXJnZUludG9Ob2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBlbnRyeSkge1xuICAgIGlmIChub2RlLmtleUhhc2ggPT09IGtleUhhc2gpIHtcbiAgICAgIHJldHVybiBuZXcgSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwga2V5SGFzaCwgW25vZGUuZW50cnksIGVudHJ5XSk7XG4gICAgfVxuXG4gICAgdmFyIGlkeDEgPSAoc2hpZnQgPT09IDAgPyBub2RlLmtleUhhc2ggOiBub2RlLmtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gICAgdmFyIGlkeDIgPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcblxuICAgIHZhciBuZXdOb2RlO1xuICAgIHZhciBub2RlcyA9IGlkeDEgPT09IGlkeDIgP1xuICAgICAgW21lcmdlSW50b05vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQgKyBTSElGVCwga2V5SGFzaCwgZW50cnkpXSA6XG4gICAgICAoKG5ld05vZGUgPSBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJ5KSksIGlkeDEgPCBpZHgyID8gW25vZGUsIG5ld05vZGVdIDogW25ld05vZGUsIG5vZGVdKTtcblxuICAgIHJldHVybiBuZXcgQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgKDEgPDwgaWR4MSkgfCAoMSA8PCBpZHgyKSwgbm9kZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZXMob3duZXJJRCwgZW50cmllcywga2V5LCB2YWx1ZSkge1xuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgb3duZXJJRCA9IG5ldyBPd25lcklEKCk7XG4gICAgfVxuICAgIHZhciBub2RlID0gbmV3IFZhbHVlTm9kZShvd25lcklELCBoYXNoKGtleSksIFtrZXksIHZhbHVlXSk7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGVudHJpZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2lpXTtcbiAgICAgIG5vZGUgPSBub2RlLnVwZGF0ZShvd25lcklELCAwLCB1bmRlZmluZWQsIGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFja05vZGVzKG93bmVySUQsIG5vZGVzLCBjb3VudCwgZXhjbHVkaW5nKSB7XG4gICAgdmFyIGJpdG1hcCA9IDA7XG4gICAgdmFyIHBhY2tlZElJID0gMDtcbiAgICB2YXIgcGFja2VkTm9kZXMgPSBuZXcgQXJyYXkoY291bnQpO1xuICAgIGZvciAodmFyIGlpID0gMCwgYml0ID0gMSwgbGVuID0gbm9kZXMubGVuZ3RoOyBpaSA8IGxlbjsgaWkrKywgYml0IDw8PSAxKSB7XG4gICAgICB2YXIgbm9kZSA9IG5vZGVzW2lpXTtcbiAgICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQgJiYgaWkgIT09IGV4Y2x1ZGluZykge1xuICAgICAgICBiaXRtYXAgfD0gYml0O1xuICAgICAgICBwYWNrZWROb2Rlc1twYWNrZWRJSSsrXSA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgYml0bWFwLCBwYWNrZWROb2Rlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBleHBhbmROb2Rlcyhvd25lcklELCBub2RlcywgYml0bWFwLCBpbmNsdWRpbmcsIG5vZGUpIHtcbiAgICB2YXIgY291bnQgPSAwO1xuICAgIHZhciBleHBhbmRlZE5vZGVzID0gbmV3IEFycmF5KFNJWkUpO1xuICAgIGZvciAodmFyIGlpID0gMDsgYml0bWFwICE9PSAwOyBpaSsrLCBiaXRtYXAgPj4+PSAxKSB7XG4gICAgICBleHBhbmRlZE5vZGVzW2lpXSA9IGJpdG1hcCAmIDEgPyBub2Rlc1tjb3VudCsrXSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZXhwYW5kZWROb2Rlc1tpbmNsdWRpbmddID0gbm9kZTtcbiAgICByZXR1cm4gbmV3IEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgY291bnQgKyAxLCBleHBhbmRlZE5vZGVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlSW50b01hcFdpdGgobWFwLCBtZXJnZXIsIGl0ZXJhYmxlcykge1xuICAgIHZhciBpdGVycyA9IFtdO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVyYWJsZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVyYWJsZXNbaWldO1xuICAgICAgdmFyIGl0ZXIgPSBLZXllZEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgIGlmICghaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgaXRlciA9IGl0ZXIubWFwKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIGZyb21KUyh2KX0pO1xuICAgICAgfVxuICAgICAgaXRlcnMucHVzaChpdGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlSW50b0NvbGxlY3Rpb25XaXRoKG1hcCwgbWVyZ2VyLCBpdGVycyk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWVwTWVyZ2VyKG1lcmdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihleGlzdGluZywgdmFsdWUsIGtleSkgXG4gICAgICB7cmV0dXJuIGV4aXN0aW5nICYmIGV4aXN0aW5nLm1lcmdlRGVlcFdpdGggJiYgaXNJdGVyYWJsZSh2YWx1ZSkgP1xuICAgICAgICBleGlzdGluZy5tZXJnZURlZXBXaXRoKG1lcmdlciwgdmFsdWUpIDpcbiAgICAgICAgbWVyZ2VyID8gbWVyZ2VyKGV4aXN0aW5nLCB2YWx1ZSwga2V5KSA6IHZhbHVlfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlSW50b0NvbGxlY3Rpb25XaXRoKGNvbGxlY3Rpb24sIG1lcmdlciwgaXRlcnMpIHtcbiAgICBpdGVycyA9IGl0ZXJzLmZpbHRlcihmdW5jdGlvbih4ICkge3JldHVybiB4LnNpemUgIT09IDB9KTtcbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG4gICAgaWYgKGNvbGxlY3Rpb24uc2l6ZSA9PT0gMCAmJiAhY29sbGVjdGlvbi5fX293bmVySUQgJiYgaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gY29sbGVjdGlvbi5jb25zdHJ1Y3RvcihpdGVyc1swXSk7XG4gICAgfVxuICAgIHJldHVybiBjb2xsZWN0aW9uLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oY29sbGVjdGlvbiApIHtcbiAgICAgIHZhciBtZXJnZUludG9NYXAgPSBtZXJnZXIgP1xuICAgICAgICBmdW5jdGlvbih2YWx1ZSwga2V5KSAge1xuICAgICAgICAgIGNvbGxlY3Rpb24udXBkYXRlKGtleSwgTk9UX1NFVCwgZnVuY3Rpb24oZXhpc3RpbmcgKVxuICAgICAgICAgICAge3JldHVybiBleGlzdGluZyA9PT0gTk9UX1NFVCA/IHZhbHVlIDogbWVyZ2VyKGV4aXN0aW5nLCB2YWx1ZSwga2V5KX1cbiAgICAgICAgICApO1xuICAgICAgICB9IDpcbiAgICAgICAgZnVuY3Rpb24odmFsdWUsIGtleSkgIHtcbiAgICAgICAgICBjb2xsZWN0aW9uLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICBpdGVyc1tpaV0uZm9yRWFjaChtZXJnZUludG9NYXApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSW5EZWVwTWFwKGV4aXN0aW5nLCBrZXlQYXRoSXRlciwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpIHtcbiAgICB2YXIgaXNOb3RTZXQgPSBleGlzdGluZyA9PT0gTk9UX1NFVDtcbiAgICB2YXIgc3RlcCA9IGtleVBhdGhJdGVyLm5leHQoKTtcbiAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICB2YXIgZXhpc3RpbmdWYWx1ZSA9IGlzTm90U2V0ID8gbm90U2V0VmFsdWUgOiBleGlzdGluZztcbiAgICAgIHZhciBuZXdWYWx1ZSA9IHVwZGF0ZXIoZXhpc3RpbmdWYWx1ZSk7XG4gICAgICByZXR1cm4gbmV3VmFsdWUgPT09IGV4aXN0aW5nVmFsdWUgPyBleGlzdGluZyA6IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBpc05vdFNldCB8fCAoZXhpc3RpbmcgJiYgZXhpc3Rpbmcuc2V0KSxcbiAgICAgICdpbnZhbGlkIGtleVBhdGgnXG4gICAgKTtcbiAgICB2YXIga2V5ID0gc3RlcC52YWx1ZTtcbiAgICB2YXIgbmV4dEV4aXN0aW5nID0gaXNOb3RTZXQgPyBOT1RfU0VUIDogZXhpc3RpbmcuZ2V0KGtleSwgTk9UX1NFVCk7XG4gICAgdmFyIG5leHRVcGRhdGVkID0gdXBkYXRlSW5EZWVwTWFwKFxuICAgICAgbmV4dEV4aXN0aW5nLFxuICAgICAga2V5UGF0aEl0ZXIsXG4gICAgICBub3RTZXRWYWx1ZSxcbiAgICAgIHVwZGF0ZXJcbiAgICApO1xuICAgIHJldHVybiBuZXh0VXBkYXRlZCA9PT0gbmV4dEV4aXN0aW5nID8gZXhpc3RpbmcgOlxuICAgICAgbmV4dFVwZGF0ZWQgPT09IE5PVF9TRVQgPyBleGlzdGluZy5yZW1vdmUoa2V5KSA6XG4gICAgICAoaXNOb3RTZXQgPyBlbXB0eU1hcCgpIDogZXhpc3RpbmcpLnNldChrZXksIG5leHRVcGRhdGVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcENvdW50KHgpIHtcbiAgICB4ID0geCAtICgoeCA+PiAxKSAmIDB4NTU1NTU1NTUpO1xuICAgIHggPSAoeCAmIDB4MzMzMzMzMzMpICsgKCh4ID4+IDIpICYgMHgzMzMzMzMzMyk7XG4gICAgeCA9ICh4ICsgKHggPj4gNCkpICYgMHgwZjBmMGYwZjtcbiAgICB4ID0geCArICh4ID4+IDgpO1xuICAgIHggPSB4ICsgKHggPj4gMTYpO1xuICAgIHJldHVybiB4ICYgMHg3ZjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEluKGFycmF5LCBpZHgsIHZhbCwgY2FuRWRpdCkge1xuICAgIHZhciBuZXdBcnJheSA9IGNhbkVkaXQgPyBhcnJheSA6IGFyckNvcHkoYXJyYXkpO1xuICAgIG5ld0FycmF5W2lkeF0gPSB2YWw7XG4gICAgcmV0dXJuIG5ld0FycmF5O1xuICB9XG5cbiAgZnVuY3Rpb24gc3BsaWNlSW4oYXJyYXksIGlkeCwgdmFsLCBjYW5FZGl0KSB7XG4gICAgdmFyIG5ld0xlbiA9IGFycmF5Lmxlbmd0aCArIDE7XG4gICAgaWYgKGNhbkVkaXQgJiYgaWR4ICsgMSA9PT0gbmV3TGVuKSB7XG4gICAgICBhcnJheVtpZHhdID0gdmFsO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgICB2YXIgbmV3QXJyYXkgPSBuZXcgQXJyYXkobmV3TGVuKTtcbiAgICB2YXIgYWZ0ZXIgPSAwO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBuZXdMZW47IGlpKyspIHtcbiAgICAgIGlmIChpaSA9PT0gaWR4KSB7XG4gICAgICAgIG5ld0FycmF5W2lpXSA9IHZhbDtcbiAgICAgICAgYWZ0ZXIgPSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0FycmF5W2lpXSA9IGFycmF5W2lpICsgYWZ0ZXJdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH1cblxuICBmdW5jdGlvbiBzcGxpY2VPdXQoYXJyYXksIGlkeCwgY2FuRWRpdCkge1xuICAgIHZhciBuZXdMZW4gPSBhcnJheS5sZW5ndGggLSAxO1xuICAgIGlmIChjYW5FZGl0ICYmIGlkeCA9PT0gbmV3TGVuKSB7XG4gICAgICBhcnJheS5wb3AoKTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgdmFyIG5ld0FycmF5ID0gbmV3IEFycmF5KG5ld0xlbik7XG4gICAgdmFyIGFmdGVyID0gMDtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbmV3TGVuOyBpaSsrKSB7XG4gICAgICBpZiAoaWkgPT09IGlkeCkge1xuICAgICAgICBhZnRlciA9IDE7XG4gICAgICB9XG4gICAgICBuZXdBcnJheVtpaV0gPSBhcnJheVtpaSArIGFmdGVyXTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0FycmF5O1xuICB9XG5cbiAgdmFyIE1BWF9BUlJBWV9NQVBfU0laRSA9IFNJWkUgLyA0O1xuICB2YXIgTUFYX0JJVE1BUF9JTkRFWEVEX1NJWkUgPSBTSVpFIC8gMjtcbiAgdmFyIE1JTl9IQVNIX0FSUkFZX01BUF9TSVpFID0gU0laRSAvIDQ7XG5cbiAgY3JlYXRlQ2xhc3MoTGlzdCwgSW5kZXhlZENvbGxlY3Rpb24pO1xuXG4gICAgLy8gQHByYWdtYSBDb25zdHJ1Y3Rpb25cblxuICAgIGZ1bmN0aW9uIExpc3QodmFsdWUpIHtcbiAgICAgIHZhciBlbXB0eSA9IGVtcHR5TGlzdCgpO1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgICAgfVxuICAgICAgaWYgKGlzTGlzdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXIgPSBJbmRleGVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgdmFyIHNpemUgPSBpdGVyLnNpemU7XG4gICAgICBpZiAoc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgICB9XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZShzaXplKTtcbiAgICAgIGlmIChzaXplID4gMCAmJiBzaXplIDwgU0laRSkge1xuICAgICAgICByZXR1cm4gbWFrZUxpc3QoMCwgc2l6ZSwgU0hJRlQsIG51bGwsIG5ldyBWTm9kZShpdGVyLnRvQXJyYXkoKSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5LndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obGlzdCApIHtcbiAgICAgICAgbGlzdC5zZXRTaXplKHNpemUpO1xuICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiwgaSkgIHtyZXR1cm4gbGlzdC5zZXQoaSwgdil9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIExpc3Qub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnTGlzdCBbJywgJ10nKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICAgIExpc3QucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgICAgfVxuICAgICAgaW5kZXggKz0gdGhpcy5fb3JpZ2luO1xuICAgICAgdmFyIG5vZGUgPSBsaXN0Tm9kZUZvcih0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gbm9kZSAmJiBub2RlLmFycmF5W2luZGV4ICYgTUFTS107XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBMaXN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB1cGRhdGVMaXN0KHRoaXMsIGluZGV4LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICByZXR1cm4gIXRoaXMuaGFzKGluZGV4KSA/IHRoaXMgOlxuICAgICAgICBpbmRleCA9PT0gMCA/IHRoaXMuc2hpZnQoKSA6XG4gICAgICAgIGluZGV4ID09PSB0aGlzLnNpemUgLSAxID8gdGhpcy5wb3AoKSA6XG4gICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gdGhpcy5fb3JpZ2luID0gdGhpcy5fY2FwYWNpdHkgPSAwO1xuICAgICAgICB0aGlzLl9sZXZlbCA9IFNISUZUO1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5TGlzdCgpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgdmFyIHZhbHVlcyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBvbGRTaXplID0gdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIDAsIG9sZFNpemUgKyB2YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBsaXN0LnNldChvbGRTaXplICsgaWksIHZhbHVlc1tpaV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAwLCAtMSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICB2YXIgdmFsdWVzID0gYXJndW1lbnRzO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIC12YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBsaXN0LnNldChpaSwgdmFsdWVzW2lpXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICAgIExpc3QucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgdW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCBtZXJnZXIsIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUubWVyZ2VEZWVwID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgZGVlcE1lcmdlcih1bmRlZmluZWQpLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gZnVuY3Rpb24obWVyZ2VyKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgZGVlcE1lcmdlcihtZXJnZXIpLCBpdGVycyk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbihzaXplKSB7XG4gICAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAwLCBzaXplKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBJdGVyYXRpb25cblxuICAgIExpc3QucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKFxuICAgICAgICB0aGlzLFxuICAgICAgICByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpLFxuICAgICAgICByZXNvbHZlRW5kKGVuZCwgc2l6ZSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHZhbHVlcyA9IGl0ZXJhdGVMaXN0KHRoaXMsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzKCk7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gRE9ORSA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaW5kZXgrKywgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHZhbHVlcyA9IGl0ZXJhdGVMaXN0KHRoaXMsIHJldmVyc2UpO1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgd2hpbGUgKCh2YWx1ZSA9IHZhbHVlcygpKSAhPT0gRE9ORSkge1xuICAgICAgICBpZiAoZm4odmFsdWUsIGluZGV4KyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlTGlzdCh0aGlzLl9vcmlnaW4sIHRoaXMuX2NhcGFjaXR5LCB0aGlzLl9sZXZlbCwgdGhpcy5fcm9vdCwgdGhpcy5fdGFpbCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc0xpc3QobWF5YmVMaXN0KSB7XG4gICAgcmV0dXJuICEhKG1heWJlTGlzdCAmJiBtYXliZUxpc3RbSVNfTElTVF9TRU5USU5FTF0pO1xuICB9XG5cbiAgTGlzdC5pc0xpc3QgPSBpc0xpc3Q7XG5cbiAgdmFyIElTX0xJU1RfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9MSVNUX19AQCc7XG5cbiAgdmFyIExpc3RQcm90b3R5cGUgPSBMaXN0LnByb3RvdHlwZTtcbiAgTGlzdFByb3RvdHlwZVtJU19MSVNUX1NFTlRJTkVMXSA9IHRydWU7XG4gIExpc3RQcm90b3R5cGVbREVMRVRFXSA9IExpc3RQcm90b3R5cGUucmVtb3ZlO1xuICBMaXN0UHJvdG90eXBlLnNldEluID0gTWFwUHJvdG90eXBlLnNldEluO1xuICBMaXN0UHJvdG90eXBlLmRlbGV0ZUluID1cbiAgTGlzdFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5yZW1vdmVJbjtcbiAgTGlzdFByb3RvdHlwZS51cGRhdGUgPSBNYXBQcm90b3R5cGUudXBkYXRlO1xuICBMaXN0UHJvdG90eXBlLnVwZGF0ZUluID0gTWFwUHJvdG90eXBlLnVwZGF0ZUluO1xuICBMaXN0UHJvdG90eXBlLm1lcmdlSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VJbjtcbiAgTGlzdFByb3RvdHlwZS5tZXJnZURlZXBJbiA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBJbjtcbiAgTGlzdFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG4gIExpc3RQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgTGlzdFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcbiAgTGlzdFByb3RvdHlwZS53YXNBbHRlcmVkID0gTWFwUHJvdG90eXBlLndhc0FsdGVyZWQ7XG5cblxuXG4gICAgZnVuY3Rpb24gVk5vZGUoYXJyYXksIG93bmVySUQpIHtcbiAgICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogc2VlbXMgbGlrZSB0aGVzZSBtZXRob2RzIGFyZSB2ZXJ5IHNpbWlsYXJcblxuICAgIFZOb2RlLnByb3RvdHlwZS5yZW1vdmVCZWZvcmUgPSBmdW5jdGlvbihvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gbGV2ZWwgPyAxIDw8IGxldmVsIDogMCB8fCB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBvcmlnaW5JbmRleCA9IChpbmRleCA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgIGlmIChvcmlnaW5JbmRleCA+PSB0aGlzLmFycmF5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IFZOb2RlKFtdLCBvd25lcklEKTtcbiAgICAgIH1cbiAgICAgIHZhciByZW1vdmluZ0ZpcnN0ID0gb3JpZ2luSW5kZXggPT09IDA7XG4gICAgICB2YXIgbmV3Q2hpbGQ7XG4gICAgICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgICAgIHZhciBvbGRDaGlsZCA9IHRoaXMuYXJyYXlbb3JpZ2luSW5kZXhdO1xuICAgICAgICBuZXdDaGlsZCA9IG9sZENoaWxkICYmIG9sZENoaWxkLnJlbW92ZUJlZm9yZShvd25lcklELCBsZXZlbCAtIFNISUZULCBpbmRleCk7XG4gICAgICAgIGlmIChuZXdDaGlsZCA9PT0gb2xkQ2hpbGQgJiYgcmVtb3ZpbmdGaXJzdCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVtb3ZpbmdGaXJzdCAmJiAhbmV3Q2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgZWRpdGFibGUgPSBlZGl0YWJsZVZOb2RlKHRoaXMsIG93bmVySUQpO1xuICAgICAgaWYgKCFyZW1vdmluZ0ZpcnN0KSB7XG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBvcmlnaW5JbmRleDsgaWkrKykge1xuICAgICAgICAgIGVkaXRhYmxlLmFycmF5W2lpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5ld0NoaWxkKSB7XG4gICAgICAgIGVkaXRhYmxlLmFycmF5W29yaWdpbkluZGV4XSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVkaXRhYmxlO1xuICAgIH07XG5cbiAgICBWTm9kZS5wcm90b3R5cGUucmVtb3ZlQWZ0ZXIgPSBmdW5jdGlvbihvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gbGV2ZWwgPyAxIDw8IGxldmVsIDogMCB8fCB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBzaXplSW5kZXggPSAoKGluZGV4IC0gMSkgPj4+IGxldmVsKSAmIE1BU0s7XG4gICAgICBpZiAoc2l6ZUluZGV4ID49IHRoaXMuYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIHJlbW92aW5nTGFzdCA9IHNpemVJbmRleCA9PT0gdGhpcy5hcnJheS5sZW5ndGggLSAxO1xuICAgICAgdmFyIG5ld0NoaWxkO1xuICAgICAgaWYgKGxldmVsID4gMCkge1xuICAgICAgICB2YXIgb2xkQ2hpbGQgPSB0aGlzLmFycmF5W3NpemVJbmRleF07XG4gICAgICAgIG5ld0NoaWxkID0gb2xkQ2hpbGQgJiYgb2xkQ2hpbGQucmVtb3ZlQWZ0ZXIob3duZXJJRCwgbGV2ZWwgLSBTSElGVCwgaW5kZXgpO1xuICAgICAgICBpZiAobmV3Q2hpbGQgPT09IG9sZENoaWxkICYmIHJlbW92aW5nTGFzdCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVtb3ZpbmdMYXN0ICYmICFuZXdDaGlsZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRhYmxlVk5vZGUodGhpcywgb3duZXJJRCk7XG4gICAgICBpZiAoIXJlbW92aW5nTGFzdCkge1xuICAgICAgICBlZGl0YWJsZS5hcnJheS5wb3AoKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZXdDaGlsZCkge1xuICAgICAgICBlZGl0YWJsZS5hcnJheVtzaXplSW5kZXhdID0gbmV3Q2hpbGQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWRpdGFibGU7XG4gICAgfTtcblxuXG5cbiAgdmFyIERPTkUgPSB7fTtcblxuICBmdW5jdGlvbiBpdGVyYXRlTGlzdChsaXN0LCByZXZlcnNlKSB7XG4gICAgdmFyIGxlZnQgPSBsaXN0Ll9vcmlnaW47XG4gICAgdmFyIHJpZ2h0ID0gbGlzdC5fY2FwYWNpdHk7XG4gICAgdmFyIHRhaWxQb3MgPSBnZXRUYWlsT2Zmc2V0KHJpZ2h0KTtcbiAgICB2YXIgdGFpbCA9IGxpc3QuX3RhaWw7XG5cbiAgICByZXR1cm4gaXRlcmF0ZU5vZGVPckxlYWYobGlzdC5fcm9vdCwgbGlzdC5fbGV2ZWwsIDApO1xuXG4gICAgZnVuY3Rpb24gaXRlcmF0ZU5vZGVPckxlYWYobm9kZSwgbGV2ZWwsIG9mZnNldCkge1xuICAgICAgcmV0dXJuIGxldmVsID09PSAwID9cbiAgICAgICAgaXRlcmF0ZUxlYWYobm9kZSwgb2Zmc2V0KSA6XG4gICAgICAgIGl0ZXJhdGVOb2RlKG5vZGUsIGxldmVsLCBvZmZzZXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGl0ZXJhdGVMZWFmKG5vZGUsIG9mZnNldCkge1xuICAgICAgdmFyIGFycmF5ID0gb2Zmc2V0ID09PSB0YWlsUG9zID8gdGFpbCAmJiB0YWlsLmFycmF5IDogbm9kZSAmJiBub2RlLmFycmF5O1xuICAgICAgdmFyIGZyb20gPSBvZmZzZXQgPiBsZWZ0ID8gMCA6IGxlZnQgLSBvZmZzZXQ7XG4gICAgICB2YXIgdG8gPSByaWdodCAtIG9mZnNldDtcbiAgICAgIGlmICh0byA+IFNJWkUpIHtcbiAgICAgICAgdG8gPSBTSVpFO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgcmV0dXJuIERPTkU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlkeCA9IHJldmVyc2UgPyAtLXRvIDogZnJvbSsrO1xuICAgICAgICByZXR1cm4gYXJyYXkgJiYgYXJyYXlbaWR4XTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXRlcmF0ZU5vZGUobm9kZSwgbGV2ZWwsIG9mZnNldCkge1xuICAgICAgdmFyIHZhbHVlcztcbiAgICAgIHZhciBhcnJheSA9IG5vZGUgJiYgbm9kZS5hcnJheTtcbiAgICAgIHZhciBmcm9tID0gb2Zmc2V0ID4gbGVmdCA/IDAgOiAobGVmdCAtIG9mZnNldCkgPj4gbGV2ZWw7XG4gICAgICB2YXIgdG8gPSAoKHJpZ2h0IC0gb2Zmc2V0KSA+PiBsZXZlbCkgKyAxO1xuICAgICAgaWYgKHRvID4gU0laRSkge1xuICAgICAgICB0byA9IFNJWkU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSAge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzKCk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IERPTkUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgICByZXR1cm4gRE9ORTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGlkeCA9IHJldmVyc2UgPyAtLXRvIDogZnJvbSsrO1xuICAgICAgICAgIHZhbHVlcyA9IGl0ZXJhdGVOb2RlT3JMZWFmKFxuICAgICAgICAgICAgYXJyYXkgJiYgYXJyYXlbaWR4XSwgbGV2ZWwgLSBTSElGVCwgb2Zmc2V0ICsgKGlkeCA8PCBsZXZlbClcbiAgICAgICAgICApO1xuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFrZUxpc3Qob3JpZ2luLCBjYXBhY2l0eSwgbGV2ZWwsIHJvb3QsIHRhaWwsIG93bmVySUQsIGhhc2gpIHtcbiAgICB2YXIgbGlzdCA9IE9iamVjdC5jcmVhdGUoTGlzdFByb3RvdHlwZSk7XG4gICAgbGlzdC5zaXplID0gY2FwYWNpdHkgLSBvcmlnaW47XG4gICAgbGlzdC5fb3JpZ2luID0gb3JpZ2luO1xuICAgIGxpc3QuX2NhcGFjaXR5ID0gY2FwYWNpdHk7XG4gICAgbGlzdC5fbGV2ZWwgPSBsZXZlbDtcbiAgICBsaXN0Ll9yb290ID0gcm9vdDtcbiAgICBsaXN0Ll90YWlsID0gdGFpbDtcbiAgICBsaXN0Ll9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgbGlzdC5fX2hhc2ggPSBoYXNoO1xuICAgIGxpc3QuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICB2YXIgRU1QVFlfTElTVDtcbiAgZnVuY3Rpb24gZW1wdHlMaXN0KCkge1xuICAgIHJldHVybiBFTVBUWV9MSVNUIHx8IChFTVBUWV9MSVNUID0gbWFrZUxpc3QoMCwgMCwgU0hJRlQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpc3QobGlzdCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgaW5kZXggPSB3cmFwSW5kZXgobGlzdCwgaW5kZXgpO1xuXG4gICAgaWYgKGluZGV4ID49IGxpc3Quc2l6ZSB8fCBpbmRleCA8IDApIHtcbiAgICAgIHJldHVybiBsaXN0LndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obGlzdCApIHtcbiAgICAgICAgaW5kZXggPCAwID9cbiAgICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIGluZGV4KS5zZXQoMCwgdmFsdWUpIDpcbiAgICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIDAsIGluZGV4ICsgMSkuc2V0KGluZGV4LCB2YWx1ZSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGluZGV4ICs9IGxpc3QuX29yaWdpbjtcblxuICAgIHZhciBuZXdUYWlsID0gbGlzdC5fdGFpbDtcbiAgICB2YXIgbmV3Um9vdCA9IGxpc3QuX3Jvb3Q7XG4gICAgdmFyIGRpZEFsdGVyID0gTWFrZVJlZihESURfQUxURVIpO1xuICAgIGlmIChpbmRleCA+PSBnZXRUYWlsT2Zmc2V0KGxpc3QuX2NhcGFjaXR5KSkge1xuICAgICAgbmV3VGFpbCA9IHVwZGF0ZVZOb2RlKG5ld1RhaWwsIGxpc3QuX19vd25lcklELCAwLCBpbmRleCwgdmFsdWUsIGRpZEFsdGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3Um9vdCA9IHVwZGF0ZVZOb2RlKG5ld1Jvb3QsIGxpc3QuX19vd25lcklELCBsaXN0Ll9sZXZlbCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcik7XG4gICAgfVxuXG4gICAgaWYgKCFkaWRBbHRlci52YWx1ZSkge1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgaWYgKGxpc3QuX19vd25lcklEKSB7XG4gICAgICBsaXN0Ll9yb290ID0gbmV3Um9vdDtcbiAgICAgIGxpc3QuX3RhaWwgPSBuZXdUYWlsO1xuICAgICAgbGlzdC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICBsaXN0Ll9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VMaXN0KGxpc3QuX29yaWdpbiwgbGlzdC5fY2FwYWNpdHksIGxpc3QuX2xldmVsLCBuZXdSb290LCBuZXdUYWlsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZOb2RlKG5vZGUsIG93bmVySUQsIGxldmVsLCBpbmRleCwgdmFsdWUsIGRpZEFsdGVyKSB7XG4gICAgdmFyIGlkeCA9IChpbmRleCA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICB2YXIgbm9kZUhhcyA9IG5vZGUgJiYgaWR4IDwgbm9kZS5hcnJheS5sZW5ndGg7XG4gICAgaWYgKCFub2RlSGFzICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHZhciBuZXdOb2RlO1xuXG4gICAgaWYgKGxldmVsID4gMCkge1xuICAgICAgdmFyIGxvd2VyTm9kZSA9IG5vZGUgJiYgbm9kZS5hcnJheVtpZHhdO1xuICAgICAgdmFyIG5ld0xvd2VyTm9kZSA9IHVwZGF0ZVZOb2RlKGxvd2VyTm9kZSwgb3duZXJJRCwgbGV2ZWwgLSBTSElGVCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcik7XG4gICAgICBpZiAobmV3TG93ZXJOb2RlID09PSBsb3dlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG4gICAgICBuZXdOb2RlID0gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKTtcbiAgICAgIG5ld05vZGUuYXJyYXlbaWR4XSA9IG5ld0xvd2VyTm9kZTtcbiAgICAgIHJldHVybiBuZXdOb2RlO1xuICAgIH1cblxuICAgIGlmIChub2RlSGFzICYmIG5vZGUuYXJyYXlbaWR4XSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIFNldFJlZihkaWRBbHRlcik7XG5cbiAgICBuZXdOb2RlID0gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKTtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBpZHggPT09IG5ld05vZGUuYXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgbmV3Tm9kZS5hcnJheS5wb3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3Tm9kZS5hcnJheVtpZHhdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBuZXdOb2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKSB7XG4gICAgaWYgKG93bmVySUQgJiYgbm9kZSAmJiBvd25lcklEID09PSBub2RlLm93bmVySUQpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFZOb2RlKG5vZGUgPyBub2RlLmFycmF5LnNsaWNlKCkgOiBbXSwgb3duZXJJRCk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0Tm9kZUZvcihsaXN0LCByYXdJbmRleCkge1xuICAgIGlmIChyYXdJbmRleCA+PSBnZXRUYWlsT2Zmc2V0KGxpc3QuX2NhcGFjaXR5KSkge1xuICAgICAgcmV0dXJuIGxpc3QuX3RhaWw7XG4gICAgfVxuICAgIGlmIChyYXdJbmRleCA8IDEgPDwgKGxpc3QuX2xldmVsICsgU0hJRlQpKSB7XG4gICAgICB2YXIgbm9kZSA9IGxpc3QuX3Jvb3Q7XG4gICAgICB2YXIgbGV2ZWwgPSBsaXN0Ll9sZXZlbDtcbiAgICAgIHdoaWxlIChub2RlICYmIGxldmVsID4gMCkge1xuICAgICAgICBub2RlID0gbm9kZS5hcnJheVsocmF3SW5kZXggPj4+IGxldmVsKSAmIE1BU0tdO1xuICAgICAgICBsZXZlbCAtPSBTSElGVDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldExpc3RCb3VuZHMobGlzdCwgYmVnaW4sIGVuZCkge1xuICAgIHZhciBvd25lciA9IGxpc3QuX19vd25lcklEIHx8IG5ldyBPd25lcklEKCk7XG4gICAgdmFyIG9sZE9yaWdpbiA9IGxpc3QuX29yaWdpbjtcbiAgICB2YXIgb2xkQ2FwYWNpdHkgPSBsaXN0Ll9jYXBhY2l0eTtcbiAgICB2YXIgbmV3T3JpZ2luID0gb2xkT3JpZ2luICsgYmVnaW47XG4gICAgdmFyIG5ld0NhcGFjaXR5ID0gZW5kID09PSB1bmRlZmluZWQgPyBvbGRDYXBhY2l0eSA6IGVuZCA8IDAgPyBvbGRDYXBhY2l0eSArIGVuZCA6IG9sZE9yaWdpbiArIGVuZDtcbiAgICBpZiAobmV3T3JpZ2luID09PSBvbGRPcmlnaW4gJiYgbmV3Q2FwYWNpdHkgPT09IG9sZENhcGFjaXR5KSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICAvLyBJZiBpdCdzIGdvaW5nIHRvIGVuZCBhZnRlciBpdCBzdGFydHMsIGl0J3MgZW1wdHkuXG4gICAgaWYgKG5ld09yaWdpbiA+PSBuZXdDYXBhY2l0eSkge1xuICAgICAgcmV0dXJuIGxpc3QuY2xlYXIoKTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGV2ZWwgPSBsaXN0Ll9sZXZlbDtcbiAgICB2YXIgbmV3Um9vdCA9IGxpc3QuX3Jvb3Q7XG5cbiAgICAvLyBOZXcgb3JpZ2luIG1pZ2h0IG5lZWQgY3JlYXRpbmcgYSBoaWdoZXIgcm9vdC5cbiAgICB2YXIgb2Zmc2V0U2hpZnQgPSAwO1xuICAgIHdoaWxlIChuZXdPcmlnaW4gKyBvZmZzZXRTaGlmdCA8IDApIHtcbiAgICAgIG5ld1Jvb3QgPSBuZXcgVk5vZGUobmV3Um9vdCAmJiBuZXdSb290LmFycmF5Lmxlbmd0aCA/IFt1bmRlZmluZWQsIG5ld1Jvb3RdIDogW10sIG93bmVyKTtcbiAgICAgIG5ld0xldmVsICs9IFNISUZUO1xuICAgICAgb2Zmc2V0U2hpZnQgKz0gMSA8PCBuZXdMZXZlbDtcbiAgICB9XG4gICAgaWYgKG9mZnNldFNoaWZ0KSB7XG4gICAgICBuZXdPcmlnaW4gKz0gb2Zmc2V0U2hpZnQ7XG4gICAgICBvbGRPcmlnaW4gKz0gb2Zmc2V0U2hpZnQ7XG4gICAgICBuZXdDYXBhY2l0eSArPSBvZmZzZXRTaGlmdDtcbiAgICAgIG9sZENhcGFjaXR5ICs9IG9mZnNldFNoaWZ0O1xuICAgIH1cblxuICAgIHZhciBvbGRUYWlsT2Zmc2V0ID0gZ2V0VGFpbE9mZnNldChvbGRDYXBhY2l0eSk7XG4gICAgdmFyIG5ld1RhaWxPZmZzZXQgPSBnZXRUYWlsT2Zmc2V0KG5ld0NhcGFjaXR5KTtcblxuICAgIC8vIE5ldyBzaXplIG1pZ2h0IG5lZWQgY3JlYXRpbmcgYSBoaWdoZXIgcm9vdC5cbiAgICB3aGlsZSAobmV3VGFpbE9mZnNldCA+PSAxIDw8IChuZXdMZXZlbCArIFNISUZUKSkge1xuICAgICAgbmV3Um9vdCA9IG5ldyBWTm9kZShuZXdSb290ICYmIG5ld1Jvb3QuYXJyYXkubGVuZ3RoID8gW25ld1Jvb3RdIDogW10sIG93bmVyKTtcbiAgICAgIG5ld0xldmVsICs9IFNISUZUO1xuICAgIH1cblxuICAgIC8vIExvY2F0ZSBvciBjcmVhdGUgdGhlIG5ldyB0YWlsLlxuICAgIHZhciBvbGRUYWlsID0gbGlzdC5fdGFpbDtcbiAgICB2YXIgbmV3VGFpbCA9IG5ld1RhaWxPZmZzZXQgPCBvbGRUYWlsT2Zmc2V0ID9cbiAgICAgIGxpc3ROb2RlRm9yKGxpc3QsIG5ld0NhcGFjaXR5IC0gMSkgOlxuICAgICAgbmV3VGFpbE9mZnNldCA+IG9sZFRhaWxPZmZzZXQgPyBuZXcgVk5vZGUoW10sIG93bmVyKSA6IG9sZFRhaWw7XG5cbiAgICAvLyBNZXJnZSBUYWlsIGludG8gdHJlZS5cbiAgICBpZiAob2xkVGFpbCAmJiBuZXdUYWlsT2Zmc2V0ID4gb2xkVGFpbE9mZnNldCAmJiBuZXdPcmlnaW4gPCBvbGRDYXBhY2l0eSAmJiBvbGRUYWlsLmFycmF5Lmxlbmd0aCkge1xuICAgICAgbmV3Um9vdCA9IGVkaXRhYmxlVk5vZGUobmV3Um9vdCwgb3duZXIpO1xuICAgICAgdmFyIG5vZGUgPSBuZXdSb290O1xuICAgICAgZm9yICh2YXIgbGV2ZWwgPSBuZXdMZXZlbDsgbGV2ZWwgPiBTSElGVDsgbGV2ZWwgLT0gU0hJRlQpIHtcbiAgICAgICAgdmFyIGlkeCA9IChvbGRUYWlsT2Zmc2V0ID4+PiBsZXZlbCkgJiBNQVNLO1xuICAgICAgICBub2RlID0gbm9kZS5hcnJheVtpZHhdID0gZWRpdGFibGVWTm9kZShub2RlLmFycmF5W2lkeF0sIG93bmVyKTtcbiAgICAgIH1cbiAgICAgIG5vZGUuYXJyYXlbKG9sZFRhaWxPZmZzZXQgPj4+IFNISUZUKSAmIE1BU0tdID0gb2xkVGFpbDtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc2l6ZSBoYXMgYmVlbiByZWR1Y2VkLCB0aGVyZSdzIGEgY2hhbmNlIHRoZSB0YWlsIG5lZWRzIHRvIGJlIHRyaW1tZWQuXG4gICAgaWYgKG5ld0NhcGFjaXR5IDwgb2xkQ2FwYWNpdHkpIHtcbiAgICAgIG5ld1RhaWwgPSBuZXdUYWlsICYmIG5ld1RhaWwucmVtb3ZlQWZ0ZXIob3duZXIsIDAsIG5ld0NhcGFjaXR5KTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbmV3IG9yaWdpbiBpcyB3aXRoaW4gdGhlIHRhaWwsIHRoZW4gd2UgZG8gbm90IG5lZWQgYSByb290LlxuICAgIGlmIChuZXdPcmlnaW4gPj0gbmV3VGFpbE9mZnNldCkge1xuICAgICAgbmV3T3JpZ2luIC09IG5ld1RhaWxPZmZzZXQ7XG4gICAgICBuZXdDYXBhY2l0eSAtPSBuZXdUYWlsT2Zmc2V0O1xuICAgICAgbmV3TGV2ZWwgPSBTSElGVDtcbiAgICAgIG5ld1Jvb3QgPSBudWxsO1xuICAgICAgbmV3VGFpbCA9IG5ld1RhaWwgJiYgbmV3VGFpbC5yZW1vdmVCZWZvcmUob3duZXIsIDAsIG5ld09yaWdpbik7XG5cbiAgICAvLyBPdGhlcndpc2UsIGlmIHRoZSByb290IGhhcyBiZWVuIHRyaW1tZWQsIGdhcmJhZ2UgY29sbGVjdC5cbiAgICB9IGVsc2UgaWYgKG5ld09yaWdpbiA+IG9sZE9yaWdpbiB8fCBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCkge1xuICAgICAgb2Zmc2V0U2hpZnQgPSAwO1xuXG4gICAgICAvLyBJZGVudGlmeSB0aGUgbmV3IHRvcCByb290IG5vZGUgb2YgdGhlIHN1YnRyZWUgb2YgdGhlIG9sZCByb290LlxuICAgICAgd2hpbGUgKG5ld1Jvb3QpIHtcbiAgICAgICAgdmFyIGJlZ2luSW5kZXggPSAobmV3T3JpZ2luID4+PiBuZXdMZXZlbCkgJiBNQVNLO1xuICAgICAgICBpZiAoYmVnaW5JbmRleCAhPT0gKG5ld1RhaWxPZmZzZXQgPj4+IG5ld0xldmVsKSAmIE1BU0spIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmVnaW5JbmRleCkge1xuICAgICAgICAgIG9mZnNldFNoaWZ0ICs9ICgxIDw8IG5ld0xldmVsKSAqIGJlZ2luSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgbmV3TGV2ZWwgLT0gU0hJRlQ7XG4gICAgICAgIG5ld1Jvb3QgPSBuZXdSb290LmFycmF5W2JlZ2luSW5kZXhdO1xuICAgICAgfVxuXG4gICAgICAvLyBUcmltIHRoZSBuZXcgc2lkZXMgb2YgdGhlIG5ldyByb290LlxuICAgICAgaWYgKG5ld1Jvb3QgJiYgbmV3T3JpZ2luID4gb2xkT3JpZ2luKSB7XG4gICAgICAgIG5ld1Jvb3QgPSBuZXdSb290LnJlbW92ZUJlZm9yZShvd25lciwgbmV3TGV2ZWwsIG5ld09yaWdpbiAtIG9mZnNldFNoaWZ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChuZXdSb290ICYmIG5ld1RhaWxPZmZzZXQgPCBvbGRUYWlsT2Zmc2V0KSB7XG4gICAgICAgIG5ld1Jvb3QgPSBuZXdSb290LnJlbW92ZUFmdGVyKG93bmVyLCBuZXdMZXZlbCwgbmV3VGFpbE9mZnNldCAtIG9mZnNldFNoaWZ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChvZmZzZXRTaGlmdCkge1xuICAgICAgICBuZXdPcmlnaW4gLT0gb2Zmc2V0U2hpZnQ7XG4gICAgICAgIG5ld0NhcGFjaXR5IC09IG9mZnNldFNoaWZ0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsaXN0Ll9fb3duZXJJRCkge1xuICAgICAgbGlzdC5zaXplID0gbmV3Q2FwYWNpdHkgLSBuZXdPcmlnaW47XG4gICAgICBsaXN0Ll9vcmlnaW4gPSBuZXdPcmlnaW47XG4gICAgICBsaXN0Ll9jYXBhY2l0eSA9IG5ld0NhcGFjaXR5O1xuICAgICAgbGlzdC5fbGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgIGxpc3QuX3Jvb3QgPSBuZXdSb290O1xuICAgICAgbGlzdC5fdGFpbCA9IG5ld1RhaWw7XG4gICAgICBsaXN0Ll9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIGxpc3QuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICByZXR1cm4gbWFrZUxpc3QobmV3T3JpZ2luLCBuZXdDYXBhY2l0eSwgbmV3TGV2ZWwsIG5ld1Jvb3QsIG5ld1RhaWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvTGlzdFdpdGgobGlzdCwgbWVyZ2VyLCBpdGVyYWJsZXMpIHtcbiAgICB2YXIgaXRlcnMgPSBbXTtcbiAgICB2YXIgbWF4U2l6ZSA9IDA7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJhYmxlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGl0ZXJhYmxlc1tpaV07XG4gICAgICB2YXIgaXRlciA9IEluZGV4ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICBpZiAoaXRlci5zaXplID4gbWF4U2l6ZSkge1xuICAgICAgICBtYXhTaXplID0gaXRlci5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICBpdGVyID0gaXRlci5tYXAoZnVuY3Rpb24odiApIHtyZXR1cm4gZnJvbUpTKHYpfSk7XG4gICAgICB9XG4gICAgICBpdGVycy5wdXNoKGl0ZXIpO1xuICAgIH1cbiAgICBpZiAobWF4U2l6ZSA+IGxpc3Quc2l6ZSkge1xuICAgICAgbGlzdCA9IGxpc3Quc2V0U2l6ZShtYXhTaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlSW50b0NvbGxlY3Rpb25XaXRoKGxpc3QsIG1lcmdlciwgaXRlcnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFpbE9mZnNldChzaXplKSB7XG4gICAgcmV0dXJuIHNpemUgPCBTSVpFID8gMCA6ICgoKHNpemUgLSAxKSA+Pj4gU0hJRlQpIDw8IFNISUZUKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKE9yZGVyZWRNYXAsIHNyY19NYXBfX01hcCk7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gT3JkZXJlZE1hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eU9yZGVyZWRNYXAoKSA6XG4gICAgICAgIGlzT3JkZXJlZE1hcCh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5T3JkZXJlZE1hcCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obWFwICkge1xuICAgICAgICAgIHZhciBpdGVyID0gS2V5ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gbWFwLnNldChrLCB2KX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBPcmRlcmVkTWFwLm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ09yZGVyZWRNYXAgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrLCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIGluZGV4ID0gdGhpcy5fbWFwLmdldChrKTtcbiAgICAgIHJldHVybiBpbmRleCAhPT0gdW5kZWZpbmVkID8gdGhpcy5fbGlzdC5nZXQoaW5kZXgpWzFdIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLl9tYXAuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fbGlzdC5jbGVhcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbXB0eU9yZGVyZWRNYXAoKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oaywgdikge1xuICAgICAgcmV0dXJuIHVwZGF0ZU9yZGVyZWRNYXAodGhpcywgaywgdik7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGspIHtcbiAgICAgIHJldHVybiB1cGRhdGVPcmRlcmVkTWFwKHRoaXMsIGssIE5PVF9TRVQpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKSB8fCB0aGlzLl9saXN0Lndhc0FsdGVyZWQoKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLl9saXN0Ll9faXRlcmF0ZShcbiAgICAgICAgZnVuY3Rpb24oZW50cnkgKSB7cmV0dXJuIGVudHJ5ICYmIGZuKGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcyQwKX0sXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbGlzdC5mcm9tRW50cnlTZXEoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24ob3duZXJJRCkge1xuICAgICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgICAgdmFyIG5ld0xpc3QgPSB0aGlzLl9saXN0Ll9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBuZXdMaXN0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlT3JkZXJlZE1hcChuZXdNYXAsIG5ld0xpc3QsIG93bmVySUQsIHRoaXMuX19oYXNoKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNPcmRlcmVkTWFwKG1heWJlT3JkZXJlZE1hcCkge1xuICAgIHJldHVybiBpc01hcChtYXliZU9yZGVyZWRNYXApICYmIGlzT3JkZXJlZChtYXliZU9yZGVyZWRNYXApO1xuICB9XG5cbiAgT3JkZXJlZE1hcC5pc09yZGVyZWRNYXAgPSBpc09yZGVyZWRNYXA7XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuICBPcmRlcmVkTWFwLnByb3RvdHlwZVtERUxFVEVdID0gT3JkZXJlZE1hcC5wcm90b3R5cGUucmVtb3ZlO1xuXG5cblxuICBmdW5jdGlvbiBtYWtlT3JkZXJlZE1hcChtYXAsIGxpc3QsIG93bmVySUQsIGhhc2gpIHtcbiAgICB2YXIgb21hcCA9IE9iamVjdC5jcmVhdGUoT3JkZXJlZE1hcC5wcm90b3R5cGUpO1xuICAgIG9tYXAuc2l6ZSA9IG1hcCA/IG1hcC5zaXplIDogMDtcbiAgICBvbWFwLl9tYXAgPSBtYXA7XG4gICAgb21hcC5fbGlzdCA9IGxpc3Q7XG4gICAgb21hcC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIG9tYXAuX19oYXNoID0gaGFzaDtcbiAgICByZXR1cm4gb21hcDtcbiAgfVxuXG4gIHZhciBFTVBUWV9PUkRFUkVEX01BUDtcbiAgZnVuY3Rpb24gZW1wdHlPcmRlcmVkTWFwKCkge1xuICAgIHJldHVybiBFTVBUWV9PUkRFUkVEX01BUCB8fCAoRU1QVFlfT1JERVJFRF9NQVAgPSBtYWtlT3JkZXJlZE1hcChlbXB0eU1hcCgpLCBlbXB0eUxpc3QoKSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlT3JkZXJlZE1hcChvbWFwLCBrLCB2KSB7XG4gICAgdmFyIG1hcCA9IG9tYXAuX21hcDtcbiAgICB2YXIgbGlzdCA9IG9tYXAuX2xpc3Q7XG4gICAgdmFyIGkgPSBtYXAuZ2V0KGspO1xuICAgIHZhciBoYXMgPSBpICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIG5ld01hcDtcbiAgICB2YXIgbmV3TGlzdDtcbiAgICBpZiAodiA9PT0gTk9UX1NFVCkgeyAvLyByZW1vdmVkXG4gICAgICBpZiAoIWhhcykge1xuICAgICAgICByZXR1cm4gb21hcDtcbiAgICAgIH1cbiAgICAgIGlmIChsaXN0LnNpemUgPj0gU0laRSAmJiBsaXN0LnNpemUgPj0gbWFwLnNpemUgKiAyKSB7XG4gICAgICAgIG5ld0xpc3QgPSBsaXN0LmZpbHRlcihmdW5jdGlvbihlbnRyeSwgaWR4KSAge3JldHVybiBlbnRyeSAhPT0gdW5kZWZpbmVkICYmIGkgIT09IGlkeH0pO1xuICAgICAgICBuZXdNYXAgPSBuZXdMaXN0LnRvS2V5ZWRTZXEoKS5tYXAoZnVuY3Rpb24oZW50cnkgKSB7cmV0dXJuIGVudHJ5WzBdfSkuZmxpcCgpLnRvTWFwKCk7XG4gICAgICAgIGlmIChvbWFwLl9fb3duZXJJRCkge1xuICAgICAgICAgIG5ld01hcC5fX293bmVySUQgPSBuZXdMaXN0Ll9fb3duZXJJRCA9IG9tYXAuX19vd25lcklEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdNYXAgPSBtYXAucmVtb3ZlKGspO1xuICAgICAgICBuZXdMaXN0ID0gaSA9PT0gbGlzdC5zaXplIC0gMSA/IGxpc3QucG9wKCkgOiBsaXN0LnNldChpLCB1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzKSB7XG4gICAgICAgIGlmICh2ID09PSBsaXN0LmdldChpKVsxXSkge1xuICAgICAgICAgIHJldHVybiBvbWFwO1xuICAgICAgICB9XG4gICAgICAgIG5ld01hcCA9IG1hcDtcbiAgICAgICAgbmV3TGlzdCA9IGxpc3Quc2V0KGksIFtrLCB2XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdNYXAgPSBtYXAuc2V0KGssIGxpc3Quc2l6ZSk7XG4gICAgICAgIG5ld0xpc3QgPSBsaXN0LnNldChsaXN0LnNpemUsIFtrLCB2XSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvbWFwLl9fb3duZXJJRCkge1xuICAgICAgb21hcC5zaXplID0gbmV3TWFwLnNpemU7XG4gICAgICBvbWFwLl9tYXAgPSBuZXdNYXA7XG4gICAgICBvbWFwLl9saXN0ID0gbmV3TGlzdDtcbiAgICAgIG9tYXAuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9tYXA7XG4gICAgfVxuICAgIHJldHVybiBtYWtlT3JkZXJlZE1hcChuZXdNYXAsIG5ld0xpc3QpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU3RhY2ssIEluZGV4ZWRDb2xsZWN0aW9uKTtcblxuICAgIC8vIEBwcmFnbWEgQ29uc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBTdGFjayh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eVN0YWNrKCkgOlxuICAgICAgICBpc1N0YWNrKHZhbHVlKSA/IHZhbHVlIDpcbiAgICAgICAgZW1wdHlTdGFjaygpLnVuc2hpZnRBbGwodmFsdWUpO1xuICAgIH1cblxuICAgIFN0YWNrLm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTdGFjayBbJywgJ10nKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICAgIHdoaWxlIChoZWFkICYmIGluZGV4LS0pIHtcbiAgICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWFkID8gaGVhZC52YWx1ZSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hlYWQgJiYgdGhpcy5faGVhZC52YWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICAgIFN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZSArIGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICBmb3IgKHZhciBpaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpaSA+PSAwOyBpaS0tKSB7XG4gICAgICAgIGhlYWQgPSB7XG4gICAgICAgICAgdmFsdWU6IGFyZ3VtZW50c1tpaV0sXG4gICAgICAgICAgbmV4dDogaGVhZFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS5wdXNoQWxsID0gZnVuY3Rpb24oaXRlcikge1xuICAgICAgaXRlciA9IEluZGV4ZWRJdGVyYWJsZShpdGVyKTtcbiAgICAgIGlmIChpdGVyLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemU7XG4gICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICBpdGVyLnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlICkge1xuICAgICAgICBuZXdTaXplKys7XG4gICAgICAgIGhlYWQgPSB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIG5leHQ6IGhlYWRcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNsaWNlKDEpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzLnB1c2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnVuc2hpZnRBbGwgPSBmdW5jdGlvbihpdGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5wdXNoQWxsKGl0ZXIpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5faGVhZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlTdGFjaygpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XG4gICAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCB0aGlzLnNpemUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc29sdmVkQmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIHRoaXMuc2l6ZSk7XG4gICAgICB2YXIgcmVzb2x2ZWRFbmQgPSByZXNvbHZlRW5kKGVuZCwgdGhpcy5zaXplKTtcbiAgICAgIGlmIChyZXNvbHZlZEVuZCAhPT0gdGhpcy5zaXplKSB7XG4gICAgICAgIC8vIHN1cGVyLnNsaWNlKGJlZ2luLCBlbmQpO1xuICAgICAgICByZXR1cm4gSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcywgYmVnaW4sIGVuZCk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZSAtIHJlc29sdmVkQmVnaW47XG4gICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICB3aGlsZSAocmVzb2x2ZWRCZWdpbi0tKSB7XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gbmV3U2l6ZTtcbiAgICAgICAgdGhpcy5faGVhZCA9IGhlYWQ7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VTdGFjayhuZXdTaXplLCBoZWFkKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNdXRhYmlsaXR5XG5cbiAgICBTdGFjay5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICghb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VTdGFjayh0aGlzLnNpemUsIHRoaXMuX2hlYWQsIG93bmVySUQsIHRoaXMuX19oYXNoKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBJdGVyYXRpb25cblxuICAgIFN0YWNrLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLl9faXRlcmF0ZShmbik7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAoZm4obm9kZS52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLl9faXRlcmF0b3IodHlwZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG5vZGUudmFsdWU7XG4gICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNTdGFjayhtYXliZVN0YWNrKSB7XG4gICAgcmV0dXJuICEhKG1heWJlU3RhY2sgJiYgbWF5YmVTdGFja1tJU19TVEFDS19TRU5USU5FTF0pO1xuICB9XG5cbiAgU3RhY2suaXNTdGFjayA9IGlzU3RhY2s7XG5cbiAgdmFyIElTX1NUQUNLX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfU1RBQ0tfX0BAJztcblxuICB2YXIgU3RhY2tQcm90b3R5cGUgPSBTdGFjay5wcm90b3R5cGU7XG4gIFN0YWNrUHJvdG90eXBlW0lTX1NUQUNLX1NFTlRJTkVMXSA9IHRydWU7XG4gIFN0YWNrUHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBNYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucztcbiAgU3RhY2tQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgU3RhY2tQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG4gIFN0YWNrUHJvdG90eXBlLndhc0FsdGVyZWQgPSBNYXBQcm90b3R5cGUud2FzQWx0ZXJlZDtcblxuXG4gIGZ1bmN0aW9uIG1ha2VTdGFjayhzaXplLCBoZWFkLCBvd25lcklELCBoYXNoKSB7XG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUoU3RhY2tQcm90b3R5cGUpO1xuICAgIG1hcC5zaXplID0gc2l6ZTtcbiAgICBtYXAuX2hlYWQgPSBoZWFkO1xuICAgIG1hcC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIG1hcC5fX2hhc2ggPSBoYXNoO1xuICAgIG1hcC5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gbWFwO1xuICB9XG5cbiAgdmFyIEVNUFRZX1NUQUNLO1xuICBmdW5jdGlvbiBlbXB0eVN0YWNrKCkge1xuICAgIHJldHVybiBFTVBUWV9TVEFDSyB8fCAoRU1QVFlfU1RBQ0sgPSBtYWtlU3RhY2soMCkpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3Moc3JjX1NldF9fU2V0LCBTZXRDb2xsZWN0aW9uKTtcblxuICAgIC8vIEBwcmFnbWEgQ29uc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBzcmNfU2V0X19TZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTZXQoKSA6XG4gICAgICAgIGlzU2V0KHZhbHVlKSA/IHZhbHVlIDpcbiAgICAgICAgZW1wdHlTZXQoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHNldCApIHtcbiAgICAgICAgICB2YXIgaXRlciA9IFNldEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbih2ICkge3JldHVybiBzZXQuYWRkKHYpfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNyY19TZXRfX1NldC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5mcm9tS2V5cyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcyhLZXllZEl0ZXJhYmxlKHZhbHVlKS5rZXlTZXEoKSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1NldCB7JywgJ30nKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLnNldCh2YWx1ZSwgdHJ1ZSkpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5yZW1vdmUodmFsdWUpKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHVwZGF0ZVNldCh0aGlzLCB0aGlzLl9tYXAuY2xlYXIoKSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUudW5pb24gPSBmdW5jdGlvbigpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgIGl0ZXJzID0gaXRlcnMuZmlsdGVyKGZ1bmN0aW9uKHggKSB7cmV0dXJuIHguc2l6ZSAhPT0gMH0pO1xuICAgICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDAgJiYgIXRoaXMuX19vd25lcklEICYmIGl0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihpdGVyc1swXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHNldCApIHtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgIFNldEl0ZXJhYmxlKGl0ZXJzW2lpXSkuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gc2V0LmFkZCh2YWx1ZSl9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24oKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaXRlcnMgPSBpdGVycy5tYXAoZnVuY3Rpb24oaXRlciApIHtyZXR1cm4gU2V0SXRlcmFibGUoaXRlcil9KTtcbiAgICAgIHZhciBvcmlnaW5hbFNldCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKHNldCApIHtcbiAgICAgICAgb3JpZ2luYWxTZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSApIHtcbiAgICAgICAgICBpZiAoIWl0ZXJzLmV2ZXJ5KGZ1bmN0aW9uKGl0ZXIgKSB7cmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpfSkpIHtcbiAgICAgICAgICAgIHNldC5yZW1vdmUodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uKCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGl0ZXJzID0gaXRlcnMubWFwKGZ1bmN0aW9uKGl0ZXIgKSB7cmV0dXJuIFNldEl0ZXJhYmxlKGl0ZXIpfSk7XG4gICAgICB2YXIgb3JpZ2luYWxTZXQgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgIG9yaWdpbmFsU2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUgKSB7XG4gICAgICAgICAgaWYgKGl0ZXJzLnNvbWUoZnVuY3Rpb24oaXRlciApIHtyZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSl9KSkge1xuICAgICAgICAgICAgc2V0LnJlbW92ZSh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy51bmlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLm1lcmdlV2l0aCA9IGZ1bmN0aW9uKG1lcmdlcikge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIHRoaXMudW5pb24uYXBwbHkodGhpcywgaXRlcnMpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbihjb21wYXJhdG9yKSB7XG4gICAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICAgIHJldHVybiBPcmRlcmVkU2V0KHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5zb3J0QnkgPSBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIC8vIExhdGUgYmluZGluZ1xuICAgICAgcmV0dXJuIE9yZGVyZWRTZXQoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLl9tYXAuX19pdGVyYXRlKGZ1bmN0aW9uKF8sIGspICB7cmV0dXJuIGZuKGssIGssIHRoaXMkMCl9LCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC5tYXAoZnVuY3Rpb24oXywgaykgIHtyZXR1cm4ga30pLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICAgIGlmICghb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ld01hcDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fX21ha2UobmV3TWFwLCBvd25lcklEKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNTZXQobWF5YmVTZXQpIHtcbiAgICByZXR1cm4gISEobWF5YmVTZXQgJiYgbWF5YmVTZXRbSVNfU0VUX1NFTlRJTkVMXSk7XG4gIH1cblxuICBzcmNfU2V0X19TZXQuaXNTZXQgPSBpc1NldDtcblxuICB2YXIgSVNfU0VUX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfU0VUX19AQCc7XG5cbiAgdmFyIFNldFByb3RvdHlwZSA9IHNyY19TZXRfX1NldC5wcm90b3R5cGU7XG4gIFNldFByb3RvdHlwZVtJU19TRVRfU0VOVElORUxdID0gdHJ1ZTtcbiAgU2V0UHJvdG90eXBlW0RFTEVURV0gPSBTZXRQcm90b3R5cGUucmVtb3ZlO1xuICBTZXRQcm90b3R5cGUubWVyZ2VEZWVwID0gU2V0UHJvdG90eXBlLm1lcmdlO1xuICBTZXRQcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IFNldFByb3RvdHlwZS5tZXJnZVdpdGg7XG4gIFNldFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG4gIFNldFByb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuICBTZXRQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG5cbiAgU2V0UHJvdG90eXBlLl9fZW1wdHkgPSBlbXB0eVNldDtcbiAgU2V0UHJvdG90eXBlLl9fbWFrZSA9IG1ha2VTZXQ7XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2V0KHNldCwgbmV3TWFwKSB7XG4gICAgaWYgKHNldC5fX293bmVySUQpIHtcbiAgICAgIHNldC5zaXplID0gbmV3TWFwLnNpemU7XG4gICAgICBzZXQuX21hcCA9IG5ld01hcDtcbiAgICAgIHJldHVybiBzZXQ7XG4gICAgfVxuICAgIHJldHVybiBuZXdNYXAgPT09IHNldC5fbWFwID8gc2V0IDpcbiAgICAgIG5ld01hcC5zaXplID09PSAwID8gc2V0Ll9fZW1wdHkoKSA6XG4gICAgICBzZXQuX19tYWtlKG5ld01hcCk7XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlU2V0KG1hcCwgb3duZXJJRCkge1xuICAgIHZhciBzZXQgPSBPYmplY3QuY3JlYXRlKFNldFByb3RvdHlwZSk7XG4gICAgc2V0LnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gICAgc2V0Ll9tYXAgPSBtYXA7XG4gICAgc2V0Ll9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgcmV0dXJuIHNldDtcbiAgfVxuXG4gIHZhciBFTVBUWV9TRVQ7XG4gIGZ1bmN0aW9uIGVtcHR5U2V0KCkge1xuICAgIHJldHVybiBFTVBUWV9TRVQgfHwgKEVNUFRZX1NFVCA9IG1ha2VTZXQoZW1wdHlNYXAoKSkpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoT3JkZXJlZFNldCwgc3JjX1NldF9fU2V0KTtcblxuICAgIC8vIEBwcmFnbWEgQ29uc3RydWN0aW9uXG5cbiAgICBmdW5jdGlvbiBPcmRlcmVkU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5T3JkZXJlZFNldCgpIDpcbiAgICAgICAgaXNPcmRlcmVkU2V0KHZhbHVlKSA/IHZhbHVlIDpcbiAgICAgICAgZW1wdHlPcmRlcmVkU2V0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBTZXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiApIHtyZXR1cm4gc2V0LmFkZCh2KX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBPcmRlcmVkU2V0Lm9mID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZFNldC5mcm9tS2V5cyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcyhLZXllZEl0ZXJhYmxlKHZhbHVlKS5rZXlTZXEoKSk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRTZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdPcmRlcmVkU2V0IHsnLCAnfScpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc09yZGVyZWRTZXQobWF5YmVPcmRlcmVkU2V0KSB7XG4gICAgcmV0dXJuIGlzU2V0KG1heWJlT3JkZXJlZFNldCkgJiYgaXNPcmRlcmVkKG1heWJlT3JkZXJlZFNldCk7XG4gIH1cblxuICBPcmRlcmVkU2V0LmlzT3JkZXJlZFNldCA9IGlzT3JkZXJlZFNldDtcblxuICB2YXIgT3JkZXJlZFNldFByb3RvdHlwZSA9IE9yZGVyZWRTZXQucHJvdG90eXBlO1xuICBPcmRlcmVkU2V0UHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxuICBPcmRlcmVkU2V0UHJvdG90eXBlLl9fZW1wdHkgPSBlbXB0eU9yZGVyZWRTZXQ7XG4gIE9yZGVyZWRTZXRQcm90b3R5cGUuX19tYWtlID0gbWFrZU9yZGVyZWRTZXQ7XG5cbiAgZnVuY3Rpb24gbWFrZU9yZGVyZWRTZXQobWFwLCBvd25lcklEKSB7XG4gICAgdmFyIHNldCA9IE9iamVjdC5jcmVhdGUoT3JkZXJlZFNldFByb3RvdHlwZSk7XG4gICAgc2V0LnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gICAgc2V0Ll9tYXAgPSBtYXA7XG4gICAgc2V0Ll9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgcmV0dXJuIHNldDtcbiAgfVxuXG4gIHZhciBFTVBUWV9PUkRFUkVEX1NFVDtcbiAgZnVuY3Rpb24gZW1wdHlPcmRlcmVkU2V0KCkge1xuICAgIHJldHVybiBFTVBUWV9PUkRFUkVEX1NFVCB8fCAoRU1QVFlfT1JERVJFRF9TRVQgPSBtYWtlT3JkZXJlZFNldChlbXB0eU9yZGVyZWRNYXAoKSkpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoUmVjb3JkLCBLZXllZENvbGxlY3Rpb24pO1xuXG4gICAgZnVuY3Rpb24gUmVjb3JkKGRlZmF1bHRWYWx1ZXMsIG5hbWUpIHtcbiAgICAgIHZhciBoYXNJbml0aWFsaXplZDtcblxuICAgICAgdmFyIFJlY29yZFR5cGUgPSBmdW5jdGlvbiBSZWNvcmQodmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBSZWNvcmRUeXBlKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVjb3JkVHlwZSkpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlY29yZFR5cGUodmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgaGFzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGVmYXVsdFZhbHVlcyk7XG4gICAgICAgICAgc2V0UHJvcHMoUmVjb3JkVHlwZVByb3RvdHlwZSwga2V5cyk7XG4gICAgICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5zaXplID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fbmFtZSA9IG5hbWU7XG4gICAgICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fa2V5cyA9IGtleXM7XG4gICAgICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fZGVmYXVsdFZhbHVlcyA9IGRlZmF1bHRWYWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwID0gc3JjX01hcF9fTWFwKHZhbHVlcyk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgUmVjb3JkVHlwZVByb3RvdHlwZSA9IFJlY29yZFR5cGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSZWNvcmRQcm90b3R5cGUpO1xuICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlY29yZFR5cGU7XG5cbiAgICAgIHJldHVybiBSZWNvcmRUeXBlO1xuICAgIH1cblxuICAgIFJlY29yZC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcocmVjb3JkTmFtZSh0aGlzKSArICcgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBSZWNvcmQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGspIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0VmFsdWVzLmhhc093blByb3BlcnR5KGspO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGssIG5vdFNldFZhbHVlKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzKGspKSB7XG4gICAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkZWZhdWx0VmFsID0gdGhpcy5fZGVmYXVsdFZhbHVlc1trXTtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAgPyB0aGlzLl9tYXAuZ2V0KGssIGRlZmF1bHRWYWwpIDogZGVmYXVsdFZhbDtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICAgIFJlY29yZC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9tYXAgJiYgdGhpcy5fbWFwLmNsZWFyKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIFJlY29yZFR5cGUgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIFJlY29yZFR5cGUuX2VtcHR5IHx8IChSZWNvcmRUeXBlLl9lbXB0eSA9IG1ha2VSZWNvcmQodGhpcywgZW1wdHlNYXAoKSkpO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgIGlmICghdGhpcy5oYXMoaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2V0IHVua25vd24ga2V5IFwiJyArIGsgKyAnXCIgb24gJyArIHJlY29yZE5hbWUodGhpcykpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcCAmJiB0aGlzLl9tYXAuc2V0KGssIHYpO1xuICAgICAgaWYgKHRoaXMuX19vd25lcklEIHx8IG5ld01hcCA9PT0gdGhpcy5fbWFwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VSZWNvcmQodGhpcywgbmV3TWFwKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzKGspKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcCAmJiB0aGlzLl9tYXAucmVtb3ZlKGspO1xuICAgICAgaWYgKHRoaXMuX19vd25lcklEIHx8IG5ld01hcCA9PT0gdGhpcy5fbWFwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VSZWNvcmQodGhpcywgbmV3TWFwKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIEtleWVkSXRlcmFibGUodGhpcy5fZGVmYXVsdFZhbHVlcykubWFwKGZ1bmN0aW9uKF8sIGspICB7cmV0dXJuIHRoaXMkMC5nZXQoayl9KS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gS2V5ZWRJdGVyYWJsZSh0aGlzLl9kZWZhdWx0VmFsdWVzKS5tYXAoZnVuY3Rpb24oXywgaykgIHtyZXR1cm4gdGhpcyQwLmdldChrKX0pLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAgJiYgdGhpcy5fbWFwLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VSZWNvcmQodGhpcywgbmV3TWFwLCBvd25lcklEKTtcbiAgICB9O1xuXG5cbiAgdmFyIFJlY29yZFByb3RvdHlwZSA9IFJlY29yZC5wcm90b3R5cGU7XG4gIFJlY29yZFByb3RvdHlwZVtERUxFVEVdID0gUmVjb3JkUHJvdG90eXBlLnJlbW92ZTtcbiAgUmVjb3JkUHJvdG90eXBlLmRlbGV0ZUluID1cbiAgUmVjb3JkUHJvdG90eXBlLnJlbW92ZUluID0gTWFwUHJvdG90eXBlLnJlbW92ZUluO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2UgPSBNYXBQcm90b3R5cGUubWVyZ2U7XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZVdpdGggPSBNYXBQcm90b3R5cGUubWVyZ2VXaXRoO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2VJbiA9IE1hcFByb3RvdHlwZS5tZXJnZUluO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcDtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwV2l0aDtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcEluID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcEluO1xuICBSZWNvcmRQcm90b3R5cGUuc2V0SW4gPSBNYXBQcm90b3R5cGUuc2V0SW47XG4gIFJlY29yZFByb3RvdHlwZS51cGRhdGUgPSBNYXBQcm90b3R5cGUudXBkYXRlO1xuICBSZWNvcmRQcm90b3R5cGUudXBkYXRlSW4gPSBNYXBQcm90b3R5cGUudXBkYXRlSW47XG4gIFJlY29yZFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG4gIFJlY29yZFByb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuICBSZWNvcmRQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG5cblxuICBmdW5jdGlvbiBtYWtlUmVjb3JkKGxpa2VSZWNvcmQsIG1hcCwgb3duZXJJRCkge1xuICAgIHZhciByZWNvcmQgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihsaWtlUmVjb3JkKSk7XG4gICAgcmVjb3JkLl9tYXAgPSBtYXA7XG4gICAgcmVjb3JkLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgcmV0dXJuIHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29yZE5hbWUocmVjb3JkKSB7XG4gICAgcmV0dXJuIHJlY29yZC5fbmFtZSB8fCByZWNvcmQuY29uc3RydWN0b3IubmFtZSB8fCAnUmVjb3JkJztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFByb3BzKHByb3RvdHlwZSwgbmFtZXMpIHtcbiAgICB0cnkge1xuICAgICAgbmFtZXMuZm9yRWFjaChzZXRQcm9wLmJpbmQodW5kZWZpbmVkLCBwcm90b3R5cGUpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5IGZhaWxlZC4gUHJvYmFibHkgSUU4LlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFByb3AocHJvdG90eXBlLCBuYW1lKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbmFtZSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG5hbWUpO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaW52YXJpYW50KHRoaXMuX19vd25lcklELCAnQ2Fubm90IHNldCBvbiBhbiBpbW11dGFibGUgcmVjb3JkLicpO1xuICAgICAgICB0aGlzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhaXNJdGVyYWJsZShiKSB8fFxuICAgICAgYS5zaXplICE9PSB1bmRlZmluZWQgJiYgYi5zaXplICE9PSB1bmRlZmluZWQgJiYgYS5zaXplICE9PSBiLnNpemUgfHxcbiAgICAgIGEuX19oYXNoICE9PSB1bmRlZmluZWQgJiYgYi5fX2hhc2ggIT09IHVuZGVmaW5lZCAmJiBhLl9faGFzaCAhPT0gYi5fX2hhc2ggfHxcbiAgICAgIGlzS2V5ZWQoYSkgIT09IGlzS2V5ZWQoYikgfHxcbiAgICAgIGlzSW5kZXhlZChhKSAhPT0gaXNJbmRleGVkKGIpIHx8XG4gICAgICBpc09yZGVyZWQoYSkgIT09IGlzT3JkZXJlZChiKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhLnNpemUgPT09IDAgJiYgYi5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgbm90QXNzb2NpYXRpdmUgPSAhaXNBc3NvY2lhdGl2ZShhKTtcblxuICAgIGlmIChpc09yZGVyZWQoYSkpIHtcbiAgICAgIHZhciBlbnRyaWVzID0gYS5lbnRyaWVzKCk7XG4gICAgICByZXR1cm4gYi5ldmVyeShmdW5jdGlvbih2LCBrKSAge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzLm5leHQoKS52YWx1ZTtcbiAgICAgICAgcmV0dXJuIGVudHJ5ICYmIGlzKGVudHJ5WzFdLCB2KSAmJiAobm90QXNzb2NpYXRpdmUgfHwgaXMoZW50cnlbMF0sIGspKTtcbiAgICAgIH0pICYmIGVudHJpZXMubmV4dCgpLmRvbmU7XG4gICAgfVxuXG4gICAgdmFyIGZsaXBwZWQgPSBmYWxzZTtcblxuICAgIGlmIChhLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGIuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYS5jYWNoZVJlc3VsdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGEuY2FjaGVSZXN1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmxpcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBfID0gYTtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSBfO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhbGxFcXVhbCA9IHRydWU7XG4gICAgdmFyIGJTaXplID0gYi5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgIGlmIChub3RBc3NvY2lhdGl2ZSA/ICFhLmhhcyh2KSA6XG4gICAgICAgICAgZmxpcHBlZCA/ICFpcyh2LCBhLmdldChrLCBOT1RfU0VUKSkgOiAhaXMoYS5nZXQoaywgTk9UX1NFVCksIHYpKSB7XG4gICAgICAgIGFsbEVxdWFsID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBhbGxFcXVhbCAmJiBhLnNpemUgPT09IGJTaXplO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoUmFuZ2UsIEluZGV4ZWRTZXEpO1xuXG4gICAgZnVuY3Rpb24gUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJhbmdlKSkge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApO1xuICAgICAgfVxuICAgICAgaW52YXJpYW50KHN0ZXAgIT09IDAsICdDYW5ub3Qgc3RlcCBhIFJhbmdlIGJ5IDAnKTtcbiAgICAgIHN0YXJ0ID0gc3RhcnQgfHwgMDtcbiAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSBJbmZpbml0eTtcbiAgICAgIH1cbiAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAxIDogTWF0aC5hYnMoc3RlcCk7XG4gICAgICBpZiAoZW5kIDwgc3RhcnQpIHtcbiAgICAgICAgc3RlcCA9IC1zdGVwO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RhcnQgPSBzdGFydDtcbiAgICAgIHRoaXMuX2VuZCA9IGVuZDtcbiAgICAgIHRoaXMuX3N0ZXAgPSBzdGVwO1xuICAgICAgdGhpcy5zaXplID0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKChlbmQgLSBzdGFydCkgLyBzdGVwIC0gMSkgKyAxKTtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgaWYgKEVNUFRZX1JBTkdFKSB7XG4gICAgICAgICAgcmV0dXJuIEVNUFRZX1JBTkdFO1xuICAgICAgICB9XG4gICAgICAgIEVNUFRZX1JBTkdFID0gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBSYW5nZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICdSYW5nZSBbXSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ1JhbmdlIFsgJyArXG4gICAgICAgIHRoaXMuX3N0YXJ0ICsgJy4uLicgKyB0aGlzLl9lbmQgK1xuICAgICAgICAodGhpcy5fc3RlcCA+IDEgPyAnIGJ5ICcgKyB0aGlzLl9zdGVwIDogJycpICtcbiAgICAgICcgXSc7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyhpbmRleCkgP1xuICAgICAgICB0aGlzLl9zdGFydCArIHdyYXBJbmRleCh0aGlzLCBpbmRleCkgKiB0aGlzLl9zdGVwIDpcbiAgICAgICAgbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICB2YXIgcG9zc2libGVJbmRleCA9IChzZWFyY2hWYWx1ZSAtIHRoaXMuX3N0YXJ0KSAvIHRoaXMuX3N0ZXA7XG4gICAgICByZXR1cm4gcG9zc2libGVJbmRleCA+PSAwICYmXG4gICAgICAgIHBvc3NpYmxlSW5kZXggPCB0aGlzLnNpemUgJiZcbiAgICAgICAgcG9zc2libGVJbmRleCA9PT0gTWF0aC5mbG9vcihwb3NzaWJsZUluZGV4KTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgdGhpcy5zaXplKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCB0aGlzLnNpemUpO1xuICAgICAgZW5kID0gcmVzb2x2ZUVuZChlbmQsIHRoaXMuc2l6ZSk7XG4gICAgICBpZiAoZW5kIDw9IGJlZ2luKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UoMCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuZ2V0KGJlZ2luLCB0aGlzLl9lbmQpLCB0aGlzLmdldChlbmQsIHRoaXMuX2VuZCksIHRoaXMuX3N0ZXApO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICB2YXIgb2Zmc2V0VmFsdWUgPSBzZWFyY2hWYWx1ZSAtIHRoaXMuX3N0YXJ0O1xuICAgICAgaWYgKG9mZnNldFZhbHVlICUgdGhpcy5fc3RlcCA9PT0gMCkge1xuICAgICAgICB2YXIgaW5kZXggPSBvZmZzZXRWYWx1ZSAvIHRoaXMuX3N0ZXA7XG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5zaXplKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoVmFsdWUpO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIHZhciBtYXhJbmRleCA9IHRoaXMuc2l6ZSAtIDE7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgICB2YXIgdmFsdWUgPSByZXZlcnNlID8gdGhpcy5fc3RhcnQgKyBtYXhJbmRleCAqIHN0ZXAgOiB0aGlzLl9zdGFydDtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICAgICAgaWYgKGZuKHZhbHVlLCBpaSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGlpICsgMTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSArPSByZXZlcnNlID8gLXN0ZXAgOiBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlpO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBtYXhJbmRleCA9IHRoaXMuc2l6ZSAtIDE7XG4gICAgICB2YXIgc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgICB2YXIgdmFsdWUgPSByZXZlcnNlID8gdGhpcy5fc3RhcnQgKyBtYXhJbmRleCAqIHN0ZXAgOiB0aGlzLl9zdGFydDtcbiAgICAgIHZhciBpaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgdiA9IHZhbHVlO1xuICAgICAgICB2YWx1ZSArPSByZXZlcnNlID8gLXN0ZXAgOiBzdGVwO1xuICAgICAgICByZXR1cm4gaWkgPiBtYXhJbmRleCA/IGl0ZXJhdG9yRG9uZSgpIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpaSsrLCB2KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFJhbmdlID9cbiAgICAgICAgdGhpcy5fc3RhcnQgPT09IG90aGVyLl9zdGFydCAmJlxuICAgICAgICB0aGlzLl9lbmQgPT09IG90aGVyLl9lbmQgJiZcbiAgICAgICAgdGhpcy5fc3RlcCA9PT0gb3RoZXIuX3N0ZXAgOlxuICAgICAgICBkZWVwRXF1YWwodGhpcywgb3RoZXIpO1xuICAgIH07XG5cblxuICB2YXIgRU1QVFlfUkFOR0U7XG5cbiAgY3JlYXRlQ2xhc3MoUmVwZWF0LCBJbmRleGVkU2VxKTtcblxuICAgIGZ1bmN0aW9uIFJlcGVhdCh2YWx1ZSwgdGltZXMpIHtcbiAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXBlYXQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVwZWF0KHZhbHVlLCB0aW1lcyk7XG4gICAgICB9XG4gICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5zaXplID0gdGltZXMgPT09IHVuZGVmaW5lZCA/IEluZmluaXR5IDogTWF0aC5tYXgoMCwgdGltZXMpO1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBpZiAoRU1QVFlfUkVQRUFUKSB7XG4gICAgICAgICAgcmV0dXJuIEVNUFRZX1JFUEVBVDtcbiAgICAgICAgfVxuICAgICAgICBFTVBUWV9SRVBFQVQgPSB0aGlzO1xuICAgICAgfVxuICAgIH1cblxuICAgIFJlcGVhdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuICdSZXBlYXQgW10nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdSZXBlYXQgWyAnICsgdGhpcy5fdmFsdWUgKyAnICcgKyB0aGlzLnNpemUgKyAnIHRpbWVzIF0nO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzKGluZGV4KSA/IHRoaXMuX3ZhbHVlIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSk7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XG4gICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpID8gdGhpcyA6XG4gICAgICAgIG5ldyBSZXBlYXQodGhpcy5fdmFsdWUsIHJlc29sdmVFbmQoZW5kLCBzaXplKSAtIHJlc29sdmVCZWdpbihiZWdpbiwgc2l6ZSkpO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgaWYgKGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgaWYgKGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHRoaXMuc2l6ZTsgaWkrKykge1xuICAgICAgICBpZiAoZm4odGhpcy5fdmFsdWUsIGlpLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaWkgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaWk7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSBcbiAgICAgICAge3JldHVybiBpaSA8IHRoaXMkMC5zaXplID8gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpaSsrLCB0aGlzJDAuX3ZhbHVlKSA6IGl0ZXJhdG9yRG9uZSgpfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgUmVwZWF0ID9cbiAgICAgICAgaXModGhpcy5fdmFsdWUsIG90aGVyLl92YWx1ZSkgOlxuICAgICAgICBkZWVwRXF1YWwob3RoZXIpO1xuICAgIH07XG5cblxuICB2YXIgRU1QVFlfUkVQRUFUO1xuXG4gIC8qKlxuICAgKiBDb250cmlidXRlcyBhZGRpdGlvbmFsIG1ldGhvZHMgdG8gYSBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZnVuY3Rpb24gbWl4aW4oY3RvciwgbWV0aG9kcykge1xuICAgIHZhciBrZXlDb3BpZXIgPSBmdW5jdGlvbihrZXkgKSB7IGN0b3IucHJvdG90eXBlW2tleV0gPSBtZXRob2RzW2tleV07IH07XG4gICAgT2JqZWN0LmtleXMobWV0aG9kcykuZm9yRWFjaChrZXlDb3BpZXIpO1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiZcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobWV0aG9kcykuZm9yRWFjaChrZXlDb3BpZXIpO1xuICAgIHJldHVybiBjdG9yO1xuICB9XG5cbiAgSXRlcmFibGUuSXRlcmF0b3IgPSBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yO1xuXG4gIG1peGluKEl0ZXJhYmxlLCB7XG5cbiAgICAvLyAjIyMgQ29udmVyc2lvbiB0byBvdGhlciB0eXBlc1xuXG4gICAgdG9BcnJheTogZnVuY3Rpb24oKSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHRoaXMuc2l6ZSB8fCAwKTtcbiAgICAgIHRoaXMudmFsdWVTZXEoKS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaSkgIHsgYXJyYXlbaV0gPSB2OyB9KTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9LFxuXG4gICAgdG9JbmRleGVkU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgVG9JbmRleGVkU2VxdWVuY2UodGhpcyk7XG4gICAgfSxcblxuICAgIHRvSlM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5tYXAoXG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudG9KUyA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnRvSlMoKSA6IHZhbHVlfVxuICAgICAgKS5fX3RvSlMoKTtcbiAgICB9LFxuXG4gICAgdG9KU09OOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkubWFwKFxuICAgICAgICBmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnRvSlNPTigpIDogdmFsdWV9XG4gICAgICApLl9fdG9KUygpO1xuICAgIH0sXG5cbiAgICB0b0tleWVkU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgVG9LZXllZFNlcXVlbmNlKHRoaXMsIHRydWUpO1xuICAgIH0sXG5cbiAgICB0b01hcDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gc3JjX01hcF9fTWFwKHRoaXMudG9LZXllZFNlcSgpKTtcbiAgICB9LFxuXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7IG9iamVjdFtrXSA9IHY7IH0pO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgdG9PcmRlcmVkTWFwOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBPcmRlcmVkTWFwKHRoaXMudG9LZXllZFNlcSgpKTtcbiAgICB9LFxuXG4gICAgdG9PcmRlcmVkU2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBPcmRlcmVkU2V0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgICB9LFxuXG4gICAgdG9TZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIHNyY19TZXRfX1NldChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gICAgfSxcblxuICAgIHRvU2V0U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgVG9TZXRTZXF1ZW5jZSh0aGlzKTtcbiAgICB9LFxuXG4gICAgdG9TZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGlzSW5kZXhlZCh0aGlzKSA/IHRoaXMudG9JbmRleGVkU2VxKCkgOlxuICAgICAgICBpc0tleWVkKHRoaXMpID8gdGhpcy50b0tleWVkU2VxKCkgOlxuICAgICAgICB0aGlzLnRvU2V0U2VxKCk7XG4gICAgfSxcblxuICAgIHRvU3RhY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIFN0YWNrKGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgICB9LFxuXG4gICAgdG9MaXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBMaXN0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgQ29tbW9uIEphdmFTY3JpcHQgbWV0aG9kcyBhbmQgcHJvcGVydGllc1xuXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICdbSXRlcmFibGVdJztcbiAgICB9LFxuXG4gICAgX190b1N0cmluZzogZnVuY3Rpb24oaGVhZCwgdGFpbCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaGVhZCArIHRhaWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGVhZCArICcgJyArIHRoaXMudG9TZXEoKS5tYXAodGhpcy5fX3RvU3RyaW5nTWFwcGVyKS5qb2luKCcsICcpICsgJyAnICsgdGFpbDtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgRVM2IENvbGxlY3Rpb24gbWV0aG9kcyAoRVM2IEFycmF5IGFuZCBNYXApXG5cbiAgICBjb25jYXQ6IGZ1bmN0aW9uKCkge3ZhciB2YWx1ZXMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBjb25jYXRGYWN0b3J5KHRoaXMsIHZhbHVlcykpO1xuICAgIH0sXG5cbiAgICBjb250YWluczogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmluY2x1ZGVzKHNlYXJjaFZhbHVlKTtcbiAgICB9LFxuXG4gICAgaW5jbHVkZXM6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zb21lKGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpfSk7XG4gICAgfSxcblxuICAgIGVudHJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMpO1xuICAgIH0sXG5cbiAgICBldmVyeTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgdmFyIHJldHVyblZhbHVlID0gdHJ1ZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmICghcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfSxcblxuICAgIGZpbHRlcjogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmlsdGVyRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIHRydWUpKTtcbiAgICB9LFxuXG4gICAgZmluZDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBlbnRyeSA/IGVudHJ5WzFdIDogbm90U2V0VmFsdWU7XG4gICAgfSxcblxuICAgIGZpbmRFbnRyeTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZm91bmQ7XG4gICAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICBmb3VuZCA9IFtrLCB2XTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH0sXG5cbiAgICBmaW5kTGFzdEVudHJ5OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBmb3JFYWNoOiBmdW5jdGlvbihzaWRlRWZmZWN0LCBjb250ZXh0KSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRlKGNvbnRleHQgPyBzaWRlRWZmZWN0LmJpbmQoY29udGV4dCkgOiBzaWRlRWZmZWN0KTtcbiAgICB9LFxuXG4gICAgam9pbjogZnVuY3Rpb24oc2VwYXJhdG9yKSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgc2VwYXJhdG9yID0gc2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyAnJyArIHNlcGFyYXRvciA6ICcsJztcbiAgICAgIHZhciBqb2luZWQgPSAnJztcbiAgICAgIHZhciBpc0ZpcnN0ID0gdHJ1ZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYgKSB7XG4gICAgICAgIGlzRmlyc3QgPyAoaXNGaXJzdCA9IGZhbHNlKSA6IChqb2luZWQgKz0gc2VwYXJhdG9yKTtcbiAgICAgICAgam9pbmVkICs9IHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkID8gdi50b1N0cmluZygpIDogJyc7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBqb2luZWQ7XG4gICAgfSxcblxuICAgIGtleXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0tFWVMpO1xuICAgIH0sXG5cbiAgICBtYXA6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIG1hcEZhY3RvcnkodGhpcywgbWFwcGVyLCBjb250ZXh0KSk7XG4gICAgfSxcblxuICAgIHJlZHVjZTogZnVuY3Rpb24ocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHZhciByZWR1Y3Rpb247XG4gICAgICB2YXIgdXNlRmlyc3Q7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgdXNlRmlyc3QgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVkdWN0aW9uID0gaW5pdGlhbFJlZHVjdGlvbjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmICh1c2VGaXJzdCkge1xuICAgICAgICAgIHVzZUZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgcmVkdWN0aW9uID0gdjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWR1Y3Rpb24gPSByZWR1Y2VyLmNhbGwoY29udGV4dCwgcmVkdWN0aW9uLCB2LCBrLCBjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVkdWN0aW9uO1xuICAgIH0sXG5cbiAgICByZWR1Y2VSaWdodDogZnVuY3Rpb24ocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgICAgdmFyIHJldmVyc2VkID0gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpO1xuICAgICAgcmV0dXJuIHJldmVyc2VkLnJlZHVjZS5hcHBseShyZXZlcnNlZCwgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgcmV2ZXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgcmV2ZXJzZUZhY3RvcnkodGhpcywgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBzbGljZTogZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNsaWNlRmFjdG9yeSh0aGlzLCBiZWdpbiwgZW5kLCB0cnVlKSk7XG4gICAgfSxcblxuICAgIHNvbWU6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuICF0aGlzLmV2ZXJ5KG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgc29ydDogZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgICB9LFxuXG4gICAgdmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gICAgYnV0TGFzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgwLCAtMSk7XG4gICAgfSxcblxuICAgIGlzRW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkID8gdGhpcy5zaXplID09PSAwIDogIXRoaXMuc29tZShmdW5jdGlvbigpICB7cmV0dXJuIHRydWV9KTtcbiAgICB9LFxuXG4gICAgY291bnQ6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIGVuc3VyZVNpemUoXG4gICAgICAgIHByZWRpY2F0ZSA/IHRoaXMudG9TZXEoKS5maWx0ZXIocHJlZGljYXRlLCBjb250ZXh0KSA6IHRoaXNcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGNvdW50Qnk6IGZ1bmN0aW9uKGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb3VudEJ5RmFjdG9yeSh0aGlzLCBncm91cGVyLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIGRlZXBFcXVhbCh0aGlzLCBvdGhlcik7XG4gICAgfSxcblxuICAgIGVudHJ5U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpdGVyYWJsZSA9IHRoaXM7XG4gICAgICBpZiAoaXRlcmFibGUuX2NhY2hlKSB7XG4gICAgICAgIC8vIFdlIGNhY2hlIGFzIGFuIGVudHJpZXMgYXJyYXksIHNvIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgY2FjaGUhXG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlTZXEoaXRlcmFibGUuX2NhY2hlKTtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyaWVzU2VxdWVuY2UgPSBpdGVyYWJsZS50b1NlcSgpLm1hcChlbnRyeU1hcHBlcikudG9JbmRleGVkU2VxKCk7XG4gICAgICBlbnRyaWVzU2VxdWVuY2UuZnJvbUVudHJ5U2VxID0gZnVuY3Rpb24oKSAge3JldHVybiBpdGVyYWJsZS50b1NlcSgpfTtcbiAgICAgIHJldHVybiBlbnRyaWVzU2VxdWVuY2U7XG4gICAgfSxcblxuICAgIGZpbHRlck5vdDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBmaW5kTGFzdDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKS5maW5kKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpO1xuICAgIH0sXG5cbiAgICBmaXJzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kKHJldHVyblRydWUpO1xuICAgIH0sXG5cbiAgICBmbGF0TWFwOiBmdW5jdGlvbihtYXBwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0TWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpKTtcbiAgICB9LFxuXG4gICAgZmxhdHRlbjogZnVuY3Rpb24oZGVwdGgpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0dGVuRmFjdG9yeSh0aGlzLCBkZXB0aCwgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBmcm9tRW50cnlTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBGcm9tRW50cmllc1NlcXVlbmNlKHRoaXMpO1xuICAgIH0sXG5cbiAgICBnZXQ6IGZ1bmN0aW9uKHNlYXJjaEtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmQoZnVuY3Rpb24oXywga2V5KSAge3JldHVybiBpcyhrZXksIHNlYXJjaEtleSl9LCB1bmRlZmluZWQsIG5vdFNldFZhbHVlKTtcbiAgICB9LFxuXG4gICAgZ2V0SW46IGZ1bmN0aW9uKHNlYXJjaEtleVBhdGgsIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgbmVzdGVkID0gdGhpcztcbiAgICAgIC8vIE5vdGU6IGluIGFuIEVTNiBlbnZpcm9ubWVudCwgd2Ugd291bGQgcHJlZmVyOlxuICAgICAgLy8gZm9yICh2YXIga2V5IG9mIHNlYXJjaEtleVBhdGgpIHtcbiAgICAgIHZhciBpdGVyID0gZm9yY2VJdGVyYXRvcihzZWFyY2hLZXlQYXRoKTtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXIubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIHZhciBrZXkgPSBzdGVwLnZhbHVlO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWQgJiYgbmVzdGVkLmdldCA/IG5lc3RlZC5nZXQoa2V5LCBOT1RfU0VUKSA6IE5PVF9TRVQ7XG4gICAgICAgIGlmIChuZXN0ZWQgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXN0ZWQ7XG4gICAgfSxcblxuICAgIGdyb3VwQnk6IGZ1bmN0aW9uKGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBncm91cEJ5RmFjdG9yeSh0aGlzLCBncm91cGVyLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgaGFzOiBmdW5jdGlvbihzZWFyY2hLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChzZWFyY2hLZXksIE5PVF9TRVQpICE9PSBOT1RfU0VUO1xuICAgIH0sXG5cbiAgICBoYXNJbjogZnVuY3Rpb24oc2VhcmNoS2V5UGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW4oc2VhcmNoS2V5UGF0aCwgTk9UX1NFVCkgIT09IE5PVF9TRVQ7XG4gICAgfSxcblxuICAgIGlzU3Vic2V0OiBmdW5jdGlvbihpdGVyKSB7XG4gICAgICBpdGVyID0gdHlwZW9mIGl0ZXIuaW5jbHVkZXMgPT09ICdmdW5jdGlvbicgPyBpdGVyIDogSXRlcmFibGUoaXRlcik7XG4gICAgICByZXR1cm4gdGhpcy5ldmVyeShmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSl9KTtcbiAgICB9LFxuXG4gICAgaXNTdXBlcnNldDogZnVuY3Rpb24oaXRlcikge1xuICAgICAgaXRlciA9IHR5cGVvZiBpdGVyLmlzU3Vic2V0ID09PSAnZnVuY3Rpb24nID8gaXRlciA6IEl0ZXJhYmxlKGl0ZXIpO1xuICAgICAgcmV0dXJuIGl0ZXIuaXNTdWJzZXQodGhpcyk7XG4gICAgfSxcblxuICAgIGtleVNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcChrZXlNYXBwZXIpLnRvSW5kZXhlZFNlcSgpO1xuICAgIH0sXG5cbiAgICBsYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpcnN0KCk7XG4gICAgfSxcblxuICAgIG1heDogZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvcik7XG4gICAgfSxcblxuICAgIG1heEJ5OiBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcik7XG4gICAgfSxcblxuICAgIG1pbjogZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvciA/IG5lZyhjb21wYXJhdG9yKSA6IGRlZmF1bHROZWdDb21wYXJhdG9yKTtcbiAgICB9LFxuXG4gICAgbWluQnk6IGZ1bmN0aW9uKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvciA/IG5lZyhjb21wYXJhdG9yKSA6IGRlZmF1bHROZWdDb21wYXJhdG9yLCBtYXBwZXIpO1xuICAgIH0sXG5cbiAgICByZXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNsaWNlKDEpO1xuICAgIH0sXG5cbiAgICBza2lwOiBmdW5jdGlvbihhbW91bnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnNsaWNlKE1hdGgubWF4KDAsIGFtb3VudCkpO1xuICAgIH0sXG5cbiAgICBza2lwTGFzdDogZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgdGhpcy50b1NlcSgpLnJldmVyc2UoKS5za2lwKGFtb3VudCkucmV2ZXJzZSgpKTtcbiAgICB9LFxuXG4gICAgc2tpcFdoaWxlOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBza2lwV2hpbGVGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBza2lwVW50aWw6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2tpcFdoaWxlKG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgc29ydEJ5OiBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgICB9LFxuXG4gICAgdGFrZTogZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgwLCBNYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgICB9LFxuXG4gICAgdGFrZUxhc3Q6IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkudGFrZShhbW91bnQpLnJldmVyc2UoKSk7XG4gICAgfSxcblxuICAgIHRha2VXaGlsZTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgdGFrZVdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQpKTtcbiAgICB9LFxuXG4gICAgdGFrZVVudGlsOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2VXaGlsZShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIHZhbHVlU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvSW5kZXhlZFNlcSgpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBIYXNoYWJsZSBPYmplY3RcblxuICAgIGhhc2hDb2RlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faGFzaCB8fCAodGhpcy5fX2hhc2ggPSBoYXNoSXRlcmFibGUodGhpcykpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBJbnRlcm5hbFxuXG4gICAgLy8gYWJzdHJhY3QgX19pdGVyYXRlKGZuLCByZXZlcnNlKVxuXG4gICAgLy8gYWJzdHJhY3QgX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKVxuICB9KTtcblxuICAvLyB2YXIgSVNfSVRFUkFCTEVfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9JVEVSQUJMRV9fQEAnO1xuICAvLyB2YXIgSVNfS0VZRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9LRVlFRF9fQEAnO1xuICAvLyB2YXIgSVNfSU5ERVhFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lOREVYRURfX0BAJztcbiAgLy8gdmFyIElTX09SREVSRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCc7XG5cbiAgdmFyIEl0ZXJhYmxlUHJvdG90eXBlID0gSXRlcmFibGUucHJvdG90eXBlO1xuICBJdGVyYWJsZVByb3RvdHlwZVtJU19JVEVSQUJMRV9TRU5USU5FTF0gPSB0cnVlO1xuICBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gSXRlcmFibGVQcm90b3R5cGUudmFsdWVzO1xuICBJdGVyYWJsZVByb3RvdHlwZS5fX3RvSlMgPSBJdGVyYWJsZVByb3RvdHlwZS50b0FycmF5O1xuICBJdGVyYWJsZVByb3RvdHlwZS5fX3RvU3RyaW5nTWFwcGVyID0gcXVvdGVTdHJpbmc7XG4gIEl0ZXJhYmxlUHJvdG90eXBlLmluc3BlY3QgPVxuICBJdGVyYWJsZVByb3RvdHlwZS50b1NvdXJjZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy50b1N0cmluZygpOyB9O1xuICBJdGVyYWJsZVByb3RvdHlwZS5jaGFpbiA9IEl0ZXJhYmxlUHJvdG90eXBlLmZsYXRNYXA7XG5cbiAgLy8gVGVtcG9yYXJ5IHdhcm5pbmcgYWJvdXQgdXNpbmcgbGVuZ3RoXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJdGVyYWJsZVByb3RvdHlwZSwgJ2xlbmd0aCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFJdGVyYWJsZS5ub0xlbmd0aFdhcm5pbmcpIHtcbiAgICAgICAgICAgIHZhciBzdGFjaztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFjay5pbmRleE9mKCdfd3JhcE9iamVjdCcpID09PSAtMSkge1xuICAgICAgICAgICAgICBjb25zb2xlICYmIGNvbnNvbGUud2FybiAmJiBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgJ2l0ZXJhYmxlLmxlbmd0aCBoYXMgYmVlbiBkZXByZWNhdGVkLCAnK1xuICAgICAgICAgICAgICAgICd1c2UgaXRlcmFibGUuc2l6ZSBvciBpdGVyYWJsZS5jb3VudCgpLiAnK1xuICAgICAgICAgICAgICAgICdUaGlzIHdhcm5pbmcgd2lsbCBiZWNvbWUgYSBzaWxlbnQgZXJyb3IgaW4gYSBmdXR1cmUgdmVyc2lvbi4gJyArXG4gICAgICAgICAgICAgICAgc3RhY2tcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0pKCk7XG5cblxuXG4gIG1peGluKEtleWVkSXRlcmFibGUsIHtcblxuICAgIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gICAgZmxpcDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmxpcEZhY3RvcnkodGhpcykpO1xuICAgIH0sXG5cbiAgICBmaW5kS2V5OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMF07XG4gICAgfSxcblxuICAgIGZpbmRMYXN0S2V5OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpbmRLZXkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAga2V5T2Y6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kS2V5KGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpfSk7XG4gICAgfSxcblxuICAgIGxhc3RLZXlPZjogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmRMYXN0S2V5KGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpfSk7XG4gICAgfSxcblxuICAgIG1hcEVudHJpZXM6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsXG4gICAgICAgIHRoaXMudG9TZXEoKS5tYXAoXG4gICAgICAgICAgZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gbWFwcGVyLmNhbGwoY29udGV4dCwgW2ssIHZdLCBpdGVyYXRpb25zKyssIHRoaXMkMCl9XG4gICAgICAgICkuZnJvbUVudHJ5U2VxKClcbiAgICAgICk7XG4gICAgfSxcblxuICAgIG1hcEtleXM6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsXG4gICAgICAgIHRoaXMudG9TZXEoKS5mbGlwKCkubWFwKFxuICAgICAgICAgIGZ1bmN0aW9uKGssIHYpICB7cmV0dXJuIG1hcHBlci5jYWxsKGNvbnRleHQsIGssIHYsIHRoaXMkMCl9XG4gICAgICAgICkuZmxpcCgpXG4gICAgICApO1xuICAgIH0sXG5cbiAgfSk7XG5cbiAgdmFyIEtleWVkSXRlcmFibGVQcm90b3R5cGUgPSBLZXllZEl0ZXJhYmxlLnByb3RvdHlwZTtcbiAgS2V5ZWRJdGVyYWJsZVByb3RvdHlwZVtJU19LRVlFRF9TRU5USU5FTF0gPSB0cnVlO1xuICBLZXllZEl0ZXJhYmxlUHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBJdGVyYWJsZVByb3RvdHlwZS5lbnRyaWVzO1xuICBLZXllZEl0ZXJhYmxlUHJvdG90eXBlLl9fdG9KUyA9IEl0ZXJhYmxlUHJvdG90eXBlLnRvT2JqZWN0O1xuICBLZXllZEl0ZXJhYmxlUHJvdG90eXBlLl9fdG9TdHJpbmdNYXBwZXIgPSBmdW5jdGlvbih2LCBrKSAge3JldHVybiBKU09OLnN0cmluZ2lmeShrKSArICc6ICcgKyBxdW90ZVN0cmluZyh2KX07XG5cblxuXG4gIG1peGluKEluZGV4ZWRJdGVyYWJsZSwge1xuXG4gICAgLy8gIyMjIENvbnZlcnNpb24gdG8gb3RoZXIgdHlwZXNcblxuICAgIHRvS2V5ZWRTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBUb0tleWVkU2VxdWVuY2UodGhpcywgZmFsc2UpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICAgIGZpbHRlcjogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmlsdGVyRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIGZpbmRJbmRleDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGVudHJ5ID8gZW50cnlbMF0gOiAtMTtcbiAgICB9LFxuXG4gICAgaW5kZXhPZjogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLnRvS2V5ZWRTZXEoKS5rZXlPZihzZWFyY2hWYWx1ZSk7XG4gICAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgPyAtMSA6IGtleTtcbiAgICB9LFxuXG4gICAgbGFzdEluZGV4T2Y6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLnJldmVyc2UoKS5pbmRleE9mKHNlYXJjaFZhbHVlKTtcbiAgICB9LFxuXG4gICAgcmV2ZXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgcmV2ZXJzZUZhY3RvcnkodGhpcywgZmFsc2UpKTtcbiAgICB9LFxuXG4gICAgc2xpY2U6IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBzbGljZUZhY3RvcnkodGhpcywgYmVnaW4sIGVuZCwgZmFsc2UpKTtcbiAgICB9LFxuXG4gICAgc3BsaWNlOiBmdW5jdGlvbihpbmRleCwgcmVtb3ZlTnVtIC8qLCAuLi52YWx1ZXMqLykge1xuICAgICAgdmFyIG51bUFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgcmVtb3ZlTnVtID0gTWF0aC5tYXgocmVtb3ZlTnVtIHwgMCwgMCk7XG4gICAgICBpZiAobnVtQXJncyA9PT0gMCB8fCAobnVtQXJncyA9PT0gMiAmJiAhcmVtb3ZlTnVtKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGluZGV4ID0gcmVzb2x2ZUJlZ2luKGluZGV4LCB0aGlzLnNpemUpO1xuICAgICAgdmFyIHNwbGljZWQgPSB0aGlzLnNsaWNlKDAsIGluZGV4KTtcbiAgICAgIHJldHVybiByZWlmeShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgbnVtQXJncyA9PT0gMSA/XG4gICAgICAgICAgc3BsaWNlZCA6XG4gICAgICAgICAgc3BsaWNlZC5jb25jYXQoYXJyQ29weShhcmd1bWVudHMsIDIpLCB0aGlzLnNsaWNlKGluZGV4ICsgcmVtb3ZlTnVtKSlcbiAgICAgICk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIE1vcmUgY29sbGVjdGlvbiBtZXRob2RzXG5cbiAgICBmaW5kTGFzdEluZGV4OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLnRvS2V5ZWRTZXEoKS5maW5kTGFzdEtleShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gLTEgOiBrZXk7XG4gICAgfSxcblxuICAgIGZpcnN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgwKTtcbiAgICB9LFxuXG4gICAgZmxhdHRlbjogZnVuY3Rpb24oZGVwdGgpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0dGVuRmFjdG9yeSh0aGlzLCBkZXB0aCwgZmFsc2UpKTtcbiAgICB9LFxuXG4gICAgZ2V0OiBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICAgIHJldHVybiAoaW5kZXggPCAwIHx8ICh0aGlzLnNpemUgPT09IEluZmluaXR5IHx8XG4gICAgICAgICAgKHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGluZGV4ID4gdGhpcy5zaXplKSkpID9cbiAgICAgICAgbm90U2V0VmFsdWUgOlxuICAgICAgICB0aGlzLmZpbmQoZnVuY3Rpb24oXywga2V5KSAge3JldHVybiBrZXkgPT09IGluZGV4fSwgdW5kZWZpbmVkLCBub3RTZXRWYWx1ZSk7XG4gICAgfSxcblxuICAgIGhhczogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICAgIHJldHVybiBpbmRleCA+PSAwICYmICh0aGlzLnNpemUgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgIHRoaXMuc2l6ZSA9PT0gSW5maW5pdHkgfHwgaW5kZXggPCB0aGlzLnNpemUgOlxuICAgICAgICB0aGlzLmluZGV4T2YoaW5kZXgpICE9PSAtMVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgaW50ZXJwb3NlOiBmdW5jdGlvbihzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBpbnRlcnBvc2VGYWN0b3J5KHRoaXMsIHNlcGFyYXRvcikpO1xuICAgIH0sXG5cbiAgICBpbnRlcmxlYXZlOiBmdW5jdGlvbigvKi4uLml0ZXJhYmxlcyovKSB7XG4gICAgICB2YXIgaXRlcmFibGVzID0gW3RoaXNdLmNvbmNhdChhcnJDb3B5KGFyZ3VtZW50cykpO1xuICAgICAgdmFyIHppcHBlZCA9IHppcFdpdGhGYWN0b3J5KHRoaXMudG9TZXEoKSwgSW5kZXhlZFNlcS5vZiwgaXRlcmFibGVzKTtcbiAgICAgIHZhciBpbnRlcmxlYXZlZCA9IHppcHBlZC5mbGF0dGVuKHRydWUpO1xuICAgICAgaWYgKHppcHBlZC5zaXplKSB7XG4gICAgICAgIGludGVybGVhdmVkLnNpemUgPSB6aXBwZWQuc2l6ZSAqIGl0ZXJhYmxlcy5sZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgaW50ZXJsZWF2ZWQpO1xuICAgIH0sXG5cbiAgICBsYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgtMSk7XG4gICAgfSxcblxuICAgIHNraXBXaGlsZTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc2tpcFdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIHppcDogZnVuY3Rpb24oLyosIC4uLml0ZXJhYmxlcyAqLykge1xuICAgICAgdmFyIGl0ZXJhYmxlcyA9IFt0aGlzXS5jb25jYXQoYXJyQ29weShhcmd1bWVudHMpKTtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCB6aXBXaXRoRmFjdG9yeSh0aGlzLCBkZWZhdWx0WmlwcGVyLCBpdGVyYWJsZXMpKTtcbiAgICB9LFxuXG4gICAgemlwV2l0aDogZnVuY3Rpb24oemlwcGVyLyosIC4uLml0ZXJhYmxlcyAqLykge1xuICAgICAgdmFyIGl0ZXJhYmxlcyA9IGFyckNvcHkoYXJndW1lbnRzKTtcbiAgICAgIGl0ZXJhYmxlc1swXSA9IHRoaXM7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgemlwV2l0aEZhY3RvcnkodGhpcywgemlwcGVyLCBpdGVyYWJsZXMpKTtcbiAgICB9LFxuXG4gIH0pO1xuXG4gIEluZGV4ZWRJdGVyYWJsZS5wcm90b3R5cGVbSVNfSU5ERVhFRF9TRU5USU5FTF0gPSB0cnVlO1xuICBJbmRleGVkSXRlcmFibGUucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxuXG5cbiAgbWl4aW4oU2V0SXRlcmFibGUsIHtcblxuICAgIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICAgIGdldDogZnVuY3Rpb24odmFsdWUsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXModmFsdWUpID8gdmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgICB9LFxuXG4gICAgaW5jbHVkZXM6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXModmFsdWUpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gICAga2V5U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlU2VxKCk7XG4gICAgfSxcblxuICB9KTtcblxuICBTZXRJdGVyYWJsZS5wcm90b3R5cGUuaGFzID0gSXRlcmFibGVQcm90b3R5cGUuaW5jbHVkZXM7XG5cblxuICAvLyBNaXhpbiBzdWJjbGFzc2VzXG5cbiAgbWl4aW4oS2V5ZWRTZXEsIEtleWVkSXRlcmFibGUucHJvdG90eXBlKTtcbiAgbWl4aW4oSW5kZXhlZFNlcSwgSW5kZXhlZEl0ZXJhYmxlLnByb3RvdHlwZSk7XG4gIG1peGluKFNldFNlcSwgU2V0SXRlcmFibGUucHJvdG90eXBlKTtcblxuICBtaXhpbihLZXllZENvbGxlY3Rpb24sIEtleWVkSXRlcmFibGUucHJvdG90eXBlKTtcbiAgbWl4aW4oSW5kZXhlZENvbGxlY3Rpb24sIEluZGV4ZWRJdGVyYWJsZS5wcm90b3R5cGUpO1xuICBtaXhpbihTZXRDb2xsZWN0aW9uLCBTZXRJdGVyYWJsZS5wcm90b3R5cGUpO1xuXG5cbiAgLy8gI3ByYWdtYSBIZWxwZXIgZnVuY3Rpb25zXG5cbiAgZnVuY3Rpb24ga2V5TWFwcGVyKHYsIGspIHtcbiAgICByZXR1cm4gaztcbiAgfVxuXG4gIGZ1bmN0aW9uIGVudHJ5TWFwcGVyKHYsIGspIHtcbiAgICByZXR1cm4gW2ssIHZdO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90KHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbmVnKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAtcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcXVvdGVTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdFppcHBlcigpIHtcbiAgICByZXR1cm4gYXJyQ29weShhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdE5lZ0NvbXBhcmF0b3IoYSwgYikge1xuICAgIHJldHVybiBhIDwgYiA/IDEgOiBhID4gYiA/IC0xIDogMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc2hJdGVyYWJsZShpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZS5zaXplID09PSBJbmZpbml0eSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBvcmRlcmVkID0gaXNPcmRlcmVkKGl0ZXJhYmxlKTtcbiAgICB2YXIga2V5ZWQgPSBpc0tleWVkKGl0ZXJhYmxlKTtcbiAgICB2YXIgaCA9IG9yZGVyZWQgPyAxIDogMDtcbiAgICB2YXIgc2l6ZSA9IGl0ZXJhYmxlLl9faXRlcmF0ZShcbiAgICAgIGtleWVkID9cbiAgICAgICAgb3JkZXJlZCA/XG4gICAgICAgICAgZnVuY3Rpb24odiwgaykgIHsgaCA9IDMxICogaCArIGhhc2hNZXJnZShoYXNoKHYpLCBoYXNoKGspKSB8IDA7IH0gOlxuICAgICAgICAgIGZ1bmN0aW9uKHYsIGspICB7IGggPSBoICsgaGFzaE1lcmdlKGhhc2godiksIGhhc2goaykpIHwgMDsgfSA6XG4gICAgICAgIG9yZGVyZWQgP1xuICAgICAgICAgIGZ1bmN0aW9uKHYgKSB7IGggPSAzMSAqIGggKyBoYXNoKHYpIHwgMDsgfSA6XG4gICAgICAgICAgZnVuY3Rpb24odiApIHsgaCA9IGggKyBoYXNoKHYpIHwgMDsgfVxuICAgICk7XG4gICAgcmV0dXJuIG11cm11ckhhc2hPZlNpemUoc2l6ZSwgaCk7XG4gIH1cblxuICBmdW5jdGlvbiBtdXJtdXJIYXNoT2ZTaXplKHNpemUsIGgpIHtcbiAgICBoID0gc3JjX01hdGhfX2ltdWwoaCwgMHhDQzlFMkQ1MSk7XG4gICAgaCA9IHNyY19NYXRoX19pbXVsKGggPDwgMTUgfCBoID4+PiAtMTUsIDB4MUI4NzM1OTMpO1xuICAgIGggPSBzcmNfTWF0aF9faW11bChoIDw8IDEzIHwgaCA+Pj4gLTEzLCA1KTtcbiAgICBoID0gKGggKyAweEU2NTQ2QjY0IHwgMCkgXiBzaXplO1xuICAgIGggPSBzcmNfTWF0aF9faW11bChoIF4gaCA+Pj4gMTYsIDB4ODVFQkNBNkIpO1xuICAgIGggPSBzcmNfTWF0aF9faW11bChoIF4gaCA+Pj4gMTMsIDB4QzJCMkFFMzUpO1xuICAgIGggPSBzbWkoaCBeIGggPj4+IDE2KTtcbiAgICByZXR1cm4gaDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc2hNZXJnZShhLCBiKSB7XG4gICAgcmV0dXJuIGEgXiBiICsgMHg5RTM3NzlCOSArIChhIDw8IDYpICsgKGEgPj4gMikgfCAwOyAvLyBpbnRcbiAgfVxuXG4gIHZhciBJbW11dGFibGUgPSB7XG5cbiAgICBJdGVyYWJsZTogSXRlcmFibGUsXG5cbiAgICBTZXE6IFNlcSxcbiAgICBDb2xsZWN0aW9uOiBDb2xsZWN0aW9uLFxuICAgIE1hcDogc3JjX01hcF9fTWFwLFxuICAgIE9yZGVyZWRNYXA6IE9yZGVyZWRNYXAsXG4gICAgTGlzdDogTGlzdCxcbiAgICBTdGFjazogU3RhY2ssXG4gICAgU2V0OiBzcmNfU2V0X19TZXQsXG4gICAgT3JkZXJlZFNldDogT3JkZXJlZFNldCxcblxuICAgIFJlY29yZDogUmVjb3JkLFxuICAgIFJhbmdlOiBSYW5nZSxcbiAgICBSZXBlYXQ6IFJlcGVhdCxcblxuICAgIGlzOiBpcyxcbiAgICBmcm9tSlM6IGZyb21KUyxcblxuICB9O1xuXG4gIHJldHVybiBJbW11dGFibGU7XG5cbn0pKTsiLCIvKiEgS2VmaXIuanMgdjIuNi4wXG4gKiAgaHR0cHM6Ly9naXRodWIuY29tL3Jwb21pbm92L2tlZmlyXG4gKi9cblxuKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJLZWZpclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJLZWZpclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG5cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG5cblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIEtlZmlyID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0S2VmaXIuS2VmaXIgPSBLZWZpcjtcblxuXHR2YXIgT2JzZXJ2YWJsZSA9IEtlZmlyLk9ic2VydmFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRLZWZpci5TdHJlYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRLZWZpci5Qcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cblx0Ly8gQ3JlYXRlIGEgc3RyZWFtXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0Ly8gKCkgLT4gU3RyZWFtXG5cdEtlZmlyLm5ldmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHQvLyAobnVtYmVyLCBhbnkpIC0+IFN0cmVhbVxuXHRLZWZpci5sYXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cblx0Ly8gKG51bWJlciwgYW55KSAtPiBTdHJlYW1cblx0S2VmaXIuaW50ZXJ2YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblxuXHQvLyAobnVtYmVyLCBBcnJheTxhbnk+KSAtPiBTdHJlYW1cblx0S2VmaXIuc2VxdWVudGlhbGx5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cblx0Ly8gKG51bWJlciwgRnVuY3Rpb24pIC0+IFN0cmVhbVxuXHRLZWZpci5mcm9tUG9sbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG5cdC8vIChudW1iZXIsIEZ1bmN0aW9uKSAtPiBTdHJlYW1cblx0S2VmaXIud2l0aEludGVydmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cblx0Ly8gKEZ1bmN0aW9uKSAtPiBTdHJlYW1cblx0S2VmaXIuZnJvbUNhbGxiYWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cblx0Ly8gKEZ1bmN0aW9uKSAtPiBTdHJlYW1cblx0S2VmaXIuZnJvbU5vZGVDYWxsYmFjayA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXG5cdC8vIFRhcmdldCA9IHthZGRFdmVudExpc3RlbmVyLCByZW1vdmVFdmVudExpc3RlbmVyfXx7YWRkTGlzdGVuZXIsIHJlbW92ZUxpc3RlbmVyfXx7b24sIG9mZn1cblx0Ly8gKFRhcmdldCwgc3RyaW5nLCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHRLZWZpci5mcm9tRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cblx0Ly8gKEZ1bmN0aW9uKSAtPiBTdHJlYW1cblx0S2VmaXIuc3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cblx0Ly8gQ3JlYXRlIGEgcHJvcGVydHlcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHQvLyAoYW55KSAtPiBQcm9wZXJ0eVxuXHRLZWZpci5jb25zdGFudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXG5cdC8vIChhbnkpIC0+IFByb3BlcnR5XG5cdEtlZmlyLmNvbnN0YW50RXJyb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxuXHQvLyAoUHJvbWlzZSkgLT4gUHJvcGVydHlcblx0S2VmaXIuZnJvbVByb21pc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblxuXHQvLyBDb252ZXJ0IG9ic2VydmFibGVzXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0Ly8gKFN0cmVhbXxQcm9wZXJ0eSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgdG9Qcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb3BlcnR5ID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIHRvUHJvcGVydHkodGhpcywgZm4pO1xuXHR9O1xuXG5cdC8vIChTdHJlYW18UHJvcGVydHkpIC0+IFN0cmVhbVxuXHR2YXIgY2hhbmdlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5jaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBjaGFuZ2VzKHRoaXMpO1xuXHR9O1xuXG5cdC8vIFN1YnNjcmliZSAvIGFkZCBzaWRlIGVmZmVjdHNcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHQvLyAoU3RyZWFtfFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb21pc2Vcblx0dmFyIHRvUHJvbWlzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAoUHJvbWlzZSkge1xuXHQgIHJldHVybiB0b1Byb21pc2UodGhpcywgUHJvbWlzZSk7XG5cdH07XG5cblx0Ly8gTW9kaWZ5IGFuIG9ic2VydmFibGVcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIG1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gbWFwKHRoaXMsIGZuKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIGZpbHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gZmlsdGVyKHRoaXMsIGZuKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBudW1iZXIpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIG51bWJlcikgLT4gUHJvcGVydHlcblx0dmFyIHRha2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUudGFrZSA9IGZ1bmN0aW9uIChuKSB7XG5cdCAgcmV0dXJuIHRha2UodGhpcywgbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciB0YWtlV2hpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUudGFrZVdoaWxlID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIHRha2VXaGlsZSh0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSkgLT4gUHJvcGVydHlcblx0dmFyIGxhc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUubGFzdCA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gbGFzdCh0aGlzKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBudW1iZXIpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIG51bWJlcikgLT4gUHJvcGVydHlcblx0dmFyIHNraXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuc2tpcCA9IGZ1bmN0aW9uIChuKSB7XG5cdCAgcmV0dXJuIHNraXAodGhpcywgbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBza2lwV2hpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuc2tpcFdoaWxlID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIHNraXBXaGlsZSh0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBza2lwRHVwbGljYXRlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5za2lwRHVwbGljYXRlcyA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHJldHVybiBza2lwRHVwbGljYXRlcyh0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258ZmFsc2V5LCBhbnl8dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnxmYWxzZXksIGFueXx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBkaWZmID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmRpZmYgPSBmdW5jdGlvbiAoZm4sIHNlZWQpIHtcblx0ICByZXR1cm4gZGlmZih0aGlzLCBmbiwgc2VlZCk7XG5cdH07XG5cblx0Ly8gKFN0cmVhbXxQcm9wZXJ0eSwgRnVuY3Rpb24sIGFueXx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBzY2FuID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnNjYW4gPSBmdW5jdGlvbiAoZm4sIHNlZWQpIHtcblx0ICByZXR1cm4gc2Nhbih0aGlzLCBmbiwgc2VlZCk7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciBmbGF0dGVuID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmZsYXR0ZW4gPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gZmxhdHRlbih0aGlzLCBmbik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgbnVtYmVyKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBudW1iZXIpIC0+IFByb3BlcnR5XG5cdHZhciBkZWxheSA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5kZWxheSA9IGZ1bmN0aW9uICh3YWl0KSB7XG5cdCAgcmV0dXJuIGRlbGF5KHRoaXMsIHdhaXQpO1xuXHR9O1xuXG5cdC8vIE9wdGlvbnMgPSB7bGVhZGluZzogYm9vbGVhbnx1bmRlZmluZWQsIHRyYWlsaW5nOiBib29sZWFufHVuZGVmaW5lZH1cblx0Ly8gKFN0cmVhbSwgbnVtYmVyLCBPcHRpb25zfHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgbnVtYmVyLCBPcHRpb25zfHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIHRocm90dGxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnRocm90dGxlID0gZnVuY3Rpb24gKHdhaXQsIG9wdGlvbnMpIHtcblx0ICByZXR1cm4gdGhyb3R0bGUodGhpcywgd2FpdCwgb3B0aW9ucyk7XG5cdH07XG5cblx0Ly8gT3B0aW9ucyA9IHtpbW1lZGlhdGU6IGJvb2xlYW58dW5kZWZpbmVkfVxuXHQvLyAoU3RyZWFtLCBudW1iZXIsIE9wdGlvbnN8dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBudW1iZXIsIE9wdGlvbnN8dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgZGVib3VuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuZGVib3VuY2UgPSBmdW5jdGlvbiAod2FpdCwgb3B0aW9ucykge1xuXHQgIHJldHVybiBkZWJvdW5jZSh0aGlzLCB3YWl0LCBvcHRpb25zKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIHZhbHVlc1RvRXJyb3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnZhbHVlc1RvRXJyb3JzID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIHZhbHVlc1RvRXJyb3JzKHRoaXMsIGZuKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIGVycm9yc1RvVmFsdWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmVycm9yc1RvVmFsdWVzID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIGVycm9yc1RvVmFsdWVzKHRoaXMsIGZuKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIG1hcEVycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5tYXBFcnJvcnMgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gbWFwRXJyb3JzKHRoaXMsIGZuKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbnx1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIEZ1bmN0aW9ufHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIGZpbHRlckVycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5maWx0ZXJFcnJvcnMgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gZmlsdGVyRXJyb3JzKHRoaXMsIGZuKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5KSAtPiBQcm9wZXJ0eVxuXHR2YXIgZW5kT25FcnJvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5lbmRPbkVycm9yID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBlbmRPbkVycm9yKHRoaXMpO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0pIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHkpIC0+IFByb3BlcnR5XG5cdHZhciBza2lwVmFsdWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnNraXBWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHNraXBWYWx1ZXModGhpcyk7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSkgLT4gUHJvcGVydHlcblx0dmFyIHNraXBFcnJvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuc2tpcEVycm9ycyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gc2tpcEVycm9ycyh0aGlzKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5KSAtPiBQcm9wZXJ0eVxuXHR2YXIgc2tpcEVuZCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5za2lwRW5kID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBza2lwRW5kKHRoaXMpO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIEZ1bmN0aW9uKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbikgLT4gUHJvcGVydHlcblx0dmFyIGJlZm9yZUVuZCA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5iZWZvcmVFbmQgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gYmVmb3JlRW5kKHRoaXMsIGZuKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBudW1iZXIsIG51bWJlcnx1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIG51bWJlciwgbnVtYmVyfHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIHNsaWRpbmdXaW5kb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuc2xpZGluZ1dpbmRvdyA9IGZ1bmN0aW9uIChtYXgsIG1pbikge1xuXHQgIHJldHVybiBzbGlkaW5nV2luZG93KHRoaXMsIG1heCwgbWluKTtcblx0fTtcblxuXHQvLyBPcHRpb25zID0ge2ZsdXNoT25FbmQ6IGJvb2xlYW58dW5kZWZpbmVkfVxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbnxmYWxzZXksIE9wdGlvbnN8dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbnxmYWxzZXksIE9wdGlvbnN8dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgYnVmZmVyV2hpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuYnVmZmVyV2hpbGUgPSBmdW5jdGlvbiAoZm4sIG9wdGlvbnMpIHtcblx0ICByZXR1cm4gYnVmZmVyV2hpbGUodGhpcywgZm4sIG9wdGlvbnMpO1xuXHR9O1xuXG5cdC8vIChTdHJlYW0sIEZ1bmN0aW9uKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbikgLT4gUHJvcGVydHlcblx0dmFyIHRyYW5zZHVjZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS50cmFuc2R1Y2UgPSBmdW5jdGlvbiAodHJhbnNkdWNlcikge1xuXHQgIHJldHVybiB0cmFuc2R1Y2UodGhpcywgdHJhbnNkdWNlcik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgRnVuY3Rpb24pIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIEZ1bmN0aW9uKSAtPiBQcm9wZXJ0eVxuXHR2YXIgd2l0aEhhbmRsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUud2l0aEhhbmRsZXIgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gd2l0aEhhbmRsZXIodGhpcywgZm4pO1xuXHR9O1xuXG5cdC8vIENvbWJpbmUgb2JzZXJ2YWJsZXNcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHQvLyAoQXJyYXk8U3RyZWFtfFByb3BlcnR5PiwgRnVuY3Rpb258dW5kZWZpZW5kKSAtPiBTdHJlYW1cblx0Ly8gKEFycmF5PFN0cmVhbXxQcm9wZXJ0eT4sIEFycmF5PFN0cmVhbXxQcm9wZXJ0eT4sIEZ1bmN0aW9ufHVuZGVmaWVuZCkgLT4gU3RyZWFtXG5cdHZhciBjb21iaW5lID0gS2VmaXIuY29tYmluZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5jb21iaW5lID0gZnVuY3Rpb24gKG90aGVyLCBjb21iaW5hdG9yKSB7XG5cdCAgcmV0dXJuIGNvbWJpbmUoW3RoaXMsIG90aGVyXSwgY29tYmluYXRvcik7XG5cdH07XG5cblx0Ly8gKEFycmF5PFN0cmVhbXxQcm9wZXJ0eT4sIEZ1bmN0aW9ufHVuZGVmaWVuZCkgLT4gU3RyZWFtXG5cdHZhciB6aXAgPSBLZWZpci56aXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuemlwID0gZnVuY3Rpb24gKG90aGVyLCBjb21iaW5hdG9yKSB7XG5cdCAgcmV0dXJuIHppcChbdGhpcywgb3RoZXJdLCBjb21iaW5hdG9yKTtcblx0fTtcblxuXHQvLyAoQXJyYXk8U3RyZWFtfFByb3BlcnR5PikgLT4gU3RyZWFtXG5cdHZhciBtZXJnZSA9IEtlZmlyLm1lcmdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKG90aGVyKSB7XG5cdCAgcmV0dXJuIG1lcmdlKFt0aGlzLCBvdGhlcl0pO1xuXHR9O1xuXG5cdC8vIChBcnJheTxTdHJlYW18UHJvcGVydHk+KSAtPiBTdHJlYW1cblx0dmFyIGNvbmNhdCA9IEtlZmlyLmNvbmNhdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjEpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiAob3RoZXIpIHtcblx0ICByZXR1cm4gY29uY2F0KFt0aGlzLCBvdGhlcl0pO1xuXHR9O1xuXG5cdC8vICgpIC0+IFBvb2xcblx0dmFyIFBvb2wgPSBLZWZpci5Qb29sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG5cdEtlZmlyLnBvb2wgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIG5ldyBQb29sKCk7XG5cdH07XG5cblx0Ly8gKEZ1bmN0aW9uKSAtPiBTdHJlYW1cblx0S2VmaXIucmVwZWF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cblx0Ly8gT3B0aW9ucyA9IHtjb25jdXJMaW06IG51bWJlcnx1bmRlZmluZWQsIHF1ZXVlTGltOiBudW1iZXJ8dW5kZWZpbmVkLCBkcm9wOiAnb2xkJ3wnbmV3J3x1bmRlZmllbmR9XG5cdC8vIChTdHJlYW18UHJvcGVydHksIEZ1bmN0aW9ufGZhbHNleSwgT3B0aW9uc3x1bmRlZmluZWQpIC0+IFN0cmVhbVxuXHR2YXIgRmxhdE1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5mbGF0TWFwID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIG5ldyBGbGF0TWFwKHRoaXMsIGZuKS5zZXROYW1lKHRoaXMsICdmbGF0TWFwJyk7XG5cdH07XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmZsYXRNYXBMYXRlc3QgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gbmV3IEZsYXRNYXAodGhpcywgZm4sIHsgY29uY3VyTGltOiAxLCBkcm9wOiAnb2xkJyB9KS5zZXROYW1lKHRoaXMsICdmbGF0TWFwTGF0ZXN0Jyk7XG5cdH07XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmZsYXRNYXBGaXJzdCA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHJldHVybiBuZXcgRmxhdE1hcCh0aGlzLCBmbiwgeyBjb25jdXJMaW06IDEgfSkuc2V0TmFtZSh0aGlzLCAnZmxhdE1hcEZpcnN0Jyk7XG5cdH07XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmZsYXRNYXBDb25jYXQgPSBmdW5jdGlvbiAoZm4pIHtcblx0ICByZXR1cm4gbmV3IEZsYXRNYXAodGhpcywgZm4sIHsgcXVldWVMaW06IC0xLCBjb25jdXJMaW06IDEgfSkuc2V0TmFtZSh0aGlzLCAnZmxhdE1hcENvbmNhdCcpO1xuXHR9O1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5mbGF0TWFwQ29uY3VyTGltaXQgPSBmdW5jdGlvbiAoZm4sIGxpbWl0KSB7XG5cdCAgcmV0dXJuIG5ldyBGbGF0TWFwKHRoaXMsIGZuLCB7IHF1ZXVlTGltOiAtMSwgY29uY3VyTGltOiBsaW1pdCB9KS5zZXROYW1lKHRoaXMsICdmbGF0TWFwQ29uY3VyTGltaXQnKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtfFByb3BlcnR5LCBGdW5jdGlvbnxmYWxzZXkpIC0+IFN0cmVhbVxuXHR2YXIgRmxhdE1hcEVycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5mbGF0TWFwRXJyb3JzID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIG5ldyBGbGF0TWFwRXJyb3JzKHRoaXMsIGZuKS5zZXROYW1lKHRoaXMsICdmbGF0TWFwRXJyb3JzJyk7XG5cdH07XG5cblx0Ly8gQ29tYmluZSB0d28gb2JzZXJ2YWJsZXNcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHQvLyAoU3RyZWFtLCBTdHJlYW18UHJvcGVydHkpIC0+IFN0cmVhbVxuXHQvLyAoUHJvcGVydHksIFN0cmVhbXxQcm9wZXJ0eSkgLT4gUHJvcGVydHlcblx0dmFyIGZpbHRlckJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmZpbHRlckJ5ID0gZnVuY3Rpb24gKG90aGVyKSB7XG5cdCAgcmV0dXJuIGZpbHRlckJ5KHRoaXMsIG90aGVyKTtcblx0fTtcblxuXHQvLyAoU3RyZWFtLCBTdHJlYW18UHJvcGVydHksIEZ1bmN0aW9ufHVuZGVmaWVuZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgU3RyZWFtfFByb3BlcnR5LCBGdW5jdGlvbnx1bmRlZmllbmQpIC0+IFByb3BlcnR5XG5cdHZhciBzYW1wbGVkQnkyaXRlbXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuc2FtcGxlZEJ5ID0gZnVuY3Rpb24gKG90aGVyLCBjb21iaW5hdG9yKSB7XG5cdCAgcmV0dXJuIHNhbXBsZWRCeTJpdGVtcyh0aGlzLCBvdGhlciwgY29tYmluYXRvcik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgU3RyZWFtfFByb3BlcnR5KSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBTdHJlYW18UHJvcGVydHkpIC0+IFByb3BlcnR5XG5cdHZhciBza2lwVW50aWxCeSA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5za2lwVW50aWxCeSA9IGZ1bmN0aW9uIChvdGhlcikge1xuXHQgIHJldHVybiBza2lwVW50aWxCeSh0aGlzLCBvdGhlcik7XG5cdH07XG5cblx0Ly8gKFN0cmVhbSwgU3RyZWFtfFByb3BlcnR5KSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBTdHJlYW18UHJvcGVydHkpIC0+IFByb3BlcnR5XG5cdHZhciB0YWtlVW50aWxCeSA9IF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS50YWtlVW50aWxCeSA9IGZ1bmN0aW9uIChvdGhlcikge1xuXHQgIHJldHVybiB0YWtlVW50aWxCeSh0aGlzLCBvdGhlcik7XG5cdH07XG5cblx0Ly8gT3B0aW9ucyA9IHtmbHVzaE9uRW5kOiBib29sZWFufHVuZGVmaW5lZH1cblx0Ly8gKFN0cmVhbSwgU3RyZWFtfFByb3BlcnR5LCBPcHRpb25zfHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgU3RyZWFtfFByb3BlcnR5LCBPcHRpb25zfHVuZGVmaW5lZCkgLT4gUHJvcGVydHlcblx0dmFyIGJ1ZmZlckJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmJ1ZmZlckJ5ID0gZnVuY3Rpb24gKG90aGVyLCBvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGJ1ZmZlckJ5KHRoaXMsIG90aGVyLCBvcHRpb25zKTtcblx0fTtcblxuXHQvLyBPcHRpb25zID0ge2ZsdXNoT25FbmQ6IGJvb2xlYW58dW5kZWZpbmVkfVxuXHQvLyAoU3RyZWFtLCBTdHJlYW18UHJvcGVydHksIE9wdGlvbnN8dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBTdHJlYW18UHJvcGVydHksIE9wdGlvbnN8dW5kZWZpbmVkKSAtPiBQcm9wZXJ0eVxuXHR2YXIgYnVmZmVyV2hpbGVCeSA9IF9fd2VicGFja19yZXF1aXJlX18oNzIpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5idWZmZXJXaGlsZUJ5ID0gZnVuY3Rpb24gKG90aGVyLCBvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGJ1ZmZlcldoaWxlQnkodGhpcywgb3RoZXIsIG9wdGlvbnMpO1xuXHR9O1xuXG5cdC8vIChTdHJlYW18UHJvcGVydHksIFN0cmVhbXxQcm9wZXJ0eSkgLT4gUHJvcGVydHlcblx0dmFyIGF3YWl0aW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Myk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmF3YWl0aW5nID0gZnVuY3Rpb24gKG90aGVyKSB7XG5cdCAgcmV0dXJuIGF3YWl0aW5nKHRoaXMsIG90aGVyKTtcblx0fTtcblxuXHQvLyBEZXByZWNhdGVkXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0S2VmaXIuREVQUkVDQVRJT05fV0FSTklOR1MgPSB0cnVlO1xuXHRmdW5jdGlvbiBkZXByZWNhdGVkKG5hbWUsIGFsdCwgZm4pIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKEtlZmlyLkRFUFJFQ0FUSU9OX1dBUk5JTkdTICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLmxvZykge1xuXG5cdCAgICAgIHZhciBtZXNzYWdlID0gJ01ldGhvZCBgJyArIG5hbWUgKyAnYCBpcyBkZXByZWNhdGVkLCBhbmQgdG8gYmUgcmVtb3ZlZCBpbiB2My4wLjAuXFxuVXNlIGAnICsgYWx0ICsgJ2AgaW5zdGVhZC5cXG5UbyBkaXNhYmxlIGFsbCB3YXJuaW5ncyBsaWtlIHRoaXMgc2V0IGBLZWZpci5ERVBSRUNBVElPTl9XQVJOSU5HUyA9IGZhbHNlYC4nO1xuXG5cdCAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fVxuXG5cdC8vICgpIC0+IEVtaXR0ZXJcblx0dmFyIEVtaXR0ZXIgPSBLZWZpci5FbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7XG5cdEtlZmlyLmVtaXR0ZXIgPSBkZXByZWNhdGVkKCdLZWZpci5lbWl0dGVyKCknLCAnS2VmaXIuc3RyZWFtKCknLCBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIG5ldyBFbWl0dGVyKCk7XG5cdH0pO1xuXG5cdC8vICgpIC0+IEJ1c1xuXHR2YXIgQnVzID0gS2VmaXIuQnVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NSk7XG5cdEtlZmlyLmJ1cyA9IGRlcHJlY2F0ZWQoJ0tlZmlyLmJ1cygpJywgJ0tlZmlyLnBvb2woKSBvciBLZWZpci5zdHJlYW0oKScsIGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gbmV3IEJ1cygpO1xuXHR9KTtcblxuXHQvLyAoU3RyZWFtLCBGdW5jdGlvbiwgYW55fHVuZGVmaW5lZCkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgRnVuY3Rpb24sIGFueXx1bmRlZmluZWQpIC0+IFByb3BlcnR5XG5cdHZhciByZWR1Y2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUucmVkdWNlID0gZGVwcmVjYXRlZCgnLnJlZHVjZShmbiwgc2VlZCknLCAnLnNjYW4oZm4sIHNlZWQpLmxhc3QoKScsIGZ1bmN0aW9uIChmbiwgc2VlZCkge1xuXHQgIHJldHVybiByZWR1Y2UodGhpcywgZm4sIHNlZWQpO1xuXHR9KTtcblxuXHQvLyAoQXJyYXk8U3RyZWFtfFByb3BlcnR5PiwgQXJyYXk8U3RyZWFtfFByb3BlcnR5PiwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0dmFyIHNhbXBsZWRCeU1hbnlJdGVtcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpO1xuXHRLZWZpci5zYW1wbGVkQnkgPSBkZXByZWNhdGVkKCdLZWZpci5zYW1wbGVkQnkoKScsICdLZWZpci5jb21iaW5lKCknLCBzYW1wbGVkQnlNYW55SXRlbXMpO1xuXG5cdC8vIChudW1iZXIsIEFycmF5PGFueT4pIC0+IFN0cmVhbVxuXHR2YXIgcmVwZWF0ZWRseSA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpO1xuXHRLZWZpci5yZXBlYXRlZGx5ID0gZGVwcmVjYXRlZCgnS2VmaXIucmVwZWF0ZWRseSgpJywgJ0tlZmlyLnJlcGVhdCgoKSA9PiBLZWZpci5zZXF1ZW50aWFsbHkoLi4uKX0pJywgcmVwZWF0ZWRseSk7XG5cblx0Ly8gKFN0cmVhbSwgYW55KSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBhbnkpIC0+IFByb3BlcnR5XG5cdHZhciBtYXBUbyA9IF9fd2VicGFja19yZXF1aXJlX18oNzkpO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS5tYXBUbyA9IGRlcHJlY2F0ZWQoJy5tYXBUbygpJywgJy5tYXAoKCkgPT4gdmFsdWUpJywgZnVuY3Rpb24gKHgpIHtcblx0ICByZXR1cm4gbWFwVG8odGhpcywgeCk7XG5cdH0pO1xuXG5cdC8vIChTdHJlYW0sIEZ1bmN0aW9uKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBGdW5jdGlvbikgLT4gUHJvcGVydHlcblx0dmFyIHRhcCA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuXHRPYnNlcnZhYmxlLnByb3RvdHlwZS50YXAgPSBkZXByZWNhdGVkKCcudGFwKCknLCAnLm1hcCgodikgPT4ge2ZuKHYpOyByZXR1cm4gdn0pJywgZnVuY3Rpb24gKGZuKSB7XG5cdCAgcmV0dXJuIHRhcCh0aGlzLCBmbik7XG5cdH0pO1xuXG5cdC8vIChTdHJlYW0sIHN0cmluZykgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgc3RyaW5nKSAtPiBQcm9wZXJ0eVxuXHR2YXIgcGx1Y2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUucGx1Y2sgPSBkZXByZWNhdGVkKCcucGx1Y2soKScsICcubWFwKCh4KSA9PiB4LmZvbyknLCBmdW5jdGlvbiAocHJvcE5hbWUpIHtcblx0ICByZXR1cm4gcGx1Y2sodGhpcywgcHJvcE5hbWUpO1xuXHR9KTtcblxuXHQvLyAoU3RyZWFtLCBzdHJpbmcsIEFycmF5KSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5LCBzdHJpbmcsIEFycmF5KSAtPiBQcm9wZXJ0eVxuXHR2YXIgaW52b2tlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLmludm9rZSA9IGRlcHJlY2F0ZWQoJy5pbnZva2UoKScsICcubWFwKCh4KSA9PiB4LmZvbygpKScsIGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICB9XG5cblx0ICByZXR1cm4gaW52b2tlKHRoaXMsIG1ldGhvZE5hbWUsIGFyZ3MpO1xuXHR9KTtcblxuXHQvLyAoU3RyZWFtKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5KSAtPiBQcm9wZXJ0eVxuXHR2YXIgdGltZXN0YW1wID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnRpbWVzdGFtcCA9IGRlcHJlY2F0ZWQoJy50aW1lc3RhbXAoKScsICcubWFwKCh4KSA9PiB7dmFsdWU6IHgsIHRpbWU6IERhdGUubm93KCl9KScsIGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gdGltZXN0YW1wKHRoaXMpO1xuXHR9KTtcblxuXHQvLyAoQXJyYXk8U3RyZWFtfFByb3BlcnR5PikgLT4gU3RyZWFtXG5cdHZhciBhbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcblx0S2VmaXIuYW5kID0gZGVwcmVjYXRlZCgnS2VmaXIuYW5kKCknLCAnS2VmaXIuY29tYmluZShbYSwgYl0sIChhLCBiKSA9PiBhICYmIGIpJywgYW5kKTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuYW5kID0gZGVwcmVjYXRlZCgnLmFuZCgpJywgJy5jb21iaW5lKG90aGVyLCAoYSwgYikgPT4gYSAmJiBiKScsIGZ1bmN0aW9uIChvdGhlcikge1xuXHQgIHJldHVybiBhbmQoW3RoaXMsIG90aGVyXSk7XG5cdH0pO1xuXG5cdC8vIChBcnJheTxTdHJlYW18UHJvcGVydHk+KSAtPiBTdHJlYW1cblx0dmFyIG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cdEtlZmlyLm9yID0gZGVwcmVjYXRlZCgnS2VmaXIub3IoKScsICdLZWZpci5jb21iaW5lKFthLCBiXSwgKGEsIGIpID0+IGEgfHwgYiknLCBvcik7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLm9yID0gZGVwcmVjYXRlZCgnLm9yKCknLCAnLmNvbWJpbmUob3RoZXIsIChhLCBiKSA9PiBhIHx8IGIpJywgZnVuY3Rpb24gKG90aGVyKSB7XG5cdCAgcmV0dXJuIG9yKFt0aGlzLCBvdGhlcl0pO1xuXHR9KTtcblxuXHQvLyAoU3RyZWFtKSAtPiBTdHJlYW1cblx0Ly8gKFByb3BlcnR5KSAtPiBQcm9wZXJ0eVxuXHR2YXIgbm90ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cdE9ic2VydmFibGUucHJvdG90eXBlLm5vdCA9IGRlcHJlY2F0ZWQoJy5ub3QoKScsICcubWFwKCh4KSA9PiAheCknLCBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIG5vdCh0aGlzKTtcblx0fSk7XG5cblx0Ly8gKEZ1bmN0aW9uLCBGdW5jdGlvbiwgRnVuY3Rpb258dW5kZWZpbmVkKSAtPiBTdHJlYW1cblx0dmFyIGZyb21TdWJVbnN1YiA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRLZWZpci5mcm9tU3ViVW5zdWIgPSBkZXByZWNhdGVkKCcuZnJvbVN1YlVuc3ViKCknLCAnS2VmaXIuc3RyZWFtKCknLCBmcm9tU3ViVW5zdWIpO1xuXG5cdC8vIChTdHJlYW0sIFN0cmVhbXxQcm9wZXJ0eSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgU3RyZWFtfFByb3BlcnR5KSAtPiBQcm9wZXJ0eVxuXHR2YXIgdGFrZVdoaWxlQnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUudGFrZVdoaWxlQnkgPSBkZXByZWNhdGVkKCcudGFrZVdoaWxlQnkoZm9vKScsICcuc2tpcFVudGlsQnkoZm9vLmZpbHRlcigoeCkgPT4gIXgpKScsIGZ1bmN0aW9uIChvdGhlcikge1xuXHQgIHJldHVybiB0YWtlV2hpbGVCeSh0aGlzLCBvdGhlcik7XG5cdH0pO1xuXG5cdC8vIChTdHJlYW0sIFN0cmVhbXxQcm9wZXJ0eSkgLT4gU3RyZWFtXG5cdC8vIChQcm9wZXJ0eSwgU3RyZWFtfFByb3BlcnR5KSAtPiBQcm9wZXJ0eVxuXHR2YXIgc2tpcFdoaWxlQnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuc2tpcFdoaWxlQnkgPSBkZXByZWNhdGVkKCcuc2tpcFdoaWxlQnkoZm9vKScsICcudGFrZVVudGlsQnkoZm9vLmZpbHRlcigoeCkgPT4gIXgpKScsIGZ1bmN0aW9uIChvdGhlcikge1xuXHQgIHJldHVybiBza2lwV2hpbGVCeSh0aGlzLCBvdGhlcik7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGV4dGVuZCA9IF9yZXF1aXJlLmV4dGVuZDtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgVkFMVUUgPSBfcmVxdWlyZTIuVkFMVUU7XG5cdHZhciBFUlJPUiA9IF9yZXF1aXJlMi5FUlJPUjtcblx0dmFyIEFOWSA9IF9yZXF1aXJlMi5BTlk7XG5cdHZhciBFTkQgPSBfcmVxdWlyZTIuRU5EO1xuXG5cdHZhciBfcmVxdWlyZTMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5cdHZhciBEaXNwYXRjaGVyID0gX3JlcXVpcmUzLkRpc3BhdGNoZXI7XG5cdHZhciBjYWxsU3Vic2NyaWJlciA9IF9yZXF1aXJlMy5jYWxsU3Vic2NyaWJlcjtcblxuXHR2YXIgX3JlcXVpcmU0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgZmluZEJ5UHJlZCA9IF9yZXF1aXJlNC5maW5kQnlQcmVkO1xuXG5cdGZ1bmN0aW9uIE9ic2VydmFibGUoKSB7XG5cdCAgdGhpcy5fZGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKCk7XG5cdCAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG5cdCAgdGhpcy5fYWxpdmUgPSB0cnVlO1xuXHQgIHRoaXMuX2FjdGl2YXRpbmcgPSBmYWxzZTtcblx0ICB0aGlzLl9sb2dIYW5kbGVycyA9IG51bGw7XG5cdH1cblxuXHRleHRlbmQoT2JzZXJ2YWJsZS5wcm90b3R5cGUsIHtcblxuXHQgIF9uYW1lOiAnb2JzZXJ2YWJsZScsXG5cblx0ICBfb25BY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25BY3RpdmF0aW9uKCkge30sXG5cdCAgX29uRGVhY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25EZWFjdGl2YXRpb24oKSB7fSxcblxuXHQgIF9zZXRBY3RpdmU6IGZ1bmN0aW9uIF9zZXRBY3RpdmUoYWN0aXZlKSB7XG5cdCAgICBpZiAodGhpcy5fYWN0aXZlICE9PSBhY3RpdmUpIHtcblx0ICAgICAgdGhpcy5fYWN0aXZlID0gYWN0aXZlO1xuXHQgICAgICBpZiAoYWN0aXZlKSB7XG5cdCAgICAgICAgdGhpcy5fYWN0aXZhdGluZyA9IHRydWU7XG5cdCAgICAgICAgdGhpcy5fb25BY3RpdmF0aW9uKCk7XG5cdCAgICAgICAgdGhpcy5fYWN0aXZhdGluZyA9IGZhbHNlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX29uRGVhY3RpdmF0aW9uKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2NsZWFyOiBmdW5jdGlvbiBfY2xlYXIoKSB7XG5cdCAgICB0aGlzLl9zZXRBY3RpdmUoZmFsc2UpO1xuXHQgICAgdGhpcy5fYWxpdmUgPSBmYWxzZTtcblx0ICAgIHRoaXMuX2Rpc3BhdGNoZXIgPSBudWxsO1xuXHQgICAgdGhpcy5fbG9nSGFuZGxlcnMgPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfZW1pdDogZnVuY3Rpb24gX2VtaXQodHlwZSwgeCkge1xuXHQgICAgc3dpdGNoICh0eXBlKSB7XG5cdCAgICAgIGNhc2UgVkFMVUU6XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgICAgY2FzZSBFUlJPUjpcblx0ICAgICAgICByZXR1cm4gdGhpcy5fZW1pdEVycm9yKHgpO1xuXHQgICAgICBjYXNlIEVORDpcblx0ICAgICAgICByZXR1cm4gdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfZW1pdFZhbHVlOiBmdW5jdGlvbiBfZW1pdFZhbHVlKHZhbHVlKSB7XG5cdCAgICBpZiAodGhpcy5fYWxpdmUpIHtcblx0ICAgICAgdGhpcy5fZGlzcGF0Y2hlci5kaXNwYXRjaCh7IHR5cGU6IFZBTFVFLCB2YWx1ZTogdmFsdWUsIGN1cnJlbnQ6IHRoaXMuX2FjdGl2YXRpbmcgfSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9lbWl0RXJyb3I6IGZ1bmN0aW9uIF9lbWl0RXJyb3IodmFsdWUpIHtcblx0ICAgIGlmICh0aGlzLl9hbGl2ZSkge1xuXHQgICAgICB0aGlzLl9kaXNwYXRjaGVyLmRpc3BhdGNoKHsgdHlwZTogRVJST1IsIHZhbHVlOiB2YWx1ZSwgY3VycmVudDogdGhpcy5fYWN0aXZhdGluZyB9KTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2VtaXRFbmQ6IGZ1bmN0aW9uIF9lbWl0RW5kKCkge1xuXHQgICAgaWYgKHRoaXMuX2FsaXZlKSB7XG5cdCAgICAgIHRoaXMuX2Rpc3BhdGNoZXIuZGlzcGF0Y2goeyB0eXBlOiBFTkQsIGN1cnJlbnQ6IHRoaXMuX2FjdGl2YXRpbmcgfSk7XG5cdCAgICAgIHRoaXMuX2NsZWFyKCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9vbjogZnVuY3Rpb24gX29uKHR5cGUsIGZuKSB7XG5cdCAgICBpZiAodGhpcy5fYWxpdmUpIHtcblx0ICAgICAgdGhpcy5fZGlzcGF0Y2hlci5hZGQodHlwZSwgZm4pO1xuXHQgICAgICB0aGlzLl9zZXRBY3RpdmUodHJ1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBjYWxsU3Vic2NyaWJlcih0eXBlLCBmbiwgeyB0eXBlOiBFTkQsIGN1cnJlbnQ6IHRydWUgfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXG5cdCAgX29mZjogZnVuY3Rpb24gX29mZih0eXBlLCBmbikge1xuXHQgICAgaWYgKHRoaXMuX2FsaXZlKSB7XG5cdCAgICAgIHZhciBjb3VudCA9IHRoaXMuX2Rpc3BhdGNoZXIucmVtb3ZlKHR5cGUsIGZuKTtcblx0ICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG5cdCAgICAgICAgdGhpcy5fc2V0QWN0aXZlKGZhbHNlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblxuXHQgIG9uVmFsdWU6IGZ1bmN0aW9uIG9uVmFsdWUoZm4pIHtcblx0ICAgIHJldHVybiB0aGlzLl9vbihWQUxVRSwgZm4pO1xuXHQgIH0sXG5cdCAgb25FcnJvcjogZnVuY3Rpb24gb25FcnJvcihmbikge1xuXHQgICAgcmV0dXJuIHRoaXMuX29uKEVSUk9SLCBmbik7XG5cdCAgfSxcblx0ICBvbkVuZDogZnVuY3Rpb24gb25FbmQoZm4pIHtcblx0ICAgIHJldHVybiB0aGlzLl9vbihFTkQsIGZuKTtcblx0ICB9LFxuXHQgIG9uQW55OiBmdW5jdGlvbiBvbkFueShmbikge1xuXHQgICAgcmV0dXJuIHRoaXMuX29uKEFOWSwgZm4pO1xuXHQgIH0sXG5cblx0ICBvZmZWYWx1ZTogZnVuY3Rpb24gb2ZmVmFsdWUoZm4pIHtcblx0ICAgIHJldHVybiB0aGlzLl9vZmYoVkFMVUUsIGZuKTtcblx0ICB9LFxuXHQgIG9mZkVycm9yOiBmdW5jdGlvbiBvZmZFcnJvcihmbikge1xuXHQgICAgcmV0dXJuIHRoaXMuX29mZihFUlJPUiwgZm4pO1xuXHQgIH0sXG5cdCAgb2ZmRW5kOiBmdW5jdGlvbiBvZmZFbmQoZm4pIHtcblx0ICAgIHJldHVybiB0aGlzLl9vZmYoRU5ELCBmbik7XG5cdCAgfSxcblx0ICBvZmZBbnk6IGZ1bmN0aW9uIG9mZkFueShmbikge1xuXHQgICAgcmV0dXJuIHRoaXMuX29mZihBTlksIGZuKTtcblx0ICB9LFxuXG5cdCAgLy8gQSBhbmQgQiBtdXN0IGJlIHN1YmNsYXNzZXMgb2YgU3RyZWFtIGFuZCBQcm9wZXJ0eSAob3JkZXIgZG9lc24ndCBtYXR0ZXIpXG5cdCAgX29mU2FtZVR5cGU6IGZ1bmN0aW9uIF9vZlNhbWVUeXBlKEEsIEIpIHtcblx0ICAgIHJldHVybiBBLnByb3RvdHlwZS5nZXRUeXBlKCkgPT09IHRoaXMuZ2V0VHlwZSgpID8gQSA6IEI7XG5cdCAgfSxcblxuXHQgIHNldE5hbWU6IGZ1bmN0aW9uIHNldE5hbWUoc291cmNlT2JzLCAvKiBvcHRpb25hbCAqL3NlbGZOYW1lKSB7XG5cdCAgICB0aGlzLl9uYW1lID0gc2VsZk5hbWUgPyAnJyArIHNvdXJjZU9icy5fbmFtZSArICcuJyArIHNlbGZOYW1lIDogc291cmNlT2JzO1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblxuXHQgIGxvZzogZnVuY3Rpb24gbG9nKCkge1xuXHQgICAgdmFyIG5hbWUgPSBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHRoaXMudG9TdHJpbmcoKSA6IGFyZ3VtZW50c1swXTtcblxuXHQgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50KSB7XG5cdCAgICAgIHZhciB0eXBlID0gJzwnICsgZXZlbnQudHlwZSArICcnICsgKGV2ZW50LmN1cnJlbnQgPyAnOmN1cnJlbnQnIDogJycpICsgJz4nO1xuXHQgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gRU5EKSB7XG5cdCAgICAgICAgY29uc29sZS5sb2cobmFtZSwgdHlwZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY29uc29sZS5sb2cobmFtZSwgdHlwZSwgZXZlbnQudmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXG5cdCAgICBpZiAodGhpcy5fYWxpdmUpIHtcblx0ICAgICAgaWYgKCF0aGlzLl9sb2dIYW5kbGVycykge1xuXHQgICAgICAgIHRoaXMuX2xvZ0hhbmRsZXJzID0gW107XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5fbG9nSGFuZGxlcnMucHVzaCh7IG5hbWU6IG5hbWUsIGhhbmRsZXI6IGhhbmRsZXIgfSk7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMub25BbnkoaGFuZGxlcik7XG5cblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cblx0ICBvZmZMb2c6IGZ1bmN0aW9uIG9mZkxvZygpIHtcblx0ICAgIHZhciBuYW1lID0gYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB0aGlzLnRvU3RyaW5nKCkgOiBhcmd1bWVudHNbMF07XG5cblx0ICAgIGlmICh0aGlzLl9sb2dIYW5kbGVycykge1xuXHQgICAgICB2YXIgaGFuZGxlckluZGV4ID0gZmluZEJ5UHJlZCh0aGlzLl9sb2dIYW5kbGVycywgZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIHJldHVybiBvYmoubmFtZSA9PT0gbmFtZTtcblx0ICAgICAgfSk7XG5cdCAgICAgIGlmIChoYW5kbGVySW5kZXggIT09IC0xKSB7XG5cdCAgICAgICAgdGhpcy5vZmZBbnkodGhpcy5fbG9nSGFuZGxlcnNbaGFuZGxlckluZGV4XS5oYW5kbGVyKTtcblx0ICAgICAgICB0aGlzLl9sb2dIYW5kbGVycy5zcGxpY2UoaGFuZGxlckluZGV4LCAxKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9XG5cblx0fSk7XG5cblx0Ly8gZXh0ZW5kKCkgY2FuJ3QgaGFuZGxlIGB0b1N0cmluZ2AgaW4gSUU4XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiAnWycgKyB0aGlzLl9uYW1lICsgJ10nO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gT2JzZXJ2YWJsZTtcblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGZ1bmN0aW9uIGNyZWF0ZU9iaihwcm90bykge1xuXHQgIHZhciBGID0gZnVuY3Rpb24gRigpIHt9O1xuXHQgIEYucHJvdG90eXBlID0gcHJvdG87XG5cdCAgcmV0dXJuIG5ldyBGKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCBtaXhpbjEsIG1peGluMi4uLiovKSB7XG5cdCAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdCAgICAgIGkgPSB1bmRlZmluZWQsXG5cdCAgICAgIHByb3AgPSB1bmRlZmluZWQ7XG5cdCAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICBmb3IgKHByb3AgaW4gYXJndW1lbnRzW2ldKSB7XG5cdCAgICAgIHRhcmdldFtwcm9wXSA9IGFyZ3VtZW50c1tpXVtwcm9wXTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHRhcmdldDtcblx0fVxuXG5cdGZ1bmN0aW9uIGluaGVyaXQoQ2hpbGQsIFBhcmVudCAvKiwgbWl4aW4xLCBtaXhpbjIuLi4qLykge1xuXHQgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICBpID0gdW5kZWZpbmVkO1xuXHQgIENoaWxkLnByb3RvdHlwZSA9IGNyZWF0ZU9iaihQYXJlbnQucHJvdG90eXBlKTtcblx0ICBDaGlsZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDaGlsZDtcblx0ICBmb3IgKGkgPSAyOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgIGV4dGVuZChDaGlsZC5wcm90b3R5cGUsIGFyZ3VtZW50c1tpXSk7XG5cdCAgfVxuXHQgIHJldHVybiBDaGlsZDtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0geyBleHRlbmQ6IGV4dGVuZCwgaW5oZXJpdDogaW5oZXJpdCB9O1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMuTk9USElORyA9IFsnPG5vdGhpbmc+J107XG5cdGV4cG9ydHMuRU5EID0gJ2VuZCc7XG5cdGV4cG9ydHMuVkFMVUUgPSAndmFsdWUnO1xuXHRleHBvcnRzLkVSUk9SID0gJ2Vycm9yJztcblx0ZXhwb3J0cy5BTlkgPSAnYW55JztcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBleHRlbmQgPSBfcmVxdWlyZS5leHRlbmQ7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIFZBTFVFID0gX3JlcXVpcmUyLlZBTFVFO1xuXHR2YXIgRVJST1IgPSBfcmVxdWlyZTIuRVJST1I7XG5cdHZhciBBTlkgPSBfcmVxdWlyZTIuQU5ZO1xuXG5cdHZhciBfcmVxdWlyZTMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBjb25jYXQgPSBfcmVxdWlyZTMuY29uY2F0O1xuXHR2YXIgcmVtb3ZlQnlQcmVkID0gX3JlcXVpcmUzLnJlbW92ZUJ5UHJlZDtcblxuXHRmdW5jdGlvbiBjYWxsU3Vic2NyaWJlcih0eXBlLCBmbiwgZXZlbnQpIHtcblx0ICBpZiAodHlwZSA9PT0gQU5ZKSB7XG5cdCAgICBmbihldmVudCk7XG5cdCAgfSBlbHNlIGlmICh0eXBlID09PSBldmVudC50eXBlKSB7XG5cdCAgICBpZiAodHlwZSA9PT0gVkFMVUUgfHwgdHlwZSA9PT0gRVJST1IpIHtcblx0ICAgICAgZm4oZXZlbnQudmFsdWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZm4oKTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBEaXNwYXRjaGVyKCkge1xuXHQgIHRoaXMuX2l0ZW1zID0gW107XG5cdH1cblxuXHRleHRlbmQoRGlzcGF0Y2hlci5wcm90b3R5cGUsIHtcblxuXHQgIGFkZDogZnVuY3Rpb24gYWRkKHR5cGUsIGZuKSB7XG5cdCAgICB0aGlzLl9pdGVtcyA9IGNvbmNhdCh0aGlzLl9pdGVtcywgW3sgdHlwZTogdHlwZSwgZm46IGZuIH1dKTtcblx0ICAgIHJldHVybiB0aGlzLl9pdGVtcy5sZW5ndGg7XG5cdCAgfSxcblxuXHQgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKHR5cGUsIGZuKSB7XG5cdCAgICB0aGlzLl9pdGVtcyA9IHJlbW92ZUJ5UHJlZCh0aGlzLl9pdGVtcywgZnVuY3Rpb24gKHgpIHtcblx0ICAgICAgcmV0dXJuIHgudHlwZSA9PT0gdHlwZSAmJiB4LmZuID09PSBmbjtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aDtcblx0ICB9LFxuXG5cdCAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGV2ZW50KSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgaXRlbXMgPSB0aGlzLl9pdGVtczsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGNhbGxTdWJzY3JpYmVyKGl0ZW1zW2ldLnR5cGUsIGl0ZW1zW2ldLmZuLCBldmVudCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBjYWxsU3Vic2NyaWJlcjogY2FsbFN1YnNjcmliZXIsIERpc3BhdGNoZXI6IERpc3BhdGNoZXIgfTtcblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGZ1bmN0aW9uIGNvbmNhdChhLCBiKSB7XG5cdCAgdmFyIHJlc3VsdCA9IHVuZGVmaW5lZCxcblx0ICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkLFxuXHQgICAgICBpID0gdW5kZWZpbmVkLFxuXHQgICAgICBqID0gdW5kZWZpbmVkO1xuXHQgIGlmIChhLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIGI7XG5cdCAgfVxuXHQgIGlmIChiLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIGE7XG5cdCAgfVxuXHQgIGogPSAwO1xuXHQgIHJlc3VsdCA9IG5ldyBBcnJheShhLmxlbmd0aCArIGIubGVuZ3RoKTtcblx0ICBsZW5ndGggPSBhLmxlbmd0aDtcblx0ICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyssIGorKykge1xuXHQgICAgcmVzdWx0W2pdID0gYVtpXTtcblx0ICB9XG5cdCAgbGVuZ3RoID0gYi5sZW5ndGg7XG5cdCAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrLCBqKyspIHtcblx0ICAgIHJlc3VsdFtqXSA9IGJbaV07XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBjaXJjbGVTaGlmdChhcnIsIGRpc3RhbmNlKSB7XG5cdCAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGgsXG5cdCAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShsZW5ndGgpLFxuXHQgICAgICBpID0gdW5kZWZpbmVkO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgcmVzdWx0WyhpICsgZGlzdGFuY2UpICUgbGVuZ3RoXSA9IGFycltpXTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGZ1bmN0aW9uIGZpbmQoYXJyLCB2YWx1ZSkge1xuXHQgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoLFxuXHQgICAgICBpID0gdW5kZWZpbmVkO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgaWYgKGFycltpXSA9PT0gdmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIGk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiAtMTtcblx0fVxuXG5cdGZ1bmN0aW9uIGZpbmRCeVByZWQoYXJyLCBwcmVkKSB7XG5cdCAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGgsXG5cdCAgICAgIGkgPSB1bmRlZmluZWQ7XG5cdCAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAocHJlZChhcnJbaV0pKSB7XG5cdCAgICAgIHJldHVybiBpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gLTE7XG5cdH1cblxuXHRmdW5jdGlvbiBjbG9uZUFycmF5KGlucHV0KSB7XG5cdCAgdmFyIGxlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0ICAgICAgcmVzdWx0ID0gbmV3IEFycmF5KGxlbmd0aCksXG5cdCAgICAgIGkgPSB1bmRlZmluZWQ7XG5cdCAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICByZXN1bHRbaV0gPSBpbnB1dFtpXTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZShpbnB1dCwgaW5kZXgpIHtcblx0ICB2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHQgICAgICByZXN1bHQgPSB1bmRlZmluZWQsXG5cdCAgICAgIGkgPSB1bmRlZmluZWQsXG5cdCAgICAgIGogPSB1bmRlZmluZWQ7XG5cdCAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGgpIHtcblx0ICAgIGlmIChsZW5ndGggPT09IDEpIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmVzdWx0ID0gbmV3IEFycmF5KGxlbmd0aCAtIDEpO1xuXHQgICAgICBmb3IgKGkgPSAwLCBqID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGkgIT09IGluZGV4KSB7XG5cdCAgICAgICAgICByZXN1bHRbal0gPSBpbnB1dFtpXTtcblx0ICAgICAgICAgIGorKztcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuIGlucHV0O1xuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZUJ5UHJlZChpbnB1dCwgcHJlZCkge1xuXHQgIHJldHVybiByZW1vdmUoaW5wdXQsIGZpbmRCeVByZWQoaW5wdXQsIHByZWQpKTtcblx0fVxuXG5cdGZ1bmN0aW9uIG1hcChpbnB1dCwgZm4pIHtcblx0ICB2YXIgbGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHQgICAgICByZXN1bHQgPSBuZXcgQXJyYXkobGVuZ3RoKSxcblx0ICAgICAgaSA9IHVuZGVmaW5lZDtcblx0ICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgIHJlc3VsdFtpXSA9IGZuKGlucHV0W2ldKTtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGZ1bmN0aW9uIGZvckVhY2goYXJyLCBmbikge1xuXHQgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoLFxuXHQgICAgICBpID0gdW5kZWZpbmVkO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgZm4oYXJyW2ldKTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBmaWxsQXJyYXkoYXJyLCB2YWx1ZSkge1xuXHQgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoLFxuXHQgICAgICBpID0gdW5kZWZpbmVkO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgYXJyW2ldID0gdmFsdWU7XG5cdCAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gY29udGFpbnMoYXJyLCB2YWx1ZSkge1xuXHQgIHJldHVybiBmaW5kKGFyciwgdmFsdWUpICE9PSAtMTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNsaWRlKGN1ciwgbmV4dCwgbWF4KSB7XG5cdCAgdmFyIGxlbmd0aCA9IE1hdGgubWluKG1heCwgY3VyLmxlbmd0aCArIDEpLFxuXHQgICAgICBvZmZzZXQgPSBjdXIubGVuZ3RoIC0gbGVuZ3RoICsgMSxcblx0ICAgICAgcmVzdWx0ID0gbmV3IEFycmF5KGxlbmd0aCksXG5cdCAgICAgIGkgPSB1bmRlZmluZWQ7XG5cdCAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgIHJlc3VsdFtpIC0gb2Zmc2V0XSA9IGN1cltpXTtcblx0ICB9XG5cdCAgcmVzdWx0W2xlbmd0aCAtIDFdID0gbmV4dDtcblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgY29uY2F0OiBjb25jYXQsXG5cdCAgY2lyY2xlU2hpZnQ6IGNpcmNsZVNoaWZ0LFxuXHQgIGZpbmQ6IGZpbmQsXG5cdCAgZmluZEJ5UHJlZDogZmluZEJ5UHJlZCxcblx0ICBjbG9uZUFycmF5OiBjbG9uZUFycmF5LFxuXHQgIHJlbW92ZTogcmVtb3ZlLFxuXHQgIHJlbW92ZUJ5UHJlZDogcmVtb3ZlQnlQcmVkLFxuXHQgIG1hcDogbWFwLFxuXHQgIGZvckVhY2g6IGZvckVhY2gsXG5cdCAgZmlsbEFycmF5OiBmaWxsQXJyYXksXG5cdCAgY29udGFpbnM6IGNvbnRhaW5zLFxuXHQgIHNsaWRlOiBzbGlkZVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZS5pbmhlcml0O1xuXG5cdHZhciBPYnNlcnZhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXHRmdW5jdGlvbiBTdHJlYW0oKSB7XG5cdCAgT2JzZXJ2YWJsZS5jYWxsKHRoaXMpO1xuXHR9XG5cblx0aW5oZXJpdChTdHJlYW0sIE9ic2VydmFibGUsIHtcblxuXHQgIF9uYW1lOiAnc3RyZWFtJyxcblxuXHQgIGdldFR5cGU6IGZ1bmN0aW9uIGdldFR5cGUoKSB7XG5cdCAgICByZXR1cm4gJ3N0cmVhbSc7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gU3RyZWFtO1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZS5pbmhlcml0O1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdHZhciBWQUxVRSA9IF9yZXF1aXJlMi5WQUxVRTtcblx0dmFyIEVSUk9SID0gX3JlcXVpcmUyLkVSUk9SO1xuXHR2YXIgRU5EID0gX3JlcXVpcmUyLkVORDtcblxuXHR2YXIgX3JlcXVpcmUzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXHR2YXIgY2FsbFN1YnNjcmliZXIgPSBfcmVxdWlyZTMuY2FsbFN1YnNjcmliZXI7XG5cblx0dmFyIE9ic2VydmFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cdGZ1bmN0aW9uIFByb3BlcnR5KCkge1xuXHQgIE9ic2VydmFibGUuY2FsbCh0aGlzKTtcblx0ICB0aGlzLl9jdXJyZW50RXZlbnQgPSBudWxsO1xuXHR9XG5cblx0aW5oZXJpdChQcm9wZXJ0eSwgT2JzZXJ2YWJsZSwge1xuXG5cdCAgX25hbWU6ICdwcm9wZXJ0eScsXG5cblx0ICBfZW1pdFZhbHVlOiBmdW5jdGlvbiBfZW1pdFZhbHVlKHZhbHVlKSB7XG5cdCAgICBpZiAodGhpcy5fYWxpdmUpIHtcblx0ICAgICAgaWYgKCF0aGlzLl9hY3RpdmF0aW5nKSB7XG5cdCAgICAgICAgdGhpcy5fZGlzcGF0Y2hlci5kaXNwYXRjaCh7IHR5cGU6IFZBTFVFLCB2YWx1ZTogdmFsdWUsIGN1cnJlbnQ6IHRoaXMuX2FjdGl2YXRpbmcgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5fY3VycmVudEV2ZW50ID0geyB0eXBlOiBWQUxVRSwgdmFsdWU6IHZhbHVlLCBjdXJyZW50OiB0cnVlIH07XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9lbWl0RXJyb3I6IGZ1bmN0aW9uIF9lbWl0RXJyb3IodmFsdWUpIHtcblx0ICAgIGlmICh0aGlzLl9hbGl2ZSkge1xuXHQgICAgICBpZiAoIXRoaXMuX2FjdGl2YXRpbmcpIHtcblx0ICAgICAgICB0aGlzLl9kaXNwYXRjaGVyLmRpc3BhdGNoKHsgdHlwZTogRVJST1IsIHZhbHVlOiB2YWx1ZSwgY3VycmVudDogdGhpcy5fYWN0aXZhdGluZyB9KTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLl9jdXJyZW50RXZlbnQgPSB7IHR5cGU6IEVSUk9SLCB2YWx1ZTogdmFsdWUsIGN1cnJlbnQ6IHRydWUgfTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2VtaXRFbmQ6IGZ1bmN0aW9uIF9lbWl0RW5kKCkge1xuXHQgICAgaWYgKHRoaXMuX2FsaXZlKSB7XG5cdCAgICAgIGlmICghdGhpcy5fYWN0aXZhdGluZykge1xuXHQgICAgICAgIHRoaXMuX2Rpc3BhdGNoZXIuZGlzcGF0Y2goeyB0eXBlOiBFTkQsIGN1cnJlbnQ6IHRoaXMuX2FjdGl2YXRpbmcgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5fY2xlYXIoKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX29uOiBmdW5jdGlvbiBfb24odHlwZSwgZm4pIHtcblx0ICAgIGlmICh0aGlzLl9hbGl2ZSkge1xuXHQgICAgICB0aGlzLl9kaXNwYXRjaGVyLmFkZCh0eXBlLCBmbik7XG5cdCAgICAgIHRoaXMuX3NldEFjdGl2ZSh0cnVlKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLl9jdXJyZW50RXZlbnQgIT09IG51bGwpIHtcblx0ICAgICAgY2FsbFN1YnNjcmliZXIodHlwZSwgZm4sIHRoaXMuX2N1cnJlbnRFdmVudCk7XG5cdCAgICB9XG5cdCAgICBpZiAoIXRoaXMuX2FsaXZlKSB7XG5cdCAgICAgIGNhbGxTdWJzY3JpYmVyKHR5cGUsIGZuLCB7IHR5cGU6IEVORCwgY3VycmVudDogdHJ1ZSB9KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cblx0ICBnZXRUeXBlOiBmdW5jdGlvbiBnZXRUeXBlKCkge1xuXHQgICAgcmV0dXJuICdwcm9wZXJ0eSc7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gUHJvcGVydHk7XG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIFN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblx0dmFyIG5ldmVyUyA9IG5ldyBTdHJlYW0oKTtcblx0bmV2ZXJTLl9lbWl0RW5kKCk7XG5cdG5ldmVyUy5fbmFtZSA9ICduZXZlcic7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBuZXZlcigpIHtcblx0ICByZXR1cm4gbmV2ZXJTO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciB0aW1lQmFzZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuXHR2YXIgUyA9IHRpbWVCYXNlZCh7XG5cblx0ICBfbmFtZTogJ2xhdGVyJyxcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgeCA9IF9yZWYueDtcblxuXHQgICAgdGhpcy5feCA9IHg7XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX3ggPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfb25UaWNrOiBmdW5jdGlvbiBfb25UaWNrKCkge1xuXHQgICAgdGhpcy5fZW1pdFZhbHVlKHRoaXMuX3gpO1xuXHQgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGxhdGVyKHdhaXQsIHgpIHtcblx0ICByZXR1cm4gbmV3IFMod2FpdCwgeyB4OiB4IH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUuaW5oZXJpdDtcblxuXHR2YXIgU3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRpbWVCYXNlZChtaXhpbikge1xuXG5cdCAgZnVuY3Rpb24gQW5vbnltb3VzU3RyZWFtKHdhaXQsIG9wdGlvbnMpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgIFN0cmVhbS5jYWxsKHRoaXMpO1xuXHQgICAgdGhpcy5fd2FpdCA9IHdhaXQ7XG5cdCAgICB0aGlzLl9pbnRlcnZhbElkID0gbnVsbDtcblx0ICAgIHRoaXMuXyRvblRpY2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpcy5fb25UaWNrKCk7XG5cdCAgICB9O1xuXHQgICAgdGhpcy5faW5pdChvcHRpb25zKTtcblx0ICB9XG5cblx0ICBpbmhlcml0KEFub255bW91c1N0cmVhbSwgU3RyZWFtLCB7XG5cblx0ICAgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChvcHRpb25zKSB7fSxcblx0ICAgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHt9LFxuXG5cdCAgICBfb25UaWNrOiBmdW5jdGlvbiBfb25UaWNrKCkge30sXG5cblx0ICAgIF9vbkFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkFjdGl2YXRpb24oKSB7XG5cdCAgICAgIHRoaXMuX2ludGVydmFsSWQgPSBzZXRJbnRlcnZhbCh0aGlzLl8kb25UaWNrLCB0aGlzLl93YWl0KTtcblx0ICAgIH0sXG5cblx0ICAgIF9vbkRlYWN0aXZhdGlvbjogZnVuY3Rpb24gX29uRGVhY3RpdmF0aW9uKCkge1xuXHQgICAgICBpZiAodGhpcy5faW50ZXJ2YWxJZCAhPT0gbnVsbCkge1xuXHQgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCk7XG5cdCAgICAgICAgdGhpcy5faW50ZXJ2YWxJZCA9IG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cblx0ICAgIF9jbGVhcjogZnVuY3Rpb24gX2NsZWFyKCkge1xuXHQgICAgICBTdHJlYW0ucHJvdG90eXBlLl9jbGVhci5jYWxsKHRoaXMpO1xuXHQgICAgICB0aGlzLl8kb25UaWNrID0gbnVsbDtcblx0ICAgICAgdGhpcy5fZnJlZSgpO1xuXHQgICAgfVxuXG5cdCAgfSwgbWl4aW4pO1xuXG5cdCAgcmV0dXJuIEFub255bW91c1N0cmVhbTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHRpbWVCYXNlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG5cdHZhciBTID0gdGltZUJhc2VkKHtcblxuXHQgIF9uYW1lOiAnaW50ZXJ2YWwnLFxuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciB4ID0gX3JlZi54O1xuXG5cdCAgICB0aGlzLl94ID0geDtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5feCA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9vblRpY2s6IGZ1bmN0aW9uIF9vblRpY2soKSB7XG5cdCAgICB0aGlzLl9lbWl0VmFsdWUodGhpcy5feCk7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW50ZXJ2YWwod2FpdCwgeCkge1xuXHQgIHJldHVybiBuZXcgUyh3YWl0LCB7IHg6IHggfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciB0aW1lQmFzZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBjbG9uZUFycmF5ID0gX3JlcXVpcmUuY2xvbmVBcnJheTtcblxuXHR2YXIgbmV2ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5cdHZhciBTID0gdGltZUJhc2VkKHtcblxuXHQgIF9uYW1lOiAnc2VxdWVudGlhbGx5JyxcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgeHMgPSBfcmVmLnhzO1xuXG5cdCAgICB0aGlzLl94cyA9IGNsb25lQXJyYXkoeHMpO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl94cyA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9vblRpY2s6IGZ1bmN0aW9uIF9vblRpY2soKSB7XG5cdCAgICBpZiAodGhpcy5feHMubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl94c1swXSk7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl94cy5zaGlmdCgpKTtcblx0ICAgIH1cblx0ICB9XG5cblx0fSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXF1ZW50aWFsbHkod2FpdCwgeHMpIHtcblx0ICByZXR1cm4geHMubGVuZ3RoID09PSAwID8gbmV2ZXIoKSA6IG5ldyBTKHdhaXQsIHsgeHM6IHhzIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgdGltZUJhc2VkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cblx0dmFyIFMgPSB0aW1lQmFzZWQoe1xuXG5cdCAgX25hbWU6ICdmcm9tUG9sbCcsXG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfb25UaWNrOiBmdW5jdGlvbiBfb25UaWNrKCkge1xuXHQgICAgdmFyIGZuID0gdGhpcy5fZm47XG5cdCAgICB0aGlzLl9lbWl0VmFsdWUoZm4oKSk7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZnJvbVBvbGwod2FpdCwgZm4pIHtcblx0ICByZXR1cm4gbmV3IFMod2FpdCwgeyBmbjogZm4gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciB0aW1lQmFzZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0dmFyIGVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxuXHR2YXIgUyA9IHRpbWVCYXNlZCh7XG5cblx0ICBfbmFtZTogJ3dpdGhJbnRlcnZhbCcsXG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICAgIHRoaXMuX2VtaXR0ZXIgPSBlbWl0dGVyKHRoaXMpO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgICB0aGlzLl9lbWl0dGVyID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX29uVGljazogZnVuY3Rpb24gX29uVGljaygpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgZm4odGhpcy5fZW1pdHRlcik7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2l0aEludGVydmFsKHdhaXQsIGZuKSB7XG5cdCAgcmV0dXJuIG5ldyBTKHdhaXQsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW1pdHRlcihvYnMpIHtcblxuXHQgIGZ1bmN0aW9uIHZhbHVlKHgpIHtcblx0ICAgIG9icy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgcmV0dXJuIG9icy5fYWN0aXZlO1xuXHQgIH1cblxuXHQgIGZ1bmN0aW9uIGVycm9yKHgpIHtcblx0ICAgIG9icy5fZW1pdEVycm9yKHgpO1xuXHQgICAgcmV0dXJuIG9icy5fYWN0aXZlO1xuXHQgIH1cblxuXHQgIGZ1bmN0aW9uIGVuZCgpIHtcblx0ICAgIG9icy5fZW1pdEVuZCgpO1xuXHQgICAgcmV0dXJuIG9icy5fYWN0aXZlO1xuXHQgIH1cblxuXHQgIGZ1bmN0aW9uIGV2ZW50KGUpIHtcblx0ICAgIG9icy5fZW1pdChlLnR5cGUsIGUudmFsdWUpO1xuXHQgICAgcmV0dXJuIG9icy5fYWN0aXZlO1xuXHQgIH1cblxuXHQgIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgZXJyb3I6IGVycm9yLCBlbmQ6IGVuZCwgZXZlbnQ6IGV2ZW50LCBlbWl0OiB2YWx1ZSwgZW1pdEV2ZW50OiBldmVudCB9O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgc3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmcm9tQ2FsbGJhY2soY2FsbGJhY2tDb25zdW1lcikge1xuXG5cdCAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuXG5cdCAgcmV0dXJuIHN0cmVhbShmdW5jdGlvbiAoZW1pdHRlcikge1xuXG5cdCAgICBpZiAoIWNhbGxlZCkge1xuXHQgICAgICBjYWxsYmFja0NvbnN1bWVyKGZ1bmN0aW9uICh4KSB7XG5cdCAgICAgICAgZW1pdHRlci5lbWl0KHgpO1xuXHQgICAgICAgIGVtaXR0ZXIuZW5kKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBjYWxsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH0pLnNldE5hbWUoJ2Zyb21DYWxsYmFjaycpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUuaW5oZXJpdDtcblxuXHR2YXIgU3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0dmFyIGVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxuXHRmdW5jdGlvbiBTKGZuKSB7XG5cdCAgU3RyZWFtLmNhbGwodGhpcyk7XG5cdCAgdGhpcy5fZm4gPSBmbjtcblx0ICB0aGlzLl91bnN1YnNjcmliZSA9IG51bGw7XG5cdH1cblxuXHRpbmhlcml0KFMsIFN0cmVhbSwge1xuXG5cdCAgX25hbWU6ICdzdHJlYW0nLFxuXG5cdCAgX29uQWN0aXZhdGlvbjogZnVuY3Rpb24gX29uQWN0aXZhdGlvbigpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgdmFyIHVuc3Vic2NyaWJlID0gZm4oZW1pdHRlcih0aGlzKSk7XG5cdCAgICB0aGlzLl91bnN1YnNjcmliZSA9IHR5cGVvZiB1bnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJyA/IHVuc3Vic2NyaWJlIDogbnVsbDtcblxuXHQgICAgLy8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9ycG9taW5vdi9rZWZpci9pc3N1ZXMvMzVcblx0ICAgIGlmICghdGhpcy5fYWN0aXZlKSB7XG5cdCAgICAgIHRoaXMuX2NhbGxVbnN1YnNjcmliZSgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfY2FsbFVuc3Vic2NyaWJlOiBmdW5jdGlvbiBfY2FsbFVuc3Vic2NyaWJlKCkge1xuXHQgICAgaWYgKHRoaXMuX3Vuc3Vic2NyaWJlICE9PSBudWxsKSB7XG5cdCAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlKCk7XG5cdCAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gbnVsbDtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX29uRGVhY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25EZWFjdGl2YXRpb24oKSB7XG5cdCAgICB0aGlzLl9jYWxsVW5zdWJzY3JpYmUoKTtcblx0ICB9LFxuXG5cdCAgX2NsZWFyOiBmdW5jdGlvbiBfY2xlYXIoKSB7XG5cdCAgICBTdHJlYW0ucHJvdG90eXBlLl9jbGVhci5jYWxsKHRoaXMpO1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmVhbShmbikge1xuXHQgIHJldHVybiBuZXcgUyhmbik7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBzdHJlYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZyb21Ob2RlQ2FsbGJhY2soY2FsbGJhY2tDb25zdW1lcikge1xuXG5cdCAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuXG5cdCAgcmV0dXJuIHN0cmVhbShmdW5jdGlvbiAoZW1pdHRlcikge1xuXG5cdCAgICBpZiAoIWNhbGxlZCkge1xuXHQgICAgICBjYWxsYmFja0NvbnN1bWVyKGZ1bmN0aW9uIChlcnJvciwgeCkge1xuXHQgICAgICAgIGlmIChlcnJvcikge1xuXHQgICAgICAgICAgZW1pdHRlci5lcnJvcihlcnJvcik7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGVtaXR0ZXIuZW1pdCh4KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZW1pdHRlci5lbmQoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIGNhbGxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfSkuc2V0TmFtZSgnZnJvbU5vZGVDYWxsYmFjaycpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgZnJvbVN1YlVuc3ViID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cblx0dmFyIHBhaXJzID0gW1snYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJ10sIFsnYWRkTGlzdGVuZXInLCAncmVtb3ZlTGlzdGVuZXInXSwgWydvbicsICdvZmYnXV07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmcm9tRXZlbnRzKHRhcmdldCwgZXZlbnROYW1lLCB0cmFuc2Zvcm1lcikge1xuXHQgIHZhciBzdWIgPSB1bmRlZmluZWQsXG5cdCAgICAgIHVuc3ViID0gdW5kZWZpbmVkO1xuXG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuXHQgICAgaWYgKHR5cGVvZiB0YXJnZXRbcGFpcnNbaV1bMF1dID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB0YXJnZXRbcGFpcnNbaV1bMV1dID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHN1YiA9IHBhaXJzW2ldWzBdO1xuXHQgICAgICB1bnN1YiA9IHBhaXJzW2ldWzFdO1xuXHQgICAgICBicmVhaztcblx0ICAgIH1cblx0ICB9XG5cblx0ICBpZiAoc3ViID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigndGFyZ2V0IGRvblxcJ3Qgc3VwcG9ydCBhbnkgb2YgJyArICdhZGRFdmVudExpc3RlbmVyL3JlbW92ZUV2ZW50TGlzdGVuZXIsIGFkZExpc3RlbmVyL3JlbW92ZUxpc3RlbmVyLCBvbi9vZmYgbWV0aG9kIHBhaXInKTtcblx0ICB9XG5cblx0ICByZXR1cm4gZnJvbVN1YlVuc3ViKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG5cdCAgICByZXR1cm4gdGFyZ2V0W3N1Yl0oZXZlbnROYW1lLCBoYW5kbGVyKTtcblx0ICB9LCBmdW5jdGlvbiAoaGFuZGxlcikge1xuXHQgICAgcmV0dXJuIHRhcmdldFt1bnN1Yl0oZXZlbnROYW1lLCBoYW5kbGVyKTtcblx0ICB9LCB0cmFuc2Zvcm1lcikuc2V0TmFtZSgnZnJvbUV2ZW50cycpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgc3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cblx0dmFyIGFwcGx5ID0gX3JlcXVpcmUuYXBwbHk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmcm9tU3ViVW5zdWIoc3ViLCB1bnN1YiwgdHJhbnNmb3JtZXIgLyogRnVuY3Rpb24gfCBmYWxzZXkgKi8pIHtcblx0ICByZXR1cm4gc3RyZWFtKGZ1bmN0aW9uIChlbWl0dGVyKSB7XG5cblx0ICAgIHZhciBoYW5kbGVyID0gdHJhbnNmb3JtZXIgPyBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGVtaXR0ZXIuZW1pdChhcHBseSh0cmFuc2Zvcm1lciwgdGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9IDogZW1pdHRlci5lbWl0O1xuXG5cdCAgICBzdWIoaGFuZGxlcik7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdW5zdWIoaGFuZGxlcik7XG5cdCAgICB9O1xuXHQgIH0pLnNldE5hbWUoJ2Zyb21TdWJVbnN1YicpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGZ1bmN0aW9uIHNwcmVhZChmbiwgbGVuZ3RoKSB7XG5cdCAgc3dpdGNoIChsZW5ndGgpIHtcblx0ICAgIGNhc2UgMDpcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgcmV0dXJuIGZuKCk7XG5cdCAgICAgIH07XG5cdCAgICBjYXNlIDE6XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgIHJldHVybiBmbihhWzBdKTtcblx0ICAgICAgfTtcblx0ICAgIGNhc2UgMjpcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgcmV0dXJuIGZuKGFbMF0sIGFbMV0pO1xuXHQgICAgICB9O1xuXHQgICAgY2FzZSAzOlxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICByZXR1cm4gZm4oYVswXSwgYVsxXSwgYVsyXSk7XG5cdCAgICAgIH07XG5cdCAgICBjYXNlIDQ6XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgIHJldHVybiBmbihhWzBdLCBhWzFdLCBhWzJdLCBhWzNdKTtcblx0ICAgICAgfTtcblx0ICAgIGRlZmF1bHQ6XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhKTtcblx0ICAgICAgfTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiBhcHBseShmbiwgYywgYSkge1xuXHQgIHZhciBhTGVuZ3RoID0gYSA/IGEubGVuZ3RoIDogMDtcblx0ICBpZiAoYyA9PSBudWxsKSB7XG5cdCAgICBzd2l0Y2ggKGFMZW5ndGgpIHtcblx0ICAgICAgY2FzZSAwOlxuXHQgICAgICAgIHJldHVybiBmbigpO1xuXHQgICAgICBjYXNlIDE6XG5cdCAgICAgICAgcmV0dXJuIGZuKGFbMF0pO1xuXHQgICAgICBjYXNlIDI6XG5cdCAgICAgICAgcmV0dXJuIGZuKGFbMF0sIGFbMV0pO1xuXHQgICAgICBjYXNlIDM6XG5cdCAgICAgICAgcmV0dXJuIGZuKGFbMF0sIGFbMV0sIGFbMl0pO1xuXHQgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgcmV0dXJuIGZuKGFbMF0sIGFbMV0sIGFbMl0sIGFbM10pO1xuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhKTtcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgc3dpdGNoIChhTGVuZ3RoKSB7XG5cdCAgICAgIGNhc2UgMDpcblx0ICAgICAgICByZXR1cm4gZm4uY2FsbChjKTtcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICByZXR1cm4gZm4uYXBwbHkoYywgYSk7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IHNwcmVhZDogc3ByZWFkLCBhcHBseTogYXBwbHkgfTtcblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlLmluaGVyaXQ7XG5cblx0dmFyIFByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuXHQvLyBIQUNLOlxuXHQvLyAgIFdlIGRvbid0IGNhbGwgcGFyZW50IENsYXNzIGNvbnN0cnVjdG9yLCBidXQgaW5zdGVhZCBwdXR0aW5nIGFsbCBuZWNlc3Nhcnlcblx0Ly8gICBwcm9wZXJ0aWVzIGludG8gcHJvdG90eXBlIHRvIHNpbXVsYXRlIGVuZGVkIFByb3BlcnR5XG5cdC8vICAgKHNlZSBQcm9wcGVydHkgYW5kIE9ic2VydmFibGUgY2xhc3NlcykuXG5cblx0ZnVuY3Rpb24gUCh2YWx1ZSkge1xuXHQgIHRoaXMuX2N1cnJlbnRFdmVudCA9IHsgdHlwZTogJ3ZhbHVlJywgdmFsdWU6IHZhbHVlLCBjdXJyZW50OiB0cnVlIH07XG5cdH1cblxuXHRpbmhlcml0KFAsIFByb3BlcnR5LCB7XG5cdCAgX25hbWU6ICdjb25zdGFudCcsXG5cdCAgX2FjdGl2ZTogZmFsc2UsXG5cdCAgX2FjdGl2YXRpbmc6IGZhbHNlLFxuXHQgIF9hbGl2ZTogZmFsc2UsXG5cdCAgX2Rpc3BhdGNoZXI6IG51bGwsXG5cdCAgX2xvZ0hhbmRsZXJzOiBudWxsXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29uc3RhbnQoeCkge1xuXHQgIHJldHVybiBuZXcgUCh4KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDIzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlLmluaGVyaXQ7XG5cblx0dmFyIFByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuXHQvLyBIQUNLOlxuXHQvLyAgIFdlIGRvbid0IGNhbGwgcGFyZW50IENsYXNzIGNvbnN0cnVjdG9yLCBidXQgaW5zdGVhZCBwdXR0aW5nIGFsbCBuZWNlc3Nhcnlcblx0Ly8gICBwcm9wZXJ0aWVzIGludG8gcHJvdG90eXBlIHRvIHNpbXVsYXRlIGVuZGVkIFByb3BlcnR5XG5cdC8vICAgKHNlZSBQcm9wcGVydHkgYW5kIE9ic2VydmFibGUgY2xhc3NlcykuXG5cblx0ZnVuY3Rpb24gUCh2YWx1ZSkge1xuXHQgIHRoaXMuX2N1cnJlbnRFdmVudCA9IHsgdHlwZTogJ2Vycm9yJywgdmFsdWU6IHZhbHVlLCBjdXJyZW50OiB0cnVlIH07XG5cdH1cblxuXHRpbmhlcml0KFAsIFByb3BlcnR5LCB7XG5cdCAgX25hbWU6ICdjb25zdGFudEVycm9yJyxcblx0ICBfYWN0aXZlOiBmYWxzZSxcblx0ICBfYWN0aXZhdGluZzogZmFsc2UsXG5cdCAgX2FsaXZlOiBmYWxzZSxcblx0ICBfZGlzcGF0Y2hlcjogbnVsbCxcblx0ICBfbG9nSGFuZGxlcnM6IG51bGxcblx0fSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb25zdGFudEVycm9yKHgpIHtcblx0ICByZXR1cm4gbmV3IFAoeCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBzdHJlYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0dmFyIHRvUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZyb21Qcm9taXNlKHByb21pc2UpIHtcblxuXHQgIHZhciBjYWxsZWQgPSBmYWxzZTtcblxuXHQgIHZhciByZXN1bHQgPSBzdHJlYW0oZnVuY3Rpb24gKGVtaXR0ZXIpIHtcblx0ICAgIGlmICghY2FsbGVkKSB7XG5cdCAgICAgIHZhciBvblZhbHVlID0gZnVuY3Rpb24gb25WYWx1ZSh4KSB7XG5cdCAgICAgICAgZW1pdHRlci5lbWl0KHgpO1xuXHQgICAgICAgIGVtaXR0ZXIuZW5kKCk7XG5cdCAgICAgIH07XG5cdCAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcih4KSB7XG5cdCAgICAgICAgZW1pdHRlci5lcnJvcih4KTtcblx0ICAgICAgICBlbWl0dGVyLmVuZCgpO1xuXHQgICAgICB9O1xuXHQgICAgICB2YXIgX3Byb21pc2UgPSBwcm9taXNlLnRoZW4ob25WYWx1ZSwgb25FcnJvcik7XG5cblx0ICAgICAgLy8gcHJldmVudCBsaWJyYXJpZXMgbGlrZSAnUScgb3IgJ3doZW4nIGZyb20gc3dhbGxvd2luZyBleGNlcHRpb25zXG5cdCAgICAgIGlmIChfcHJvbWlzZSAmJiB0eXBlb2YgX3Byb21pc2UuZG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIF9wcm9taXNlLmRvbmUoKTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGNhbGxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfSk7XG5cblx0ICByZXR1cm4gdG9Qcm9wZXJ0eShyZXN1bHQsIG51bGwpLnNldE5hbWUoJ2Zyb21Qcm9taXNlJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3RvUHJvcGVydHknLCB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZ2V0SW5pdGlhbEN1cnJlbnQgPSBmbjtcblx0ICB9LFxuXG5cdCAgX29uQWN0aXZhdGlvbjogZnVuY3Rpb24gX29uQWN0aXZhdGlvbigpIHtcblx0ICAgIGlmICh0aGlzLl9nZXRJbml0aWFsQ3VycmVudCAhPT0gbnVsbCkge1xuXHQgICAgICB2YXIgZ2V0SW5pdGlhbCA9IHRoaXMuX2dldEluaXRpYWxDdXJyZW50O1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoZ2V0SW5pdGlhbCgpKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX3NvdXJjZS5vbkFueSh0aGlzLl8kaGFuZGxlQW55KTsgLy8gY29waWVkIGZyb20gcGF0dGVybnMvb25lLXNvdXJjZVxuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRvUHJvcGVydHkob2JzKSB7XG5cdCAgdmFyIGZuID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgaWYgKGZuICE9PSBudWxsICYmIHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdZb3Ugc2hvdWxkIGNhbGwgdG9Qcm9wZXJ0eSgpIHdpdGggYSBmdW5jdGlvbiBvciBubyBhcmd1bWVudHMuJyk7XG5cdCAgfVxuXHQgIHJldHVybiBuZXcgUChvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgU3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0dmFyIFByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUuaW5oZXJpdDtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgVkFMVUUgPSBfcmVxdWlyZTIuVkFMVUU7XG5cdHZhciBFUlJPUiA9IF9yZXF1aXJlMi5FUlJPUjtcblx0dmFyIEVORCA9IF9yZXF1aXJlMi5FTkQ7XG5cblx0ZnVuY3Rpb24gY3JlYXRlQ29uc3RydWN0b3IoQmFzZUNsYXNzLCBuYW1lKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIEFub255bW91c09ic2VydmFibGUoc291cmNlLCBvcHRpb25zKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdCAgICBCYXNlQ2xhc3MuY2FsbCh0aGlzKTtcblx0ICAgIHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcblx0ICAgIHRoaXMuX25hbWUgPSAnJyArIHNvdXJjZS5fbmFtZSArICcuJyArIG5hbWU7XG5cdCAgICB0aGlzLl9pbml0KG9wdGlvbnMpO1xuXHQgICAgdGhpcy5fJGhhbmRsZUFueSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMuX2hhbmRsZUFueShldmVudCk7XG5cdCAgICB9O1xuXHQgIH07XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVDbGFzc01ldGhvZHMoQmFzZUNsYXNzKSB7XG5cdCAgcmV0dXJuIHtcblxuXHQgICAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KG9wdGlvbnMpIHt9LFxuXHQgICAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge30sXG5cblx0ICAgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfSxcblx0ICAgIF9oYW5kbGVFcnJvcjogZnVuY3Rpb24gX2hhbmRsZUVycm9yKHgpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVycm9yKHgpO1xuXHQgICAgfSxcblx0ICAgIF9oYW5kbGVFbmQ6IGZ1bmN0aW9uIF9oYW5kbGVFbmQoKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH0sXG5cblx0ICAgIF9oYW5kbGVBbnk6IGZ1bmN0aW9uIF9oYW5kbGVBbnkoZXZlbnQpIHtcblx0ICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG5cdCAgICAgICAgY2FzZSBWQUxVRTpcblx0ICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVWYWx1ZShldmVudC52YWx1ZSk7XG5cdCAgICAgICAgY2FzZSBFUlJPUjpcblx0ICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVFcnJvcihldmVudC52YWx1ZSk7XG5cdCAgICAgICAgY2FzZSBFTkQ6XG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlRW5kKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cblx0ICAgIF9vbkFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkFjdGl2YXRpb24oKSB7XG5cdCAgICAgIHRoaXMuX3NvdXJjZS5vbkFueSh0aGlzLl8kaGFuZGxlQW55KTtcblx0ICAgIH0sXG5cdCAgICBfb25EZWFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkRlYWN0aXZhdGlvbigpIHtcblx0ICAgICAgdGhpcy5fc291cmNlLm9mZkFueSh0aGlzLl8kaGFuZGxlQW55KTtcblx0ICAgIH0sXG5cblx0ICAgIF9jbGVhcjogZnVuY3Rpb24gX2NsZWFyKCkge1xuXHQgICAgICBCYXNlQ2xhc3MucHJvdG90eXBlLl9jbGVhci5jYWxsKHRoaXMpO1xuXHQgICAgICB0aGlzLl9zb3VyY2UgPSBudWxsO1xuXHQgICAgICB0aGlzLl8kaGFuZGxlQW55ID0gbnVsbDtcblx0ICAgICAgdGhpcy5fZnJlZSgpO1xuXHQgICAgfVxuXG5cdCAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNyZWF0ZVN0cmVhbShuYW1lLCBtaXhpbikge1xuXHQgIHZhciBTID0gY3JlYXRlQ29uc3RydWN0b3IoU3RyZWFtLCBuYW1lKTtcblx0ICBpbmhlcml0KFMsIFN0cmVhbSwgY3JlYXRlQ2xhc3NNZXRob2RzKFN0cmVhbSksIG1peGluKTtcblx0ICByZXR1cm4gUztcblx0fVxuXG5cdGZ1bmN0aW9uIGNyZWF0ZVByb3BlcnR5KG5hbWUsIG1peGluKSB7XG5cdCAgdmFyIFAgPSBjcmVhdGVDb25zdHJ1Y3RvcihQcm9wZXJ0eSwgbmFtZSk7XG5cdCAgaW5oZXJpdChQLCBQcm9wZXJ0eSwgY3JlYXRlQ2xhc3NNZXRob2RzKFByb3BlcnR5KSwgbWl4aW4pO1xuXHQgIHJldHVybiBQO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IGNyZWF0ZVN0cmVhbTogY3JlYXRlU3RyZWFtLCBjcmVhdGVQcm9wZXJ0eTogY3JlYXRlUHJvcGVydHkgfTtcblxuLyoqKi8gfSxcbi8qIDI3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnY2hhbmdlcycsIHtcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIGlmICghdGhpcy5fYWN0aXZhdGluZykge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVFcnJvcjogZnVuY3Rpb24gX2hhbmRsZUVycm9yKHgpIHtcblx0ICAgIGlmICghdGhpcy5fYWN0aXZhdGluZykge1xuXHQgICAgICB0aGlzLl9lbWl0RXJyb3IoeCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2hhbmdlcyhvYnMpIHtcblx0ICByZXR1cm4gbmV3IFMob2JzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDI4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZnVuY3Rpb24gZ2V0R2xvZGFsUHJvbWlzZSgpIHtcblx0ICBpZiAodHlwZW9mIFByb21pc2UgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHJldHVybiBQcm9taXNlO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzblxcJ3QgZGVmYXVsdCBQcm9taXNlLCB1c2Ugc2hpbSBvciBwYXJhbWV0ZXInKTtcblx0ICB9XG5cdH1cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYnMpIHtcblx0ICB2YXIgUHJvbWlzZSA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZ2V0R2xvZGFsUHJvbWlzZSgpIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgdmFyIGxhc3QgPSBudWxsO1xuXHQgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICBvYnMub25BbnkoZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIGlmIChldmVudC50eXBlID09PSAnZW5kJyAmJiBsYXN0ICE9PSBudWxsKSB7XG5cdCAgICAgICAgKGxhc3QudHlwZSA9PT0gJ3ZhbHVlJyA/IHJlc29sdmUgOiByZWplY3QpKGxhc3QudmFsdWUpO1xuXHQgICAgICAgIGxhc3QgPSBudWxsO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGxhc3QgPSBldmVudDtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgdGhpcy5fZW1pdFZhbHVlKGZuKHgpKTtcblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnbWFwJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdtYXAnLCBtaXhpbik7XG5cblx0dmFyIGlkID0gZnVuY3Rpb24gaWQoeCkge1xuXHQgIHJldHVybiB4O1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFwKG9icykge1xuXHQgIHZhciBmbiA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gaWQgOiBhcmd1bWVudHNbMV07XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBmbjogZm4gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgaWYgKGZuKHgpKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnZmlsdGVyJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdmaWx0ZXInLCBtaXhpbik7XG5cblx0dmFyIGlkID0gZnVuY3Rpb24gaWQoeCkge1xuXHQgIHJldHVybiB4O1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmlsdGVyKG9icykge1xuXHQgIHZhciBmbiA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gaWQgOiBhcmd1bWVudHNbMV07XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBmbjogZm4gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgbiA9IF9yZWYubjtcblxuXHQgICAgdGhpcy5fbiA9IG47XG5cdCAgICBpZiAobiA8PSAwKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgdGhpcy5fbi0tO1xuXHQgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgaWYgKHRoaXMuX24gPT09IDApIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCd0YWtlJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCd0YWtlJywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGFrZVdoaWxlKG9icywgbikge1xuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IG46IG4gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgaWYgKGZuKHgpKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgndGFrZVdoaWxlJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCd0YWtlV2hpbGUnLCBtaXhpbik7XG5cblx0dmFyIGlkID0gZnVuY3Rpb24gaWQoeCkge1xuXHQgIHJldHVybiB4O1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGFrZVdoaWxlKG9icykge1xuXHQgIHZhciBmbiA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gaWQgOiBhcmd1bWVudHNbMV07XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBmbjogZm4gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdHZhciBOT1RISU5HID0gX3JlcXVpcmUyLk5PVEhJTkc7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KCkge1xuXHQgICAgdGhpcy5fbGFzdFZhbHVlID0gTk9USElORztcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fbGFzdFZhbHVlID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgdGhpcy5fbGFzdFZhbHVlID0geDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZUVuZDogZnVuY3Rpb24gX2hhbmRsZUVuZCgpIHtcblx0ICAgIGlmICh0aGlzLl9sYXN0VmFsdWUgIT09IE5PVEhJTkcpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHRoaXMuX2xhc3RWYWx1ZSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ2xhc3QnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ2xhc3QnLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBsYXN0KG9icykge1xuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBuID0gX3JlZi5uO1xuXG5cdCAgICB0aGlzLl9uID0gTWF0aC5tYXgoMCwgbik7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIGlmICh0aGlzLl9uID09PSAwKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX24tLTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnc2tpcCcsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnc2tpcCcsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNraXAob2JzLCBuKSB7XG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgbjogbiB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cblx0ICAgIHRoaXMuX2ZuID0gZm47XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgdmFyIGZuID0gdGhpcy5fZm47XG5cdCAgICBpZiAodGhpcy5fZm4gIT09IG51bGwgJiYgIWZuKHgpKSB7XG5cdCAgICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLl9mbiA9PT0gbnVsbCkge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3NraXBXaGlsZScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnc2tpcFdoaWxlJywgbWl4aW4pO1xuXG5cdHZhciBpZCA9IGZ1bmN0aW9uIGlkKHgpIHtcblx0ICByZXR1cm4geDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNraXBXaGlsZShvYnMpIHtcblx0ICB2YXIgZm4gPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGlkIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgTk9USElORyA9IF9yZXF1aXJlMi5OT1RISU5HO1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgICAgdGhpcy5fcHJldiA9IE5PVEhJTkc7XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICAgIHRoaXMuX3ByZXYgPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIGlmICh0aGlzLl9wcmV2ID09PSBOT1RISU5HIHx8ICFmbih0aGlzLl9wcmV2LCB4KSkge1xuXHQgICAgICB0aGlzLl9wcmV2ID0geDtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdza2lwRHVwbGljYXRlcycsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnc2tpcER1cGxpY2F0ZXMnLCBtaXhpbik7XG5cblx0dmFyIGVxID0gZnVuY3Rpb24gZXEoYSwgYikge1xuXHQgIHJldHVybiBhID09PSBiO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2tpcER1cGxpY2F0ZXMob2JzKSB7XG5cdCAgdmFyIGZuID0gYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBlcSA6IGFyZ3VtZW50c1sxXTtcblxuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IGZuOiBmbiB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDM3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIE5PVEhJTkcgPSBfcmVxdWlyZTIuTk9USElORztcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblx0ICAgIHZhciBzZWVkID0gX3JlZi5zZWVkO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgICAgdGhpcy5fcHJldiA9IHNlZWQ7XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX3ByZXYgPSBudWxsO1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICBpZiAodGhpcy5fcHJldiAhPT0gTk9USElORykge1xuXHQgICAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKGZuKHRoaXMuX3ByZXYsIHgpKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX3ByZXYgPSB4O1xuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdkaWZmJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdkaWZmJywgbWl4aW4pO1xuXG5cdGZ1bmN0aW9uIGRlZmF1bHRGbihhLCBiKSB7XG5cdCAgcmV0dXJuIFthLCBiXTtcblx0fVxuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlmZihvYnMsIGZuKSB7XG5cdCAgdmFyIHNlZWQgPSBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IE5PVEhJTkcgOiBhcmd1bWVudHNbMl07XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBmbjogZm4gfHwgZGVmYXVsdEZuLCBzZWVkOiBzZWVkIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgRVJST1IgPSBfcmVxdWlyZTIuRVJST1I7XG5cdHZhciBOT1RISU5HID0gX3JlcXVpcmUyLk5PVEhJTkc7XG5cblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnc2NhbicsIHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXHQgICAgdmFyIHNlZWQgPSBfcmVmLnNlZWQ7XG5cblx0ICAgIHRoaXMuX2ZuID0gZm47XG5cdCAgICBpZiAoc2VlZCAhPT0gTk9USElORykge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoc2VlZCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgaWYgKHRoaXMuX2N1cnJlbnRFdmVudCAhPT0gbnVsbCAmJiB0aGlzLl9jdXJyZW50RXZlbnQudHlwZSAhPT0gRVJST1IpIHtcblx0ICAgICAgdmFyIGZuID0gdGhpcy5fZm47XG5cdCAgICAgIHggPSBmbih0aGlzLl9jdXJyZW50RXZlbnQudmFsdWUsIHgpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNjYW4ob2JzLCBmbikge1xuXHQgIHZhciBzZWVkID0gYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBOT1RISU5HIDogYXJndW1lbnRzWzJdO1xuXG5cdCAgcmV0dXJuIG5ldyBQKG9icywgeyBmbjogZm4sIHNlZWQ6IHNlZWQgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgdmFyIHhzID0gZm4oeCk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4c1tpXSk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ2ZsYXR0ZW4nLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ2ZsYXR0ZW4nLCBtaXhpbik7XG5cblx0dmFyIGlkID0gZnVuY3Rpb24gaWQoeCkge1xuXHQgIHJldHVybiB4O1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmxhdHRlbihvYnMpIHtcblx0ICB2YXIgZm4gPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGlkIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgdmFyIHdhaXQgPSBfcmVmLndhaXQ7XG5cblx0ICAgIHRoaXMuX3dhaXQgPSBNYXRoLm1heCgwLCB3YWl0KTtcblx0ICAgIHRoaXMuX2J1ZmYgPSBbXTtcblx0ICAgIHRoaXMuXyRzaGlmdEJ1ZmYgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpcy5fZW1pdFZhbHVlKF90aGlzLl9idWZmLnNoaWZ0KCkpO1xuXHQgICAgfTtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fYnVmZiA9IG51bGw7XG5cdCAgICB0aGlzLl8kc2hpZnRCdWZmID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgaWYgKHRoaXMuX2FjdGl2YXRpbmcpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5fYnVmZi5wdXNoKHgpO1xuXHQgICAgICBzZXRUaW1lb3V0KHRoaXMuXyRzaGlmdEJ1ZmYsIHRoaXMuX3dhaXQpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlRW5kOiBmdW5jdGlvbiBfaGFuZGxlRW5kKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cblx0ICAgIGlmICh0aGlzLl9hY3RpdmF0aW5nKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiBfdGhpczIuX2VtaXRFbmQoKTtcblx0ICAgICAgfSwgdGhpcy5fd2FpdCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ2RlbGF5JywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdkZWxheScsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlbGF5KG9icywgd2FpdCkge1xuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IHdhaXQ6IHdhaXQgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBub3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgdmFyIHdhaXQgPSBfcmVmLndhaXQ7XG5cdCAgICB2YXIgbGVhZGluZyA9IF9yZWYubGVhZGluZztcblx0ICAgIHZhciB0cmFpbGluZyA9IF9yZWYudHJhaWxpbmc7XG5cblx0ICAgIHRoaXMuX3dhaXQgPSBNYXRoLm1heCgwLCB3YWl0KTtcblx0ICAgIHRoaXMuX2xlYWRpbmcgPSBsZWFkaW5nO1xuXHQgICAgdGhpcy5fdHJhaWxpbmcgPSB0cmFpbGluZztcblx0ICAgIHRoaXMuX3RyYWlsaW5nVmFsdWUgPSBudWxsO1xuXHQgICAgdGhpcy5fdGltZW91dElkID0gbnVsbDtcblx0ICAgIHRoaXMuX2VuZExhdGVyID0gZmFsc2U7XG5cdCAgICB0aGlzLl9sYXN0Q2FsbFRpbWUgPSAwO1xuXHQgICAgdGhpcy5fJHRyYWlsaW5nQ2FsbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzLl90cmFpbGluZ0NhbGwoKTtcblx0ICAgIH07XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX3RyYWlsaW5nVmFsdWUgPSBudWxsO1xuXHQgICAgdGhpcy5fJHRyYWlsaW5nQ2FsbCA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIGlmICh0aGlzLl9hY3RpdmF0aW5nKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBjdXJUaW1lID0gbm93KCk7XG5cdCAgICAgIGlmICh0aGlzLl9sYXN0Q2FsbFRpbWUgPT09IDAgJiYgIXRoaXMuX2xlYWRpbmcpIHtcblx0ICAgICAgICB0aGlzLl9sYXN0Q2FsbFRpbWUgPSBjdXJUaW1lO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciByZW1haW5pbmcgPSB0aGlzLl93YWl0IC0gKGN1clRpbWUgLSB0aGlzLl9sYXN0Q2FsbFRpbWUpO1xuXHQgICAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcblx0ICAgICAgICB0aGlzLl9jYW5jZWxUcmFpbGluZygpO1xuXHQgICAgICAgIHRoaXMuX2xhc3RDYWxsVGltZSA9IGN1clRpbWU7XG5cdCAgICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMuX3RyYWlsaW5nKSB7XG5cdCAgICAgICAgdGhpcy5fY2FuY2VsVHJhaWxpbmcoKTtcblx0ICAgICAgICB0aGlzLl90cmFpbGluZ1ZhbHVlID0geDtcblx0ICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSBzZXRUaW1lb3V0KHRoaXMuXyR0cmFpbGluZ0NhbGwsIHJlbWFpbmluZyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZUVuZDogZnVuY3Rpb24gX2hhbmRsZUVuZCgpIHtcblx0ICAgIGlmICh0aGlzLl9hY3RpdmF0aW5nKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh0aGlzLl90aW1lb3V0SWQpIHtcblx0ICAgICAgICB0aGlzLl9lbmRMYXRlciA9IHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9jYW5jZWxUcmFpbGluZzogZnVuY3Rpb24gX2NhbmNlbFRyYWlsaW5nKCkge1xuXHQgICAgaWYgKHRoaXMuX3RpbWVvdXRJZCAhPT0gbnVsbCkge1xuXHQgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dElkKTtcblx0ICAgICAgdGhpcy5fdGltZW91dElkID0gbnVsbDtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX3RyYWlsaW5nQ2FsbDogZnVuY3Rpb24gX3RyYWlsaW5nQ2FsbCgpIHtcblx0ICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl90cmFpbGluZ1ZhbHVlKTtcblx0ICAgIHRoaXMuX3RpbWVvdXRJZCA9IG51bGw7XG5cdCAgICB0aGlzLl90cmFpbGluZ1ZhbHVlID0gbnVsbDtcblx0ICAgIHRoaXMuX2xhc3RDYWxsVGltZSA9ICF0aGlzLl9sZWFkaW5nID8gMCA6IG5vdygpO1xuXHQgICAgaWYgKHRoaXMuX2VuZExhdGVyKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgndGhyb3R0bGUnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3Rocm90dGxlJywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGhyb3R0bGUob2JzLCB3YWl0KSB7XG5cdCAgdmFyIF9yZWYyID0gYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1syXTtcblxuXHQgIHZhciBfcmVmMiRsZWFkaW5nID0gX3JlZjIubGVhZGluZztcblx0ICB2YXIgbGVhZGluZyA9IF9yZWYyJGxlYWRpbmcgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmMiRsZWFkaW5nO1xuXHQgIHZhciBfcmVmMiR0cmFpbGluZyA9IF9yZWYyLnRyYWlsaW5nO1xuXHQgIHZhciB0cmFpbGluZyA9IF9yZWYyJHRyYWlsaW5nID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZjIkdHJhaWxpbmc7XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyB3YWl0OiB3YWl0LCBsZWFkaW5nOiBsZWFkaW5nLCB0cmFpbGluZzogdHJhaWxpbmcgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBEYXRlLm5vdyA/IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gRGF0ZS5ub3coKTtcblx0fSA6IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBub3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgdmFyIHdhaXQgPSBfcmVmLndhaXQ7XG5cdCAgICB2YXIgaW1tZWRpYXRlID0gX3JlZi5pbW1lZGlhdGU7XG5cblx0ICAgIHRoaXMuX3dhaXQgPSBNYXRoLm1heCgwLCB3YWl0KTtcblx0ICAgIHRoaXMuX2ltbWVkaWF0ZSA9IGltbWVkaWF0ZTtcblx0ICAgIHRoaXMuX2xhc3RBdHRlbXB0ID0gMDtcblx0ICAgIHRoaXMuX3RpbWVvdXRJZCA9IG51bGw7XG5cdCAgICB0aGlzLl9sYXRlclZhbHVlID0gbnVsbDtcblx0ICAgIHRoaXMuX2VuZExhdGVyID0gZmFsc2U7XG5cdCAgICB0aGlzLl8kbGF0ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpcy5fbGF0ZXIoKTtcblx0ICAgIH07XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2xhdGVyVmFsdWUgPSBudWxsO1xuXHQgICAgdGhpcy5fJGxhdGVyID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgaWYgKHRoaXMuX2FjdGl2YXRpbmcpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5fbGFzdEF0dGVtcHQgPSBub3coKTtcblx0ICAgICAgaWYgKHRoaXMuX2ltbWVkaWF0ZSAmJiAhdGhpcy5fdGltZW91dElkKSB7XG5cdCAgICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghdGhpcy5fdGltZW91dElkKSB7XG5cdCAgICAgICAgdGhpcy5fdGltZW91dElkID0gc2V0VGltZW91dCh0aGlzLl8kbGF0ZXIsIHRoaXMuX3dhaXQpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghdGhpcy5faW1tZWRpYXRlKSB7XG5cdCAgICAgICAgdGhpcy5fbGF0ZXJWYWx1ZSA9IHg7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZUVuZDogZnVuY3Rpb24gX2hhbmRsZUVuZCgpIHtcblx0ICAgIGlmICh0aGlzLl9hY3RpdmF0aW5nKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh0aGlzLl90aW1lb3V0SWQgJiYgIXRoaXMuX2ltbWVkaWF0ZSkge1xuXHQgICAgICAgIHRoaXMuX2VuZExhdGVyID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2xhdGVyOiBmdW5jdGlvbiBfbGF0ZXIoKSB7XG5cdCAgICB2YXIgbGFzdCA9IG5vdygpIC0gdGhpcy5fbGFzdEF0dGVtcHQ7XG5cdCAgICBpZiAobGFzdCA8IHRoaXMuX3dhaXQgJiYgbGFzdCA+PSAwKSB7XG5cdCAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQodGhpcy5fJGxhdGVyLCB0aGlzLl93YWl0IC0gbGFzdCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLl90aW1lb3V0SWQgPSBudWxsO1xuXHQgICAgICBpZiAoIXRoaXMuX2ltbWVkaWF0ZSkge1xuXHQgICAgICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl9sYXRlclZhbHVlKTtcblx0ICAgICAgICB0aGlzLl9sYXRlclZhbHVlID0gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodGhpcy5fZW5kTGF0ZXIpIHtcblx0ICAgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnZGVib3VuY2UnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ2RlYm91bmNlJywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVib3VuY2Uob2JzLCB3YWl0KSB7XG5cdCAgdmFyIF9yZWYyID0gYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1syXTtcblxuXHQgIHZhciBfcmVmMiRpbW1lZGlhdGUgPSBfcmVmMi5pbW1lZGlhdGU7XG5cdCAgdmFyIGltbWVkaWF0ZSA9IF9yZWYyJGltbWVkaWF0ZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmMiRpbW1lZGlhdGU7XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyB3YWl0OiB3YWl0LCBpbW1lZGlhdGU6IGltbWVkaWF0ZSB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cblx0ICAgIHRoaXMuX2ZuID0gZm47XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVmFsdWUoeCkge1xuXHQgICAgdmFyIGZuID0gdGhpcy5fZm47XG5cdCAgICB2YXIgcmVzdWx0ID0gZm4oeCk7XG5cdCAgICBpZiAocmVzdWx0LmNvbnZlcnQpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVycm9yKHJlc3VsdC5lcnJvcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3ZhbHVlc1RvRXJyb3JzJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCd2YWx1ZXNUb0Vycm9ycycsIG1peGluKTtcblxuXHR2YXIgZGVmRm4gPSBmdW5jdGlvbiBkZWZGbih4KSB7XG5cdCAgcmV0dXJuIHsgY29udmVydDogdHJ1ZSwgZXJyb3I6IHggfTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHZhbHVlc1RvRXJyb3JzKG9icykge1xuXHQgIHZhciBmbiA9IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZGVmRm4gOiBhcmd1bWVudHNbMV07XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBmbjogZm4gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXG5cdCAgICB0aGlzLl9mbiA9IGZuO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9mbiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVFcnJvcjogZnVuY3Rpb24gX2hhbmRsZUVycm9yKHgpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgdmFyIHJlc3VsdCA9IGZuKHgpO1xuXHQgICAgaWYgKHJlc3VsdC5jb252ZXJ0KSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZShyZXN1bHQudmFsdWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5fZW1pdEVycm9yKHgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdlcnJvcnNUb1ZhbHVlcycsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnZXJyb3JzVG9WYWx1ZXMnLCBtaXhpbik7XG5cblx0dmFyIGRlZkZuID0gZnVuY3Rpb24gZGVmRm4oeCkge1xuXHQgIHJldHVybiB7IGNvbnZlcnQ6IHRydWUsIHZhbHVlOiB4IH07XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlcnJvcnNUb1ZhbHVlcyhvYnMpIHtcblx0ICB2YXIgZm4gPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGRlZkZuIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIF9oYW5kbGVFcnJvcih4KSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIHRoaXMuX2VtaXRFcnJvcihmbih4KSk7XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ21hcEVycm9ycycsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnbWFwRXJyb3JzJywgbWl4aW4pO1xuXG5cdHZhciBpZCA9IGZ1bmN0aW9uIGlkKHgpIHtcblx0ICByZXR1cm4geDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hcEVycm9ycyhvYnMpIHtcblx0ICB2YXIgZm4gPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGlkIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIF9oYW5kbGVFcnJvcih4KSB7XG5cdCAgICB2YXIgZm4gPSB0aGlzLl9mbjtcblx0ICAgIGlmIChmbih4KSkge1xuXHQgICAgICB0aGlzLl9lbWl0RXJyb3IoeCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ2ZpbHRlckVycm9ycycsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnZmlsdGVyRXJyb3JzJywgbWl4aW4pO1xuXG5cdHZhciBpZCA9IGZ1bmN0aW9uIGlkKHgpIHtcblx0ICByZXR1cm4geDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZpbHRlckVycm9ycyhvYnMpIHtcblx0ICB2YXIgZm4gPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGlkIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMsIHsgZm46IGZuIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIF9oYW5kbGVFcnJvcih4KSB7XG5cdCAgICB0aGlzLl9lbWl0RXJyb3IoeCk7XG5cdCAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ2VuZE9uRXJyb3InLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ2VuZE9uRXJyb3InLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmRPbkVycm9yKG9icykge1xuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIG1peGluID0ge1xuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKCkge31cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnc2tpcFZhbHVlcycsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnc2tpcFZhbHVlcycsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNraXBWYWx1ZXMob2JzKSB7XG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cdCAgX2hhbmRsZUVycm9yOiBmdW5jdGlvbiBfaGFuZGxlRXJyb3IoKSB7fVxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdza2lwRXJyb3JzJywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdza2lwRXJyb3JzJywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2tpcEVycm9ycyhvYnMpIHtcblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblx0ICBfaGFuZGxlRW5kOiBmdW5jdGlvbiBfaGFuZGxlRW5kKCkge31cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnc2tpcEVuZCcsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnc2tpcEVuZCcsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNraXBFbmQob2JzKSB7XG5cdCAgcmV0dXJuIG5ldyAob2JzLl9vZlNhbWVUeXBlKFMsIFApKShvYnMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIGZuID0gX3JlZi5mbjtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fZm4gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlRW5kOiBmdW5jdGlvbiBfaGFuZGxlRW5kKCkge1xuXHQgICAgdmFyIGZuID0gdGhpcy5fZm47XG5cdCAgICB0aGlzLl9lbWl0VmFsdWUoZm4oKSk7XG5cdCAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ2JlZm9yZUVuZCcsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnYmVmb3JlRW5kJywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmVmb3JlRW5kKG9icywgZm4pIHtcblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBmbjogZm4gfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBzbGlkZSA9IF9yZXF1aXJlMi5zbGlkZTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaW5pdDogZnVuY3Rpb24gX2luaXQoX3JlZikge1xuXHQgICAgdmFyIG1pbiA9IF9yZWYubWluO1xuXHQgICAgdmFyIG1heCA9IF9yZWYubWF4O1xuXG5cdCAgICB0aGlzLl9tYXggPSBtYXg7XG5cdCAgICB0aGlzLl9taW4gPSBtaW47XG5cdCAgICB0aGlzLl9idWZmID0gW107XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2J1ZmYgPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICB0aGlzLl9idWZmID0gc2xpZGUodGhpcy5fYnVmZiwgeCwgdGhpcy5fbWF4KTtcblx0ICAgIGlmICh0aGlzLl9idWZmLmxlbmd0aCA+PSB0aGlzLl9taW4pIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHRoaXMuX2J1ZmYpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdzbGlkaW5nV2luZG93JywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdzbGlkaW5nV2luZG93JywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2xpZGluZ1dpbmRvdyhvYnMsIG1heCkge1xuXHQgIHZhciBtaW4gPSBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMl07XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBtaW46IG1pbiwgbWF4OiBtYXggfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgZm4gPSBfcmVmLmZuO1xuXHQgICAgdmFyIGZsdXNoT25FbmQgPSBfcmVmLmZsdXNoT25FbmQ7XG5cblx0ICAgIHRoaXMuX2ZuID0gZm47XG5cdCAgICB0aGlzLl9mbHVzaE9uRW5kID0gZmx1c2hPbkVuZDtcblx0ICAgIHRoaXMuX2J1ZmYgPSBbXTtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fYnVmZiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9mbHVzaDogZnVuY3Rpb24gX2ZsdXNoKCkge1xuXHQgICAgaWYgKHRoaXMuX2J1ZmYgIT09IG51bGwgJiYgdGhpcy5fYnVmZi5sZW5ndGggIT09IDApIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHRoaXMuX2J1ZmYpO1xuXHQgICAgICB0aGlzLl9idWZmID0gW107XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIHRoaXMuX2J1ZmYucHVzaCh4KTtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgaWYgKCFmbih4KSkge1xuXHQgICAgICB0aGlzLl9mbHVzaCgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlRW5kOiBmdW5jdGlvbiBfaGFuZGxlRW5kKCkge1xuXHQgICAgaWYgKHRoaXMuX2ZsdXNoT25FbmQpIHtcblx0ICAgICAgdGhpcy5fZmx1c2goKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnYnVmZmVyV2hpbGUnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ2J1ZmZlcldoaWxlJywgbWl4aW4pO1xuXG5cdHZhciBpZCA9IGZ1bmN0aW9uIGlkKHgpIHtcblx0ICByZXR1cm4geDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1ZmZlcldoaWxlKG9icywgZm4pIHtcblx0ICB2YXIgX3JlZjIgPSBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzJdO1xuXG5cdCAgdmFyIF9yZWYyJGZsdXNoT25FbmQgPSBfcmVmMi5mbHVzaE9uRW5kO1xuXHQgIHZhciBmbHVzaE9uRW5kID0gX3JlZjIkZmx1c2hPbkVuZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYyJGZsdXNoT25FbmQ7XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBmbjogZm4gfHwgaWQsIGZsdXNoT25FbmQ6IGZsdXNoT25FbmQgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIHhmb3JtRm9yT2JzKG9icykge1xuXHQgIHJldHVybiB7XG5cblx0ICAgICdAQHRyYW5zZHVjZXIvc3RlcCc6IGZ1bmN0aW9uIHRyYW5zZHVjZXJTdGVwKHJlcywgaW5wdXQpIHtcblx0ICAgICAgb2JzLl9lbWl0VmFsdWUoaW5wdXQpO1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH0sXG5cblx0ICAgICdAQHRyYW5zZHVjZXIvcmVzdWx0JzogZnVuY3Rpb24gdHJhbnNkdWNlclJlc3VsdChyZXMpIHtcblx0ICAgICAgb2JzLl9lbWl0RW5kKCk7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXG5cdCAgfTtcblx0fVxuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgdHJhbnNkdWNlciA9IF9yZWYudHJhbnNkdWNlcjtcblxuXHQgICAgdGhpcy5feGZvcm0gPSB0cmFuc2R1Y2VyKHhmb3JtRm9yT2JzKHRoaXMpKTtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5feGZvcm0gPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlVmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVWYWx1ZSh4KSB7XG5cdCAgICBpZiAodGhpcy5feGZvcm1bJ0BAdHJhbnNkdWNlci9zdGVwJ10obnVsbCwgeCkgIT09IG51bGwpIHtcblx0ICAgICAgdGhpcy5feGZvcm1bJ0BAdHJhbnNkdWNlci9yZXN1bHQnXShudWxsKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZUVuZDogZnVuY3Rpb24gX2hhbmRsZUVuZCgpIHtcblx0ICAgIHRoaXMuX3hmb3JtWydAQHRyYW5zZHVjZXIvcmVzdWx0J10obnVsbCk7XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3RyYW5zZHVjZScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgndHJhbnNkdWNlJywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNkdWNlKG9icywgdHJhbnNkdWNlcikge1xuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IHRyYW5zZHVjZXI6IHRyYW5zZHVjZXIgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBlbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cblx0ICAgIHRoaXMuX2hhbmRsZXIgPSBmbjtcblx0ICAgIHRoaXMuX2VtaXR0ZXIgPSBlbWl0dGVyKHRoaXMpO1xuXHQgIH0sXG5cblx0ICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7XG5cdCAgICB0aGlzLl9oYW5kbGVyID0gbnVsbDtcblx0ICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlQW55OiBmdW5jdGlvbiBfaGFuZGxlQW55KGV2ZW50KSB7XG5cdCAgICB0aGlzLl9oYW5kbGVyKHRoaXMuX2VtaXR0ZXIsIGV2ZW50KTtcblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnd2l0aEhhbmRsZXInLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3dpdGhIYW5kbGVyJywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2l0aEhhbmRsZXIob2JzLCBmbikge1xuXHQgIHJldHVybiBuZXcgKG9icy5fb2ZTYW1lVHlwZShTLCBQKSkob2JzLCB7IGZuOiBmbiB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDU3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIFN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgVkFMVUUgPSBfcmVxdWlyZS5WQUxVRTtcblx0dmFyIEVSUk9SID0gX3JlcXVpcmUuRVJST1I7XG5cdHZhciBOT1RISU5HID0gX3JlcXVpcmUuTk9USElORztcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlMi5pbmhlcml0O1xuXG5cdHZhciBfcmVxdWlyZTMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5cdHZhciBjb25jYXQgPSBfcmVxdWlyZTMuY29uY2F0O1xuXHR2YXIgZmlsbEFycmF5ID0gX3JlcXVpcmUzLmZpbGxBcnJheTtcblxuXHR2YXIgX3JlcXVpcmU0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cblx0dmFyIHNwcmVhZCA9IF9yZXF1aXJlNC5zcHJlYWQ7XG5cblx0dmFyIG5ldmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHRmdW5jdGlvbiBkZWZhdWx0RXJyb3JzQ29tYmluYXRvcihlcnJvcnMpIHtcblx0ICB2YXIgbGF0ZXN0RXJyb3IgPSB1bmRlZmluZWQ7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcnJvcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmIChlcnJvcnNbaV0gIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBpZiAobGF0ZXN0RXJyb3IgPT09IHVuZGVmaW5lZCB8fCBsYXRlc3RFcnJvci5pbmRleCA8IGVycm9yc1tpXS5pbmRleCkge1xuXHQgICAgICAgIGxhdGVzdEVycm9yID0gZXJyb3JzW2ldO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBsYXRlc3RFcnJvci5lcnJvcjtcblx0fVxuXG5cdGZ1bmN0aW9uIENvbWJpbmUoYWN0aXZlLCBwYXNzaXZlLCBjb21iaW5hdG9yKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgIFN0cmVhbS5jYWxsKHRoaXMpO1xuXHQgIHRoaXMuX2FjdGl2ZUNvdW50ID0gYWN0aXZlLmxlbmd0aDtcblx0ICB0aGlzLl9zb3VyY2VzID0gY29uY2F0KGFjdGl2ZSwgcGFzc2l2ZSk7XG5cdCAgdGhpcy5fY29tYmluYXRvciA9IGNvbWJpbmF0b3IgPyBzcHJlYWQoY29tYmluYXRvciwgdGhpcy5fc291cmNlcy5sZW5ndGgpIDogZnVuY3Rpb24gKHgpIHtcblx0ICAgIHJldHVybiB4O1xuXHQgIH07XG5cdCAgdGhpcy5fYWxpdmVDb3VudCA9IDA7XG5cdCAgdGhpcy5fbGF0ZXN0VmFsdWVzID0gbmV3IEFycmF5KHRoaXMuX3NvdXJjZXMubGVuZ3RoKTtcblx0ICB0aGlzLl9sYXRlc3RFcnJvcnMgPSBuZXcgQXJyYXkodGhpcy5fc291cmNlcy5sZW5ndGgpO1xuXHQgIGZpbGxBcnJheSh0aGlzLl9sYXRlc3RWYWx1ZXMsIE5PVEhJTkcpO1xuXHQgIHRoaXMuX2VtaXRBZnRlckFjdGl2YXRpb24gPSBmYWxzZTtcblx0ICB0aGlzLl9lbmRBZnRlckFjdGl2YXRpb24gPSBmYWxzZTtcblx0ICB0aGlzLl9sYXRlc3RFcnJvckluZGV4ID0gMDtcblxuXHQgIHRoaXMuXyRoYW5kbGVycyA9IFtdO1xuXG5cdCAgdmFyIF9sb29wID0gZnVuY3Rpb24gKGkpIHtcblx0ICAgIF90aGlzLl8kaGFuZGxlcnMucHVzaChmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVBbnkoaSwgZXZlbnQpO1xuXHQgICAgfSk7XG5cdCAgfTtcblxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgX2xvb3AoaSk7XG5cdCAgfVxuXHR9XG5cblx0aW5oZXJpdChDb21iaW5lLCBTdHJlYW0sIHtcblxuXHQgIF9uYW1lOiAnY29tYmluZScsXG5cblx0ICBfb25BY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25BY3RpdmF0aW9uKCkge1xuXHQgICAgdGhpcy5fYWxpdmVDb3VudCA9IHRoaXMuX2FjdGl2ZUNvdW50O1xuXG5cdCAgICAvLyB3ZSBuZWVkIHRvIHN1c2NyaWJlIHRvIF9wYXNzaXZlXyBzb3VyY2VzIGJlZm9yZSBfYWN0aXZlX1xuXHQgICAgLy8gKHNlZSBodHRwczovL2dpdGh1Yi5jb20vcnBvbWlub3Yva2VmaXIvaXNzdWVzLzk4KVxuXHQgICAgZm9yICh2YXIgaSA9IHRoaXMuX2FjdGl2ZUNvdW50OyBpIDwgdGhpcy5fc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB0aGlzLl9zb3VyY2VzW2ldLm9uQW55KHRoaXMuXyRoYW5kbGVyc1tpXSk7XG5cdCAgICB9XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2FjdGl2ZUNvdW50OyBpKyspIHtcblx0ICAgICAgdGhpcy5fc291cmNlc1tpXS5vbkFueSh0aGlzLl8kaGFuZGxlcnNbaV0pO1xuXHQgICAgfVxuXG5cdCAgICBpZiAodGhpcy5fZW1pdEFmdGVyQWN0aXZhdGlvbikge1xuXHQgICAgICB0aGlzLl9lbWl0QWZ0ZXJBY3RpdmF0aW9uID0gZmFsc2U7XG5cdCAgICAgIHRoaXMuX2VtaXRJZkZ1bGwoKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLl9lbmRBZnRlckFjdGl2YXRpb24pIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfb25EZWFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkRlYWN0aXZhdGlvbigpIHtcblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLl9zb3VyY2VzLmxlbmd0aCxcblx0ICAgICAgICBpID0gdW5kZWZpbmVkO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHRoaXMuX3NvdXJjZXNbaV0ub2ZmQW55KHRoaXMuXyRoYW5kbGVyc1tpXSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9lbWl0SWZGdWxsOiBmdW5jdGlvbiBfZW1pdElmRnVsbCgpIHtcblx0ICAgIHZhciBoYXNBbGxWYWx1ZXMgPSB0cnVlO1xuXHQgICAgdmFyIGhhc0Vycm9ycyA9IGZhbHNlO1xuXHQgICAgdmFyIGxlbmd0aCA9IHRoaXMuX2xhdGVzdFZhbHVlcy5sZW5ndGg7XG5cdCAgICB2YXIgdmFsdWVzQ29weSA9IG5ldyBBcnJheShsZW5ndGgpO1xuXHQgICAgdmFyIGVycm9yc0NvcHkgPSBuZXcgQXJyYXkobGVuZ3RoKTs7XG5cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFsdWVzQ29weVtpXSA9IHRoaXMuX2xhdGVzdFZhbHVlc1tpXTtcblx0ICAgICAgZXJyb3JzQ29weVtpXSA9IHRoaXMuX2xhdGVzdEVycm9yc1tpXTtcblxuXHQgICAgICBpZiAodmFsdWVzQ29weVtpXSA9PT0gTk9USElORykge1xuXHQgICAgICAgIGhhc0FsbFZhbHVlcyA9IGZhbHNlO1xuXHQgICAgICB9XG5cblx0ICAgICAgaWYgKGVycm9yc0NvcHlbaV0gIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYgKGhhc0FsbFZhbHVlcykge1xuXHQgICAgICB2YXIgY29tYmluYXRvciA9IHRoaXMuX2NvbWJpbmF0b3I7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZShjb21iaW5hdG9yKHZhbHVlc0NvcHkpKTtcblx0ICAgIH1cblx0ICAgIGlmIChoYXNFcnJvcnMpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVycm9yKGRlZmF1bHRFcnJvcnNDb21iaW5hdG9yKGVycm9yc0NvcHkpKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZUFueTogZnVuY3Rpb24gX2hhbmRsZUFueShpLCBldmVudCkge1xuXG5cdCAgICBpZiAoZXZlbnQudHlwZSA9PT0gVkFMVUUgfHwgZXZlbnQudHlwZSA9PT0gRVJST1IpIHtcblxuXHQgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gVkFMVUUpIHtcblx0ICAgICAgICB0aGlzLl9sYXRlc3RWYWx1ZXNbaV0gPSBldmVudC52YWx1ZTtcblx0ICAgICAgICB0aGlzLl9sYXRlc3RFcnJvcnNbaV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IEVSUk9SKSB7XG5cdCAgICAgICAgdGhpcy5fbGF0ZXN0VmFsdWVzW2ldID0gTk9USElORztcblx0ICAgICAgICB0aGlzLl9sYXRlc3RFcnJvcnNbaV0gPSB7XG5cdCAgICAgICAgICBpbmRleDogdGhpcy5fbGF0ZXN0RXJyb3JJbmRleCsrLFxuXHQgICAgICAgICAgZXJyb3I6IGV2ZW50LnZhbHVlXG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXG5cdCAgICAgIGlmIChpIDwgdGhpcy5fYWN0aXZlQ291bnQpIHtcblx0ICAgICAgICBpZiAodGhpcy5fYWN0aXZhdGluZykge1xuXHQgICAgICAgICAgdGhpcy5fZW1pdEFmdGVyQWN0aXZhdGlvbiA9IHRydWU7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHRoaXMuX2VtaXRJZkZ1bGwoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIEVORFxuXG5cdCAgICAgIGlmIChpIDwgdGhpcy5fYWN0aXZlQ291bnQpIHtcblx0ICAgICAgICB0aGlzLl9hbGl2ZUNvdW50LS07XG5cdCAgICAgICAgaWYgKHRoaXMuX2FsaXZlQ291bnQgPT09IDApIHtcblx0ICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmF0aW5nKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2VuZEFmdGVyQWN0aXZhdGlvbiA9IHRydWU7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9jbGVhcjogZnVuY3Rpb24gX2NsZWFyKCkge1xuXHQgICAgU3RyZWFtLnByb3RvdHlwZS5fY2xlYXIuY2FsbCh0aGlzKTtcblx0ICAgIHRoaXMuX3NvdXJjZXMgPSBudWxsO1xuXHQgICAgdGhpcy5fbGF0ZXN0VmFsdWVzID0gbnVsbDtcblx0ICAgIHRoaXMuX2xhdGVzdEVycm9ycyA9IG51bGw7XG5cdCAgICB0aGlzLl9jb21iaW5hdG9yID0gbnVsbDtcblx0ICAgIHRoaXMuXyRoYW5kbGVycyA9IG51bGw7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZShhY3RpdmUsIF94LCBjb21iaW5hdG9yKSB7XG5cdCAgdmFyIHBhc3NpdmUgPSBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJndW1lbnRzWzFdO1xuXG5cdCAgaWYgKHR5cGVvZiBwYXNzaXZlID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICBjb21iaW5hdG9yID0gcGFzc2l2ZTtcblx0ICAgIHBhc3NpdmUgPSBbXTtcblx0ICB9XG5cdCAgcmV0dXJuIGFjdGl2ZS5sZW5ndGggPT09IDAgPyBuZXZlcigpIDogbmV3IENvbWJpbmUoYWN0aXZlLCBwYXNzaXZlLCBjb21iaW5hdG9yKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDU4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIFN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgVkFMVUUgPSBfcmVxdWlyZS5WQUxVRTtcblx0dmFyIEVSUk9SID0gX3JlcXVpcmUuRVJST1I7XG5cdHZhciBFTkQgPSBfcmVxdWlyZS5FTkQ7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZTIuaW5oZXJpdDtcblxuXHR2YXIgX3JlcXVpcmUzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgbWFwID0gX3JlcXVpcmUzLm1hcDtcblx0dmFyIGNsb25lQXJyYXkgPSBfcmVxdWlyZTMuY2xvbmVBcnJheTtcblxuXHR2YXIgX3JlcXVpcmU0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cblx0dmFyIHNwcmVhZCA9IF9yZXF1aXJlNC5zcHJlYWQ7XG5cblx0dmFyIG5ldmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblxuXHR2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG5cdCAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH07XG5cblx0ZnVuY3Rpb24gWmlwKHNvdXJjZXMsIGNvbWJpbmF0b3IpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdCAgU3RyZWFtLmNhbGwodGhpcyk7XG5cblx0ICB0aGlzLl9idWZmZXJzID0gbWFwKHNvdXJjZXMsIGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0ICAgIHJldHVybiBpc0FycmF5KHNvdXJjZSkgPyBjbG9uZUFycmF5KHNvdXJjZSkgOiBbXTtcblx0ICB9KTtcblx0ICB0aGlzLl9zb3VyY2VzID0gbWFwKHNvdXJjZXMsIGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0ICAgIHJldHVybiBpc0FycmF5KHNvdXJjZSkgPyBuZXZlcigpIDogc291cmNlO1xuXHQgIH0pO1xuXG5cdCAgdGhpcy5fY29tYmluYXRvciA9IGNvbWJpbmF0b3IgPyBzcHJlYWQoY29tYmluYXRvciwgdGhpcy5fc291cmNlcy5sZW5ndGgpIDogZnVuY3Rpb24gKHgpIHtcblx0ICAgIHJldHVybiB4O1xuXHQgIH07XG5cdCAgdGhpcy5fYWxpdmVDb3VudCA9IDA7XG5cblx0ICB0aGlzLl8kaGFuZGxlcnMgPSBbXTtcblxuXHQgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIChpKSB7XG5cdCAgICBfdGhpcy5fJGhhbmRsZXJzLnB1c2goZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIHJldHVybiBfdGhpcy5faGFuZGxlQW55KGksIGV2ZW50KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3NvdXJjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgIF9sb29wKGkpO1xuXHQgIH1cblx0fVxuXG5cdGluaGVyaXQoWmlwLCBTdHJlYW0sIHtcblxuXHQgIF9uYW1lOiAnemlwJyxcblxuXHQgIF9vbkFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkFjdGl2YXRpb24oKSB7XG5cblx0ICAgIC8vIGlmIGFsbCBzb3VyY2VzIGFyZSBhcnJheXNcblx0ICAgIHdoaWxlICh0aGlzLl9pc0Z1bGwoKSkge1xuXHQgICAgICB0aGlzLl9lbWl0KCk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBsZW5ndGggPSB0aGlzLl9zb3VyY2VzLmxlbmd0aDtcblx0ICAgIHRoaXMuX2FsaXZlQ291bnQgPSBsZW5ndGg7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aCAmJiB0aGlzLl9hY3RpdmU7IGkrKykge1xuXHQgICAgICB0aGlzLl9zb3VyY2VzW2ldLm9uQW55KHRoaXMuXyRoYW5kbGVyc1tpXSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9vbkRlYWN0aXZhdGlvbjogZnVuY3Rpb24gX29uRGVhY3RpdmF0aW9uKCkge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9zb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHRoaXMuX3NvdXJjZXNbaV0ub2ZmQW55KHRoaXMuXyRoYW5kbGVyc1tpXSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9lbWl0OiBmdW5jdGlvbiBfZW1pdCgpIHtcblx0ICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkodGhpcy5fYnVmZmVycy5sZW5ndGgpO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhbHVlc1tpXSA9IHRoaXMuX2J1ZmZlcnNbaV0uc2hpZnQoKTtcblx0ICAgIH1cblx0ICAgIHZhciBjb21iaW5hdG9yID0gdGhpcy5fY29tYmluYXRvcjtcblx0ICAgIHRoaXMuX2VtaXRWYWx1ZShjb21iaW5hdG9yKHZhbHVlcykpO1xuXHQgIH0sXG5cblx0ICBfaXNGdWxsOiBmdW5jdGlvbiBfaXNGdWxsKCkge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmICh0aGlzLl9idWZmZXJzW2ldLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVBbnk6IGZ1bmN0aW9uIF9oYW5kbGVBbnkoaSwgZXZlbnQpIHtcblx0ICAgIGlmIChldmVudC50eXBlID09PSBWQUxVRSkge1xuXHQgICAgICB0aGlzLl9idWZmZXJzW2ldLnB1c2goZXZlbnQudmFsdWUpO1xuXHQgICAgICBpZiAodGhpcy5faXNGdWxsKCkpIHtcblx0ICAgICAgICB0aGlzLl9lbWl0KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChldmVudC50eXBlID09PSBFUlJPUikge1xuXHQgICAgICB0aGlzLl9lbWl0RXJyb3IoZXZlbnQudmFsdWUpO1xuXHQgICAgfVxuXHQgICAgaWYgKGV2ZW50LnR5cGUgPT09IEVORCkge1xuXHQgICAgICB0aGlzLl9hbGl2ZUNvdW50LS07XG5cdCAgICAgIGlmICh0aGlzLl9hbGl2ZUNvdW50ID09PSAwKSB7XG5cdCAgICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9jbGVhcjogZnVuY3Rpb24gX2NsZWFyKCkge1xuXHQgICAgU3RyZWFtLnByb3RvdHlwZS5fY2xlYXIuY2FsbCh0aGlzKTtcblx0ICAgIHRoaXMuX3NvdXJjZXMgPSBudWxsO1xuXHQgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG5cdCAgICB0aGlzLl9jb21iaW5hdG9yID0gbnVsbDtcblx0ICAgIHRoaXMuXyRoYW5kbGVycyA9IG51bGw7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gemlwKG9ic2VydmFibGVzLCBjb21iaW5hdG9yIC8qIEZ1bmN0aW9uIHwgZmFsc2V5ICovKSB7XG5cdCAgcmV0dXJuIG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMCA/IG5ldmVyKCkgOiBuZXcgWmlwKG9ic2VydmFibGVzLCBjb21iaW5hdG9yKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDU5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlLmluaGVyaXQ7XG5cblx0dmFyIEFic3RyYWN0UG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXHR2YXIgbmV2ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5cdGZ1bmN0aW9uIE1lcmdlKHNvdXJjZXMpIHtcblx0ICBBYnN0cmFjdFBvb2wuY2FsbCh0aGlzKTtcblx0ICB0aGlzLl9hZGRBbGwoc291cmNlcyk7XG5cdCAgdGhpcy5faW5pdGlhbGlzZWQgPSB0cnVlO1xuXHR9XG5cblx0aW5oZXJpdChNZXJnZSwgQWJzdHJhY3RQb29sLCB7XG5cblx0ICBfbmFtZTogJ21lcmdlJyxcblxuXHQgIF9vbkVtcHR5OiBmdW5jdGlvbiBfb25FbXB0eSgpIHtcblx0ICAgIGlmICh0aGlzLl9pbml0aWFsaXNlZCkge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWVyZ2Uob2JzZXJ2YWJsZXMpIHtcblx0ICByZXR1cm4gb2JzZXJ2YWJsZXMubGVuZ3RoID09PSAwID8gbmV2ZXIoKSA6IG5ldyBNZXJnZShvYnNlcnZhYmxlcyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBTdHJlYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIFZBTFVFID0gX3JlcXVpcmUuVkFMVUU7XG5cdHZhciBFUlJPUiA9IF9yZXF1aXJlLkVSUk9SO1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUyLmluaGVyaXQ7XG5cblx0dmFyIF9yZXF1aXJlMyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0dmFyIGNvbmNhdCA9IF9yZXF1aXJlMy5jb25jYXQ7XG5cdHZhciBmb3JFYWNoID0gX3JlcXVpcmUzLmZvckVhY2g7XG5cdHZhciBmaW5kQnlQcmVkID0gX3JlcXVpcmUzLmZpbmRCeVByZWQ7XG5cdHZhciBmaW5kID0gX3JlcXVpcmUzLmZpbmQ7XG5cdHZhciByZW1vdmUgPSBfcmVxdWlyZTMucmVtb3ZlO1xuXHR2YXIgY2xvbmVBcnJheSA9IF9yZXF1aXJlMy5jbG9uZUFycmF5O1xuXG5cdHZhciBpZCA9IGZ1bmN0aW9uIGlkKHgpIHtcblx0ICByZXR1cm4geDtcblx0fTtcblxuXHRmdW5jdGlvbiBBYnN0cmFjdFBvb2woKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgIHZhciBfcmVmID0gYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuXHQgIHZhciBfcmVmJHF1ZXVlTGltID0gX3JlZi5xdWV1ZUxpbTtcblx0ICB2YXIgcXVldWVMaW0gPSBfcmVmJHF1ZXVlTGltID09PSB1bmRlZmluZWQgPyAwIDogX3JlZiRxdWV1ZUxpbTtcblx0ICB2YXIgX3JlZiRjb25jdXJMaW0gPSBfcmVmLmNvbmN1ckxpbTtcblx0ICB2YXIgY29uY3VyTGltID0gX3JlZiRjb25jdXJMaW0gPT09IHVuZGVmaW5lZCA/IC0xIDogX3JlZiRjb25jdXJMaW07XG5cdCAgdmFyIF9yZWYkZHJvcCA9IF9yZWYuZHJvcDtcblx0ICB2YXIgZHJvcCA9IF9yZWYkZHJvcCA9PT0gdW5kZWZpbmVkID8gJ25ldycgOiBfcmVmJGRyb3A7XG5cblx0ICBTdHJlYW0uY2FsbCh0aGlzKTtcblxuXHQgIHRoaXMuX3F1ZXVlTGltID0gcXVldWVMaW0gPCAwID8gLTEgOiBxdWV1ZUxpbTtcblx0ICB0aGlzLl9jb25jdXJMaW0gPSBjb25jdXJMaW0gPCAwID8gLTEgOiBjb25jdXJMaW07XG5cdCAgdGhpcy5fZHJvcCA9IGRyb3A7XG5cdCAgdGhpcy5fcXVldWUgPSBbXTtcblx0ICB0aGlzLl9jdXJTb3VyY2VzID0gW107XG5cdCAgdGhpcy5fJGhhbmRsZVN1YkFueSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVTdWJBbnkoZXZlbnQpO1xuXHQgIH07XG5cdCAgdGhpcy5fJGVuZEhhbmRsZXJzID0gW107XG5cdCAgdGhpcy5fY3VycmVudGx5QWRkaW5nID0gbnVsbDtcblxuXHQgIGlmICh0aGlzLl9jb25jdXJMaW0gPT09IDApIHtcblx0ICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICB9XG5cdH1cblxuXHRpbmhlcml0KEFic3RyYWN0UG9vbCwgU3RyZWFtLCB7XG5cblx0ICBfbmFtZTogJ2Fic3RyYWN0UG9vbCcsXG5cblx0ICBfYWRkOiBmdW5jdGlvbiBfYWRkKG9iaiwgdG9PYnMgLyogRnVuY3Rpb24gfCBmYWxzZXkgKi8pIHtcblx0ICAgIHRvT2JzID0gdG9PYnMgfHwgaWQ7XG5cdCAgICBpZiAodGhpcy5fY29uY3VyTGltID09PSAtMSB8fCB0aGlzLl9jdXJTb3VyY2VzLmxlbmd0aCA8IHRoaXMuX2NvbmN1ckxpbSkge1xuXHQgICAgICB0aGlzLl9hZGRUb0N1cih0b09icyhvYmopKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh0aGlzLl9xdWV1ZUxpbSA9PT0gLTEgfHwgdGhpcy5fcXVldWUubGVuZ3RoIDwgdGhpcy5fcXVldWVMaW0pIHtcblx0ICAgICAgICB0aGlzLl9hZGRUb1F1ZXVlKHRvT2JzKG9iaikpO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMuX2Ryb3AgPT09ICdvbGQnKSB7XG5cdCAgICAgICAgdGhpcy5fcmVtb3ZlT2xkZXN0KCk7XG5cdCAgICAgICAgdGhpcy5fYWRkKG9iaiwgdG9PYnMpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9hZGRBbGw6IGZ1bmN0aW9uIF9hZGRBbGwob2Jzcykge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cblx0ICAgIGZvckVhY2gob2JzcywgZnVuY3Rpb24gKG9icykge1xuXHQgICAgICByZXR1cm4gX3RoaXMyLl9hZGQob2JzKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cblx0ICBfcmVtb3ZlOiBmdW5jdGlvbiBfcmVtb3ZlKG9icykge1xuXHQgICAgaWYgKHRoaXMuX3JlbW92ZUN1cihvYnMpID09PSAtMSkge1xuXHQgICAgICB0aGlzLl9yZW1vdmVRdWV1ZShvYnMpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfYWRkVG9RdWV1ZTogZnVuY3Rpb24gX2FkZFRvUXVldWUob2JzKSB7XG5cdCAgICB0aGlzLl9xdWV1ZSA9IGNvbmNhdCh0aGlzLl9xdWV1ZSwgW29ic10pO1xuXHQgIH0sXG5cblx0ICBfYWRkVG9DdXI6IGZ1bmN0aW9uIF9hZGRUb0N1cihvYnMpIHtcblx0ICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcblxuXHQgICAgICAvLyBIQUNLOlxuXHQgICAgICAvL1xuXHQgICAgICAvLyBXZSBoYXZlIHR3byBvcHRpbWl6YXRpb25zIGZvciBjYXNlcyB3aGVuIGBvYnNgIGlzIGVuZGVkLiBXZSBkb24ndCB3YW50XG5cdCAgICAgIC8vIHRvIGFkZCBzdWNoIG9ic2VydmFibGUgdG8gdGhlIGxpc3QsIGJ1dCBvbmx5IHdhbnQgdG8gZW1pdCBldmVudHNcblx0ICAgICAgLy8gZnJvbSBpdCAoaWYgaXQgaGFzIHNvbWUpLlxuXHQgICAgICAvL1xuXHQgICAgICAvLyBJbnN0ZWFkIG9mIHRoaXMgaGFja3MsIHdlIGNvdWxkIGp1c3QgZGlkIGZvbGxvd2luZyxcblx0ICAgICAgLy8gYnV0IGl0IHdvdWxkIGJlIDUtOCB0aW1lcyBzbG93ZXI6XG5cdCAgICAgIC8vXG5cdCAgICAgIC8vICAgICB0aGlzLl9jdXJTb3VyY2VzID0gY29uY2F0KHRoaXMuX2N1clNvdXJjZXMsIFtvYnNdKTtcblx0ICAgICAgLy8gICAgIHRoaXMuX3N1YnNjcmliZShvYnMpO1xuXHQgICAgICAvL1xuXG5cdCAgICAgIC8vICMxXG5cdCAgICAgIC8vIFRoaXMgb25lIGZvciBjYXNlcyB3aGVuIGBvYnNgIGFscmVhZHkgZW5kZWRcblx0ICAgICAgLy8gZS5nLiwgS2VmaXIuY29uc3RhbnQoKSBvciBLZWZpci5uZXZlcigpXG5cdCAgICAgIGlmICghb2JzLl9hbGl2ZSkge1xuXHQgICAgICAgIGlmIChvYnMuX2N1cnJlbnRFdmVudCkge1xuXHQgICAgICAgICAgdGhpcy5fZW1pdChvYnMuX2N1cnJlbnRFdmVudC50eXBlLCBvYnMuX2N1cnJlbnRFdmVudC52YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXG5cdCAgICAgIC8vICMyXG5cdCAgICAgIC8vIFRoaXMgb25lIGlzIGZvciBjYXNlcyB3aGVuIGBvYnNgIGdvaW5nIHRvIGVuZCBzeW5jaHJvbm91c2x5IG9uXG5cdCAgICAgIC8vIGZpcnN0IHN1YnNjcmliZXIgZS5nLiwgS2VmaXIuc3RyZWFtKGVtID0+IHtlbS5lbWl0KDEpOyBlbS5lbmQoKX0pXG5cdCAgICAgIHRoaXMuX2N1cnJlbnRseUFkZGluZyA9IG9icztcblx0ICAgICAgb2JzLm9uQW55KHRoaXMuXyRoYW5kbGVTdWJBbnkpO1xuXHQgICAgICB0aGlzLl9jdXJyZW50bHlBZGRpbmcgPSBudWxsO1xuXHQgICAgICBpZiAob2JzLl9hbGl2ZSkge1xuXHQgICAgICAgIHRoaXMuX2N1clNvdXJjZXMgPSBjb25jYXQodGhpcy5fY3VyU291cmNlcywgW29ic10pO1xuXHQgICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcblx0ICAgICAgICAgIHRoaXMuX3N1YlRvRW5kKG9icyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLl9jdXJTb3VyY2VzID0gY29uY2F0KHRoaXMuX2N1clNvdXJjZXMsIFtvYnNdKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX3N1YlRvRW5kOiBmdW5jdGlvbiBfc3ViVG9FbmQob2JzKSB7XG5cdCAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuXHQgICAgdmFyIG9uRW5kID0gZnVuY3Rpb24gb25FbmQoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczMuX3JlbW92ZUN1cihvYnMpO1xuXHQgICAgfTtcblx0ICAgIHRoaXMuXyRlbmRIYW5kbGVycy5wdXNoKHsgb2JzOiBvYnMsIGhhbmRsZXI6IG9uRW5kIH0pO1xuXHQgICAgb2JzLm9uRW5kKG9uRW5kKTtcblx0ICB9LFxuXG5cdCAgX3N1YnNjcmliZTogZnVuY3Rpb24gX3N1YnNjcmliZShvYnMpIHtcblx0ICAgIG9icy5vbkFueSh0aGlzLl8kaGFuZGxlU3ViQW55KTtcblxuXHQgICAgLy8gaXQgY2FuIGJlY29tZSBpbmFjdGl2ZSBpbiByZXNwb25jZSBvZiBzdWJzY3JpYmluZyB0byBgb2JzLm9uQW55YCBhYm92ZVxuXHQgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuXHQgICAgICB0aGlzLl9zdWJUb0VuZChvYnMpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIF91bnN1YnNjcmliZShvYnMpIHtcblx0ICAgIG9icy5vZmZBbnkodGhpcy5fJGhhbmRsZVN1YkFueSk7XG5cblx0ICAgIHZhciBvbkVuZEkgPSBmaW5kQnlQcmVkKHRoaXMuXyRlbmRIYW5kbGVycywgZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICByZXR1cm4gb2JqLm9icyA9PT0gb2JzO1xuXHQgICAgfSk7XG5cdCAgICBpZiAob25FbmRJICE9PSAtMSkge1xuXHQgICAgICBvYnMub2ZmRW5kKHRoaXMuXyRlbmRIYW5kbGVyc1tvbkVuZEldLmhhbmRsZXIpO1xuXHQgICAgICB0aGlzLl8kZW5kSGFuZGxlcnMuc3BsaWNlKG9uRW5kSSwgMSk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVTdWJBbnk6IGZ1bmN0aW9uIF9oYW5kbGVTdWJBbnkoZXZlbnQpIHtcblx0ICAgIGlmIChldmVudC50eXBlID09PSBWQUxVRSkge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoZXZlbnQudmFsdWUpO1xuXHQgICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSBFUlJPUikge1xuXHQgICAgICB0aGlzLl9lbWl0RXJyb3IoZXZlbnQudmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfcmVtb3ZlUXVldWU6IGZ1bmN0aW9uIF9yZW1vdmVRdWV1ZShvYnMpIHtcblx0ICAgIHZhciBpbmRleCA9IGZpbmQodGhpcy5fcXVldWUsIG9icyk7XG5cdCAgICB0aGlzLl9xdWV1ZSA9IHJlbW92ZSh0aGlzLl9xdWV1ZSwgaW5kZXgpO1xuXHQgICAgcmV0dXJuIGluZGV4O1xuXHQgIH0sXG5cblx0ICBfcmVtb3ZlQ3VyOiBmdW5jdGlvbiBfcmVtb3ZlQ3VyKG9icykge1xuXHQgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuXHQgICAgICB0aGlzLl91bnN1YnNjcmliZShvYnMpO1xuXHQgICAgfVxuXHQgICAgdmFyIGluZGV4ID0gZmluZCh0aGlzLl9jdXJTb3VyY2VzLCBvYnMpO1xuXHQgICAgdGhpcy5fY3VyU291cmNlcyA9IHJlbW92ZSh0aGlzLl9jdXJTb3VyY2VzLCBpbmRleCk7XG5cdCAgICBpZiAoaW5kZXggIT09IC0xKSB7XG5cdCAgICAgIGlmICh0aGlzLl9xdWV1ZS5sZW5ndGggIT09IDApIHtcblx0ICAgICAgICB0aGlzLl9wdWxsUXVldWUoKTtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLl9jdXJTb3VyY2VzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIHRoaXMuX29uRW1wdHkoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGluZGV4O1xuXHQgIH0sXG5cblx0ICBfcmVtb3ZlT2xkZXN0OiBmdW5jdGlvbiBfcmVtb3ZlT2xkZXN0KCkge1xuXHQgICAgdGhpcy5fcmVtb3ZlQ3VyKHRoaXMuX2N1clNvdXJjZXNbMF0pO1xuXHQgIH0sXG5cblx0ICBfcHVsbFF1ZXVlOiBmdW5jdGlvbiBfcHVsbFF1ZXVlKCkge1xuXHQgICAgaWYgKHRoaXMuX3F1ZXVlLmxlbmd0aCAhPT0gMCkge1xuXHQgICAgICB0aGlzLl9xdWV1ZSA9IGNsb25lQXJyYXkodGhpcy5fcXVldWUpO1xuXHQgICAgICB0aGlzLl9hZGRUb0N1cih0aGlzLl9xdWV1ZS5zaGlmdCgpKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX29uQWN0aXZhdGlvbjogZnVuY3Rpb24gX29uQWN0aXZhdGlvbigpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwLCBzb3VyY2VzID0gdGhpcy5fY3VyU291cmNlczsgaSA8IHNvdXJjZXMubGVuZ3RoICYmIHRoaXMuX2FjdGl2ZTsgaSsrKSB7XG5cdCAgICAgIHRoaXMuX3N1YnNjcmliZShzb3VyY2VzW2ldKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX29uRGVhY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25EZWFjdGl2YXRpb24oKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMCwgc291cmNlcyA9IHRoaXMuX2N1clNvdXJjZXM7IGkgPCBzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlKHNvdXJjZXNbaV0pO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMuX2N1cnJlbnRseUFkZGluZyAhPT0gbnVsbCkge1xuXHQgICAgICB0aGlzLl91bnN1YnNjcmliZSh0aGlzLl9jdXJyZW50bHlBZGRpbmcpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaXNFbXB0eTogZnVuY3Rpb24gX2lzRW1wdHkoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fY3VyU291cmNlcy5sZW5ndGggPT09IDA7XG5cdCAgfSxcblxuXHQgIF9vbkVtcHR5OiBmdW5jdGlvbiBfb25FbXB0eSgpIHt9LFxuXG5cdCAgX2NsZWFyOiBmdW5jdGlvbiBfY2xlYXIoKSB7XG5cdCAgICBTdHJlYW0ucHJvdG90eXBlLl9jbGVhci5jYWxsKHRoaXMpO1xuXHQgICAgdGhpcy5fcXVldWUgPSBudWxsO1xuXHQgICAgdGhpcy5fY3VyU291cmNlcyA9IG51bGw7XG5cdCAgICB0aGlzLl8kaGFuZGxlU3ViQW55ID0gbnVsbDtcblx0ICAgIHRoaXMuXyRlbmRIYW5kbGVycyA9IG51bGw7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gQWJzdHJhY3RQb29sO1xuXG4vKioqLyB9LFxuLyogNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgcmVwZWF0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb25jYXQob2JzZXJ2YWJsZXMpIHtcblx0ICByZXR1cm4gcmVwZWF0KGZ1bmN0aW9uIChpbmRleCkge1xuXHQgICAgcmV0dXJuIG9ic2VydmFibGVzLmxlbmd0aCA+IGluZGV4ID8gb2JzZXJ2YWJsZXNbaW5kZXhdIDogZmFsc2U7XG5cdCAgfSkuc2V0TmFtZSgnY29uY2F0Jyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZS5pbmhlcml0O1xuXG5cdHZhciBTdHJlYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdHZhciBFTkQgPSBfcmVxdWlyZTIuRU5EO1xuXG5cdGZ1bmN0aW9uIFMoZ2VuZXJhdG9yKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgIFN0cmVhbS5jYWxsKHRoaXMpO1xuXHQgIHRoaXMuX2dlbmVyYXRvciA9IGdlbmVyYXRvcjtcblx0ICB0aGlzLl9zb3VyY2UgPSBudWxsO1xuXHQgIHRoaXMuX2luTG9vcCA9IGZhbHNlO1xuXHQgIHRoaXMuX2l0ZXJhdGlvbiA9IDA7XG5cdCAgdGhpcy5fJGhhbmRsZUFueSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVBbnkoZXZlbnQpO1xuXHQgIH07XG5cdH1cblxuXHRpbmhlcml0KFMsIFN0cmVhbSwge1xuXG5cdCAgX25hbWU6ICdyZXBlYXQnLFxuXG5cdCAgX2hhbmRsZUFueTogZnVuY3Rpb24gX2hhbmRsZUFueShldmVudCkge1xuXHQgICAgaWYgKGV2ZW50LnR5cGUgPT09IEVORCkge1xuXHQgICAgICB0aGlzLl9zb3VyY2UgPSBudWxsO1xuXHQgICAgICB0aGlzLl9nZXRTb3VyY2UoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMuX2VtaXQoZXZlbnQudHlwZSwgZXZlbnQudmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfZ2V0U291cmNlOiBmdW5jdGlvbiBfZ2V0U291cmNlKCkge1xuXHQgICAgaWYgKCF0aGlzLl9pbkxvb3ApIHtcblx0ICAgICAgdGhpcy5faW5Mb29wID0gdHJ1ZTtcblx0ICAgICAgdmFyIGdlbmVyYXRvciA9IHRoaXMuX2dlbmVyYXRvcjtcblx0ICAgICAgd2hpbGUgKHRoaXMuX3NvdXJjZSA9PT0gbnVsbCAmJiB0aGlzLl9hbGl2ZSAmJiB0aGlzLl9hY3RpdmUpIHtcblx0ICAgICAgICB0aGlzLl9zb3VyY2UgPSBnZW5lcmF0b3IodGhpcy5faXRlcmF0aW9uKyspO1xuXHQgICAgICAgIGlmICh0aGlzLl9zb3VyY2UpIHtcblx0ICAgICAgICAgIHRoaXMuX3NvdXJjZS5vbkFueSh0aGlzLl8kaGFuZGxlQW55KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICB0aGlzLl9pbkxvb3AgPSBmYWxzZTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX29uQWN0aXZhdGlvbjogZnVuY3Rpb24gX29uQWN0aXZhdGlvbigpIHtcblx0ICAgIGlmICh0aGlzLl9zb3VyY2UpIHtcblx0ICAgICAgdGhpcy5fc291cmNlLm9uQW55KHRoaXMuXyRoYW5kbGVBbnkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5fZ2V0U291cmNlKCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9vbkRlYWN0aXZhdGlvbjogZnVuY3Rpb24gX29uRGVhY3RpdmF0aW9uKCkge1xuXHQgICAgaWYgKHRoaXMuX3NvdXJjZSkge1xuXHQgICAgICB0aGlzLl9zb3VyY2Uub2ZmQW55KHRoaXMuXyRoYW5kbGVBbnkpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfY2xlYXI6IGZ1bmN0aW9uIF9jbGVhcigpIHtcblx0ICAgIFN0cmVhbS5wcm90b3R5cGUuX2NsZWFyLmNhbGwodGhpcyk7XG5cdCAgICB0aGlzLl9nZW5lcmF0b3IgPSBudWxsO1xuXHQgICAgdGhpcy5fc291cmNlID0gbnVsbDtcblx0ICAgIHRoaXMuXyRoYW5kbGVBbnkgPSBudWxsO1xuXHQgIH1cblxuXHR9KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChnZW5lcmF0b3IpIHtcblx0ICByZXR1cm4gbmV3IFMoZ2VuZXJhdG9yKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDYzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlLmluaGVyaXQ7XG5cblx0dmFyIEFic3RyYWN0UG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXG5cdGZ1bmN0aW9uIFBvb2woKSB7XG5cdCAgQWJzdHJhY3RQb29sLmNhbGwodGhpcyk7XG5cdH1cblxuXHRpbmhlcml0KFBvb2wsIEFic3RyYWN0UG9vbCwge1xuXG5cdCAgX25hbWU6ICdwb29sJyxcblxuXHQgIHBsdWc6IGZ1bmN0aW9uIHBsdWcob2JzKSB7XG5cdCAgICB0aGlzLl9hZGQob2JzKTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cblx0ICB1bnBsdWc6IGZ1bmN0aW9uIHVucGx1ZyhvYnMpIHtcblx0ICAgIHRoaXMuX3JlbW92ZShvYnMpO1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gUG9vbDtcblxuLyoqKi8gfSxcbi8qIDY0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgVkFMVUUgPSBfcmVxdWlyZS5WQUxVRTtcblx0dmFyIEVSUk9SID0gX3JlcXVpcmUuRVJST1I7XG5cdHZhciBFTkQgPSBfcmVxdWlyZS5FTkQ7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZTIuaW5oZXJpdDtcblxuXHR2YXIgQWJzdHJhY3RQb29sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG5cblx0ZnVuY3Rpb24gRmxhdE1hcChzb3VyY2UsIGZuLCBvcHRpb25zKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgIEFic3RyYWN0UG9vbC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXHQgIHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcblx0ICB0aGlzLl9mbiA9IGZuO1xuXHQgIHRoaXMuX21haW5FbmRlZCA9IGZhbHNlO1xuXHQgIHRoaXMuX2xhc3RDdXJyZW50ID0gbnVsbDtcblx0ICB0aGlzLl8kaGFuZGxlTWFpbiA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVNYWluKGV2ZW50KTtcblx0ICB9O1xuXHR9XG5cblx0aW5oZXJpdChGbGF0TWFwLCBBYnN0cmFjdFBvb2wsIHtcblxuXHQgIF9vbkFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkFjdGl2YXRpb24oKSB7XG5cdCAgICBBYnN0cmFjdFBvb2wucHJvdG90eXBlLl9vbkFjdGl2YXRpb24uY2FsbCh0aGlzKTtcblx0ICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcblx0ICAgICAgdGhpcy5fc291cmNlLm9uQW55KHRoaXMuXyRoYW5kbGVNYWluKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX29uRGVhY3RpdmF0aW9uOiBmdW5jdGlvbiBfb25EZWFjdGl2YXRpb24oKSB7XG5cdCAgICBBYnN0cmFjdFBvb2wucHJvdG90eXBlLl9vbkRlYWN0aXZhdGlvbi5jYWxsKHRoaXMpO1xuXHQgICAgdGhpcy5fc291cmNlLm9mZkFueSh0aGlzLl8kaGFuZGxlTWFpbik7XG5cdCAgICB0aGlzLl9oYWROb0V2U2luY2VEZWFjdCA9IHRydWU7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVNYWluOiBmdW5jdGlvbiBfaGFuZGxlTWFpbihldmVudCkge1xuXG5cdCAgICBpZiAoZXZlbnQudHlwZSA9PT0gVkFMVUUpIHtcblx0ICAgICAgLy8gSXMgbGF0ZXN0IHZhbHVlIGJlZm9yZSBkZWFjdGl2YXRpb24gc3Vydml2ZWQsIGFuZCBub3cgaXMgJ2N1cnJlbnQnIG9uIHRoaXMgYWN0aXZhdGlvbj9cblx0ICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBoYW5kbGUgc3VjaCB2YWx1ZXMsIHRvIHByZXZlbnQgdG8gY29uc3RhbnRseSBhZGRcblx0ICAgICAgLy8gc2FtZSBvYnNlcnZhbGUgb24gZWFjaCBhY3RpdmF0aW9uL2RlYWN0aXZhdGlvbiB3aGVuIG91ciBtYWluIHNvdXJjZVxuXHQgICAgICAvLyBpcyBhIGBLZWZpci5jb25hdGFudCgpYCBmb3IgZXhhbXBsZS5cblx0ICAgICAgdmFyIHNhbWVDdXJyID0gdGhpcy5fYWN0aXZhdGluZyAmJiB0aGlzLl9oYWROb0V2U2luY2VEZWFjdCAmJiB0aGlzLl9sYXN0Q3VycmVudCA9PT0gZXZlbnQudmFsdWU7XG5cdCAgICAgIGlmICghc2FtZUN1cnIpIHtcblx0ICAgICAgICB0aGlzLl9hZGQoZXZlbnQudmFsdWUsIHRoaXMuX2ZuKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLl9sYXN0Q3VycmVudCA9IGV2ZW50LnZhbHVlO1xuXHQgICAgICB0aGlzLl9oYWROb0V2U2luY2VEZWFjdCA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoZXZlbnQudHlwZSA9PT0gRVJST1IpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVycm9yKGV2ZW50LnZhbHVlKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGV2ZW50LnR5cGUgPT09IEVORCkge1xuXHQgICAgICBpZiAodGhpcy5faXNFbXB0eSgpKSB7XG5cdCAgICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX21haW5FbmRlZCA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX29uRW1wdHk6IGZ1bmN0aW9uIF9vbkVtcHR5KCkge1xuXHQgICAgaWYgKHRoaXMuX21haW5FbmRlZCkge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9jbGVhcjogZnVuY3Rpb24gX2NsZWFyKCkge1xuXHQgICAgQWJzdHJhY3RQb29sLnByb3RvdHlwZS5fY2xlYXIuY2FsbCh0aGlzKTtcblx0ICAgIHRoaXMuX3NvdXJjZSA9IG51bGw7XG5cdCAgICB0aGlzLl9sYXN0Q3VycmVudCA9IG51bGw7XG5cdCAgICB0aGlzLl8kaGFuZGxlTWFpbiA9IG51bGw7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gRmxhdE1hcDtcblxuLyoqKi8gfSxcbi8qIDY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgVkFMVUUgPSBfcmVxdWlyZS5WQUxVRTtcblx0dmFyIEVSUk9SID0gX3JlcXVpcmUuRVJST1I7XG5cdHZhciBFTkQgPSBfcmVxdWlyZS5FTkQ7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGluaGVyaXQgPSBfcmVxdWlyZTIuaW5oZXJpdDtcblxuXHR2YXIgRmxhdE1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXG5cdGZ1bmN0aW9uIEZsYXRNYXBFcnJvcnMoc291cmNlLCBmbikge1xuXHQgIEZsYXRNYXAuY2FsbCh0aGlzLCBzb3VyY2UsIGZuKTtcblx0fVxuXG5cdGluaGVyaXQoRmxhdE1hcEVycm9ycywgRmxhdE1hcCwge1xuXG5cdCAgLy8gU2FtZSBhcyBpbiBGbGF0TWFwLCBvbmx5IFZBTFVFL0VSUk9SIGZsaXBwZWRcblx0ICBfaGFuZGxlTWFpbjogZnVuY3Rpb24gX2hhbmRsZU1haW4oZXZlbnQpIHtcblxuXHQgICAgaWYgKGV2ZW50LnR5cGUgPT09IEVSUk9SKSB7XG5cdCAgICAgIHZhciBzYW1lQ3VyciA9IHRoaXMuX2FjdGl2YXRpbmcgJiYgdGhpcy5faGFkTm9FdlNpbmNlRGVhY3QgJiYgdGhpcy5fbGFzdEN1cnJlbnQgPT09IGV2ZW50LnZhbHVlO1xuXHQgICAgICBpZiAoIXNhbWVDdXJyKSB7XG5cdCAgICAgICAgdGhpcy5fYWRkKGV2ZW50LnZhbHVlLCB0aGlzLl9mbik7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5fbGFzdEN1cnJlbnQgPSBldmVudC52YWx1ZTtcblx0ICAgICAgdGhpcy5faGFkTm9FdlNpbmNlRGVhY3QgPSBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGV2ZW50LnR5cGUgPT09IFZBTFVFKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZShldmVudC52YWx1ZSk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChldmVudC50eXBlID09PSBFTkQpIHtcblx0ICAgICAgaWYgKHRoaXMuX2lzRW1wdHkoKSkge1xuXHQgICAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9tYWluRW5kZWQgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gRmxhdE1hcEVycm9ycztcblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7XG5cblx0dmFyIGNyZWF0ZVN0cmVhbSA9IF9yZXF1aXJlLmNyZWF0ZVN0cmVhbTtcblx0dmFyIGNyZWF0ZVByb3BlcnR5ID0gX3JlcXVpcmUuY3JlYXRlUHJvcGVydHk7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblx0dmFyIE5PVEhJTkcgPSBfcmVxdWlyZTIuTk9USElORztcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaGFuZGxlUHJpbWFyeVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlUHJpbWFyeVZhbHVlKHgpIHtcblx0ICAgIGlmICh0aGlzLl9sYXN0U2Vjb25kYXJ5ICE9PSBOT1RISU5HICYmIHRoaXMuX2xhc3RTZWNvbmRhcnkpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlU2Vjb25kYXJ5RW5kOiBmdW5jdGlvbiBfaGFuZGxlU2Vjb25kYXJ5RW5kKCkge1xuXHQgICAgaWYgKHRoaXMuX2xhc3RTZWNvbmRhcnkgPT09IE5PVEhJTkcgfHwgIXRoaXMuX2xhc3RTZWNvbmRhcnkpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdmaWx0ZXJCeScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnZmlsdGVyQnknLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaWx0ZXJCeShwcmltYXJ5LCBzZWNvbmRhcnkpIHtcblx0ICByZXR1cm4gbmV3IChwcmltYXJ5Ll9vZlNhbWVUeXBlKFMsIFApKShwcmltYXJ5LCBzZWNvbmRhcnkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgU3RyZWFtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0dmFyIFByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cdHZhciBpbmhlcml0ID0gX3JlcXVpcmUuaW5oZXJpdDtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgVkFMVUUgPSBfcmVxdWlyZTIuVkFMVUU7XG5cdHZhciBFUlJPUiA9IF9yZXF1aXJlMi5FUlJPUjtcblx0dmFyIEVORCA9IF9yZXF1aXJlMi5FTkQ7XG5cdHZhciBOT1RISU5HID0gX3JlcXVpcmUyLk5PVEhJTkc7XG5cblx0ZnVuY3Rpb24gY3JlYXRlQ29uc3RydWN0b3IoQmFzZUNsYXNzLCBuYW1lKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIEFub255bW91c09ic2VydmFibGUocHJpbWFyeSwgc2Vjb25kYXJ5LCBvcHRpb25zKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdCAgICBCYXNlQ2xhc3MuY2FsbCh0aGlzKTtcblx0ICAgIHRoaXMuX3ByaW1hcnkgPSBwcmltYXJ5O1xuXHQgICAgdGhpcy5fc2Vjb25kYXJ5ID0gc2Vjb25kYXJ5O1xuXHQgICAgdGhpcy5fbmFtZSA9ICcnICsgcHJpbWFyeS5fbmFtZSArICcuJyArIG5hbWU7XG5cdCAgICB0aGlzLl9sYXN0U2Vjb25kYXJ5ID0gTk9USElORztcblx0ICAgIHRoaXMuXyRoYW5kbGVTZWNvbmRhcnlBbnkgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVTZWNvbmRhcnlBbnkoZXZlbnQpO1xuXHQgICAgfTtcblx0ICAgIHRoaXMuXyRoYW5kbGVQcmltYXJ5QW55ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIHJldHVybiBfdGhpcy5faGFuZGxlUHJpbWFyeUFueShldmVudCk7XG5cdCAgICB9O1xuXHQgICAgdGhpcy5faW5pdChvcHRpb25zKTtcblx0ICB9O1xuXHR9XG5cblx0ZnVuY3Rpb24gY3JlYXRlQ2xhc3NNZXRob2RzKEJhc2VDbGFzcykge1xuXHQgIHJldHVybiB7XG5cdCAgICBfaW5pdDogZnVuY3Rpb24gX2luaXQob3B0aW9ucykge30sXG5cdCAgICBfZnJlZTogZnVuY3Rpb24gX2ZyZWUoKSB7fSxcblxuXHQgICAgX2hhbmRsZVByaW1hcnlWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVByaW1hcnlWYWx1ZSh4KSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIH0sXG5cdCAgICBfaGFuZGxlUHJpbWFyeUVycm9yOiBmdW5jdGlvbiBfaGFuZGxlUHJpbWFyeUVycm9yKHgpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVycm9yKHgpO1xuXHQgICAgfSxcblx0ICAgIF9oYW5kbGVQcmltYXJ5RW5kOiBmdW5jdGlvbiBfaGFuZGxlUHJpbWFyeUVuZCgpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfSxcblxuXHQgICAgX2hhbmRsZVNlY29uZGFyeVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlU2Vjb25kYXJ5VmFsdWUoeCkge1xuXHQgICAgICB0aGlzLl9sYXN0U2Vjb25kYXJ5ID0geDtcblx0ICAgIH0sXG5cdCAgICBfaGFuZGxlU2Vjb25kYXJ5RXJyb3I6IGZ1bmN0aW9uIF9oYW5kbGVTZWNvbmRhcnlFcnJvcih4KSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFcnJvcih4KTtcblx0ICAgIH0sXG5cdCAgICBfaGFuZGxlU2Vjb25kYXJ5RW5kOiBmdW5jdGlvbiBfaGFuZGxlU2Vjb25kYXJ5RW5kKCkge30sXG5cblx0ICAgIF9oYW5kbGVQcmltYXJ5QW55OiBmdW5jdGlvbiBfaGFuZGxlUHJpbWFyeUFueShldmVudCkge1xuXHQgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcblx0ICAgICAgICBjYXNlIFZBTFVFOlxuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVByaW1hcnlWYWx1ZShldmVudC52YWx1ZSk7XG5cdCAgICAgICAgY2FzZSBFUlJPUjpcblx0ICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVQcmltYXJ5RXJyb3IoZXZlbnQudmFsdWUpO1xuXHQgICAgICAgIGNhc2UgRU5EOlxuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVByaW1hcnlFbmQoZXZlbnQudmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgX2hhbmRsZVNlY29uZGFyeUFueTogZnVuY3Rpb24gX2hhbmRsZVNlY29uZGFyeUFueShldmVudCkge1xuXHQgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcblx0ICAgICAgICBjYXNlIFZBTFVFOlxuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVNlY29uZGFyeVZhbHVlKGV2ZW50LnZhbHVlKTtcblx0ICAgICAgICBjYXNlIEVSUk9SOlxuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVNlY29uZGFyeUVycm9yKGV2ZW50LnZhbHVlKTtcblx0ICAgICAgICBjYXNlIEVORDpcblx0ICAgICAgICAgIHRoaXMuX2hhbmRsZVNlY29uZGFyeUVuZChldmVudC52YWx1ZSk7XG5cdCAgICAgICAgICB0aGlzLl9yZW1vdmVTZWNvbmRhcnkoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblxuXHQgICAgX3JlbW92ZVNlY29uZGFyeTogZnVuY3Rpb24gX3JlbW92ZVNlY29uZGFyeSgpIHtcblx0ICAgICAgaWYgKHRoaXMuX3NlY29uZGFyeSAhPT0gbnVsbCkge1xuXHQgICAgICAgIHRoaXMuX3NlY29uZGFyeS5vZmZBbnkodGhpcy5fJGhhbmRsZVNlY29uZGFyeUFueSk7XG5cdCAgICAgICAgdGhpcy5fJGhhbmRsZVNlY29uZGFyeUFueSA9IG51bGw7XG5cdCAgICAgICAgdGhpcy5fc2Vjb25kYXJ5ID0gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgfSxcblxuXHQgICAgX29uQWN0aXZhdGlvbjogZnVuY3Rpb24gX29uQWN0aXZhdGlvbigpIHtcblx0ICAgICAgaWYgKHRoaXMuX3NlY29uZGFyeSAhPT0gbnVsbCkge1xuXHQgICAgICAgIHRoaXMuX3NlY29uZGFyeS5vbkFueSh0aGlzLl8kaGFuZGxlU2Vjb25kYXJ5QW55KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG5cdCAgICAgICAgdGhpcy5fcHJpbWFyeS5vbkFueSh0aGlzLl8kaGFuZGxlUHJpbWFyeUFueSk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBfb25EZWFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkRlYWN0aXZhdGlvbigpIHtcblx0ICAgICAgaWYgKHRoaXMuX3NlY29uZGFyeSAhPT0gbnVsbCkge1xuXHQgICAgICAgIHRoaXMuX3NlY29uZGFyeS5vZmZBbnkodGhpcy5fJGhhbmRsZVNlY29uZGFyeUFueSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5fcHJpbWFyeS5vZmZBbnkodGhpcy5fJGhhbmRsZVByaW1hcnlBbnkpO1xuXHQgICAgfSxcblxuXHQgICAgX2NsZWFyOiBmdW5jdGlvbiBfY2xlYXIoKSB7XG5cdCAgICAgIEJhc2VDbGFzcy5wcm90b3R5cGUuX2NsZWFyLmNhbGwodGhpcyk7XG5cdCAgICAgIHRoaXMuX3ByaW1hcnkgPSBudWxsO1xuXHQgICAgICB0aGlzLl9zZWNvbmRhcnkgPSBudWxsO1xuXHQgICAgICB0aGlzLl9sYXN0U2Vjb25kYXJ5ID0gbnVsbDtcblx0ICAgICAgdGhpcy5fJGhhbmRsZVNlY29uZGFyeUFueSA9IG51bGw7XG5cdCAgICAgIHRoaXMuXyRoYW5kbGVQcmltYXJ5QW55ID0gbnVsbDtcblx0ICAgICAgdGhpcy5fZnJlZSgpO1xuXHQgICAgfVxuXG5cdCAgfTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNyZWF0ZVN0cmVhbShuYW1lLCBtaXhpbikge1xuXHQgIHZhciBTID0gY3JlYXRlQ29uc3RydWN0b3IoU3RyZWFtLCBuYW1lKTtcblx0ICBpbmhlcml0KFMsIFN0cmVhbSwgY3JlYXRlQ2xhc3NNZXRob2RzKFN0cmVhbSksIG1peGluKTtcblx0ICByZXR1cm4gUztcblx0fVxuXG5cdGZ1bmN0aW9uIGNyZWF0ZVByb3BlcnR5KG5hbWUsIG1peGluKSB7XG5cdCAgdmFyIFAgPSBjcmVhdGVDb25zdHJ1Y3RvcihQcm9wZXJ0eSwgbmFtZSk7XG5cdCAgaW5oZXJpdChQLCBQcm9wZXJ0eSwgY3JlYXRlQ2xhc3NNZXRob2RzKFByb3BlcnR5KSwgbWl4aW4pO1xuXHQgIHJldHVybiBQO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IGNyZWF0ZVN0cmVhbTogY3JlYXRlU3RyZWFtLCBjcmVhdGVQcm9wZXJ0eTogY3JlYXRlUHJvcGVydHkgfTtcblxuLyoqKi8gfSxcbi8qIDY4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNvbWJpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcblxuXHR2YXIgaWQyID0gZnVuY3Rpb24gaWQyKF8sIHgpIHtcblx0ICByZXR1cm4geDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNhbXBsZWRCeShwYXNzaXZlLCBhY3RpdmUsIGNvbWJpbmF0b3IpIHtcblx0ICB2YXIgX2NvbWJpbmF0b3IgPSBjb21iaW5hdG9yID8gZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgIHJldHVybiBjb21iaW5hdG9yKGIsIGEpO1xuXHQgIH0gOiBpZDI7XG5cdCAgcmV0dXJuIGNvbWJpbmUoW2FjdGl2ZV0sIFtwYXNzaXZlXSwgX2NvbWJpbmF0b3IpLnNldE5hbWUocGFzc2l2ZSwgJ3NhbXBsZWRCeScpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgTk9USElORyA9IF9yZXF1aXJlMi5OT1RISU5HO1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9oYW5kbGVQcmltYXJ5VmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVQcmltYXJ5VmFsdWUoeCkge1xuXHQgICAgaWYgKHRoaXMuX2xhc3RTZWNvbmRhcnkgIT09IE5PVEhJTkcpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlU2Vjb25kYXJ5RW5kOiBmdW5jdGlvbiBfaGFuZGxlU2Vjb25kYXJ5RW5kKCkge1xuXHQgICAgaWYgKHRoaXMuX2xhc3RTZWNvbmRhcnkgPT09IE5PVEhJTkcpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdza2lwVW50aWxCeScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnc2tpcFVudGlsQnknLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBza2lwVW50aWxCeShwcmltYXJ5LCBzZWNvbmRhcnkpIHtcblx0ICByZXR1cm4gbmV3IChwcmltYXJ5Ll9vZlNhbWVUeXBlKFMsIFApKShwcmltYXJ5LCBzZWNvbmRhcnkpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgbWl4aW4gPSB7XG5cblx0ICBfaGFuZGxlU2Vjb25kYXJ5VmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVTZWNvbmRhcnlWYWx1ZSh4KSB7XG5cdCAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3Rha2VVbnRpbEJ5JywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCd0YWtlVW50aWxCeScsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRha2VVbnRpbEJ5KHByaW1hcnksIHNlY29uZGFyeSkge1xuXHQgIHJldHVybiBuZXcgKHByaW1hcnkuX29mU2FtZVR5cGUoUywgUCkpKHByaW1hcnksIHNlY29uZGFyeSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblx0ICAgIHZhciBfcmVmID0gYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuXHQgICAgdmFyIF9yZWYkZmx1c2hPbkVuZCA9IF9yZWYuZmx1c2hPbkVuZDtcblx0ICAgIHZhciBmbHVzaE9uRW5kID0gX3JlZiRmbHVzaE9uRW5kID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRmbHVzaE9uRW5kO1xuXG5cdCAgICB0aGlzLl9idWZmID0gW107XG5cdCAgICB0aGlzLl9mbHVzaE9uRW5kID0gZmx1c2hPbkVuZDtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fYnVmZiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9mbHVzaDogZnVuY3Rpb24gX2ZsdXNoKCkge1xuXHQgICAgaWYgKHRoaXMuX2J1ZmYgIT09IG51bGwpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHRoaXMuX2J1ZmYpO1xuXHQgICAgICB0aGlzLl9idWZmID0gW107XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVQcmltYXJ5RW5kOiBmdW5jdGlvbiBfaGFuZGxlUHJpbWFyeUVuZCgpIHtcblx0ICAgIGlmICh0aGlzLl9mbHVzaE9uRW5kKSB7XG5cdCAgICAgIHRoaXMuX2ZsdXNoKCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgfSxcblxuXHQgIF9vbkFjdGl2YXRpb246IGZ1bmN0aW9uIF9vbkFjdGl2YXRpb24oKSB7XG5cdCAgICB0aGlzLl9wcmltYXJ5Lm9uQW55KHRoaXMuXyRoYW5kbGVQcmltYXJ5QW55KTtcblx0ICAgIGlmICh0aGlzLl9hbGl2ZSAmJiB0aGlzLl9zZWNvbmRhcnkgIT09IG51bGwpIHtcblx0ICAgICAgdGhpcy5fc2Vjb25kYXJ5Lm9uQW55KHRoaXMuXyRoYW5kbGVTZWNvbmRhcnlBbnkpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlUHJpbWFyeVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlUHJpbWFyeVZhbHVlKHgpIHtcblx0ICAgIHRoaXMuX2J1ZmYucHVzaCh4KTtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVNlY29uZGFyeVZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlU2Vjb25kYXJ5VmFsdWUoeCkge1xuXHQgICAgdGhpcy5fZmx1c2goKTtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVNlY29uZGFyeUVuZDogZnVuY3Rpb24gX2hhbmRsZVNlY29uZGFyeUVuZCh4KSB7XG5cdCAgICBpZiAoIXRoaXMuX2ZsdXNoT25FbmQpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdidWZmZXJCeScsIG1peGluKTtcblx0dmFyIFAgPSBjcmVhdGVQcm9wZXJ0eSgnYnVmZmVyQnknLCBtaXhpbik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWZmZXJCeShwcmltYXJ5LCBzZWNvbmRhcnksIG9wdGlvbnMgLyogb3B0aW9uYWwgKi8pIHtcblx0ICByZXR1cm4gbmV3IChwcmltYXJ5Ll9vZlNhbWVUeXBlKFMsIFApKShwcmltYXJ5LCBzZWNvbmRhcnksIG9wdGlvbnMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgTk9USElORyA9IF9yZXF1aXJlMi5OT1RISU5HO1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblx0ICAgIHZhciBfcmVmID0gYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuXHQgICAgdmFyIF9yZWYkZmx1c2hPbkVuZCA9IF9yZWYuZmx1c2hPbkVuZDtcblx0ICAgIHZhciBmbHVzaE9uRW5kID0gX3JlZiRmbHVzaE9uRW5kID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRmbHVzaE9uRW5kO1xuXG5cdCAgICB0aGlzLl9idWZmID0gW107XG5cdCAgICB0aGlzLl9mbHVzaE9uRW5kID0gZmx1c2hPbkVuZDtcblx0ICB9LFxuXG5cdCAgX2ZyZWU6IGZ1bmN0aW9uIF9mcmVlKCkge1xuXHQgICAgdGhpcy5fYnVmZiA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9mbHVzaDogZnVuY3Rpb24gX2ZsdXNoKCkge1xuXHQgICAgaWYgKHRoaXMuX2J1ZmYgIT09IG51bGwgJiYgdGhpcy5fYnVmZi5sZW5ndGggIT09IDApIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHRoaXMuX2J1ZmYpO1xuXHQgICAgICB0aGlzLl9idWZmID0gW107XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVQcmltYXJ5RW5kOiBmdW5jdGlvbiBfaGFuZGxlUHJpbWFyeUVuZCgpIHtcblx0ICAgIGlmICh0aGlzLl9mbHVzaE9uRW5kKSB7XG5cdCAgICAgIHRoaXMuX2ZsdXNoKCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVQcmltYXJ5VmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVQcmltYXJ5VmFsdWUoeCkge1xuXHQgICAgdGhpcy5fYnVmZi5wdXNoKHgpO1xuXHQgICAgaWYgKHRoaXMuX2xhc3RTZWNvbmRhcnkgIT09IE5PVEhJTkcgJiYgIXRoaXMuX2xhc3RTZWNvbmRhcnkpIHtcblx0ICAgICAgdGhpcy5fZmx1c2goKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgX2hhbmRsZVNlY29uZGFyeUVuZDogZnVuY3Rpb24gX2hhbmRsZVNlY29uZGFyeUVuZCh4KSB7XG5cdCAgICBpZiAoIXRoaXMuX2ZsdXNoT25FbmQgJiYgKHRoaXMuX2xhc3RTZWNvbmRhcnkgPT09IE5PVEhJTkcgfHwgdGhpcy5fbGFzdFNlY29uZGFyeSkpIHtcblx0ICAgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgICAgfVxuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdidWZmZXJXaGlsZUJ5JywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCdidWZmZXJXaGlsZUJ5JywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVmZmVyV2hpbGVCeShwcmltYXJ5LCBzZWNvbmRhcnksIG9wdGlvbnMgLyogb3B0aW9uYWwgKi8pIHtcblx0ICByZXR1cm4gbmV3IChwcmltYXJ5Ll9vZlNhbWVUeXBlKFMsIFApKShwcmltYXJ5LCBzZWNvbmRhcnksIG9wdGlvbnMpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgbWVyZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblx0dmFyIG1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHR2YXIgc2tpcER1cGxpY2F0ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtcblx0dmFyIHRvUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxuXHR2YXIgZiA9IGZ1bmN0aW9uIGYoKSB7XG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHR2YXIgdCA9IGZ1bmN0aW9uIHQoKSB7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhd2FpdGluZyhhLCBiKSB7XG5cdCAgdmFyIHJlc3VsdCA9IG1lcmdlKFttYXAoYSwgdCksIG1hcChiLCBmKV0pO1xuXHQgIHJlc3VsdCA9IHNraXBEdXBsaWNhdGVzKHJlc3VsdCk7XG5cdCAgcmVzdWx0ID0gdG9Qcm9wZXJ0eShyZXN1bHQsIGYpO1xuXHQgIHJldHVybiByZXN1bHQuc2V0TmFtZShhLCAnYXdhaXRpbmcnKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlLmluaGVyaXQ7XG5cblx0dmFyIFN0cmVhbSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cblx0ZnVuY3Rpb24gRW1pdHRlcigpIHtcblx0ICBTdHJlYW0uY2FsbCh0aGlzKTtcblx0fVxuXG5cdGluaGVyaXQoRW1pdHRlciwgU3RyZWFtLCB7XG5cblx0ICBfbmFtZTogJ2VtaXR0ZXInLFxuXG5cdCAgZW1pdDogZnVuY3Rpb24gZW1pdCh4KSB7XG5cdCAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXG5cdCAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHgpIHtcblx0ICAgIHRoaXMuX2VtaXRFcnJvcih4KTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cblx0ICBlbmQ6IGZ1bmN0aW9uIGVuZCgpIHtcblx0ICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cblx0ICBlbWl0RXZlbnQ6IGZ1bmN0aW9uIGVtaXRFdmVudChldmVudCkge1xuXHQgICAgdGhpcy5fZW1pdChldmVudC50eXBlLCBldmVudC52YWx1ZSk7XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gRW1pdHRlcjtcblxuLyoqKi8gfSxcbi8qIDc1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgaW5oZXJpdCA9IF9yZXF1aXJlLmluaGVyaXQ7XG5cblx0dmFyIEFic3RyYWN0UG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXG5cdGZ1bmN0aW9uIEJ1cygpIHtcblx0ICBBYnN0cmFjdFBvb2wuY2FsbCh0aGlzKTtcblx0fVxuXG5cdGluaGVyaXQoQnVzLCBBYnN0cmFjdFBvb2wsIHtcblxuXHQgIF9uYW1lOiAnYnVzJyxcblxuXHQgIHBsdWc6IGZ1bmN0aW9uIHBsdWcob2JzKSB7XG5cdCAgICB0aGlzLl9hZGQob2JzKTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cdCAgdW5wbHVnOiBmdW5jdGlvbiB1bnBsdWcob2JzKSB7XG5cdCAgICB0aGlzLl9yZW1vdmUob2JzKTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cblx0ICBlbWl0OiBmdW5jdGlvbiBlbWl0KHgpIHtcblx0ICAgIHRoaXMuX2VtaXRWYWx1ZSh4KTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cdCAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHgpIHtcblx0ICAgIHRoaXMuX2VtaXRFcnJvcih4KTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cdCAgZW5kOiBmdW5jdGlvbiBlbmQoKSB7XG5cdCAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXHQgIGVtaXRFdmVudDogZnVuY3Rpb24gZW1pdEV2ZW50KGV2ZW50KSB7XG5cdCAgICB0aGlzLl9lbWl0KGV2ZW50LnR5cGUsIGV2ZW50LnZhbHVlKTtcblx0ICB9XG5cblx0fSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBCdXM7XG5cbi8qKiovIH0sXG4vKiA3NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBfcmVxdWlyZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cdHZhciBOT1RISU5HID0gX3JlcXVpcmUyLk5PVEhJTkc7XG5cblx0dmFyIG1peGluID0ge1xuXG5cdCAgX2luaXQ6IGZ1bmN0aW9uIF9pbml0KF9yZWYpIHtcblx0ICAgIHZhciBmbiA9IF9yZWYuZm47XG5cdCAgICB2YXIgc2VlZCA9IF9yZWYuc2VlZDtcblxuXHQgICAgdGhpcy5fZm4gPSBmbjtcblx0ICAgIHRoaXMuX3Jlc3VsdCA9IHNlZWQ7XG5cdCAgfSxcblxuXHQgIF9mcmVlOiBmdW5jdGlvbiBfZnJlZSgpIHtcblx0ICAgIHRoaXMuX2ZuID0gbnVsbDtcblx0ICAgIHRoaXMuX3Jlc3VsdCA9IG51bGw7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVZhbHVlKHgpIHtcblx0ICAgIHZhciBmbiA9IHRoaXMuX2ZuO1xuXHQgICAgdGhpcy5fcmVzdWx0ID0gdGhpcy5fcmVzdWx0ID09PSBOT1RISU5HID8geCA6IGZuKHRoaXMuX3Jlc3VsdCwgeCk7XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVFbmQ6IGZ1bmN0aW9uIF9oYW5kbGVFbmQoKSB7XG5cdCAgICBpZiAodGhpcy5fcmVzdWx0ICE9PSBOT1RISU5HKSB7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl9yZXN1bHQpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fZW1pdEVuZCgpO1xuXHQgIH1cblxuXHR9O1xuXG5cdHZhciBTID0gY3JlYXRlU3RyZWFtKCdyZWR1Y2UnLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3JlZHVjZScsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlZHVjZShvYnMsIGZuKSB7XG5cdCAgdmFyIHNlZWQgPSBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IE5PVEhJTkcgOiBhcmd1bWVudHNbMl07XG5cblx0ICByZXR1cm4gbmV3IChvYnMuX29mU2FtZVR5cGUoUywgUCkpKG9icywgeyBmbjogZm4sIHNlZWQ6IHNlZWQgfSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA3NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBjb21iaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cblx0dmFyIGFwcGx5ID0gX3JlcXVpcmUuYXBwbHk7XG5cblx0dmFyIF9yZXF1aXJlMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cblx0dmFyIGNpcmNsZVNoaWZ0ID0gX3JlcXVpcmUyLmNpcmNsZVNoaWZ0O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2FtcGxlZEJ5KHBhc3NpdmUsIGFjdGl2ZSwgY29tYmluYXRvcikge1xuXG5cdCAgdmFyIF9jb21iaW5hdG9yID0gY29tYmluYXRvcjtcblxuXHQgIC8vIHdlIG5lZWQgdG8gZmxpcCBgcGFzc2l2ZWAgYW5kIGBhY3RpdmVgIGluIGNvbWJpbmF0b3IgZnVuY3Rpb25cblx0ICBpZiAocGFzc2l2ZS5sZW5ndGggPiAwKSB7XG5cdCAgICBfY29tYmluYXRvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGFyZ3MgPSBjaXJjbGVTaGlmdChhcmd1bWVudHMsIHBhc3NpdmUubGVuZ3RoKTtcblx0ICAgICAgcmV0dXJuIGNvbWJpbmF0b3IgPyBhcHBseShjb21iaW5hdG9yLCBudWxsLCBhcmdzKSA6IGFyZ3M7XG5cdCAgICB9O1xuXHQgIH1cblxuXHQgIHJldHVybiBjb21iaW5lKGFjdGl2ZSwgcGFzc2l2ZSwgX2NvbWJpbmF0b3IpLnNldE5hbWUoJ3NhbXBsZWRCeScpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNzggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgdGltZUJhc2VkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cblx0dmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXHR2YXIgY2xvbmVBcnJheSA9IF9yZXF1aXJlLmNsb25lQXJyYXk7XG5cblx0dmFyIFMgPSB0aW1lQmFzZWQoe1xuXG5cdCAgX25hbWU6ICdyZXBlYXRlZGx5JyxcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdChfcmVmKSB7XG5cdCAgICB2YXIgeHMgPSBfcmVmLnhzO1xuXG5cdCAgICB0aGlzLl94cyA9IGNsb25lQXJyYXkoeHMpO1xuXHQgICAgdGhpcy5faSA9IC0xO1xuXHQgIH0sXG5cblx0ICBfb25UaWNrOiBmdW5jdGlvbiBfb25UaWNrKCkge1xuXHQgICAgaWYgKHRoaXMuX3hzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgdGhpcy5faSA9ICh0aGlzLl9pICsgMSkgJSB0aGlzLl94cy5sZW5ndGg7XG5cdCAgICAgIHRoaXMuX2VtaXRWYWx1ZSh0aGlzLl94c1t0aGlzLl9pXSk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH0pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVwZWF0ZWRseSh3YWl0LCB4cykge1xuXHQgIHJldHVybiBuZXcgUyh3YWl0LCB7IHhzOiB4cyB9KTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDc5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIG1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFwVG8ob2JzLCB4KSB7XG5cdCAgcmV0dXJuIG1hcChvYnMsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB4O1xuXHQgIH0pLnNldE5hbWUob2JzLCAnbWFwVG8nKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDgwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIG1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGFwKG9icywgZm4pIHtcblx0ICByZXR1cm4gbWFwKG9icywgZnVuY3Rpb24gKHgpIHtcblx0ICAgIGZuKHgpO3JldHVybiB4O1xuXHQgIH0pLnNldE5hbWUob2JzLCAndGFwJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBsdWNrKG9icywgcHJvcE5hbWUpIHtcblx0ICByZXR1cm4gbWFwKG9icywgZnVuY3Rpb24gKHgpIHtcblx0ICAgIHJldHVybiB4W3Byb3BOYW1lXTtcblx0ICB9KS5zZXROYW1lKG9icywgJ3BsdWNrJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxuXHR2YXIgYXBwbHkgPSBfcmVxdWlyZS5hcHBseTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGludm9rZShvYnMsIG1ldGhvZE5hbWUsIGFyZ3MpIHtcblxuXHQgIHZhciBmbiA9IGFyZ3MubGVuZ3RoID09PSAwID8gZnVuY3Rpb24gKHgpIHtcblx0ICAgIHJldHVybiB4W21ldGhvZE5hbWVdKCk7XG5cdCAgfSA6IGZ1bmN0aW9uICh4KSB7XG5cdCAgICByZXR1cm4gYXBwbHkoeFttZXRob2ROYW1lXSwgeCwgYXJncyk7XG5cdCAgfTtcblxuXHQgIHJldHVybiBtYXAob2JzLCBmbikuc2V0TmFtZShvYnMsICdpbnZva2UnKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDgzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIG1hcCA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHR2YXIgbm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0aW1lc3RhbXAob2JzKSB7XG5cdCAgcmV0dXJuIG1hcChvYnMsIGZ1bmN0aW9uICh4KSB7XG5cdCAgICByZXR1cm4geyB2YWx1ZTogeCwgdGltZTogbm93KCkgfTtcblx0ICB9KS5zZXROYW1lKG9icywgJ3RpbWVzdGFtcCcpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgY29tYmluZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXG5cdGZ1bmN0aW9uIGZuKCkge1xuXHQgIHZhciBpID0gdW5kZWZpbmVkO1xuXHQgIGZvciAoaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmICghYXJndW1lbnRzW2ldKSB7XG5cdCAgICAgIHJldHVybiBhcmd1bWVudHNbaV07XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBhcmd1bWVudHNbaSAtIDFdO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhbmQob2JzZXJ2YWJsZXMpIHtcblx0ICByZXR1cm4gY29tYmluZShvYnNlcnZhYmxlcywgW10sIGZuKS5zZXROYW1lKCdhbmQnKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDg1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNvbWJpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTtcblxuXHRmdW5jdGlvbiBmbigpIHtcblx0ICB2YXIgaSA9IHVuZGVmaW5lZDtcblx0ICBmb3IgKGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAoYXJndW1lbnRzW2ldKSB7XG5cdCAgICAgIHJldHVybiBhcmd1bWVudHNbaV07XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBhcmd1bWVudHNbaSAtIDFdO1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvcihvYnNlcnZhYmxlcykge1xuXHQgIHJldHVybiBjb21iaW5lKG9ic2VydmFibGVzLCBbXSwgZm4pLnNldE5hbWUoJ29yJyk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vdChvYnMpIHtcblx0ICByZXR1cm4gbWFwKG9icywgZnVuY3Rpb24gKHgpIHtcblx0ICAgIHJldHVybiAheDtcblx0ICB9KS5zZXROYW1lKG9icywgJ25vdCcpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogODcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KTtcblxuXHR2YXIgY3JlYXRlU3RyZWFtID0gX3JlcXVpcmUuY3JlYXRlU3RyZWFtO1xuXHR2YXIgY3JlYXRlUHJvcGVydHkgPSBfcmVxdWlyZS5jcmVhdGVQcm9wZXJ0eTtcblxuXHR2YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuXHR2YXIgTk9USElORyA9IF9yZXF1aXJlMi5OT1RISU5HO1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9oYW5kbGVQcmltYXJ5VmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVQcmltYXJ5VmFsdWUoeCkge1xuXHQgICAgaWYgKHRoaXMuX2xhc3RTZWNvbmRhcnkgIT09IE5PVEhJTkcpIHtcblx0ICAgICAgdGhpcy5fZW1pdFZhbHVlKHgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBfaGFuZGxlU2Vjb25kYXJ5VmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVTZWNvbmRhcnlWYWx1ZSh4KSB7XG5cdCAgICB0aGlzLl9sYXN0U2Vjb25kYXJ5ID0geDtcblx0ICAgIGlmICghdGhpcy5fbGFzdFNlY29uZGFyeSkge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVTZWNvbmRhcnlFbmQ6IGZ1bmN0aW9uIF9oYW5kbGVTZWNvbmRhcnlFbmQoKSB7XG5cdCAgICBpZiAodGhpcy5fbGFzdFNlY29uZGFyeSA9PT0gTk9USElORykge1xuXHQgICAgICB0aGlzLl9lbWl0RW5kKCk7XG5cdCAgICB9XG5cdCAgfVxuXG5cdH07XG5cblx0dmFyIFMgPSBjcmVhdGVTdHJlYW0oJ3Rha2VXaGlsZUJ5JywgbWl4aW4pO1xuXHR2YXIgUCA9IGNyZWF0ZVByb3BlcnR5KCd0YWtlV2hpbGVCeScsIG1peGluKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRha2VXaGlsZUJ5KHByaW1hcnksIHNlY29uZGFyeSkge1xuXHQgIHJldHVybiBuZXcgKHByaW1hcnkuX29mU2FtZVR5cGUoUywgUCkpKHByaW1hcnksIHNlY29uZGFyeSk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA4OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjcpO1xuXG5cdHZhciBjcmVhdGVTdHJlYW0gPSBfcmVxdWlyZS5jcmVhdGVTdHJlYW07XG5cdHZhciBjcmVhdGVQcm9wZXJ0eSA9IF9yZXF1aXJlLmNyZWF0ZVByb3BlcnR5O1xuXG5cdHZhciBtaXhpbiA9IHtcblxuXHQgIF9pbml0OiBmdW5jdGlvbiBfaW5pdCgpIHtcblx0ICAgIHRoaXMuX2hhc0ZhbHNleUZyb21TZWNvbmRhcnkgPSBmYWxzZTtcblx0ICB9LFxuXG5cdCAgX2hhbmRsZVByaW1hcnlWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVByaW1hcnlWYWx1ZSh4KSB7XG5cdCAgICBpZiAodGhpcy5faGFzRmFsc2V5RnJvbVNlY29uZGFyeSkge1xuXHQgICAgICB0aGlzLl9lbWl0VmFsdWUoeCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIF9oYW5kbGVTZWNvbmRhcnlWYWx1ZTogZnVuY3Rpb24gX2hhbmRsZVNlY29uZGFyeVZhbHVlKHgpIHtcblx0ICAgIHRoaXMuX2hhc0ZhbHNleUZyb21TZWNvbmRhcnkgPSB0aGlzLl9oYXNGYWxzZXlGcm9tU2Vjb25kYXJ5IHx8ICF4O1xuXHQgIH0sXG5cblx0ICBfaGFuZGxlU2Vjb25kYXJ5RW5kOiBmdW5jdGlvbiBfaGFuZGxlU2Vjb25kYXJ5RW5kKCkge1xuXHQgICAgaWYgKCF0aGlzLl9oYXNGYWxzZXlGcm9tU2Vjb25kYXJ5KSB7XG5cdCAgICAgIHRoaXMuX2VtaXRFbmQoKTtcblx0ICAgIH1cblx0ICB9XG5cblx0fTtcblxuXHR2YXIgUyA9IGNyZWF0ZVN0cmVhbSgnc2tpcFdoaWxlQnknLCBtaXhpbik7XG5cdHZhciBQID0gY3JlYXRlUHJvcGVydHkoJ3NraXBXaGlsZUJ5JywgbWl4aW4pO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2tpcFdoaWxlQnkocHJpbWFyeSwgc2Vjb25kYXJ5KSB7XG5cdCAgcmV0dXJuIG5ldyAocHJpbWFyeS5fb2ZTYW1lVHlwZShTLCBQKSkocHJpbWFyeSwgc2Vjb25kYXJ5KTtcblx0fTtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuOyIsIi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbnNcbiAqL1xuXG52YXIgdXRpbCA9IHt9O1xuXG51dGlsLmlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbnV0aWwuaXNOdW1iZXIgPSBmdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG51dGlsLmlzVW5kZWZpbmVkID0gZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cblxudXRpbC5pc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpe1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG4vKipcbiAqIEV2ZW50RW1pdHRlciBjbGFzc1xuICovXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIXV0aWwuaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJyAmJiAhdGhpcy5fZXZlbnRzLmVycm9yKSB7XG4gICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAodXRpbC5pc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHV0aWwuaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHV0aWwuaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIXV0aWwuaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIHV0aWwuaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAodXRpbC5pc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKHV0aWwuaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIHZhciBtO1xuICAgIGlmICghdXRpbC5pc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuXG4gICAgICBpZiAodXRpbC5pc0Z1bmN0aW9uKGNvbnNvbGUuZXJyb3IpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKHV0aWwuaXNGdW5jdGlvbihjb25zb2xlLnRyYWNlKSlcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghdXRpbC5pc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIXV0aWwuaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKHV0aWwuaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAodXRpbC5pc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKHV0aWwuaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSkge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmICh1dGlsLmlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghZW1pdHRlci5fZXZlbnRzIHx8ICFlbWl0dGVyLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gMDtcbiAgZWxzZSBpZiAodXRpbC5pc0Z1bmN0aW9uKGVtaXR0ZXIuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gMTtcbiAgZWxzZVxuICAgIHJldCA9IGVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG4gIHJldHVybiByZXQ7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlQWN0aW9ucyB9IGZyb20gJy4uL2NvcmUnO1xuXG5sZXQgQWN0aW9ucyA9IGNyZWF0ZUFjdGlvbnMoW1xuXHQnY3JlYXRlJyxcblx0J3VwZGF0ZVRleHQnLFxuXHQndG9nZ2xlQ29tcGxldGUnLFxuXHQndG9nZ2xlQ29tcGxldGVBbGwnLFxuXHQnZGVzdHJveScsXG5cdCdkZXN0cm95Q29tcGxldGVkJyxcblx0J3NldEZpbHRlcidcbl0pO1xuXG5leHBvcnQgZGVmYXVsdCBBY3Rpb25zOyIsImltcG9ydCB7IGNyZWF0ZUNvbnN0YW50cyB9IGZyb20gJy4uL2NvcmUnO1xuXG5sZXQgQ29uc3RhbnRzID0gY3JlYXRlQ29uc3RhbnRzKFtcblx0J0ZJTFRFUl9BTEwnLFxuXHQnRklMVEVSX0FDVElWRScsXG5cdCdGSUxURVJfQ09NUExFVEUnXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uc3RhbnRzOyIsImltcG9ydCBldmVudFN0cmVhbSBmcm9tICcuL2V2ZW50U3RyZWFtJztcbmltcG9ydCB7IGFjdGlvbkZhY3RvcnkgfSBmcm9tICcuL2ZhY3Rvcmllcyc7XG5leHBvcnQgZGVmYXVsdCBhY3Rpb25GYWN0b3J5KGV2ZW50U3RyZWFtKTsiLCJpbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi91dGlsaXRpZXMnO1xuaW1wb3J0IGNyZWF0ZUFjdGlvbiBmcm9tICcuL2NyZWF0ZUFjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUFjdGlvbnMoLi4uYXJncykge1xuXHRyZXR1cm4gZmxhdHRlbihhcmdzKVxuXHRcdC5yZWR1Y2UoKGFjYywgYWN0aW9uKSA9PiAoYWNjW2FjdGlvbl0gPSBjcmVhdGVBY3Rpb24oYWN0aW9uKSkgJiYgYWNjLCB7fSk7XG59IiwiaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vdXRpbGl0aWVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQ29uc3RhbnRzKC4uLmFyZ3MpIHtcblx0cmV0dXJuIGZsYXR0ZW4oYXJncylcblx0XHQucmVkdWNlKChhY2MsIGtleSkgPT4gKGFjY1trZXldID0ga2V5KSAmJiBhY2MsIHt9KTtcbn07IiwiaW1wb3J0IEltbXV0YWJsZSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0IEtlZmlyIGZyb20gJ2tlZmlyJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIHRvU2VudGVuY2VDYXNlLCBpbmhlcml0LCBmbGF0dGVuIH0gZnJvbSAnLi91dGlsaXRpZXMnO1xuXG5sZXQgY29udGVudEtleSA9IFN5bWJvbCgnY29udGVudHMnKTtcblxuZnVuY3Rpb24gcnVuSGFuZGxlcihrZXksIC4uLmFyZ3MpIHtcblx0bGV0IGZsYXRBcmdzID0gZmxhdHRlbihhcmdzKTtcblx0ZmxhdEFyZ3MudW5zaGlmdCh0aGlzW2NvbnRlbnRLZXldKTtcblx0cmV0dXJuIGlzRnVuY3Rpb24odGhpc1trZXldKSAmJiB0aGlzW2tleV0oLi4uZmxhdEFyZ3MpIHx8IGZsYXRBcmdzWzBdO1xufTtcblxuZnVuY3Rpb24gZGlmZkFuZFN0b3JlKGNvbnRlbnQpIHtcblx0aWYgKCFJbW11dGFibGUuaXModGhpc1tjb250ZW50S2V5XSwgY29udGVudCkpIHtcblx0XHR0aGlzW2NvbnRlbnRLZXldID0gY29udGVudDtcblx0fVxuXHRyZXR1cm4gdGhpc1tjb250ZW50S2V5XTtcbn07XG5cbmZ1bmN0aW9uIGdldEFjdGlvbkJ5S2V5KGtleSkge1xuXHRsZXQgYWN0aW9uID0gdGhpcy5hY3Rpb25zW2tleV07XG5cdGxldCBsaXN0ZW5lcktleSA9IGBvbiR7dG9TZW50ZW5jZUNhc2Uoa2V5KX1gO1xuXHRyZXR1cm4geyBhY3Rpb24sIGxpc3RlbmVyS2V5IH07XG59O1xuXG5mdW5jdGlvbiBydW5IYW5kbGVyQW5kU3RvcmUoeyBhY3Rpb24sIGxpc3RlbmVyS2V5IH0pIHtcblx0cmV0dXJuIGFjdGlvblxuXHRcdC5tYXAocnVuSGFuZGxlci5iaW5kKHRoaXMsIGxpc3RlbmVyS2V5KSlcblx0XHQubWFwKGRpZmZBbmRTdG9yZS5iaW5kKHRoaXMpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVN0b3JlKG9iaikge1xuXHRsZXQgU3RvcmUgPSBPYmplY3QuY3JlYXRlKG9iaik7XG5cdFN0b3JlW2NvbnRlbnRLZXldID0gU3RvcmUudHlwZSAmJiBTdG9yZS50eXBlKCkgfHwgSW1tdXRhYmxlLk9yZGVyZWRNYXAoKTtcblxuXHRsZXQgQWN0aW9ucyA9IE9iamVjdC5rZXlzKFN0b3JlLmFjdGlvbnMgfHwge30pXG5cdFx0Lm1hcChnZXRBY3Rpb25CeUtleS5iaW5kKFN0b3JlKSlcblx0XHQubWFwKHJ1bkhhbmRsZXJBbmRTdG9yZS5iaW5kKFN0b3JlKSk7XG5cblx0bGV0IFN0cmVhbSA9IEtlZmlyLm1lcmdlKEFjdGlvbnMpO1xuXG5cdGlmIChTdG9yZS5tb2RpZmllcikge1xuXHRcdGxldCBNb2RpZmllciA9IFN0b3JlLm1vZGlmaWVyLnRvUHJvcGVydHkoKCkgPT4gMCk7XG5cdFx0TW9kaWZpZXIub25WYWx1ZSgoKSA9PiB2b2lkIDApO1xuXG5cdFx0U3RyZWFtID0gS2VmaXIuY29tYmluZShbU3RyZWFtLCBNb2RpZmllcl0sIChhLCBiKSA9PiBiKVxuXHRcdFx0LnNhbXBsZWRCeShTdHJlYW0pXG5cdFx0XHQubWFwKHJ1bkhhbmRsZXIuYmluZChTdG9yZSwgU3RvcmUubW9kaWZpZXIuX25hbWUpKVxuXHRcdFx0LnNraXBEdXBsaWNhdGVzKCk7XG5cdH1cblxuXHRTdG9yZSA9IGluaGVyaXQoU3RyZWFtLCBTdG9yZSk7XG5cdHJldHVybiBTdG9yZTtcbn07XG4iLCJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ25vZGUtZXZlbnQtZW1pdHRlcic7XG5leHBvcnQgZGVmYXVsdCBuZXcgRXZlbnRFbWl0dGVyKCk7IiwiaW1wb3J0IEtlZmlyIGZyb20gJ2tlZmlyJztcbmltcG9ydCB7IGluaGVyaXQgfSBmcm9tICcuLi91dGlsaXRpZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhY3Rpb25GYWN0b3J5KGV2ZW50U3RyZWFtKSB7XG5cdHJldHVybiBmdW5jdGlvbihhY3Rpb25OYW1lKSB7XG5cdFx0bGV0IGZ1bmN0b3IgPSAoLi4uYXJncykgPT4gZXZlbnRTdHJlYW0uZW1pdChhY3Rpb25OYW1lLCBhcmdzKTtcblx0XHRsZXQgc3RyZWFtID0gS2VmaXIuZnJvbUV2ZW50cyhldmVudFN0cmVhbSwgYWN0aW9uTmFtZSk7XG5cdFx0ZnVuY3RvciA9IGluaGVyaXQoc3RyZWFtLCBmdW5jdG9yKTtcblx0XHRmdW5jdG9yLl9uYW1lID0gYWN0aW9uTmFtZTtcblx0XHRyZXR1cm4gZnVuY3Rvcjtcblx0fVxufSIsImV4cG9ydCB7IGRlZmF1bHQgYXMgYWN0aW9uRmFjdG9yeSB9IGZyb20gJy4vYWN0aW9uRmFjdG9yeSc7IiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBldmVudFN0cmVhbSB9IGZyb20gJy4vZXZlbnRTdHJlYW0nO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVBY3Rpb24gfSBmcm9tICcuL2NyZWF0ZUFjdGlvbic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNyZWF0ZUFjdGlvbnMgfSBmcm9tICcuL2NyZWF0ZUFjdGlvbnMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjcmVhdGVDb25zdGFudHMgfSBmcm9tICcuL2NyZWF0ZUNvbnN0YW50cyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNyZWF0ZVN0b3JlIH0gZnJvbSAnLi9jcmVhdGVTdG9yZSc7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlT2JqKHByb3RvKSB7XG5cdHZhciBGID0gbmV3IEZ1bmN0aW9uKCk7XG5cdEYucHJvdG90eXBlID0gcHJvdG87XG5cdHJldHVybiBuZXcgRigpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyKSB7XG5cdHJldHVybiBhcnIucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYy5jb25jYXQoaXRlbSksIFtdKVxufTsiLCJleHBvcnQgeyBkZWZhdWx0IGFzIGNyZWF0ZU9iaiB9IGZyb20gJy4vY3JlYXRlT2JqJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZmxhdHRlbiB9IGZyb20gJy4vZmxhdHRlbic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGluaGVyaXQgfSBmcm9tICcuL2luaGVyaXQnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdG9TZW50ZW5jZUNhc2UgfSBmcm9tICcuL3RvU2VudGVuY2VDYXNlJzsiLCJpbXBvcnQgeyBjcmVhdGVPYmosIGlzRnVuY3Rpb24gfSBmcm9tICcuLyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaGVyaXQoc3RyZWFtLCBvYmopIHtcblx0bGV0IHByb3RvID0gY3JlYXRlT2JqKHN0cmVhbS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUpO1xuXHRmb3IgKGxldCBmbiBpbiBwcm90bykge1xuXHRcdG9ialtmbl0gPSBpc0Z1bmN0aW9uKHByb3RvW2ZuXSkgPyBwcm90b1tmbl0uYmluZChzdHJlYW0pIDogcHJvdG9bZm5dO1xuXHR9XG5cdHJldHVybiBvYmo7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNGdW5jdGlvbihmbikge1xuXHRyZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvU2VudGVuY2VDYXNlKHN0cikge1xuICByZXR1cm4gc3RyLnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cigxKTtcbn0iLCJpbXBvcnQgQWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zJztcbmltcG9ydCBJbW11dGFibGUgZnJvbSAnSW1tdXRhYmxlJztcbmltcG9ydCBDb25zdGFudHMgZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgeyB1dWlkIH0gZnJvbSAnLi4vdXRpbGl0aWVzJztcblxubGV0IGNyZWF0ZSA9IHRleHQgPT4gSW1tdXRhYmxlLk1hcCh7XG5cdGlkOiB1dWlkKCksXG5cdGNvbXBsZXRlZDogZmFsc2UsXG5cdHRleHQ6IHRleHRcbn0pO1xuXG5sZXQgaXNDb21wbGV0ZSA9IHRvZG8gPT4gdG9kby5nZXQoJ2NvbXBsZXRlJyk7XG5cbmxldCBUb2RvU3RvcmUgPSBjcmVhdGVTdG9yZSh7XG5cdGFjdGlvbnM6IEFjdGlvbnMsXG5cdG1vZGlmaWVyOiBBY3Rpb25zLnNldEZpbHRlcixcblx0b25DcmVhdGUodG9kb3MsIHRleHQpIHtcblx0XHRsZXQgdG9kbyA9IGNyZWF0ZSh0ZXh0KTtcblx0XHRyZXR1cm4gdG9kb3Muc2V0KHRvZG8uZ2V0KCdpZCcpLCB0b2RvKTtcblx0fSxcblx0b25VcGRhdGVUZXh0KHRvZG9zLCB0b2RvKSB7XG5cdFx0cmV0dXJuIHRvZG9zLnNldEluKFt0b2RvLmlkLCAndGV4dCddLCB0b2RvLnRleHQpO1xuXHR9LFxuXHRvblRvZ2dsZUNvbXBsZXRlKHRvZG9zLCB0b2RvKSB7XG5cdFx0cmV0dXJuIHRvZG9zLnNldEluKFt0b2RvLmlkLCAnY29tcGxldGUnXSwgIXRvZG8uY29tcGxldGUpO1xuXHR9LFxuXHRvblRvZ2dsZUNvbXBsZXRlQWxsKHRvZG9zKSB7XG5cdFx0cmV0dXJuIHRvZG9zLm1hcCh0b2RvID0+IHRvZG8uc2V0KCdjb21wbGV0ZScsIHRydWUpKTtcblx0fSxcblx0b25EZXN0cm95KHRvZG9zLCB0b2RvKSB7XG5cdFx0cmV0dXJuIHRvZG9zLmRlbGV0ZSh0b2RvLmlkKTtcblx0fSxcblx0b25EZXN0cm95Q29tcGxldGVkKHRvZG9zKSB7XG5cdFx0cmV0dXJuIHRvZG9zLmZpbHRlck5vdCh0b2RvID0+IHRvZG8uZ2V0KCdjb21wbGV0ZScpKTtcblx0fSxcblx0c2V0RmlsdGVyKHRvZG9zLCBmaWx0ZXIpIHtcblx0XHRzd2l0Y2goZmlsdGVyKSB7XG5cdFx0XHRjYXNlIENvbnN0YW50cy5GSUxURVJfQUNUSVZFOiByZXR1cm4gdG9kb3MuZmlsdGVyTm90KGlzQ29tcGxldGUpO1xuXHRcdFx0Y2FzZSBDb25zdGFudHMuRklMVEVSX0NPTVBMRVRFOiByZXR1cm4gdG9kb3MuZmlsdGVyKGlzQ29tcGxldGUpO1xuXHRcdFx0ZGVmYXVsdDogcmV0dXJuIHRvZG9zO1xuXHRcdH1cblx0fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFRvZG9TdG9yZTtcbiIsImV4cG9ydCB7IGRlZmF1bHQgYXMgdXVpZCB9IGZyb20gJy4vdXVpZCc7IiwiZnVuY3Rpb24gczQoKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1dWlkKCkge1xuICAgIGxldCBwNCA9ICc0JyArIHM0KCkuc2xpY2UoLTMpO1xuICAgIGxldCBwNSA9ICgocGFyc2VJbnQoczQoKS5zbGljZSgwLCAxKSwgMTYpICYgMykgfCA4KS50b1N0cmluZygxNikgKyBzNCgpLnNsaWNlKC0zKTtcbiAgICByZXR1cm4gYCR7czQoKX0ke3M0KCl9LSR7czQoKX0tJHtwNH0tJHtwNX0tJHtzNCgpfSR7czQoKX0ke3M0KCl9YDtcbn0iXX0=
